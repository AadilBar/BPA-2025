(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z4(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function H4(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var o=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:function(){return i[s]}})}),t}var Cm={exports:{}},pc={};var _v;function q4(){if(_v)return pc;_v=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:u,ref:o!==void 0?o:null,props:l}}return pc.Fragment=e,pc.jsx=t,pc.jsxs=t,pc}var bv;function G4(){return bv||(bv=1,Cm.exports=q4()),Cm.exports}var x=G4(),Sm={exports:{}},Ie={};var Ev;function $4(){if(Ev)return Ie;Ev=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function R(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,T={};function P(F,G,X){this.props=F,this.context=G,this.refs=T,this.updater=X||N}P.prototype.isReactComponent={},P.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},P.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function C(){}C.prototype=P.prototype;function I(F,G,X){this.props=F,this.context=G,this.refs=T,this.updater=X||N}var L=I.prototype=new C;L.constructor=I,O(L,P.prototype),L.isPureReactComponent=!0;var z=Array.isArray;function q(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function B(F,G,X){var Q=X.ref;return{$$typeof:i,type:F,key:G,ref:Q!==void 0?Q:null,props:X}}function D(F,G){return B(F.type,G,F.props)}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===i}function U(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(X){return G[X]})}var M=/\/+/g;function fe(F,G){return typeof F=="object"&&F!==null&&F.key!=null?U(""+F.key):G.toString(36)}function pe(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(q,q):(F.status="pending",F.then(function(G){F.status==="pending"&&(F.status="fulfilled",F.value=G)},function(G){F.status==="pending"&&(F.status="rejected",F.reason=G)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function W(F,G,X,Q,me){var ge=typeof F;(ge==="undefined"||ge==="boolean")&&(F=null);var Ce=!1;if(F===null)Ce=!0;else switch(ge){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(F.$$typeof){case i:case e:Ce=!0;break;case y:return Ce=F._init,W(Ce(F._payload),G,X,Q,me)}}if(Ce)return me=me(F),Ce=Q===""?"."+fe(F,0):Q,z(me)?(X="",Ce!=null&&(X=Ce.replace(M,"$&/")+"/"),W(me,G,X,"",function(vn){return vn})):me!=null&&(k(me)&&(me=D(me,X+(me.key==null||F&&F.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+Ce)),G.push(me)),1;Ce=0;var Ee=Q===""?".":Q+":";if(z(F))for(var We=0;We<F.length;We++)Q=F[We],ge=Ee+fe(Q,We),Ce+=W(Q,G,X,ge,me);else if(We=R(F),typeof We=="function")for(F=We.call(F),We=0;!(Q=F.next()).done;)Q=Q.value,ge=Ee+fe(Q,We++),Ce+=W(Q,G,X,ge,me);else if(ge==="object"){if(typeof F.then=="function")return W(pe(F),G,X,Q,me);throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ce(F,G,X){if(F==null)return F;var Q=[],me=0;return W(F,Q,"","",function(ge){return G.call(X,ge,me++)}),Q}function ue(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(X){(F._status===0||F._status===-1)&&(F._status=1,F._result=X)},function(X){(F._status===0||F._status===-1)&&(F._status=2,F._result=X)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var _e=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},be={map:ce,forEach:function(F,G,X){ce(F,function(){G.apply(this,arguments)},X)},count:function(F){var G=0;return ce(F,function(){G++}),G},toArray:function(F){return ce(F,function(G){return G})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ie.Activity=_,Ie.Children=be,Ie.Component=P,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=I,Ie.StrictMode=s,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(F){return A.H.useMemoCache(F)}},Ie.cache=function(F){return function(){return F.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(F,G,X){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Q=O({},F.props),me=F.key;if(G!=null)for(ge in G.key!==void 0&&(me=""+G.key),G)!S.call(G,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&G.ref===void 0||(Q[ge]=G[ge]);var ge=arguments.length-2;if(ge===1)Q.children=X;else if(1<ge){for(var Ce=Array(ge),Ee=0;Ee<ge;Ee++)Ce[Ee]=arguments[Ee+2];Q.children=Ce}return B(F.type,me,Q)},Ie.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Ie.createElement=function(F,G,X){var Q,me={},ge=null;if(G!=null)for(Q in G.key!==void 0&&(ge=""+G.key),G)S.call(G,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(me[Q]=G[Q]);var Ce=arguments.length-2;if(Ce===1)me.children=X;else if(1<Ce){for(var Ee=Array(Ce),We=0;We<Ce;We++)Ee[We]=arguments[We+2];me.children=Ee}if(F&&F.defaultProps)for(Q in Ce=F.defaultProps,Ce)me[Q]===void 0&&(me[Q]=Ce[Q]);return B(F,ge,me)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(F){return{$$typeof:m,render:F}},Ie.isValidElement=k,Ie.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ue}},Ie.memo=function(F,G){return{$$typeof:d,type:F,compare:G===void 0?null:G}},Ie.startTransition=function(F){var G=A.T,X={};A.T=X;try{var Q=F(),me=A.S;me!==null&&me(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(q,_e)}catch(ge){_e(ge)}finally{G!==null&&X.types!==null&&(G.types=X.types),A.T=G}},Ie.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ie.use=function(F){return A.H.use(F)},Ie.useActionState=function(F,G,X){return A.H.useActionState(F,G,X)},Ie.useCallback=function(F,G){return A.H.useCallback(F,G)},Ie.useContext=function(F){return A.H.useContext(F)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(F,G){return A.H.useDeferredValue(F,G)},Ie.useEffect=function(F,G){return A.H.useEffect(F,G)},Ie.useEffectEvent=function(F){return A.H.useEffectEvent(F)},Ie.useId=function(){return A.H.useId()},Ie.useImperativeHandle=function(F,G,X){return A.H.useImperativeHandle(F,G,X)},Ie.useInsertionEffect=function(F,G){return A.H.useInsertionEffect(F,G)},Ie.useLayoutEffect=function(F,G){return A.H.useLayoutEffect(F,G)},Ie.useMemo=function(F,G){return A.H.useMemo(F,G)},Ie.useOptimistic=function(F,G){return A.H.useOptimistic(F,G)},Ie.useReducer=function(F,G,X){return A.H.useReducer(F,G,X)},Ie.useRef=function(F){return A.H.useRef(F)},Ie.useState=function(F){return A.H.useState(F)},Ie.useSyncExternalStore=function(F,G,X){return A.H.useSyncExternalStore(F,G,X)},Ie.useTransition=function(){return A.H.useTransition()},Ie.version="19.2.1",Ie}var wv;function Mp(){return wv||(wv=1,Sm.exports=$4()),Sm.exports}var K=Mp(),Rm={exports:{}},gc={},Dm={exports:{}},Nm={};var Av;function K4(){return Av||(Av=1,(function(i){function e(W,ce){var ue=W.length;W.push(ce);e:for(;0<ue;){var _e=ue-1>>>1,be=W[_e];if(0<o(be,ce))W[_e]=ce,W[ue]=be,ue=_e;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ce=W[0],ue=W.pop();if(ue!==ce){W[0]=ue;e:for(var _e=0,be=W.length,F=be>>>1;_e<F;){var G=2*(_e+1)-1,X=W[G],Q=G+1,me=W[Q];if(0>o(X,ue))Q<be&&0>o(me,X)?(W[_e]=me,W[Q]=ue,_e=Q):(W[_e]=X,W[G]=ue,_e=G);else if(Q<be&&0>o(me,ue))W[_e]=me,W[Q]=ue,_e=Q;else break e}}return ce}function o(W,ce){var ue=W.sortIndex-ce.sortIndex;return ue!==0?ue:W.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();i.unstable_now=function(){return u.now()-m}}var g=[],d=[],y=1,_=null,b=3,R=!1,N=!1,O=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function L(W){for(var ce=t(d);ce!==null;){if(ce.callback===null)s(d);else if(ce.startTime<=W)s(d),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(d)}}function z(W){if(O=!1,L(W),!N)if(t(g)!==null)N=!0,q||(q=!0,U());else{var ce=t(d);ce!==null&&pe(z,ce.startTime-W)}}var q=!1,A=-1,S=5,B=-1;function D(){return T?!0:!(i.unstable_now()-B<S)}function k(){if(T=!1,q){var W=i.unstable_now();B=W;var ce=!0;try{e:{N=!1,O&&(O=!1,C(A),A=-1),R=!0;var ue=b;try{t:{for(L(W),_=t(g);_!==null&&!(_.expirationTime>W&&D());){var _e=_.callback;if(typeof _e=="function"){_.callback=null,b=_.priorityLevel;var be=_e(_.expirationTime<=W);if(W=i.unstable_now(),typeof be=="function"){_.callback=be,L(W),ce=!0;break t}_===t(g)&&s(g),L(W)}else s(g);_=t(g)}if(_!==null)ce=!0;else{var F=t(d);F!==null&&pe(z,F.startTime-W),ce=!1}}break e}finally{_=null,b=ue,R=!1}ce=void 0}}finally{ce?U():q=!1}}}var U;if(typeof I=="function")U=function(){I(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,fe=M.port2;M.port1.onmessage=k,U=function(){fe.postMessage(null)}}else U=function(){P(k,0)};function pe(W,ce){A=P(function(){W(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(W){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var ue=b;b=ce;try{return W()}finally{b=ue}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(W,ce){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ue=b;b=W;try{return ce()}finally{b=ue}},i.unstable_scheduleCallback=function(W,ce,ue){var _e=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?_e+ue:_e):ue=_e,W){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ue+be,W={id:y++,callback:ce,priorityLevel:W,startTime:ue,expirationTime:be,sortIndex:-1},ue>_e?(W.sortIndex=ue,e(d,W),t(g)===null&&W===t(d)&&(O?(C(A),A=-1):O=!0,pe(z,ue-_e))):(W.sortIndex=be,e(g,W),N||R||(N=!0,q||(q=!0,U()))),W},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(W){var ce=b;return function(){var ue=b;b=ce;try{return W.apply(this,arguments)}finally{b=ue}}}})(Nm)),Nm}var Tv;function Y4(){return Tv||(Tv=1,Dm.exports=K4()),Dm.exports}var Im={exports:{}},ln={};var Cv;function X4(){if(Cv)return ln;Cv=1;var i=Mp();function e(g){var d="https://react.dev/errors/"+g;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,d,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:g,containerInfo:d,implementation:y}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,d){if(g==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(g,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(g,d,null,y)},ln.flushSync=function(g){var d=u.T,y=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=d,s.p=y,s.d.f()}},ln.preconnect=function(g,d){typeof g=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(g,d))},ln.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},ln.preinit=function(g,d){if(typeof g=="string"&&d&&typeof d.as=="string"){var y=d.as,_=m(y,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,R=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?s.d.S(g,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:R}):y==="script"&&s.d.X(g,{crossOrigin:_,integrity:b,fetchPriority:R,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ln.preinitModule=function(g,d){if(typeof g=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=m(d.as,d.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(g)},ln.preload=function(g,d){if(typeof g=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,_=m(y,d.crossOrigin);s.d.L(g,y,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ln.preloadModule=function(g,d){if(typeof g=="string")if(d){var y=m(d.as,d.crossOrigin);s.d.m(g,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(g)},ln.requestFormReset=function(g){s.d.r(g)},ln.unstable_batchedUpdates=function(g,d){return g(d)},ln.useFormState=function(g,d,y){return u.H.useFormState(g,d,y)},ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},ln.version="19.2.1",ln}var Sv;function Q4(){if(Sv)return Im.exports;Sv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=X4(),Im.exports}var Rv;function W4(){if(Rv)return gc;Rv=1;var i=Y4(),e=Mp(),t=Q4();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(s(188))}function d(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,c=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return g(f),n;if(p===c)return g(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==c.return)a=f,c=p;else{for(var E=!1,j=f.child;j;){if(j===a){E=!0,a=f,c=p;break}if(j===c){E=!0,c=f,a=p;break}j=j.sibling}if(!E){for(j=p.child;j;){if(j===a){E=!0,a=p,c=f;break}if(j===c){E=!0,c=p,a=f;break}j=j.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function fe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case P:return"Profiler";case T:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList";case B:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case I:return n.displayName||"Context";case C:return(n._context.displayName||"Context")+".Consumer";case L:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case A:return r=n.displayName||null,r!==null?r:fe(n.type)||"Memo";case S:r=n._payload,n=n._init;try{return fe(n(r))}catch{}}return null}var pe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},_e=[],be=-1;function F(n){return{current:n}}function G(n){0>be||(n.current=_e[be],_e[be]=null,be--)}function X(n,r){be++,_e[be]=n.current,n.current=r}var Q=F(null),me=F(null),ge=F(null),Ce=F(null);function Ee(n,r){switch(X(ge,r),X(me,n),X(Q,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?H1(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=H1(r),n=q1(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}G(Q),X(Q,n)}function We(){G(Q),G(me),G(ge)}function vn(n){n.memoizedState!==null&&X(Ce,n);var r=Q.current,a=q1(r,n.type);r!==a&&(X(me,n),X(Q,a))}function Li(n){me.current===n&&(G(Q),G(me)),Ce.current===n&&(G(Ce),hc._currentValue=ue)}var Qn,$t;function dt(n){if(Qn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Qn=r&&r[1]||"",$t=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qn+n+$t}var Vi=!1;function kn(n,r){if(!n||Vi)return"";Vi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ie){var te=ie}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(ie){te=ie}n.call(oe.prototype)}}else{try{throw Error()}catch(ie){te=ie}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),E=p[0],j=p[1];if(E&&j){var H=E.split(`
`),ee=j.split(`
`);for(f=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;if(c===H.length||f===ee.length)for(c=H.length-1,f=ee.length-1;1<=c&&0<=f&&H[c]!==ee[f];)f--;for(;1<=c&&0<=f;c--,f--)if(H[c]!==ee[f]){if(c!==1||f!==1)do if(c--,f--,0>f||H[c]!==ee[f]){var re=`
`+H[c].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=c&&0<=f);break}}}finally{Vi=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?dt(a):""}function Fi(n,r){switch(n.tag){case 26:case 27:case 5:return dt(n.type);case 16:return dt("Lazy");case 13:return n.child!==r&&r!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return kn(n.type,!1);case 11:return kn(n.type.render,!1);case 1:return kn(n.type,!0);case 31:return dt("Activity");default:return""}}function yi(n){try{var r="",a=null;do r+=Fi(n,a),a=n,n=n.return;while(n);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var mt=Object.prototype.hasOwnProperty,ct=i.unstable_scheduleCallback,Dt=i.unstable_cancelCallback,on=i.unstable_shouldYield,Bn=i.unstable_requestPaint,Nt=i.unstable_now,Ui=i.unstable_getCurrentPriorityLevel,Wn=i.unstable_ImmediatePriority,vi=i.unstable_UserBlockingPriority,zi=i.unstable_NormalPriority,Qa=i.unstable_LowPriority,ia=i.unstable_IdlePriority,_i=i.log,Hi=i.unstable_setDisableYieldValue,On=null,It=null;function dn(n){if(typeof _i=="function"&&Hi(n),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(On,n)}catch{}}var xt=Math.clz32?Math.clz32:Za,Wa=Math.log,Er=Math.LN2;function Za(n){return n>>>=0,n===0?32:31-(Wa(n)/Er|0)|0}var jn=256,wr=262144,yt=4194304;function Zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Jn(n,r,a){var c=n.pendingLanes;if(c===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var j=c&134217727;return j!==0?(c=j&~p,c!==0?f=Zn(c):(E&=j,E!==0?f=Zn(E):a||(a=j&~n,a!==0&&(f=Zn(a))))):(j=c&~p,j!==0?f=Zn(j):E!==0?f=Zn(E):a||(a=c&~n,a!==0&&(f=Zn(a)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:f}function Mn(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ja(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eo(){var n=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),n}function ei(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function qi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function xl(n,r,a,c,f,p){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var j=n.entanglements,H=n.expirationTimes,ee=n.hiddenUpdates;for(a=E&~a;0<a;){var re=31-xt(a),oe=1<<re;j[re]=0,H[re]=-1;var te=ee[re];if(te!==null)for(ee[re]=null,re=0;re<te.length;re++){var ie=te[re];ie!==null&&(ie.lane&=-536870913)}a&=~oe}c!==0&&Gi(n,c,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~r))}function Gi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-xt(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function Ht(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-xt(a),f=1<<c;f&r|n[c]&r&&(n[c]|=r),a&=~f}}function _n(n,r){var a=r&-r;return a=(a&42)!==0?1:$i(a),(a&(n.suspendedLanes|r))!==0?0:a}function $i(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function bi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function su(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:dv(n.type))}function Ei(n,r){var a=ce.p;try{return ce.p=n,r()}finally{ce.p=a}}var wi=Math.random().toString(36).slice(2),kt="__reactFiber$"+wi,Kt="__reactProps$"+wi,Ki="__reactContainer$"+wi,to="__reactEvents$"+wi,Id="__reactListeners$"+wi,au="__reactHandles$"+wi,ou="__reactResources$"+wi,Yi="__reactMarker$"+wi;function no(n){delete n[kt],delete n[Kt],delete n[to],delete n[Id],delete n[au]}function Xi(n){var r=n[kt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ki]||a[kt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=W1(n);n!==null;){if(a=n[kt])return a;n=W1(n)}return r}n=a,a=n.parentNode}return null}function ti(n){if(n=n[kt]||n[Ki]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Pn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Qi(n){var r=n[ou];return r||(r=n[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Bt(n){n[Yi]=!0}var yl=new Set,vl={};function Wi(n,r){Zi(n,r),Zi(n+"Capture",r)}function Zi(n,r){for(vl[n]=r,n=0;n<r.length;n++)yl.add(r[n])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bl={},El={};function lu(n){return mt.call(El,n)?!0:mt.call(bl,n)?!1:_l.test(n)?El[n]=!0:(bl[n]=!0,!1)}function io(n,r,a){if(lu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Ln(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ot(n,r,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+c)}}function Yt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function wl(n,r,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,p.call(this,E)}}),Object.defineProperty(n,r,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Je(n){if(!n._valueTracker){var r=Jr(n)?"checked":"value";n._valueTracker=wl(n,r,""+n[r])}}function ra(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=Jr(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function Ji(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var sa=/[\n"\\]/g;function bn(n){return n.replace(sa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ro(n,r,a,c,f,p,E,j){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Yt(r)):n.value!==""+Yt(r)&&(n.value=""+Yt(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Al(n,E,Yt(r)):a!=null?Al(n,E,Yt(a)):c!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?n.name=""+Yt(j):n.removeAttribute("name")}function cu(n,r,a,c,f,p,E,j){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Je(n);return}a=a!=null?""+Yt(a):"",r=r!=null?""+Yt(r):a,j||r===n.value||(n.value=r),n.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=j?n.checked:!!c,n.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Je(n)}function Al(n,r,a){r==="number"&&Ji(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function es(n,r,a,c){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Yt(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function uu(n,r,a){if(r!=null&&(r=""+Yt(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Yt(a):""}function ts(n,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(s(92));if(pe(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=Yt(r),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),Je(n)}function En(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(n,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,a):typeof a!="number"||a===0||hu.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Cl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&a[f]!==c&&Tl(n,f,c)}else for(var p in r)r.hasOwnProperty(p)&&Tl(n,p,r[p])}function so(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(n){return ns.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ai(){}var Sl=null;function ni(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var is=null,er=null;function aa(n){var r=ti(n);if(r&&(n=r.stateNode)){var a=n[Kt]||null;e:switch(n=r.stateNode,r.type){case"input":if(ro(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var f=c[Kt]||null;if(!f)throw Error(s(90));ro(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===n.form&&ra(c)}break e;case"textarea":uu(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&es(n,!!a.multiple,r,!1)}}}var oo=!1;function rs(n,r,a){if(oo)return n(r,a);oo=!0;try{var c=n(r);return c}finally{if(oo=!1,(is!==null||er!==null)&&(sh(),is&&(r=is,n=er,er=is=null,aa(r),n)))for(r=0;r<n.length;r++)aa(n[r])}}function Ti(n,r){var a=n.stateNode;if(a===null)return null;var c=a[Kt]||null;if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(ii)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){oa=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{oa=!1}var tr=null,Rl=null,la=null;function Dl(){if(la)return la;var n,r=Rl,a=r.length,c,f="value"in tr?tr.value:tr.textContent,p=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(c=1;c<=E&&r[a-c]===f[p-c];c++);return la=f.slice(n,1<c?1-c:void 0)}function ca(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ar(){return!0}function Ci(){return!1}function Zt(n){function r(a,c,f,p,E){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var j in n)n.hasOwnProperty(j)&&(a=n[j],this[j]=a?a(p):p[j]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ar:Ci,this.isPropagationStopped=Ci,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),r}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=Zt(Tr),ss=_({},Tr,{view:0,detail:0}),Nl=Zt(ss),as,lo,ir,co=_({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ir&&(ir&&n.type==="mousemove"?(as=n.screenX-ir.screenX,lo=n.screenY-ir.screenY):lo=as=0,ir=n),as)},movementY:function(n){return"movementY"in n?n.movementY:lo}}),Il=Zt(co),ua=_({},co,{dataTransfer:0}),du=Zt(ua),mu=_({},ss,{relatedTarget:0}),ha=Zt(mu),kl=_({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Zt(kl),uo=_({},Tr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gu=Zt(uo),xu=_({},Tr,{data:0}),rr=Zt(xu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=_u[n])?!!r[n]:!1}function os(){return bu}var mn=_({},ss,{key:function(n){if(n.key){var r=yu[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ca(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?vu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(n){return n.type==="keypress"?ca(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ca(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Eu=Zt(mn),wu=_({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cr=Zt(wu),h=_({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),v=Zt(h),w=_({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Zt(w),Z=_({},co,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Zt(Z),he=_({},Tr,{newState:0,oldState:0}),Be=Zt(he),Tt=[9,13,27,32],Xe=ii&&"CompositionEvent"in window,pt=null;ii&&"documentMode"in document&&(pt=document.documentMode);var ri=ii&&"TextEvent"in window&&!pt,sr=ii&&(!Xe||pt&&8<pt&&11>=pt),Si=" ",Ri=!1;function fa(n,r){switch(n){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fo=!1;function fT(n,r){switch(n){case"compositionend":return ho(r);case"keypress":return r.which!==32?null:(Ri=!0,Si);case"textInput":return n=r.data,n===Si&&Ri?null:n;default:return null}}function dT(n,r){if(fo)return n==="compositionend"||!Xe&&fa(n,r)?(n=Dl(),la=Rl=tr=null,fo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return sr&&r.locale!=="ko"?null:r.data;default:return null}}var mT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ex(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!mT[n.type]:r==="textarea"}function tx(n,r,a,c){is?er?er.push(c):er=[c]:is=c,r=fh(r,"onChange"),0<r.length&&(a=new nr("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var Bl=null,Ol=null;function pT(n){P1(n,0)}function Au(n){var r=Pn(n);if(ra(r))return n}function nx(n,r){if(n==="change")return r}var ix=!1;if(ii){var kd;if(ii){var Bd="oninput"in document;if(!Bd){var rx=document.createElement("div");rx.setAttribute("oninput","return;"),Bd=typeof rx.oninput=="function"}kd=Bd}else kd=!1;ix=kd&&(!document.documentMode||9<document.documentMode)}function sx(){Bl&&(Bl.detachEvent("onpropertychange",ax),Ol=Bl=null)}function ax(n){if(n.propertyName==="value"&&Au(Ol)){var r=[];tx(r,Ol,n,ni(n)),rs(pT,r)}}function gT(n,r,a){n==="focusin"?(sx(),Bl=r,Ol=a,Bl.attachEvent("onpropertychange",ax)):n==="focusout"&&sx()}function xT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Au(Ol)}function yT(n,r){if(n==="click")return Au(r)}function vT(n,r){if(n==="input"||n==="change")return Au(r)}function _T(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Vn=typeof Object.is=="function"?Object.is:_T;function jl(n,r){if(Vn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!mt.call(r,f)||!Vn(n[f],r[f]))return!1}return!0}function ox(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lx(n,r){var a=ox(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ox(a)}}function cx(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?cx(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function ux(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ji(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ji(n.document)}return r}function Od(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var bT=ii&&"documentMode"in document&&11>=document.documentMode,mo=null,jd=null,Ml=null,Md=!1;function hx(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Md||mo==null||mo!==Ji(c)||(c=mo,"selectionStart"in c&&Od(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ml&&jl(Ml,c)||(Ml=c,c=fh(jd,"onSelect"),0<c.length&&(r=new nr("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=mo)))}function da(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var po={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Pd={},fx={};ii&&(fx=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function ma(n){if(Pd[n])return Pd[n];if(!po[n])return n;var r=po[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in fx)return Pd[n]=r[a];return n}var dx=ma("animationend"),mx=ma("animationiteration"),px=ma("animationstart"),ET=ma("transitionrun"),wT=ma("transitionstart"),AT=ma("transitioncancel"),gx=ma("transitionend"),xx=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function Di(n,r){xx.set(n,r),Wi(r,[n])}var Tu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},si=[],go=0,Vd=0;function Cu(){for(var n=go,r=Vd=go=0;r<n;){var a=si[r];si[r++]=null;var c=si[r];si[r++]=null;var f=si[r];si[r++]=null;var p=si[r];if(si[r++]=null,c!==null&&f!==null){var E=c.pending;E===null?f.next=f:(f.next=E.next,E.next=f),c.pending=f}p!==0&&yx(a,f,p)}}function Su(n,r,a,c){si[go++]=n,si[go++]=r,si[go++]=a,si[go++]=c,Vd|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Fd(n,r,a,c){return Su(n,r,a,c),Ru(n)}function pa(n,r){return Su(n,null,null,r),Ru(n)}function yx(n,r,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,c=p.alternate,c!==null&&(c.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&r!==null&&(f=31-xt(a),n=p.hiddenUpdates,c=n[f],c===null?n[f]=[r]:c.push(r),r.lane=a|536870912),p):null}function Ru(n){if(50<rc)throw rc=0,X0=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var xo={};function TT(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(n,r,a,c){return new TT(n,r,a,c)}function Ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sr(n,r){var a=n.alternate;return a===null?(a=Fn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function vx(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Du(n,r,a,c,f,p){var E=0;if(c=n,typeof n=="function")Ud(n)&&(E=1);else if(typeof n=="string")E=N4(n,a,Q.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case B:return n=Fn(31,a,r,f),n.elementType=B,n.lanes=p,n;case O:return ga(a.children,f,p,r);case T:E=8,f|=24;break;case P:return n=Fn(12,a,r,f|2),n.elementType=P,n.lanes=p,n;case z:return n=Fn(13,a,r,f),n.elementType=z,n.lanes=p,n;case q:return n=Fn(19,a,r,f),n.elementType=q,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:E=10;break e;case C:E=9;break e;case L:E=11;break e;case A:E=14;break e;case S:E=16,c=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),c=null}return r=Fn(E,a,r,f),r.elementType=n,r.type=c,r.lanes=p,r}function ga(n,r,a,c){return n=Fn(7,n,c,r),n.lanes=a,n}function zd(n,r,a){return n=Fn(6,n,null,r),n.lanes=a,n}function _x(n){var r=Fn(18,null,null,0);return r.stateNode=n,r}function Hd(n,r,a){return r=Fn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var bx=new WeakMap;function ai(n,r){if(typeof n=="object"&&n!==null){var a=bx.get(n);return a!==void 0?a:(r={value:n,source:r,stack:yi(r)},bx.set(n,r),r)}return{value:n,source:r,stack:yi(r)}}var yo=[],vo=0,Nu=null,Pl=0,oi=[],li=0,ls=null,ar=1,or="";function Rr(n,r){yo[vo++]=Pl,yo[vo++]=Nu,Nu=n,Pl=r}function Ex(n,r,a){oi[li++]=ar,oi[li++]=or,oi[li++]=ls,ls=n;var c=ar;n=or;var f=32-xt(c)-1;c&=~(1<<f),a+=1;var p=32-xt(r)+f;if(30<p){var E=f-f%5;p=(c&(1<<E)-1).toString(32),c>>=E,f-=E,ar=1<<32-xt(r)+f|a<<f|c,or=p+n}else ar=1<<p|a<<f|c,or=n}function qd(n){n.return!==null&&(Rr(n,1),Ex(n,1,0))}function Gd(n){for(;n===Nu;)Nu=yo[--vo],yo[vo]=null,Pl=yo[--vo],yo[vo]=null;for(;n===ls;)ls=oi[--li],oi[li]=null,or=oi[--li],oi[li]=null,ar=oi[--li],oi[li]=null}function wx(n,r){oi[li++]=ar,oi[li++]=or,oi[li++]=ls,ar=r.id,or=r.overflow,ls=n}var Jt=null,ut=null,He=!1,cs=null,ci=!1,$d=Error(s(519));function us(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(ai(r,n)),$d}function Ax(n){var r=n.stateNode,a=n.type,c=n.memoizedProps;switch(r[kt]=n,r[Kt]=c,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<ac.length;a++)Pe(ac[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),cu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),ts(r,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||U1(r.textContent,a)?(c.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),c.onScroll!=null&&Pe("scroll",r),c.onScrollEnd!=null&&Pe("scrollend",r),c.onClick!=null&&(r.onclick=Ai),r=!0):r=!1,r||us(n,!0)}function Tx(n){for(Jt=n.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:Jt=Jt.return}}function _o(n){if(n!==Jt)return!1;if(!He)return Tx(n),He=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||um(n.type,n.memoizedProps)),a=!a),a&&ut&&us(n),Tx(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ut=Q1(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ut=Q1(n)}else r===27?(r=ut,As(n.type)?(n=pm,pm=null,ut=n):ut=r):ut=Jt?hi(n.stateNode.nextSibling):null;return!0}function xa(){ut=Jt=null,He=!1}function Kd(){var n=cs;return n!==null&&(Cn===null?Cn=n:Cn.push.apply(Cn,n),cs=null),n}function Ll(n){cs===null?cs=[n]:cs.push(n)}var Yd=F(null),ya=null,Dr=null;function hs(n,r,a){X(Yd,r._currentValue),r._currentValue=a}function Nr(n){n._currentValue=Yd.current,G(Yd)}function Xd(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function Qd(n,r,a,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var j=p;p=f;for(var H=0;H<r.length;H++)if(j.context===r[H]){p.lanes|=a,j=p.alternate,j!==null&&(j.lanes|=a),Xd(p.return,a,n),c||(E=null);break e}p=j.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),Xd(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function bo(n,r,a,c){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var j=f.type;Vn(f.pendingProps.value,E.value)||(n!==null?n.push(j):n=[j])}}else if(f===Ce.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(hc):n=[hc])}f=f.return}n!==null&&Qd(r,n,a,c),r.flags|=262144}function Iu(n){for(n=n.firstContext;n!==null;){if(!Vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function va(n){ya=n,Dr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return Cx(ya,n)}function ku(n,r){return ya===null&&va(n),Cx(n,r)}function Cx(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Dr===null){if(n===null)throw Error(s(308));Dr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Dr=Dr.next=r;return a}var CT=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},ST=i.unstable_scheduleCallback,RT=i.unstable_NormalPriority,jt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wd(){return{controller:new CT,data:new Map,refCount:0}}function Vl(n){n.refCount--,n.refCount===0&&ST(RT,function(){n.controller.abort()})}var Fl=null,Zd=0,Eo=0,wo=null;function DT(n,r){if(Fl===null){var a=Fl=[];Zd=0,Eo=tm(),wo={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Zd++,r.then(Sx,Sx),r}function Sx(){if(--Zd===0&&Fl!==null){wo!==null&&(wo.status="fulfilled");var n=Fl;Fl=null,Eo=0,wo=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function NT(n,r){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var Rx=W.S;W.S=function(n,r){h1=Nt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&DT(n,r),Rx!==null&&Rx(n,r)};var _a=F(null);function Jd(){var n=_a.current;return n!==null?n:at.pooledCache}function Bu(n,r){r===null?X(_a,_a.current):X(_a,r.pool)}function Dx(){var n=Jd();return n===null?null:{parent:jt._currentValue,pool:n}}var Ao=Error(s(460)),e0=Error(s(474)),Ou=Error(s(542)),ju={then:function(){}};function Nx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ix(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Ai,Ai),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Bx(n),n;default:if(typeof r.status=="string")r.then(Ai,Ai);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Bx(n),n}throw Ea=r,Ao}}function ba(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ea=a,Ao):a}}var Ea=null;function kx(){if(Ea===null)throw Error(s(459));var n=Ea;return Ea=null,n}function Bx(n){if(n===Ao||n===Ou)throw Error(s(483))}var To=null,Ul=0;function Mu(n){var r=Ul;return Ul+=1,To===null&&(To=[]),Ix(To,n,r)}function zl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Pu(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ox(n){function r(Y,$){if(n){var J=Y.deletions;J===null?(Y.deletions=[$],Y.flags|=16):J.push($)}}function a(Y,$){if(!n)return null;for(;$!==null;)r(Y,$),$=$.sibling;return null}function c(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function f(Y,$){return Y=Sr(Y,$),Y.index=0,Y.sibling=null,Y}function p(Y,$,J){return Y.index=J,n?(J=Y.alternate,J!==null?(J=J.index,J<$?(Y.flags|=67108866,$):J):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function E(Y){return n&&Y.alternate===null&&(Y.flags|=67108866),Y}function j(Y,$,J,se){return $===null||$.tag!==6?($=zd(J,Y.mode,se),$.return=Y,$):($=f($,J),$.return=Y,$)}function H(Y,$,J,se){var we=J.type;return we===O?re(Y,$,J.props.children,se,J.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&ba(we)===$.type)?($=f($,J.props),zl($,J),$.return=Y,$):($=Du(J.type,J.key,J.props,null,Y.mode,se),zl($,J),$.return=Y,$)}function ee(Y,$,J,se){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=Hd(J,Y.mode,se),$.return=Y,$):($=f($,J.children||[]),$.return=Y,$)}function re(Y,$,J,se,we){return $===null||$.tag!==7?($=ga(J,Y.mode,se,we),$.return=Y,$):($=f($,J),$.return=Y,$)}function oe(Y,$,J){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=zd(""+$,Y.mode,J),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return J=Du($.type,$.key,$.props,null,Y.mode,J),zl(J,$),J.return=Y,J;case N:return $=Hd($,Y.mode,J),$.return=Y,$;case S:return $=ba($),oe(Y,$,J)}if(pe($)||U($))return $=ga($,Y.mode,J,null),$.return=Y,$;if(typeof $.then=="function")return oe(Y,Mu($),J);if($.$$typeof===I)return oe(Y,ku(Y,$),J);Pu(Y,$)}return null}function te(Y,$,J,se){var we=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return we!==null?null:j(Y,$,""+J,se);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return J.key===we?H(Y,$,J,se):null;case N:return J.key===we?ee(Y,$,J,se):null;case S:return J=ba(J),te(Y,$,J,se)}if(pe(J)||U(J))return we!==null?null:re(Y,$,J,se,null);if(typeof J.then=="function")return te(Y,$,Mu(J),se);if(J.$$typeof===I)return te(Y,$,ku(Y,J),se);Pu(Y,J)}return null}function ie(Y,$,J,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Y=Y.get(J)||null,j($,Y,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case R:return Y=Y.get(se.key===null?J:se.key)||null,H($,Y,se,we);case N:return Y=Y.get(se.key===null?J:se.key)||null,ee($,Y,se,we);case S:return se=ba(se),ie(Y,$,J,se,we)}if(pe(se)||U(se))return Y=Y.get(J)||null,re($,Y,se,we,null);if(typeof se.then=="function")return ie(Y,$,J,Mu(se),we);if(se.$$typeof===I)return ie(Y,$,J,ku($,se),we);Pu($,se)}return null}function ye(Y,$,J,se){for(var we=null,Ke=null,ve=$,je=$=0,Ve=null;ve!==null&&je<J.length;je++){ve.index>je?(Ve=ve,ve=null):Ve=ve.sibling;var Ye=te(Y,ve,J[je],se);if(Ye===null){ve===null&&(ve=Ve);break}n&&ve&&Ye.alternate===null&&r(Y,ve),$=p(Ye,$,je),Ke===null?we=Ye:Ke.sibling=Ye,Ke=Ye,ve=Ve}if(je===J.length)return a(Y,ve),He&&Rr(Y,je),we;if(ve===null){for(;je<J.length;je++)ve=oe(Y,J[je],se),ve!==null&&($=p(ve,$,je),Ke===null?we=ve:Ke.sibling=ve,Ke=ve);return He&&Rr(Y,je),we}for(ve=c(ve);je<J.length;je++)Ve=ie(ve,Y,je,J[je],se),Ve!==null&&(n&&Ve.alternate!==null&&ve.delete(Ve.key===null?je:Ve.key),$=p(Ve,$,je),Ke===null?we=Ve:Ke.sibling=Ve,Ke=Ve);return n&&ve.forEach(function(Ds){return r(Y,Ds)}),He&&Rr(Y,je),we}function Te(Y,$,J,se){if(J==null)throw Error(s(151));for(var we=null,Ke=null,ve=$,je=$=0,Ve=null,Ye=J.next();ve!==null&&!Ye.done;je++,Ye=J.next()){ve.index>je?(Ve=ve,ve=null):Ve=ve.sibling;var Ds=te(Y,ve,Ye.value,se);if(Ds===null){ve===null&&(ve=Ve);break}n&&ve&&Ds.alternate===null&&r(Y,ve),$=p(Ds,$,je),Ke===null?we=Ds:Ke.sibling=Ds,Ke=Ds,ve=Ve}if(Ye.done)return a(Y,ve),He&&Rr(Y,je),we;if(ve===null){for(;!Ye.done;je++,Ye=J.next())Ye=oe(Y,Ye.value,se),Ye!==null&&($=p(Ye,$,je),Ke===null?we=Ye:Ke.sibling=Ye,Ke=Ye);return He&&Rr(Y,je),we}for(ve=c(ve);!Ye.done;je++,Ye=J.next())Ye=ie(ve,Y,je,Ye.value,se),Ye!==null&&(n&&Ye.alternate!==null&&ve.delete(Ye.key===null?je:Ye.key),$=p(Ye,$,je),Ke===null?we=Ye:Ke.sibling=Ye,Ke=Ye);return n&&ve.forEach(function(U4){return r(Y,U4)}),He&&Rr(Y,je),we}function st(Y,$,J,se){if(typeof J=="object"&&J!==null&&J.type===O&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case R:e:{for(var we=J.key;$!==null;){if($.key===we){if(we=J.type,we===O){if($.tag===7){a(Y,$.sibling),se=f($,J.props.children),se.return=Y,Y=se;break e}}else if($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&ba(we)===$.type){a(Y,$.sibling),se=f($,J.props),zl(se,J),se.return=Y,Y=se;break e}a(Y,$);break}else r(Y,$);$=$.sibling}J.type===O?(se=ga(J.props.children,Y.mode,se,J.key),se.return=Y,Y=se):(se=Du(J.type,J.key,J.props,null,Y.mode,se),zl(se,J),se.return=Y,Y=se)}return E(Y);case N:e:{for(we=J.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){a(Y,$.sibling),se=f($,J.children||[]),se.return=Y,Y=se;break e}else{a(Y,$);break}else r(Y,$);$=$.sibling}se=Hd(J,Y.mode,se),se.return=Y,Y=se}return E(Y);case S:return J=ba(J),st(Y,$,J,se)}if(pe(J))return ye(Y,$,J,se);if(U(J)){if(we=U(J),typeof we!="function")throw Error(s(150));return J=we.call(J),Te(Y,$,J,se)}if(typeof J.then=="function")return st(Y,$,Mu(J),se);if(J.$$typeof===I)return st(Y,$,ku(Y,J),se);Pu(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,$!==null&&$.tag===6?(a(Y,$.sibling),se=f($,J),se.return=Y,Y=se):(a(Y,$),se=zd(J,Y.mode,se),se.return=Y,Y=se),E(Y)):a(Y,$)}return function(Y,$,J,se){try{Ul=0;var we=st(Y,$,J,se);return To=null,we}catch(ve){if(ve===Ao||ve===Ou)throw ve;var Ke=Fn(29,ve,null,Y.mode);return Ke.lanes=se,Ke.return=Y,Ke}finally{}}}var wa=Ox(!0),jx=Ox(!1),fs=!1;function t0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function n0(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ds(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ms(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=Ru(n),yx(n,null,a),r}return Su(n,c,r,a),Ru(n)}function Hl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Ht(n,a)}}function i0(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var r0=!1;function ql(){if(r0){var n=wo;if(n!==null)throw n}}function Gl(n,r,a,c){r0=!1;var f=n.updateQueue;fs=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,j=f.shared.pending;if(j!==null){f.shared.pending=null;var H=j,ee=H.next;H.next=null,E===null?p=ee:E.next=ee,E=H;var re=n.alternate;re!==null&&(re=re.updateQueue,j=re.lastBaseUpdate,j!==E&&(j===null?re.firstBaseUpdate=ee:j.next=ee,re.lastBaseUpdate=H))}if(p!==null){var oe=f.baseState;E=0,re=ee=H=null,j=p;do{var te=j.lane&-536870913,ie=te!==j.lane;if(ie?(Le&te)===te:(c&te)===te){te!==0&&te===Eo&&(r0=!0),re!==null&&(re=re.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ye=n,Te=j;te=r;var st=a;switch(Te.tag){case 1:if(ye=Te.payload,typeof ye=="function"){oe=ye.call(st,oe,te);break e}oe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Te.payload,te=typeof ye=="function"?ye.call(st,oe,te):ye,te==null)break e;oe=_({},oe,te);break e;case 2:fs=!0}}te=j.callback,te!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},re===null?(ee=re=ie,H=oe):re=re.next=ie,E|=te;if(j=j.next,j===null){if(j=f.shared.pending,j===null)break;ie=j,j=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);re===null&&(H=oe),f.baseState=H,f.firstBaseUpdate=ee,f.lastBaseUpdate=re,p===null&&(f.shared.lanes=0),vs|=E,n.lanes=E,n.memoizedState=oe}}function Mx(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Px(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Mx(a[n],r)}var Co=F(null),Lu=F(0);function Lx(n,r){n=Vr,X(Lu,n),X(Co,r),Vr=n|r.baseLanes}function s0(){X(Lu,Vr),X(Co,Co.current)}function a0(){Vr=Lu.current,G(Co),G(Lu)}var Un=F(null),ui=null;function ps(n){var r=n.alternate;X(Ct,Ct.current&1),X(Un,n),ui===null&&(r===null||Co.current!==null||r.memoizedState!==null)&&(ui=n)}function o0(n){X(Ct,Ct.current),X(Un,n),ui===null&&(ui=n)}function Vx(n){n.tag===22?(X(Ct,Ct.current),X(Un,n),ui===null&&(ui=n)):gs()}function gs(){X(Ct,Ct.current),X(Un,Un.current)}function zn(n){G(Un),ui===n&&(ui=null),G(Ct)}var Ct=F(0);function Vu(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||dm(a)||mm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ir=0,Oe=null,it=null,Mt=null,Fu=!1,So=!1,Aa=!1,Uu=0,$l=0,Ro=null,IT=0;function bt(){throw Error(s(321))}function l0(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Vn(n[a],r[a]))return!1;return!0}function c0(n,r,a,c,f,p){return Ir=p,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=n===null||n.memoizedState===null?Ey:A0,Aa=!1,p=a(c,f),Aa=!1,So&&(p=Ux(r,a,c,f)),Fx(n),p}function Fx(n){W.H=Xl;var r=it!==null&&it.next!==null;if(Ir=0,Mt=it=Oe=null,Fu=!1,$l=0,Ro=null,r)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&Iu(n)&&(Pt=!0))}function Ux(n,r,a,c){Oe=n;var f=0;do{if(So&&(Ro=null),$l=0,So=!1,25<=f)throw Error(s(301));if(f+=1,Mt=it=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=wy,p=r(a,c)}while(So);return p}function kT(){var n=W.H,r=n.useState()[0];return r=typeof r.then=="function"?Kl(r):r,n=n.useState()[0],(it!==null?it.memoizedState:null)!==n&&(Oe.flags|=1024),r}function u0(){var n=Uu!==0;return Uu=0,n}function h0(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function f0(n){if(Fu){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Fu=!1}Ir=0,Mt=it=Oe=null,So=!1,$l=Uu=0,Ro=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Oe.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function St(){if(it===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var r=Mt===null?Oe.memoizedState:Mt.next;if(r!==null)Mt=r,it=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Mt===null?Oe.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(n){var r=$l;return $l+=1,Ro===null&&(Ro=[]),n=Ix(Ro,n,r),r=Oe,(Mt===null?r.memoizedState:Mt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Ey:A0),n}function Hu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Kl(n);if(n.$$typeof===I)return en(n)}throw Error(s(438,String(n)))}function d0(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=zu(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),c=0;c<n;c++)a[c]=D;return r.index++,a}function kr(n,r){return typeof r=="function"?r(n):r}function qu(n){var r=St();return m0(r,it,n)}function m0(n,r,a){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var f=n.baseQueue,p=c.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}r.baseQueue=f=p,c.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var j=E=null,H=null,ee=r,re=!1;do{var oe=ee.lane&-536870913;if(oe!==ee.lane?(Le&oe)===oe:(Ir&oe)===oe){var te=ee.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),oe===Eo&&(re=!0);else if((Ir&te)===te){ee=ee.next,te===Eo&&(re=!0);continue}else oe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(j=H=oe,E=p):H=H.next=oe,Oe.lanes|=te,vs|=te;oe=ee.action,Aa&&a(p,oe),p=ee.hasEagerState?ee.eagerState:a(p,oe)}else te={lane:oe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(j=H=te,E=p):H=H.next=te,Oe.lanes|=oe,vs|=oe;ee=ee.next}while(ee!==null&&ee!==r);if(H===null?E=p:H.next=j,!Vn(p,n.memoizedState)&&(Pt=!0,re&&(a=wo,a!==null)))throw a;n.memoizedState=p,n.baseState=E,n.baseQueue=H,c.lastRenderedState=p}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function p0(n){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);Vn(p,r.memoizedState)||(Pt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,c]}function zx(n,r,a){var c=Oe,f=St(),p=He;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!Vn((it||f).memoizedState,a);if(E&&(f.memoizedState=a,Pt=!0),f=f.queue,y0(Gx.bind(null,c,f,n),[n]),f.getSnapshot!==r||E||Mt!==null&&Mt.memoizedState.tag&1){if(c.flags|=2048,Do(9,{destroy:void 0},qx.bind(null,c,f,a,r),null),at===null)throw Error(s(349));p||(Ir&127)!==0||Hx(c,r,a)}return a}function Hx(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=zu(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function qx(n,r,a,c){r.value=a,r.getSnapshot=c,$x(r)&&Kx(n)}function Gx(n,r,a){return a(function(){$x(r)&&Kx(n)})}function $x(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Vn(n,a)}catch{return!0}}function Kx(n){var r=pa(n,2);r!==null&&Sn(r,n,2)}function g0(n){var r=pn();if(typeof n=="function"){var a=n;if(n=a(),Aa){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:n},r}function Yx(n,r,a,c){return n.baseState=a,m0(n,it,typeof c=="function"?c:kr)}function BT(n,r,a,c,f){if(Ku(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};W.T!==null?a(!0):p.isTransition=!1,c(p),a=r.pending,a===null?(p.next=r.pending=p,Xx(r,p)):(p.next=a.next,r.pending=a.next=p)}}function Xx(n,r){var a=r.action,c=r.payload,f=n.state;if(r.isTransition){var p=W.T,E={};W.T=E;try{var j=a(f,c),H=W.S;H!==null&&H(E,j),Qx(n,r,j)}catch(ee){x0(n,r,ee)}finally{p!==null&&E.types!==null&&(p.types=E.types),W.T=p}}else try{p=a(f,c),Qx(n,r,p)}catch(ee){x0(n,r,ee)}}function Qx(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Wx(n,r,c)},function(c){return x0(n,r,c)}):Wx(n,r,a)}function Wx(n,r,a){r.status="fulfilled",r.value=a,Zx(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Xx(n,a)))}function x0(n,r,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,Zx(r),r=r.next;while(r!==c)}n.action=null}function Zx(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Jx(n,r){return r}function ey(n,r){if(He){var a=at.formState;if(a!==null){e:{var c=Oe;if(He){if(ut){t:{for(var f=ut,p=ci;f.nodeType!==8;){if(!p){f=null;break t}if(f=hi(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ut=hi(f.nextSibling),c=f.data==="F!";break e}}us(c)}c=!1}c&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jx,lastRenderedState:r},a.queue=c,a=vy.bind(null,Oe,c),c.dispatch=a,c=g0(!1),p=w0.bind(null,Oe,!1,c.queue),c=pn(),f={state:r,dispatch:null,action:n,pending:null},c.queue=f,a=BT.bind(null,Oe,f,p,a),f.dispatch=a,c.memoizedState=n,[r,a,!1]}function ty(n){var r=St();return ny(r,it,n)}function ny(n,r,a){if(r=m0(n,r,Jx)[0],n=qu(kr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Kl(r)}catch(E){throw E===Ao?Ou:E}else c=r;r=St();var f=r.queue,p=f.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,Do(9,{destroy:void 0},OT.bind(null,f,a),null)),[c,p,n]}function OT(n,r){n.action=r}function iy(n){var r=St(),a=it;if(a!==null)return ny(r,a,n);St(),r=r.memoizedState,a=St();var c=a.queue.dispatch;return a.memoizedState=n,[r,c,!1]}function Do(n,r,a,c){return n={tag:n,create:a,deps:c,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=zu(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n),n}function ry(){return St().memoizedState}function Gu(n,r,a,c){var f=pn();Oe.flags|=n,f.memoizedState=Do(1|r,{destroy:void 0},a,c===void 0?null:c)}function $u(n,r,a,c){var f=St();c=c===void 0?null:c;var p=f.memoizedState.inst;it!==null&&c!==null&&l0(c,it.memoizedState.deps)?f.memoizedState=Do(r,p,a,c):(Oe.flags|=n,f.memoizedState=Do(1|r,p,a,c))}function sy(n,r){Gu(8390656,8,n,r)}function y0(n,r){$u(2048,8,n,r)}function jT(n){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=zu(),Oe.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function ay(n){var r=St().memoizedState;return jT({ref:r,nextImpl:n}),function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function oy(n,r){return $u(4,2,n,r)}function ly(n,r){return $u(4,4,n,r)}function cy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function uy(n,r,a){a=a!=null?a.concat([n]):null,$u(4,4,cy.bind(null,r,n),a)}function v0(){}function hy(n,r){var a=St();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&l0(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function fy(n,r){var a=St();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&l0(r,c[1]))return c[0];if(c=n(),Aa){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[c,r],c}function _0(n,r,a){return a===void 0||(Ir&1073741824)!==0&&(Le&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=d1(),Oe.lanes|=n,vs|=n,a)}function dy(n,r,a,c){return Vn(a,r)?a:Co.current!==null?(n=_0(n,a,c),Vn(n,r)||(Pt=!0),n):(Ir&42)===0||(Ir&1073741824)!==0&&(Le&261930)===0?(Pt=!0,n.memoizedState=a):(n=d1(),Oe.lanes|=n,vs|=n,r)}function my(n,r,a,c,f){var p=ce.p;ce.p=p!==0&&8>p?p:8;var E=W.T,j={};W.T=j,w0(n,!1,r,a);try{var H=f(),ee=W.S;if(ee!==null&&ee(j,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var re=NT(H,c);Yl(n,r,re,Gn(n))}else Yl(n,r,c,Gn(n))}catch(oe){Yl(n,r,{then:function(){},status:"rejected",reason:oe},Gn())}finally{ce.p=p,E!==null&&j.types!==null&&(E.types=j.types),W.T=E}}function MT(){}function b0(n,r,a,c){if(n.tag!==5)throw Error(s(476));var f=py(n).queue;my(n,f,r,ue,a===null?MT:function(){return gy(n),a(c)})}function py(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:ue},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function gy(n){var r=py(n);r.next===null&&(r=n.alternate.memoizedState),Yl(n,r.next.queue,{},Gn())}function E0(){return en(hc)}function xy(){return St().memoizedState}function yy(){return St().memoizedState}function PT(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Gn();n=ds(a);var c=ms(r,n,a);c!==null&&(Sn(c,r,a),Hl(c,r,a)),r={cache:Wd()},n.payload=r;return}r=r.return}}function LT(n,r,a){var c=Gn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(n)?_y(r,a):(a=Fd(n,r,a,c),a!==null&&(Sn(a,n,c),by(a,r,c)))}function vy(n,r,a){var c=Gn();Yl(n,r,a,c)}function Yl(n,r,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(n))_y(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,j=p(E,a);if(f.hasEagerState=!0,f.eagerState=j,Vn(j,E))return Su(n,r,f,0),at===null&&Cu(),!1}catch{}finally{}if(a=Fd(n,r,f,c),a!==null)return Sn(a,n,c),by(a,r,c),!0}return!1}function w0(n,r,a,c){if(c={lane:2,revertLane:tm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ku(n)){if(r)throw Error(s(479))}else r=Fd(n,a,c,2),r!==null&&Sn(r,n,2)}function Ku(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function _y(n,r){So=Fu=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function by(n,r,a){if((a&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Ht(n,a)}}var Xl={readContext:en,use:Hu,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Xl.useEffectEvent=bt;var Ey={readContext:en,use:Hu,useCallback:function(n,r){return pn().memoizedState=[n,r===void 0?null:r],n},useContext:en,useEffect:sy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Gu(4194308,4,cy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Gu(4194308,4,n,r)},useInsertionEffect:function(n,r){Gu(4,2,n,r)},useMemo:function(n,r){var a=pn();r=r===void 0?null:r;var c=n();if(Aa){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[c,r],c},useReducer:function(n,r,a){var c=pn();if(a!==void 0){var f=a(r);if(Aa){dn(!0);try{a(r)}finally{dn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=LT.bind(null,Oe,n),[c.memoizedState,n]},useRef:function(n){var r=pn();return n={current:n},r.memoizedState=n},useState:function(n){n=g0(n);var r=n.queue,a=vy.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:v0,useDeferredValue:function(n,r){var a=pn();return _0(a,n,r)},useTransition:function(){var n=g0(!1);return n=my.bind(null,Oe,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var c=Oe,f=pn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),at===null)throw Error(s(349));(Le&127)!==0||Hx(c,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,sy(Gx.bind(null,c,p,n),[n]),c.flags|=2048,Do(9,{destroy:void 0},qx.bind(null,c,p,a,r),null),a},useId:function(){var n=pn(),r=at.identifierPrefix;if(He){var a=or,c=ar;a=(c&~(1<<32-xt(c)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Uu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=IT++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:E0,useFormState:ey,useActionState:ey,useOptimistic:function(n){var r=pn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=w0.bind(null,Oe,!0,a),a.dispatch=r,[n,r]},useMemoCache:d0,useCacheRefresh:function(){return pn().memoizedState=PT.bind(null,Oe)},useEffectEvent:function(n){var r=pn(),a={impl:n};return r.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},A0={readContext:en,use:Hu,useCallback:hy,useContext:en,useEffect:y0,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:qu,useRef:ry,useState:function(){return qu(kr)},useDebugValue:v0,useDeferredValue:function(n,r){var a=St();return dy(a,it.memoizedState,n,r)},useTransition:function(){var n=qu(kr)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Kl(n),r]},useSyncExternalStore:zx,useId:xy,useHostTransitionStatus:E0,useFormState:ty,useActionState:ty,useOptimistic:function(n,r){var a=St();return Yx(a,it,n,r)},useMemoCache:d0,useCacheRefresh:yy};A0.useEffectEvent=ay;var wy={readContext:en,use:Hu,useCallback:hy,useContext:en,useEffect:y0,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:p0,useRef:ry,useState:function(){return p0(kr)},useDebugValue:v0,useDeferredValue:function(n,r){var a=St();return it===null?_0(a,n,r):dy(a,it.memoizedState,n,r)},useTransition:function(){var n=p0(kr)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Kl(n),r]},useSyncExternalStore:zx,useId:xy,useHostTransitionStatus:E0,useFormState:iy,useActionState:iy,useOptimistic:function(n,r){var a=St();return it!==null?Yx(a,it,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:d0,useCacheRefresh:yy};wy.useEffectEvent=ay;function T0(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var C0={enqueueSetState:function(n,r,a){n=n._reactInternals;var c=Gn(),f=ds(c);f.payload=r,a!=null&&(f.callback=a),r=ms(n,f,c),r!==null&&(Sn(r,n,c),Hl(r,n,c))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=Gn(),f=ds(c);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ms(n,f,c),r!==null&&(Sn(r,n,c),Hl(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Gn(),c=ds(a);c.tag=2,r!=null&&(c.callback=r),r=ms(n,c,a),r!==null&&(Sn(r,n,a),Hl(r,n,a))}};function Ay(n,r,a,c,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,E):r.prototype&&r.prototype.isPureReactComponent?!jl(a,c)||!jl(f,p):!0}function Ty(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&C0.enqueueReplaceState(r,r.state,null)}function Ta(n,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Cy(n){Tu(n)}function Sy(n){console.error(n)}function Ry(n){Tu(n)}function Yu(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Dy(n,r,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function S0(n,r,a){return a=ds(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(n,r)},a}function Ny(n){return n=ds(n),n.tag=3,n}function Iy(n,r,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;n.payload=function(){return f(p)},n.callback=function(){Dy(r,a,c)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Dy(r,a,c),typeof f!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var j=c.stack;this.componentDidCatch(c.value,{componentStack:j!==null?j:""})})}function VT(n,r,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&bo(r,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 31:case 13:return ui===null?ah():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===ju?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),Z0(n,c,f)),!1;case 22:return a.flags|=65536,c===ju?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),Z0(n,c,f)),!1}throw Error(s(435,a.tag))}return Z0(n,c,f),ah(),!1}if(He)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==$d&&(n=Error(s(422),{cause:c}),Ll(ai(n,a)))):(c!==$d&&(r=Error(s(423),{cause:c}),Ll(ai(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=ai(c,a),f=S0(n.stateNode,c,f),i0(n,f),Et!==4&&(Et=2)),!1;var p=Error(s(520),{cause:c});if(p=ai(p,a),ic===null?ic=[p]:ic.push(p),Et!==4&&(Et=2),r===null)return!0;c=ai(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=S0(a.stateNode,c,n),i0(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(_s===null||!_s.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ny(f),Iy(f,n,a,c),i0(a,f),!1}a=a.return}while(a!==null);return!1}var R0=Error(s(461)),Pt=!1;function tn(n,r,a,c){r.child=n===null?jx(r,null,a,c):wa(r,n.child,a,c)}function ky(n,r,a,c,f){a=a.render;var p=r.ref;if("ref"in c){var E={};for(var j in c)j!=="ref"&&(E[j]=c[j])}else E=c;return va(r),c=c0(n,r,a,E,p,f),j=u0(),n!==null&&!Pt?(h0(n,r,f),Br(n,r,f)):(He&&j&&qd(r),r.flags|=1,tn(n,r,c,f),r.child)}function By(n,r,a,c,f){if(n===null){var p=a.type;return typeof p=="function"&&!Ud(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,Oy(n,r,p,c,f)):(n=Du(a.type,null,c,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!M0(n,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:jl,a(E,c)&&n.ref===r.ref)return Br(n,r,f)}return r.flags|=1,n=Sr(p,c),n.ref=r.ref,n.return=r,r.child=n}function Oy(n,r,a,c,f){if(n!==null){var p=n.memoizedProps;if(jl(p,c)&&n.ref===r.ref)if(Pt=!1,r.pendingProps=c=p,M0(n,f))(n.flags&131072)!==0&&(Pt=!0);else return r.lanes=n.lanes,Br(n,r,f)}return D0(n,r,a,c,f)}function jy(n,r,a,c){var f=c.children,p=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(c=r.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,r.child=null;return My(n,r,p,a,c)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Bu(r,p!==null?p.cachePool:null),p!==null?Lx(r,p):s0(),Vx(r);else return c=r.lanes=536870912,My(n,r,p!==null?p.baseLanes|a:a,a,c)}else p!==null?(Bu(r,p.cachePool),Lx(r,p),gs(),r.memoizedState=null):(n!==null&&Bu(r,null),s0(),gs());return tn(n,r,f,a),r.child}function Ql(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function My(n,r,a,c,f){var p=Jd();return p=p===null?null:{parent:jt._currentValue,pool:p},r.memoizedState={baseLanes:a,cachePool:p},n!==null&&Bu(r,null),s0(),Vx(r),n!==null&&bo(n,r,c,!0),r.childLanes=f,null}function Xu(n,r){return r=Wu({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Py(n,r,a){return wa(r,n.child,null,a),n=Xu(r,r.pendingProps),n.flags|=2,zn(r),r.memoizedState=null,n}function FT(n,r,a){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(He){if(c.mode==="hidden")return n=Xu(r,c),r.lanes=536870912,Ql(null,n);if(o0(r),(n=ut)?(n=X1(n,ci),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ls!==null?{id:ar,overflow:or}:null,retryLane:536870912,hydrationErrors:null},a=_x(n),a.return=r,r.child=a,Jt=r,ut=null)):n=null,n===null)throw us(r);return r.lanes=536870912,null}return Xu(r,c)}var p=n.memoizedState;if(p!==null){var E=p.dehydrated;if(o0(r),f)if(r.flags&256)r.flags&=-257,r=Py(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pt||bo(n,r,a,!1),f=(a&n.childLanes)!==0,Pt||f){if(c=at,c!==null&&(E=_n(c,a),E!==0&&E!==p.retryLane))throw p.retryLane=E,pa(n,E),Sn(c,n,E),R0;ah(),r=Py(n,r,a)}else n=p.treeContext,ut=hi(E.nextSibling),Jt=r,He=!0,cs=null,ci=!1,n!==null&&wx(r,n),r=Xu(r,c),r.flags|=4096;return r}return n=Sr(n.child,{mode:c.mode,children:c.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Qu(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function D0(n,r,a,c,f){return va(r),a=c0(n,r,a,c,void 0,f),c=u0(),n!==null&&!Pt?(h0(n,r,f),Br(n,r,f)):(He&&c&&qd(r),r.flags|=1,tn(n,r,a,f),r.child)}function Ly(n,r,a,c,f,p){return va(r),r.updateQueue=null,a=Ux(r,c,a,f),Fx(n),c=u0(),n!==null&&!Pt?(h0(n,r,p),Br(n,r,p)):(He&&c&&qd(r),r.flags|=1,tn(n,r,a,p),r.child)}function Vy(n,r,a,c,f){if(va(r),r.stateNode===null){var p=xo,E=a.contextType;typeof E=="object"&&E!==null&&(p=en(E)),p=new a(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=C0,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},t0(r),E=a.contextType,p.context=typeof E=="object"&&E!==null?en(E):xo,p.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(T0(r,a,E,c),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&C0.enqueueReplaceState(p,p.state,null),Gl(r,c,p,f),ql(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){p=r.stateNode;var j=r.memoizedProps,H=Ta(a,j);p.props=H;var ee=p.context,re=a.contextType;E=xo,typeof re=="object"&&re!==null&&(E=en(re));var oe=a.getDerivedStateFromProps;re=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",j=r.pendingProps!==j,re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(j||ee!==E)&&Ty(r,p,c,E),fs=!1;var te=r.memoizedState;p.state=te,Gl(r,c,p,f),ql(),ee=r.memoizedState,j||te!==ee||fs?(typeof oe=="function"&&(T0(r,a,oe,c),ee=r.memoizedState),(H=fs||Ay(r,a,H,c,te,ee,E))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=ee),p.props=c,p.state=ee,p.context=E,c=H):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,n0(n,r),E=r.memoizedProps,re=Ta(a,E),p.props=re,oe=r.pendingProps,te=p.context,ee=a.contextType,H=xo,typeof ee=="object"&&ee!==null&&(H=en(ee)),j=a.getDerivedStateFromProps,(ee=typeof j=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==oe||te!==H)&&Ty(r,p,c,H),fs=!1,te=r.memoizedState,p.state=te,Gl(r,c,p,f),ql();var ie=r.memoizedState;E!==oe||te!==ie||fs||n!==null&&n.dependencies!==null&&Iu(n.dependencies)?(typeof j=="function"&&(T0(r,a,j,c),ie=r.memoizedState),(re=fs||Ay(r,a,re,c,te,ie,H)||n!==null&&n.dependencies!==null&&Iu(n.dependencies))?(ee||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,ie,H),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,ie,H)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&te===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&te===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ie),p.props=c,p.state=ie,p.context=H,c=re):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&te===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&te===n.memoizedState||(r.flags|=1024),c=!1)}return p=c,Qu(n,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&c?(r.child=wa(r,n.child,null,f),r.child=wa(r,null,a,f)):tn(n,r,a,f),r.memoizedState=p.state,n=r.child):n=Br(n,r,f),n}function Fy(n,r,a,c){return xa(),r.flags|=256,tn(n,r,a,c),r.child}var N0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function I0(n){return{baseLanes:n,cachePool:Dx()}}function k0(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=qn),n}function Uy(n,r,a){var c=r.pendingProps,f=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(He){if(f?ps(r):gs(),(n=ut)?(n=X1(n,ci),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ls!==null?{id:ar,overflow:or}:null,retryLane:536870912,hydrationErrors:null},a=_x(n),a.return=r,r.child=a,Jt=r,ut=null)):n=null,n===null)throw us(r);return mm(n)?r.lanes=32:r.lanes=536870912,null}var j=c.children;return c=c.fallback,f?(gs(),f=r.mode,j=Wu({mode:"hidden",children:j},f),c=ga(c,f,a,null),j.return=r,c.return=r,j.sibling=c,r.child=j,c=r.child,c.memoizedState=I0(a),c.childLanes=k0(n,E,a),r.memoizedState=N0,Ql(null,c)):(ps(r),B0(r,j))}var H=n.memoizedState;if(H!==null&&(j=H.dehydrated,j!==null)){if(p)r.flags&256?(ps(r),r.flags&=-257,r=O0(n,r,a)):r.memoizedState!==null?(gs(),r.child=n.child,r.flags|=128,r=null):(gs(),j=c.fallback,f=r.mode,c=Wu({mode:"visible",children:c.children},f),j=ga(j,f,a,null),j.flags|=2,c.return=r,j.return=r,c.sibling=j,r.child=c,wa(r,n.child,null,a),c=r.child,c.memoizedState=I0(a),c.childLanes=k0(n,E,a),r.memoizedState=N0,r=Ql(null,c));else if(ps(r),mm(j)){if(E=j.nextSibling&&j.nextSibling.dataset,E)var ee=E.dgst;E=ee,c=Error(s(419)),c.stack="",c.digest=E,Ll({value:c,source:null,stack:null}),r=O0(n,r,a)}else if(Pt||bo(n,r,a,!1),E=(a&n.childLanes)!==0,Pt||E){if(E=at,E!==null&&(c=_n(E,a),c!==0&&c!==H.retryLane))throw H.retryLane=c,pa(n,c),Sn(E,n,c),R0;dm(j)||ah(),r=O0(n,r,a)}else dm(j)?(r.flags|=192,r.child=n.child,r=null):(n=H.treeContext,ut=hi(j.nextSibling),Jt=r,He=!0,cs=null,ci=!1,n!==null&&wx(r,n),r=B0(r,c.children),r.flags|=4096);return r}return f?(gs(),j=c.fallback,f=r.mode,H=n.child,ee=H.sibling,c=Sr(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,ee!==null?j=Sr(ee,j):(j=ga(j,f,a,null),j.flags|=2),j.return=r,c.return=r,c.sibling=j,r.child=c,Ql(null,c),c=r.child,j=n.child.memoizedState,j===null?j=I0(a):(f=j.cachePool,f!==null?(H=jt._currentValue,f=f.parent!==H?{parent:H,pool:H}:f):f=Dx(),j={baseLanes:j.baseLanes|a,cachePool:f}),c.memoizedState=j,c.childLanes=k0(n,E,a),r.memoizedState=N0,Ql(n.child,c)):(ps(r),a=n.child,n=a.sibling,a=Sr(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function B0(n,r){return r=Wu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Wu(n,r){return n=Fn(22,n,null,r),n.lanes=0,n}function O0(n,r,a){return wa(r,n.child,null,a),n=B0(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function zy(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Xd(n.return,r,a)}function j0(n,r,a,c,f,p){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:p}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=a,E.tailMode=f,E.treeForkCount=p)}function Hy(n,r,a){var c=r.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var E=Ct.current,j=(E&2)!==0;if(j?(E=E&1|2,r.flags|=128):E&=1,X(Ct,E),tn(n,r,c,a),c=He?Pl:0,!j&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&zy(n,a,r);else if(n.tag===19)zy(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Vu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),j0(r,!1,f,a,p,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Vu(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}j0(r,!0,a,null,p,c);break;case"together":j0(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Br(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),vs|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(bo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Sr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Sr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function M0(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Iu(n)))}function UT(n,r,a){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),hs(r,jt,n.memoizedState.cache),xa();break;case 27:case 5:vn(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:hs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,o0(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ps(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Uy(n,r,a):(ps(r),n=Br(n,r,a),n!==null?n.sibling:null);ps(r);break;case 19:var f=(n.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(bo(n,r,a,!1),c=(a&r.childLanes)!==0),f){if(c)return Hy(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(Ct,Ct.current),c)break;return null;case 22:return r.lanes=0,jy(n,r,a,r.pendingProps);case 24:hs(r,jt,n.memoizedState.cache)}return Br(n,r,a)}function qy(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Pt=!0;else{if(!M0(n,a)&&(r.flags&128)===0)return Pt=!1,UT(n,r,a);Pt=(n.flags&131072)!==0}else Pt=!1,He&&(r.flags&1048576)!==0&&Ex(r,Pl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(n=ba(r.elementType),r.type=n,typeof n=="function")Ud(n)?(c=Ta(n,c),r.tag=1,r=Vy(null,r,n,c,a)):(r.tag=0,r=D0(null,r,n,c,a));else{if(n!=null){var f=n.$$typeof;if(f===L){r.tag=11,r=ky(null,r,n,c,a);break e}else if(f===A){r.tag=14,r=By(null,r,n,c,a);break e}}throw r=fe(n)||n,Error(s(306,r,""))}}return r;case 0:return D0(n,r,r.type,r.pendingProps,a);case 1:return c=r.type,f=Ta(c,r.pendingProps),Vy(n,r,c,f,a);case 3:e:{if(Ee(r,r.stateNode.containerInfo),n===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;f=p.element,n0(n,r),Gl(r,c,null,a);var E=r.memoizedState;if(c=E.cache,hs(r,jt,c),c!==p.cache&&Qd(r,[jt],a,!0),ql(),c=E.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Fy(n,r,c,a);break e}else if(c!==f){f=ai(Error(s(424)),r),Ll(f),r=Fy(n,r,c,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=hi(n.firstChild),Jt=r,He=!0,cs=null,ci=!0,a=jx(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xa(),c===f){r=Br(n,r,a);break e}tn(n,r,c,a)}r=r.child}return r;case 26:return Qu(n,r),n===null?(a=tv(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,n=r.pendingProps,c=dh(ge.current).createElement(a),c[kt]=r,c[Kt]=n,nn(c,a,n),Bt(c),r.stateNode=c):r.memoizedState=tv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return vn(r),n===null&&He&&(c=r.stateNode=Z1(r.type,r.pendingProps,ge.current),Jt=r,ci=!0,f=ut,As(r.type)?(pm=f,ut=hi(c.firstChild)):ut=f),tn(n,r,r.pendingProps.children,a),Qu(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&He&&((f=c=ut)&&(c=x4(c,r.type,r.pendingProps,ci),c!==null?(r.stateNode=c,Jt=r,ut=hi(c.firstChild),ci=!1,f=!0):f=!1),f||us(r)),vn(r),f=r.type,p=r.pendingProps,E=n!==null?n.memoizedProps:null,c=p.children,um(f,p)?c=null:E!==null&&um(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=c0(n,r,kT,null,null,a),hc._currentValue=f),Qu(n,r),tn(n,r,c,a),r.child;case 6:return n===null&&He&&((n=a=ut)&&(a=y4(a,r.pendingProps,ci),a!==null?(r.stateNode=a,Jt=r,ut=null,n=!0):n=!1),n||us(r)),null;case 13:return Uy(n,r,a);case 4:return Ee(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=wa(r,null,c,a):tn(n,r,c,a),r.child;case 11:return ky(n,r,r.type,r.pendingProps,a);case 7:return tn(n,r,r.pendingProps,a),r.child;case 8:return tn(n,r,r.pendingProps.children,a),r.child;case 12:return tn(n,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,hs(r,r.type,c.value),tn(n,r,c.children,a),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,va(r),f=en(f),c=c(f),r.flags|=1,tn(n,r,c,a),r.child;case 14:return By(n,r,r.type,r.pendingProps,a);case 15:return Oy(n,r,r.type,r.pendingProps,a);case 19:return Hy(n,r,a);case 31:return FT(n,r,a);case 22:return jy(n,r,a,r.pendingProps);case 24:return va(r),c=en(jt),n===null?(f=Jd(),f===null&&(f=at,p=Wd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:c,cache:f},t0(r),hs(r,jt,f)):((n.lanes&a)!==0&&(n0(n,r),Gl(r,null,null,a),ql()),f=n.memoizedState,p=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),hs(r,jt,c)):(c=p.cache,hs(r,jt,c),c!==f.cache&&Qd(r,[jt],a,!0))),tn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Or(n){n.flags|=4}function P0(n,r,a,c,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(x1())n.flags|=8192;else throw Ea=ju,e0}else n.flags&=-16777217}function Gy(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!av(r))if(x1())n.flags|=8192;else throw Ea=ju,e0}function Zu(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?eo():536870912,n.lanes|=r,Bo|=r)}function Wl(n,r){if(!He)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function zT(n,r,a){var c=r.pendingProps;switch(Gd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Nr(jt),We(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(_o(r)?Or(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kd())),ht(r),null;case 26:var f=r.type,p=r.memoizedState;return n===null?(Or(r),p!==null?(ht(r),Gy(r,p)):(ht(r),P0(r,f,null,c,a))):p?p!==n.memoizedState?(Or(r),ht(r),Gy(r,p)):(ht(r),r.flags&=-16777217):(n=n.memoizedProps,n!==c&&Or(r),ht(r),P0(r,f,n,c,a)),null;case 27:if(Li(r),a=ge.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&Or(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ht(r),null}n=Q.current,_o(r)?Ax(r):(n=Z1(f,c,a),r.stateNode=n,Or(r))}return ht(r),null;case 5:if(Li(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&Or(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(p=Q.current,_o(r))Ax(r);else{var E=dh(ge.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?E.createElement(f,{is:c.is}):E.createElement(f)}}p[kt]=r,p[Kt]=c;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=p;e:switch(nn(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Or(r)}}return ht(r),P0(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&Or(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(n=ge.current,_o(r)){if(n=r.stateNode,a=r.memoizedProps,c=null,f=Jt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[kt]=r,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||U1(n.nodeValue,a)),n||us(r,!0)}else n=dh(n).createTextNode(c),n[kt]=r,r.stateNode=n}return ht(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(c=_o(r),a!==null){if(n===null){if(!c)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[kt]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),n=!1}else a=Kd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(zn(r),r):(zn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ht(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=_o(r),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[kt]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),f=!1}else f=Kd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(zn(r),r):(zn(r),null)}return zn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),Zu(r,r.updateQueue),ht(r),null);case 4:return We(),n===null&&sm(r.stateNode.containerInfo),ht(r),null;case 10:return Nr(r.type),ht(r),null;case 19:if(G(Ct),c=r.memoizedState,c===null)return ht(r),null;if(f=(r.flags&128)!==0,p=c.rendering,p===null)if(f)Wl(c,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=Vu(n),p!==null){for(r.flags|=128,Wl(c,!1),n=p.updateQueue,r.updateQueue=n,Zu(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)vx(a,n),a=a.sibling;return X(Ct,Ct.current&1|2),He&&Rr(r,c.treeForkCount),r.child}n=n.sibling}c.tail!==null&&Nt()>ih&&(r.flags|=128,f=!0,Wl(c,!1),r.lanes=4194304)}else{if(!f)if(n=Vu(p),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,Zu(r,n),Wl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!He)return ht(r),null}else 2*Nt()-c.renderingStartTime>ih&&a!==536870912&&(r.flags|=128,f=!0,Wl(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(n=c.last,n!==null?n.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Nt(),n.sibling=null,a=Ct.current,X(Ct,f?a&1|2:a&1),He&&Rr(r,c.treeForkCount),n):(ht(r),null);case 22:case 23:return zn(r),a0(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&Zu(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),n!==null&&G(_a),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Nr(jt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function HT(n,r){switch(Gd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Nr(jt),We(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Li(r),null;case 31:if(r.memoizedState!==null){if(zn(r),r.alternate===null)throw Error(s(340));xa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(zn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));xa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return G(Ct),null;case 4:return We(),null;case 10:return Nr(r.type),null;case 22:case 23:return zn(r),a0(),n!==null&&G(_a),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Nr(jt),null;case 25:return null;default:return null}}function $y(n,r){switch(Gd(r),r.tag){case 3:Nr(jt),We();break;case 26:case 27:case 5:Li(r);break;case 4:We();break;case 31:r.memoizedState!==null&&zn(r);break;case 13:zn(r);break;case 19:G(Ct);break;case 10:Nr(r.type);break;case 22:case 23:zn(r),a0(),n!==null&&G(_a);break;case 24:Nr(jt)}}function Zl(n,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&n)===n){c=void 0;var p=a.create,E=a.inst;c=p(),E.destroy=c}a=a.next}while(a!==f)}}catch(j){tt(r,r.return,j)}}function xs(n,r,a){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&n)===n){var E=c.inst,j=E.destroy;if(j!==void 0){E.destroy=void 0,f=r;var H=a,ee=j;try{ee()}catch(re){tt(f,H,re)}}}c=c.next}while(c!==p)}}catch(re){tt(r,r.return,re)}}function Ky(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Px(r,a)}catch(c){tt(n,n.return,c)}}}function Yy(n,r,a){a.props=Ta(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){tt(n,r,c)}}function Jl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(f){tt(n,r,f)}}function lr(n,r){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){tt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(n,r,f)}else a.current=null}function Xy(n){var r=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){tt(n,n.return,f)}}function L0(n,r,a){try{var c=n.stateNode;h4(c,n.type,a,r),c[Kt]=r}catch(f){tt(n,n.return,f)}}function Qy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&As(n.type)||n.tag===4}function V0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Qy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&As(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function F0(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ai));else if(c!==4&&(c===27&&As(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(F0(n,r,a),n=n.sibling;n!==null;)F0(n,r,a),n=n.sibling}function Ju(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(c===27&&As(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ju(n,r,a),n=n.sibling;n!==null;)Ju(n,r,a),n=n.sibling}function Wy(n){var r=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);nn(r,c,a),r[kt]=n,r[Kt]=a}catch(p){tt(n,n.return,p)}}var jr=!1,Lt=!1,U0=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function qT(n,r){if(n=n.containerInfo,lm=_h,n=ux(n),Od(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,j=-1,H=-1,ee=0,re=0,oe=n,te=null;t:for(;;){for(var ie;oe!==a||f!==0&&oe.nodeType!==3||(j=E+f),oe!==p||c!==0&&oe.nodeType!==3||(H=E+c),oe.nodeType===3&&(E+=oe.nodeValue.length),(ie=oe.firstChild)!==null;)te=oe,oe=ie;for(;;){if(oe===n)break t;if(te===a&&++ee===f&&(j=E),te===p&&++re===c&&(H=E),(ie=oe.nextSibling)!==null)break;oe=te,te=oe.parentNode}oe=ie}a=j===-1||H===-1?null:{start:j,end:H}}else a=null}a=a||{start:0,end:0}}else a=null;for(cm={focusedElem:n,selectionRange:a},_h=!1,Xt=r;Xt!==null;)if(r=Xt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Xt=n;else for(;Xt!==null;){switch(r=Xt,p=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,c=a.stateNode;try{var ye=Ta(a.type,f);n=c.getSnapshotBeforeUpdate(ye,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(Te){tt(a,a.return,Te)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)fm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Xt=n;break}Xt=r.return}}function Jy(n,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Pr(n,a),c&4&&Zl(5,a);break;case 1:if(Pr(n,a),c&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){tt(a,a.return,E)}else{var f=Ta(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(a,a.return,E)}}c&64&&Ky(a),c&512&&Jl(a,a.return);break;case 3:if(Pr(n,a),c&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Px(n,r)}catch(E){tt(a,a.return,E)}}break;case 27:r===null&&c&4&&Wy(a);case 26:case 5:Pr(n,a),r===null&&c&4&&Xy(a),c&512&&Jl(a,a.return);break;case 12:Pr(n,a);break;case 31:Pr(n,a),c&4&&n1(n,a);break;case 13:Pr(n,a),c&4&&i1(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=JT.bind(null,a),v4(n,a))));break;case 22:if(c=a.memoizedState!==null||jr,!c){r=r!==null&&r.memoizedState!==null||Lt,f=jr;var p=Lt;jr=c,(Lt=r)&&!p?Lr(n,a,(a.subtreeFlags&8772)!==0):Pr(n,a),jr=f,Lt=p}break;case 30:break;default:Pr(n,a)}}function e1(n){var r=n.alternate;r!==null&&(n.alternate=null,e1(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&no(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var gt=null,wn=!1;function Mr(n,r,a){for(a=a.child;a!==null;)t1(n,r,a),a=a.sibling}function t1(n,r,a){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Lt||lr(a,r),Mr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||lr(a,r);var c=gt,f=wn;As(a.type)&&(gt=a.stateNode,wn=!1),Mr(n,r,a),lc(a.stateNode),gt=c,wn=f;break;case 5:Lt||lr(a,r);case 6:if(c=gt,f=wn,gt=null,Mr(n,r,a),gt=c,wn=f,gt!==null)if(wn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(p){tt(a,r,p)}else try{gt.removeChild(a.stateNode)}catch(p){tt(a,r,p)}break;case 18:gt!==null&&(wn?(n=gt,K1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Uo(n)):K1(gt,a.stateNode));break;case 4:c=gt,f=wn,gt=a.stateNode.containerInfo,wn=!0,Mr(n,r,a),gt=c,wn=f;break;case 0:case 11:case 14:case 15:xs(2,a,r),Lt||xs(4,a,r),Mr(n,r,a);break;case 1:Lt||(lr(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Yy(a,r,c)),Mr(n,r,a);break;case 21:Mr(n,r,a);break;case 22:Lt=(c=Lt)||a.memoizedState!==null,Mr(n,r,a),Lt=c;break;default:Mr(n,r,a)}}function n1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Uo(n)}catch(a){tt(r,r.return,a)}}}function i1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Uo(n)}catch(a){tt(r,r.return,a)}}function GT(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Zy),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Zy),r;default:throw Error(s(435,n.tag))}}function eh(n,r){var a=GT(n);r.forEach(function(c){if(!a.has(c)){a.add(c);var f=e4.bind(null,n,c);c.then(f,f)}})}function An(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],p=n,E=r,j=E;e:for(;j!==null;){switch(j.tag){case 27:if(As(j.type)){gt=j.stateNode,wn=!1;break e}break;case 5:gt=j.stateNode,wn=!1;break e;case 3:case 4:gt=j.stateNode.containerInfo,wn=!0;break e}j=j.return}if(gt===null)throw Error(s(160));t1(p,E,f),gt=null,wn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)r1(r,n),r=r.sibling}var Ni=null;function r1(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(r,n),Tn(n),c&4&&(xs(3,n,n.return),Zl(3,n),xs(5,n,n.return));break;case 1:An(r,n),Tn(n),c&512&&(Lt||a===null||lr(a,a.return)),c&64&&jr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=Ni;if(An(r,n),Tn(n),c&512&&(Lt||a===null||lr(a,a.return)),c&4){var p=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Yi]||p[kt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),nn(p,c,a),p[kt]=n,Bt(p),c=p;break e;case"link":var E=rv("link","href",f).get(c+(a.href||""));if(E){for(var j=0;j<E.length;j++)if(p=E[j],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(j,1);break t}}p=f.createElement(c),nn(p,c,a),f.head.appendChild(p);break;case"meta":if(E=rv("meta","content",f).get(c+(a.content||""))){for(j=0;j<E.length;j++)if(p=E[j],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(j,1);break t}}p=f.createElement(c),nn(p,c,a),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[kt]=n,Bt(p),c=p}n.stateNode=c}else sv(f,n.type,n.stateNode);else n.stateNode=iv(f,c,n.memoizedProps);else p!==c?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,c===null?sv(f,n.type,n.stateNode):iv(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&L0(n,n.memoizedProps,a.memoizedProps)}break;case 27:An(r,n),Tn(n),c&512&&(Lt||a===null||lr(a,a.return)),a!==null&&c&4&&L0(n,n.memoizedProps,a.memoizedProps);break;case 5:if(An(r,n),Tn(n),c&512&&(Lt||a===null||lr(a,a.return)),n.flags&32){f=n.stateNode;try{En(f,"")}catch(ye){tt(n,n.return,ye)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,L0(n,f,a!==null?a.memoizedProps:f)),c&1024&&(U0=!0);break;case 6:if(An(r,n),Tn(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(ye){tt(n,n.return,ye)}}break;case 3:if(gh=null,f=Ni,Ni=mh(r.containerInfo),An(r,n),Ni=f,Tn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Uo(r.containerInfo)}catch(ye){tt(n,n.return,ye)}U0&&(U0=!1,s1(n));break;case 4:c=Ni,Ni=mh(n.stateNode.containerInfo),An(r,n),Tn(n),Ni=c;break;case 12:An(r,n),Tn(n);break;case 31:An(r,n),Tn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,eh(n,c)));break;case 13:An(r,n),Tn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nh=Nt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,eh(n,c)));break;case 22:f=n.memoizedState!==null;var H=a!==null&&a.memoizedState!==null,ee=jr,re=Lt;if(jr=ee||f,Lt=re||H,An(r,n),Lt=re,jr=ee,Tn(n),c&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||H||jr||Lt||Ca(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){H=a=r;try{if(p=H.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{j=H.stateNode;var oe=H.memoizedProps.style,te=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;j.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ye){tt(H,H.return,ye)}}}else if(r.tag===6){if(a===null){H=r;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(ye){tt(H,H.return,ye)}}}else if(r.tag===18){if(a===null){H=r;try{var ie=H.stateNode;f?Y1(ie,!0):Y1(H.stateNode,!1)}catch(ye){tt(H,H.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,eh(n,a))));break;case 19:An(r,n),Tn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,eh(n,c)));break;case 30:break;case 21:break;default:An(r,n),Tn(n)}}function Tn(n){var r=n.flags;if(r&2){try{for(var a,c=n.return;c!==null;){if(Qy(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=V0(n);Ju(n,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(En(E,""),a.flags&=-33);var j=V0(n);Ju(n,j,E);break;case 3:case 4:var H=a.stateNode.containerInfo,ee=V0(n);F0(n,ee,H);break;default:throw Error(s(161))}}catch(re){tt(n,n.return,re)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function s1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;s1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Pr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Jy(n,r.alternate,r),r=r.sibling}function Ca(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:xs(4,r,r.return),Ca(r);break;case 1:lr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Yy(r,r.return,a),Ca(r);break;case 27:lc(r.stateNode);case 26:case 5:lr(r,r.return),Ca(r);break;case 22:r.memoizedState===null&&Ca(r);break;case 30:Ca(r);break;default:Ca(r)}n=n.sibling}}function Lr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=n,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Lr(f,p,a),Zl(4,p);break;case 1:if(Lr(f,p,a),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ee){tt(c,c.return,ee)}if(c=p,f=c.updateQueue,f!==null){var j=c.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)Mx(H[f],j)}catch(ee){tt(c,c.return,ee)}}a&&E&64&&Ky(p),Jl(p,p.return);break;case 27:Wy(p);case 26:case 5:Lr(f,p,a),a&&c===null&&E&4&&Xy(p),Jl(p,p.return);break;case 12:Lr(f,p,a);break;case 31:Lr(f,p,a),a&&E&4&&n1(f,p);break;case 13:Lr(f,p,a),a&&E&4&&i1(f,p);break;case 22:p.memoizedState===null&&Lr(f,p,a),Jl(p,p.return);break;case 30:break;default:Lr(f,p,a)}r=r.sibling}}function z0(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Vl(a))}function H0(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Vl(n))}function Ii(n,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)a1(n,r,a,c),r=r.sibling}function a1(n,r,a,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(n,r,a,c),f&2048&&Zl(9,r);break;case 1:Ii(n,r,a,c);break;case 3:Ii(n,r,a,c),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Vl(n)));break;case 12:if(f&2048){Ii(n,r,a,c),n=r.stateNode;try{var p=r.memoizedProps,E=p.id,j=p.onPostCommit;typeof j=="function"&&j(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(H){tt(r,r.return,H)}}else Ii(n,r,a,c);break;case 31:Ii(n,r,a,c);break;case 13:Ii(n,r,a,c);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?Ii(n,r,a,c):ec(n,r):p._visibility&2?Ii(n,r,a,c):(p._visibility|=2,No(n,r,a,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&z0(E,r);break;case 24:Ii(n,r,a,c),f&2048&&H0(r.alternate,r);break;default:Ii(n,r,a,c)}}function No(n,r,a,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=n,E=r,j=a,H=c,ee=E.flags;switch(E.tag){case 0:case 11:case 15:No(p,E,j,H,f),Zl(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?No(p,E,j,H,f):ec(p,E):(re._visibility|=2,No(p,E,j,H,f)),f&&ee&2048&&z0(E.alternate,E);break;case 24:No(p,E,j,H,f),f&&ee&2048&&H0(E.alternate,E);break;default:No(p,E,j,H,f)}r=r.sibling}}function ec(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,c=r,f=c.flags;switch(c.tag){case 22:ec(a,c),f&2048&&z0(c.alternate,c);break;case 24:ec(a,c),f&2048&&H0(c.alternate,c);break;default:ec(a,c)}r=r.sibling}}var tc=8192;function Io(n,r,a){if(n.subtreeFlags&tc)for(n=n.child;n!==null;)o1(n,r,a),n=n.sibling}function o1(n,r,a){switch(n.tag){case 26:Io(n,r,a),n.flags&tc&&n.memoizedState!==null&&I4(a,Ni,n.memoizedState,n.memoizedProps);break;case 5:Io(n,r,a);break;case 3:case 4:var c=Ni;Ni=mh(n.stateNode.containerInfo),Io(n,r,a),Ni=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=tc,tc=16777216,Io(n,r,a),tc=c):Io(n,r,a));break;default:Io(n,r,a)}}function l1(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function nc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];Xt=c,u1(c,n)}l1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)c1(n),n=n.sibling}function c1(n){switch(n.tag){case 0:case 11:case 15:nc(n),n.flags&2048&&xs(9,n,n.return);break;case 3:nc(n);break;case 12:nc(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,th(n)):nc(n);break;default:nc(n)}}function th(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];Xt=c,u1(c,n)}l1(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:xs(8,r,r.return),th(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,th(r));break;default:th(r)}n=n.sibling}}function u1(n,r){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:xs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Xt=c;else e:for(a=n;Xt!==null;){c=Xt;var f=c.sibling,p=c.return;if(e1(c),c===a){Xt=null;break e}if(f!==null){f.return=p,Xt=f;break e}Xt=p}}}var $T={getCacheForType:function(n){var r=en(jt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return en(jt).controller.signal}},KT=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,Me=null,Le=0,et=0,Hn=null,ys=!1,ko=!1,q0=!1,Vr=0,Et=0,vs=0,Sa=0,G0=0,qn=0,Bo=0,ic=null,Cn=null,$0=!1,nh=0,h1=0,ih=1/0,rh=null,_s=null,qt=0,bs=null,Oo=null,Fr=0,K0=0,Y0=null,f1=null,rc=0,X0=null;function Gn(){return(Qe&2)!==0&&Le!==0?Le&-Le:W.T!==null?tm():su()}function d1(){if(qn===0)if((Le&536870912)===0||He){var n=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),qn=n}else qn=536870912;return n=Un.current,n!==null&&(n.flags|=32),qn}function Sn(n,r,a){(n===at&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(jo(n,0),Es(n,Le,qn,!1)),qi(n,a),((Qe&2)===0||n!==at)&&(n===at&&((Qe&2)===0&&(Sa|=a),Et===4&&Es(n,Le,qn,!1)),cr(n))}function m1(n,r,a){if((Qe&6)!==0)throw Error(s(327));var c=!a&&(r&127)===0&&(r&n.expiredLanes)===0||Mn(n,r),f=c?QT(n,r):W0(n,r,!0),p=c;do{if(f===0){ko&&!c&&Es(n,r,0,!1);break}else{if(a=n.current.alternate,p&&!YT(a)){f=W0(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var j=n;f=ic;var H=j.current.memoizedState.isDehydrated;if(H&&(jo(j,E).flags|=256),E=W0(j,E,!1),E!==2){if(q0&&!H){j.errorRecoveryDisabledLanes|=p,Sa|=p,f=4;break e}p=Cn,Cn=f,p!==null&&(Cn===null?Cn=p:Cn.push.apply(Cn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){jo(n,0),Es(n,r,0,!0);break}e:{switch(c=n,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Es(c,r,qn,!ys);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=nh+300-Nt(),10<f)){if(Es(c,r,qn,!ys),Jn(c,0,!0)!==0)break e;Fr=r,c.timeoutHandle=G1(p1.bind(null,c,a,Cn,rh,$0,r,qn,Sa,Bo,ys,p,"Throttled",-0,0),f);break e}p1(c,a,Cn,rh,$0,r,qn,Sa,Bo,ys,p,null,-0,0)}}break}while(!0);cr(n)}function p1(n,r,a,c,f,p,E,j,H,ee,re,oe,te,ie){if(n.timeoutHandle=-1,oe=r.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},o1(r,p,oe);var ye=(p&62914560)===p?nh-Nt():(p&4194048)===p?h1-Nt():0;if(ye=k4(oe,ye),ye!==null){Fr=p,n.cancelPendingCommit=ye(w1.bind(null,n,r,p,a,c,f,E,j,H,re,oe,null,te,ie)),Es(n,p,E,!ee);return}}w1(n,r,p,a,c,f,E,j,H)}function YT(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],p=f.getSnapshot;f=f.value;try{if(!Vn(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Es(n,r,a,c){r&=~G0,r&=~Sa,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var f=r;0<f;){var p=31-xt(f),E=1<<p;c[p]=-1,f&=~E}a!==0&&Gi(n,a,r)}function sh(){return(Qe&6)===0?(sc(0),!1):!0}function Q0(){if(Me!==null){if(et===0)var n=Me.return;else n=Me,Dr=ya=null,f0(n),To=null,Ul=0,n=Me;for(;n!==null;)$y(n.alternate,n),n=n.return;Me=null}}function jo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,m4(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Fr=0,Q0(),at=n,Me=a=Sr(n.current,null),Le=r,et=0,Hn=null,ys=!1,ko=Mn(n,r),q0=!1,Bo=qn=G0=Sa=vs=Et=0,Cn=ic=null,$0=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var f=31-xt(c),p=1<<f;r|=n[f],c&=~p}return Vr=r,Cu(),a}function g1(n,r){Oe=null,W.H=Xl,r===Ao||r===Ou?(r=kx(),et=3):r===e0?(r=kx(),et=4):et=r===R0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hn=r,Me===null&&(Et=1,Yu(n,ai(r,n.current)))}function x1(){var n=Un.current;return n===null?!0:(Le&4194048)===Le?ui===null:(Le&62914560)===Le||(Le&536870912)!==0?n===ui:!1}function y1(){var n=W.H;return W.H=Xl,n===null?Xl:n}function v1(){var n=W.A;return W.A=$T,n}function ah(){Et=4,ys||(Le&4194048)!==Le&&Un.current!==null||(ko=!0),(vs&134217727)===0&&(Sa&134217727)===0||at===null||Es(at,Le,qn,!1)}function W0(n,r,a){var c=Qe;Qe|=2;var f=y1(),p=v1();(at!==n||Le!==r)&&(rh=null,jo(n,r)),r=!1;var E=Et;e:do try{if(et!==0&&Me!==null){var j=Me,H=Hn;switch(et){case 8:Q0(),E=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var ee=et;if(et=0,Hn=null,Mo(n,j,H,ee),a&&ko){E=0;break e}break;default:ee=et,et=0,Hn=null,Mo(n,j,H,ee)}}XT(),E=Et;break}catch(re){g1(n,re)}while(!0);return r&&n.shellSuspendCounter++,Dr=ya=null,Qe=c,W.H=f,W.A=p,Me===null&&(at=null,Le=0,Cu()),E}function XT(){for(;Me!==null;)_1(Me)}function QT(n,r){var a=Qe;Qe|=2;var c=y1(),f=v1();at!==n||Le!==r?(rh=null,ih=Nt()+500,jo(n,r)):ko=Mn(n,r);e:do try{if(et!==0&&Me!==null){r=Me;var p=Hn;t:switch(et){case 1:et=0,Hn=null,Mo(n,r,p,1);break;case 2:case 9:if(Nx(p)){et=0,Hn=null,b1(r);break}r=function(){et!==2&&et!==9||at!==n||(et=7),cr(n)},p.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Nx(p)?(et=0,Hn=null,b1(r)):(et=0,Hn=null,Mo(n,r,p,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var j=Me;if(E?av(E):j.stateNode.complete){et=0,Hn=null;var H=j.sibling;if(H!==null)Me=H;else{var ee=j.return;ee!==null?(Me=ee,oh(ee)):Me=null}break t}}et=0,Hn=null,Mo(n,r,p,5);break;case 6:et=0,Hn=null,Mo(n,r,p,6);break;case 8:Q0(),Et=6;break e;default:throw Error(s(462))}}WT();break}catch(re){g1(n,re)}while(!0);return Dr=ya=null,W.H=c,W.A=f,Qe=a,Me!==null?0:(at=null,Le=0,Cu(),Et)}function WT(){for(;Me!==null&&!on();)_1(Me)}function _1(n){var r=qy(n.alternate,n,Vr);n.memoizedProps=n.pendingProps,r===null?oh(n):Me=r}function b1(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Ly(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Ly(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:f0(r);default:$y(a,r),r=Me=vx(r,Vr),r=qy(a,r,Vr)}n.memoizedProps=n.pendingProps,r===null?oh(n):Me=r}function Mo(n,r,a,c){Dr=ya=null,f0(r),To=null,Ul=0;var f=r.return;try{if(VT(n,f,r,a,Le)){Et=1,Yu(n,ai(a,n.current)),Me=null;return}}catch(p){if(f!==null)throw Me=f,p;Et=1,Yu(n,ai(a,n.current)),Me=null;return}r.flags&32768?(He||c===1?n=!0:ko||(Le&536870912)!==0?n=!1:(ys=n=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),E1(r,n)):oh(r)}function oh(n){var r=n;do{if((r.flags&32768)!==0){E1(r,ys);return}n=r.return;var a=zT(r.alternate,r,Vr);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);Et===0&&(Et=5)}function E1(n,r){do{var a=HT(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);Et=6,Me=null}function w1(n,r,a,c,f,p,E,j,H){n.cancelPendingCommit=null;do lh();while(qt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Vd,xl(n,a,p,E,j,H),n===at&&(Me=at=null,Le=0),Oo=r,bs=n,Fr=a,K0=p,Y0=f,f1=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,t4(zi,function(){return R1(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,f=ce.p,ce.p=2,E=Qe,Qe|=4;try{qT(n,r,a)}finally{Qe=E,ce.p=f,W.T=c}}qt=1,A1(),T1(),C1()}}function A1(){if(qt===1){qt=0;var n=bs,r=Oo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var c=ce.p;ce.p=2;var f=Qe;Qe|=4;try{r1(r,n);var p=cm,E=ux(n.containerInfo),j=p.focusedElem,H=p.selectionRange;if(E!==j&&j&&j.ownerDocument&&cx(j.ownerDocument.documentElement,j)){if(H!==null&&Od(j)){var ee=H.start,re=H.end;if(re===void 0&&(re=ee),"selectionStart"in j)j.selectionStart=ee,j.selectionEnd=Math.min(re,j.value.length);else{var oe=j.ownerDocument||document,te=oe&&oe.defaultView||window;if(te.getSelection){var ie=te.getSelection(),ye=j.textContent.length,Te=Math.min(H.start,ye),st=H.end===void 0?Te:Math.min(H.end,ye);!ie.extend&&Te>st&&(E=st,st=Te,Te=E);var Y=lx(j,Te),$=lx(j,st);if(Y&&$&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==$.node||ie.focusOffset!==$.offset)){var J=oe.createRange();J.setStart(Y.node,Y.offset),ie.removeAllRanges(),Te>st?(ie.addRange(J),ie.extend($.node,$.offset)):(J.setEnd($.node,$.offset),ie.addRange(J))}}}}for(oe=[],ie=j;ie=ie.parentNode;)ie.nodeType===1&&oe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<oe.length;j++){var se=oe[j];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}_h=!!lm,cm=lm=null}finally{Qe=f,ce.p=c,W.T=a}}n.current=r,qt=2}}function T1(){if(qt===2){qt=0;var n=bs,r=Oo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var c=ce.p;ce.p=2;var f=Qe;Qe|=4;try{Jy(n,r.alternate,r)}finally{Qe=f,ce.p=c,W.T=a}}qt=3}}function C1(){if(qt===4||qt===3){qt=0,Bn();var n=bs,r=Oo,a=Fr,c=f1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Oo=bs=null,S1(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(_s=null),bi(a),r=r.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(On,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=W.T,f=ce.p,ce.p=2,W.T=null;try{for(var p=n.onRecoverableError,E=0;E<c.length;E++){var j=c[E];p(j.value,{componentStack:j.stack})}}finally{W.T=r,ce.p=f}}(Fr&3)!==0&&lh(),cr(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===X0?rc++:(rc=0,X0=n):rc=0,sc(0)}}function S1(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Vl(r)))}function lh(){return A1(),T1(),C1(),R1()}function R1(){if(qt!==5)return!1;var n=bs,r=K0;K0=0;var a=bi(Fr),c=W.T,f=ce.p;try{ce.p=32>a?32:a,W.T=null,a=Y0,Y0=null;var p=bs,E=Fr;if(qt=0,Oo=bs=null,Fr=0,(Qe&6)!==0)throw Error(s(331));var j=Qe;if(Qe|=4,c1(p.current),a1(p,p.current,E,a),Qe=j,sc(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(On,p)}catch{}return!0}finally{ce.p=f,W.T=c,S1(n,r)}}function D1(n,r,a){r=ai(a,r),r=S0(n.stateNode,r,2),n=ms(n,r,2),n!==null&&(qi(n,2),cr(n))}function tt(n,r,a){if(n.tag===3)D1(n,n,a);else for(;r!==null;){if(r.tag===3){D1(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){n=ai(a,n),a=Ny(2),c=ms(r,a,2),c!==null&&(Iy(a,c,r,n),qi(c,2),cr(c));break}}r=r.return}}function Z0(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new KT;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(a)||(q0=!0,f.add(a),n=ZT.bind(null,n,r,a),r.then(n,n))}function ZT(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,at===n&&(Le&a)===a&&(Et===4||Et===3&&(Le&62914560)===Le&&300>Nt()-nh?(Qe&2)===0&&jo(n,0):G0|=a,Bo===Le&&(Bo=0)),cr(n)}function N1(n,r){r===0&&(r=eo()),n=pa(n,r),n!==null&&(qi(n,r),cr(n))}function JT(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),N1(n,a)}function e4(n,r){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),N1(n,a)}function t4(n,r){return ct(n,r)}var ch=null,Po=null,J0=!1,uh=!1,em=!1,ws=0;function cr(n){n!==Po&&n.next===null&&(Po===null?ch=Po=n:Po=Po.next=n),uh=!0,J0||(J0=!0,i4())}function sc(n,r){if(!em&&uh){em=!0;do for(var a=!1,c=ch;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var E=c.suspendedLanes,j=c.pingedLanes;p=(1<<31-xt(42|n)+1)-1,p&=f&~(E&~j),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,O1(c,p))}else p=Le,p=Jn(c,c===at?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Mn(c,p)||(a=!0,O1(c,p));c=c.next}while(a);em=!1}}function n4(){I1()}function I1(){uh=J0=!1;var n=0;ws!==0&&d4()&&(n=ws);for(var r=Nt(),a=null,c=ch;c!==null;){var f=c.next,p=k1(c,r);p===0?(c.next=null,a===null?ch=f:a.next=f,f===null&&(Po=a)):(a=c,(n!==0||(p&3)!==0)&&(uh=!0)),c=f}qt!==0&&qt!==5||sc(n),ws!==0&&(ws=0)}function k1(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-xt(p),j=1<<E,H=f[E];H===-1?((j&a)===0||(j&c)!==0)&&(f[E]=Ja(j,r)):H<=r&&(n.expiredLanes|=j),p&=~j}if(r=at,a=Le,a=Jn(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===r&&(et===2||et===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Dt(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Mn(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(c!==null&&Dt(c),bi(a)){case 2:case 8:a=vi;break;case 32:a=zi;break;case 268435456:a=ia;break;default:a=zi}return c=B1.bind(null,n),a=ct(a,c),n.callbackPriority=r,n.callbackNode=a,r}return c!==null&&c!==null&&Dt(c),n.callbackPriority=2,n.callbackNode=null,2}function B1(n,r){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(lh()&&n.callbackNode!==a)return null;var c=Le;return c=Jn(n,n===at?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(m1(n,c,r),k1(n,Nt()),n.callbackNode!=null&&n.callbackNode===a?B1.bind(null,n):null)}function O1(n,r){if(lh())return null;m1(n,r,!0)}function i4(){p4(function(){(Qe&6)!==0?ct(Wn,n4):I1()})}function tm(){if(ws===0){var n=Eo;n===0&&(n=jn,jn<<=1,(jn&261888)===0&&(jn=256)),ws=n}return ws}function j1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ao(""+n)}function M1(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function r4(n,r,a,c,f){if(r==="submit"&&a&&a.stateNode===f){var p=j1((f[Kt]||null).action),E=c.submitter;E&&(r=(r=E[Kt]||null)?j1(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var j=new nr("action","action",null,c,f);n.push({event:j,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ws!==0){var H=E?M1(f,E):new FormData(f);b0(a,{pending:!0,data:H,method:f.method,action:p},null,H)}}else typeof p=="function"&&(j.preventDefault(),H=E?M1(f,E):new FormData(f),b0(a,{pending:!0,data:H,method:f.method,action:p},p,H))},currentTarget:f}]})}}for(var nm=0;nm<Ld.length;nm++){var im=Ld[nm],s4=im.toLowerCase(),a4=im[0].toUpperCase()+im.slice(1);Di(s4,"on"+a4)}Di(dx,"onAnimationEnd"),Di(mx,"onAnimationIteration"),Di(px,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(ET,"onTransitionRun"),Di(wT,"onTransitionStart"),Di(AT,"onTransitionCancel"),Di(gx,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function P1(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var E=c.length-1;0<=E;E--){var j=c[E],H=j.instance,ee=j.currentTarget;if(j=j.listener,H!==p&&f.isPropagationStopped())break e;p=j,f.currentTarget=ee;try{p(f)}catch(re){Tu(re)}f.currentTarget=null,p=H}else for(E=0;E<c.length;E++){if(j=c[E],H=j.instance,ee=j.currentTarget,j=j.listener,H!==p&&f.isPropagationStopped())break e;p=j,f.currentTarget=ee;try{p(f)}catch(re){Tu(re)}f.currentTarget=null,p=H}}}}function Pe(n,r){var a=r[to];a===void 0&&(a=r[to]=new Set);var c=n+"__bubble";a.has(c)||(L1(r,n,2,!1),a.add(c))}function rm(n,r,a){var c=0;r&&(c|=4),L1(a,n,c,r)}var hh="_reactListening"+Math.random().toString(36).slice(2);function sm(n){if(!n[hh]){n[hh]=!0,yl.forEach(function(a){a!=="selectionchange"&&(o4.has(a)||rm(a,!1,n),rm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[hh]||(r[hh]=!0,rm("selectionchange",!1,r))}}function L1(n,r,a,c){switch(dv(r)){case 2:var f=j4;break;case 8:f=M4;break;default:f=_m}a=f.bind(null,r,a,n),f=void 0,!oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function am(n,r,a,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var j=c.stateNode.containerInfo;if(j===f)break;if(E===4)for(E=c.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;j!==null;){if(E=Xi(j),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){c=p=E;continue e}j=j.parentNode}}c=c.return}rs(function(){var ee=p,re=ni(a),oe=[];e:{var te=xx.get(n);if(te!==void 0){var ie=nr,ye=n;switch(n){case"keypress":if(ca(a)===0)break e;case"keydown":case"keyup":ie=Eu;break;case"focusin":ye="focus",ie=ha;break;case"focusout":ye="blur",ie=ha;break;case"beforeblur":case"afterblur":ie=ha;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=v;break;case dx:case mx:case px:ie=pu;break;case gx:ie=V;break;case"scroll":case"scrollend":ie=Nl;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Cr;break;case"toggle":case"beforetoggle":ie=Be}var Te=(r&4)!==0,st=!Te&&(n==="scroll"||n==="scrollend"),Y=Te?te!==null?te+"Capture":null:te;Te=[];for(var $=ee,J;$!==null;){var se=$;if(J=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||J===null||Y===null||(se=Ti($,Y),se!=null&&Te.push(oc($,se,J))),st)break;$=$.return}0<Te.length&&(te=new ie(te,ye,null,a,re),oe.push({event:te,listeners:Te}))}}if((r&7)===0){e:{if(te=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",te&&a!==Sl&&(ye=a.relatedTarget||a.fromElement)&&(Xi(ye)||ye[Ki]))break e;if((ie||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(ye=a.relatedTarget||a.toElement,ie=ee,ye=ye?Xi(ye):null,ye!==null&&(st=l(ye),Te=ye.tag,ye!==st||Te!==5&&Te!==27&&Te!==6)&&(ye=null)):(ie=null,ye=ee),ie!==ye)){if(Te=Il,se="onMouseLeave",Y="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Cr,se="onPointerLeave",Y="onPointerEnter",$="pointer"),st=ie==null?te:Pn(ie),J=ye==null?te:Pn(ye),te=new Te(se,$+"leave",ie,a,re),te.target=st,te.relatedTarget=J,se=null,Xi(re)===ee&&(Te=new Te(Y,$+"enter",ye,a,re),Te.target=J,Te.relatedTarget=st,se=Te),st=se,ie&&ye)t:{for(Te=l4,Y=ie,$=ye,J=0,se=Y;se;se=Te(se))J++;se=0;for(var we=$;we;we=Te(we))se++;for(;0<J-se;)Y=Te(Y),J--;for(;0<se-J;)$=Te($),se--;for(;J--;){if(Y===$||$!==null&&Y===$.alternate){Te=Y;break t}Y=Te(Y),$=Te($)}Te=null}else Te=null;ie!==null&&V1(oe,te,ie,Te,!1),ye!==null&&st!==null&&V1(oe,st,ye,Te,!0)}}e:{if(te=ee?Pn(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var Ke=nx;else if(ex(te))if(ix)Ke=vT;else{Ke=xT;var ve=gT}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&so(ee.elementType)&&(Ke=nx):Ke=yT;if(Ke&&(Ke=Ke(n,ee))){tx(oe,Ke,a,re);break e}ve&&ve(n,te,ee),n==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Al(te,"number",te.value)}switch(ve=ee?Pn(ee):window,n){case"focusin":(ex(ve)||ve.contentEditable==="true")&&(mo=ve,jd=ee,Ml=null);break;case"focusout":Ml=jd=mo=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,hx(oe,a,re);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":hx(oe,a,re)}var je;if(Xe)e:{switch(n){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else fo?fa(n,a)&&(Ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(sr&&a.locale!=="ko"&&(fo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&fo&&(je=Dl()):(tr=re,Rl="value"in tr?tr.value:tr.textContent,fo=!0)),ve=fh(ee,Ve),0<ve.length&&(Ve=new rr(Ve,n,null,a,re),oe.push({event:Ve,listeners:ve}),je?Ve.data=je:(je=ho(a),je!==null&&(Ve.data=je)))),(je=ri?fT(n,a):dT(n,a))&&(Ve=fh(ee,"onBeforeInput"),0<Ve.length&&(ve=new rr("onBeforeInput","beforeinput",null,a,re),oe.push({event:ve,listeners:Ve}),ve.data=je)),r4(oe,n,ee,a,re)}P1(oe,r)})}function oc(n,r,a){return{instance:n,listener:r,currentTarget:a}}function fh(n,r){for(var a=r+"Capture",c=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ti(n,a),f!=null&&c.unshift(oc(n,f,p)),f=Ti(n,r),f!=null&&c.push(oc(n,f,p))),n.tag===3)return c;n=n.return}return[]}function l4(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function V1(n,r,a,c,f){for(var p=r._reactName,E=[];a!==null&&a!==c;){var j=a,H=j.alternate,ee=j.stateNode;if(j=j.tag,H!==null&&H===c)break;j!==5&&j!==26&&j!==27||ee===null||(H=ee,f?(ee=Ti(a,p),ee!=null&&E.unshift(oc(a,ee,H))):f||(ee=Ti(a,p),ee!=null&&E.push(oc(a,ee,H)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var c4=/\r\n?/g,u4=/\u0000|\uFFFD/g;function F1(n){return(typeof n=="string"?n:""+n).replace(c4,`
`).replace(u4,"")}function U1(n,r){return r=F1(r),F1(n)===r}function rt(n,r,a,c,f,p){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||En(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&En(n,""+c);break;case"className":Ln(n,"class",c);break;case"tabIndex":Ln(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(n,a,c);break;case"style":Cl(n,c,p);break;case"data":if(r!=="object"){Ln(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=ao(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&rt(n,r,"name",f.name,f,null),rt(n,r,"formEncType",f.formEncType,f,null),rt(n,r,"formMethod",f.formMethod,f,null),rt(n,r,"formTarget",f.formTarget,f,null)):(rt(n,r,"encType",f.encType,f,null),rt(n,r,"method",f.method,f,null),rt(n,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=ao(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=Ai);break;case"onScroll":c!=null&&Pe("scroll",n);break;case"onScrollEnd":c!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=ao(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),io(n,"popover",c);break;case"xlinkActuate":Ot(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ot(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ot(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ot(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ot(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ot(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":io(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fu.get(a)||a,io(n,a,c))}}function om(n,r,a,c,f,p){switch(a){case"style":Cl(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof c=="string"?En(n,c):(typeof c=="number"||typeof c=="bigint")&&En(n,""+c);break;case"onScroll":c!=null&&Pe("scroll",n);break;case"onScrollEnd":c!=null&&Pe("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=n[Kt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,c,f);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):io(n,a,c)}}}function nn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var c=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(n,r,p,E,a,null)}}f&&rt(n,r,"srcSet",a.srcSet,a,null),c&&rt(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var j=p=E=f=null,H=null,ee=null;for(c in a)if(a.hasOwnProperty(c)){var re=a[c];if(re!=null)switch(c){case"name":f=re;break;case"type":E=re;break;case"checked":H=re;break;case"defaultChecked":ee=re;break;case"value":p=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:rt(n,r,c,re,a,null)}}cu(n,p,j,H,ee,E,f,!1);return;case"select":Pe("invalid",n),c=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(j=a[f],j!=null))switch(f){case"value":p=j;break;case"defaultValue":E=j;break;case"multiple":c=j;default:rt(n,r,f,j,a,null)}r=p,a=E,n.multiple=!!c,r!=null?es(n,!!c,r,!1):a!=null&&es(n,!!c,a,!0);return;case"textarea":Pe("invalid",n),p=f=c=null;for(E in a)if(a.hasOwnProperty(E)&&(j=a[E],j!=null))switch(E){case"value":c=j;break;case"defaultValue":f=j;break;case"children":p=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:rt(n,r,E,j,a,null)}ts(n,c,f,p);return;case"option":for(H in a)if(a.hasOwnProperty(H)&&(c=a[H],c!=null))switch(H){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:rt(n,r,H,c,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(c=0;c<ac.length;c++)Pe(ac[c],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in a)if(a.hasOwnProperty(ee)&&(c=a[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(n,r,ee,c,a,null)}return;default:if(so(r)){for(re in a)a.hasOwnProperty(re)&&(c=a[re],c!==void 0&&om(n,r,re,c,a,void 0));return}}for(j in a)a.hasOwnProperty(j)&&(c=a[j],c!=null&&rt(n,r,j,c,a,null))}function h4(n,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,j=null,H=null,ee=null,re=null;for(ie in a){var oe=a[ie];if(a.hasOwnProperty(ie)&&oe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":H=oe;default:c.hasOwnProperty(ie)||rt(n,r,ie,null,c,oe)}}for(var te in c){var ie=c[te];if(oe=a[te],c.hasOwnProperty(te)&&(ie!=null||oe!=null))switch(te){case"type":p=ie;break;case"name":f=ie;break;case"checked":ee=ie;break;case"defaultChecked":re=ie;break;case"value":E=ie;break;case"defaultValue":j=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==oe&&rt(n,r,te,ie,c,oe)}}ro(n,E,j,H,ee,re,p,f);return;case"select":ie=E=j=te=null;for(p in a)if(H=a[p],a.hasOwnProperty(p)&&H!=null)switch(p){case"value":break;case"multiple":ie=H;default:c.hasOwnProperty(p)||rt(n,r,p,null,c,H)}for(f in c)if(p=c[f],H=a[f],c.hasOwnProperty(f)&&(p!=null||H!=null))switch(f){case"value":te=p;break;case"defaultValue":j=p;break;case"multiple":E=p;default:p!==H&&rt(n,r,f,p,c,H)}r=j,a=E,c=ie,te!=null?es(n,!!a,te,!1):!!c!=!!a&&(r!=null?es(n,!!a,r,!0):es(n,!!a,a?[]:"",!1));return;case"textarea":ie=te=null;for(j in a)if(f=a[j],a.hasOwnProperty(j)&&f!=null&&!c.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:rt(n,r,j,null,c,f)}for(E in c)if(f=c[E],p=a[E],c.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":te=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&rt(n,r,E,f,c,p)}uu(n,te,ie);return;case"option":for(var ye in a)if(te=a[ye],a.hasOwnProperty(ye)&&te!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:rt(n,r,ye,null,c,te)}for(H in c)if(te=c[H],ie=a[H],c.hasOwnProperty(H)&&te!==ie&&(te!=null||ie!=null))switch(H){case"selected":n.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:rt(n,r,H,te,c,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)te=a[Te],a.hasOwnProperty(Te)&&te!=null&&!c.hasOwnProperty(Te)&&rt(n,r,Te,null,c,te);for(ee in c)if(te=c[ee],ie=a[ee],c.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:rt(n,r,ee,te,c,ie)}return;default:if(so(r)){for(var st in a)te=a[st],a.hasOwnProperty(st)&&te!==void 0&&!c.hasOwnProperty(st)&&om(n,r,st,void 0,c,te);for(re in c)te=c[re],ie=a[re],!c.hasOwnProperty(re)||te===ie||te===void 0&&ie===void 0||om(n,r,re,te,c,ie);return}}for(var Y in a)te=a[Y],a.hasOwnProperty(Y)&&te!=null&&!c.hasOwnProperty(Y)&&rt(n,r,Y,null,c,te);for(oe in c)te=c[oe],ie=a[oe],!c.hasOwnProperty(oe)||te===ie||te==null&&ie==null||rt(n,r,oe,te,c,ie)}function z1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f4(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],p=f.transferSize,E=f.initiatorType,j=f.duration;if(p&&j&&z1(E)){for(E=0,j=f.responseEnd,c+=1;c<a.length;c++){var H=a[c],ee=H.startTime;if(ee>j)break;var re=H.transferSize,oe=H.initiatorType;re&&z1(oe)&&(H=H.responseEnd,E+=re*(H<j?1:(j-ee)/(H-ee)))}if(--c,r+=8*(p+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var lm=null,cm=null;function dh(n){return n.nodeType===9?n:n.ownerDocument}function H1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q1(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function um(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hm=null;function d4(){var n=window.event;return n&&n.type==="popstate"?n===hm?!1:(hm=n,!0):(hm=null,!1)}var G1=typeof setTimeout=="function"?setTimeout:void 0,m4=typeof clearTimeout=="function"?clearTimeout:void 0,$1=typeof Promise=="function"?Promise:void 0,p4=typeof queueMicrotask=="function"?queueMicrotask:typeof $1<"u"?function(n){return $1.resolve(null).then(n).catch(g4)}:G1;function g4(n){setTimeout(function(){throw n})}function As(n){return n==="head"}function K1(n,r){var a=r,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(f),Uo(r);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")lc(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,lc(a);for(var p=a.firstChild;p;){var E=p.nextSibling,j=p.nodeName;p[Yi]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=E}}else a==="body"&&lc(n.ownerDocument.body);a=f}while(a);Uo(r)}function Y1(n,r){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function fm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fm(a),no(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function x4(n,r,a,c){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Yi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=hi(n.nextSibling),n===null)break}return null}function y4(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=hi(n.nextSibling),n===null))return null;return n}function X1(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=hi(n.nextSibling),n===null))return null;return n}function dm(n){return n.data==="$?"||n.data==="$~"}function mm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function v4(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function hi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var pm=null;function Q1(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return hi(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function W1(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function Z1(n,r,a){switch(r=dh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function lc(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);no(n)}var fi=new Map,J1=new Set;function mh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ur=ce.d;ce.d={f:_4,r:b4,D:E4,C:w4,L:A4,m:T4,X:S4,S:C4,M:R4};function _4(){var n=Ur.f(),r=sh();return n||r}function b4(n){var r=ti(n);r!==null&&r.tag===5&&r.type==="form"?gy(r):Ur.r(n)}var Lo=typeof document>"u"?null:document;function ev(n,r,a){var c=Lo;if(c&&typeof r=="string"&&r){var f=bn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),J1.has(f)||(J1.add(f),n={rel:n,crossOrigin:a,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),nn(r,"link",n),Bt(r),c.head.appendChild(r)))}}function E4(n){Ur.D(n),ev("dns-prefetch",n,null)}function w4(n,r){Ur.C(n,r),ev("preconnect",n,r)}function A4(n,r,a){Ur.L(n,r,a);var c=Lo;if(c&&n&&r){var f='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bn(a.imageSizes)+'"]')):f+='[href="'+bn(n)+'"]';var p=f;switch(r){case"style":p=Vo(n);break;case"script":p=Fo(n)}fi.has(p)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),fi.set(p,n),c.querySelector(f)!==null||r==="style"&&c.querySelector(cc(p))||r==="script"&&c.querySelector(uc(p))||(r=c.createElement("link"),nn(r,"link",n),Bt(r),c.head.appendChild(r)))}}function T4(n,r){Ur.m(n,r);var a=Lo;if(a&&n){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(n)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Fo(n)}if(!fi.has(p)&&(n=_({rel:"modulepreload",href:n},r),fi.set(p,n),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(uc(p)))return}c=a.createElement("link"),nn(c,"link",n),Bt(c),a.head.appendChild(c)}}}function C4(n,r,a){Ur.S(n,r,a);var c=Lo;if(c&&n){var f=Qi(c).hoistableStyles,p=Vo(n);r=r||"default";var E=f.get(p);if(!E){var j={loading:0,preload:null};if(E=c.querySelector(cc(p)))j.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=fi.get(p))&&gm(n,a);var H=E=c.createElement("link");Bt(H),nn(H,"link",n),H._p=new Promise(function(ee,re){H.onload=ee,H.onerror=re}),H.addEventListener("load",function(){j.loading|=1}),H.addEventListener("error",function(){j.loading|=2}),j.loading|=4,ph(E,r,c)}E={type:"stylesheet",instance:E,count:1,state:j},f.set(p,E)}}}function S4(n,r){Ur.X(n,r);var a=Lo;if(a&&n){var c=Qi(a).hoistableScripts,f=Fo(n),p=c.get(f);p||(p=a.querySelector(uc(f)),p||(n=_({src:n,async:!0},r),(r=fi.get(f))&&xm(n,r),p=a.createElement("script"),Bt(p),nn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function R4(n,r){Ur.M(n,r);var a=Lo;if(a&&n){var c=Qi(a).hoistableScripts,f=Fo(n),p=c.get(f);p||(p=a.querySelector(uc(f)),p||(n=_({src:n,async:!0,type:"module"},r),(r=fi.get(f))&&xm(n,r),p=a.createElement("script"),Bt(p),nn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function tv(n,r,a,c){var f=(f=ge.current)?mh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Vo(a.href),a=Qi(f).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Vo(a.href);var p=Qi(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(cc(n)))&&!p._p&&(E.instance=p,E.state.loading=5),fi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fi.set(n,a),p||D4(f,n,a,E.state))),r&&c===null)throw Error(s(528,""));return E}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fo(a),a=Qi(f).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Vo(n){return'href="'+bn(n)+'"'}function cc(n){return'link[rel="stylesheet"]['+n+"]"}function nv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function D4(n,r,a,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),nn(r,"link",a),Bt(r),n.head.appendChild(r))}function Fo(n){return'[src="'+bn(n)+'"]'}function uc(n){return"script[async]"+n}function iv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+bn(a.href)+'"]');if(c)return r.instance=c,Bt(c),c;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Bt(c),nn(c,"style",f),ph(c,a.precedence,n),r.instance=c;case"stylesheet":f=Vo(a.href);var p=n.querySelector(cc(f));if(p)return r.state.loading|=4,r.instance=p,Bt(p),p;c=nv(a),(f=fi.get(f))&&gm(c,f),p=(n.ownerDocument||n).createElement("link"),Bt(p);var E=p;return E._p=new Promise(function(j,H){E.onload=j,E.onerror=H}),nn(p,"link",c),r.state.loading|=4,ph(p,a.precedence,n),r.instance=p;case"script":return p=Fo(a.src),(f=n.querySelector(uc(p)))?(r.instance=f,Bt(f),f):(c=a,(f=fi.get(p))&&(c=_({},a),xm(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),Bt(f),nn(f,"link",c),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,ph(c,a.precedence,n));return r.instance}function ph(n,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,E=0;E<c.length;E++){var j=c[E];if(j.dataset.precedence===r)p=j;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function gm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function xm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var gh=null;function rv(n,r,a){if(gh===null){var c=new Map,f=gh=new Map;f.set(a,c)}else f=gh,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Yi]||p[kt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=n+E;var j=c.get(E);j?j.push(p):c.set(E,[p])}}return c}function sv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function N4(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function av(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function I4(n,r,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Vo(c.href),p=r.querySelector(cc(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=xh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=p,Bt(p);return}p=r.ownerDocument||r,c=nv(c),(f=fi.get(f))&&gm(c,f),p=p.createElement("link"),Bt(p);var E=p;E._p=new Promise(function(j,H){E.onload=j,E.onerror=H}),nn(p,"link",c),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=xh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var ym=0;function k4(n,r){return n.stylesheets&&n.count===0&&vh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&vh(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+r);0<n.imgBytes&&ym===0&&(ym=62500*f4());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&vh(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>ym?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var yh=null;function vh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,yh=new Map,r.forEach(B4,n),yh=null,xh.call(n))}function B4(n,r){if(!(r.state.loading&4)){var a=yh.get(n);if(a)var c=a.get(null);else{a=new Map,yh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),c=E)}c&&a.set(null,c)}f=r.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||c,p===c&&a.set(null,f),a.set(E,f),this.count++,c=xh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var hc={$$typeof:I,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function O4(n,r,a,c,f,p,E,j,H){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function ov(n,r,a,c,f,p,E,j,H,ee,re,oe){return n=new O4(n,r,a,E,H,ee,re,oe,j),r=1,p===!0&&(r|=24),p=Fn(3,null,null,r),n.current=p,p.stateNode=n,r=Wd(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:a,cache:r},t0(p),n}function lv(n){return n?(n=xo,n):xo}function cv(n,r,a,c,f,p){f=lv(f),c.context===null?c.context=f:c.pendingContext=f,c=ds(r),c.payload={element:a},p=p===void 0?null:p,p!==null&&(c.callback=p),a=ms(n,c,r),a!==null&&(Sn(a,n,r),Hl(a,n,r))}function uv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function vm(n,r){uv(n,r),(n=n.alternate)&&uv(n,r)}function hv(n){if(n.tag===13||n.tag===31){var r=pa(n,67108864);r!==null&&Sn(r,n,67108864),vm(n,67108864)}}function fv(n){if(n.tag===13||n.tag===31){var r=Gn();r=$i(r);var a=pa(n,r);a!==null&&Sn(a,n,r),vm(n,r)}}var _h=!0;function j4(n,r,a,c){var f=W.T;W.T=null;var p=ce.p;try{ce.p=2,_m(n,r,a,c)}finally{ce.p=p,W.T=f}}function M4(n,r,a,c){var f=W.T;W.T=null;var p=ce.p;try{ce.p=8,_m(n,r,a,c)}finally{ce.p=p,W.T=f}}function _m(n,r,a,c){if(_h){var f=bm(c);if(f===null)am(n,r,c,bh,a),mv(n,c);else if(L4(f,n,r,a,c))c.stopPropagation();else if(mv(n,c),r&4&&-1<P4.indexOf(n)){for(;f!==null;){var p=ti(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Zn(p.pendingLanes);if(E!==0){var j=p;for(j.pendingLanes|=2,j.entangledLanes|=2;E;){var H=1<<31-xt(E);j.entanglements[1]|=H,E&=~H}cr(p),(Qe&6)===0&&(ih=Nt()+500,sc(0))}}break;case 31:case 13:j=pa(p,2),j!==null&&Sn(j,p,2),sh(),vm(p,2)}if(p=bm(c),p===null&&am(n,r,c,bh,a),p===f)break;f=p}f!==null&&c.stopPropagation()}else am(n,r,c,null,a)}}function bm(n){return n=ni(n),Em(n)}var bh=null;function Em(n){if(bh=null,n=Xi(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=u(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return bh=n,null}function dv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ui()){case Wn:return 2;case vi:return 8;case zi:case Qa:return 32;case ia:return 268435456;default:return 32}default:return 32}}var wm=!1,Ts=null,Cs=null,Ss=null,fc=new Map,dc=new Map,Rs=[],P4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(n,r){switch(n){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":fc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(r.pointerId)}}function mc(n,r,a,c,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=ti(r),r!==null&&hv(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function L4(n,r,a,c,f){switch(r){case"focusin":return Ts=mc(Ts,n,r,a,c,f),!0;case"dragenter":return Cs=mc(Cs,n,r,a,c,f),!0;case"mouseover":return Ss=mc(Ss,n,r,a,c,f),!0;case"pointerover":var p=f.pointerId;return fc.set(p,mc(fc.get(p)||null,n,r,a,c,f)),!0;case"gotpointercapture":return p=f.pointerId,dc.set(p,mc(dc.get(p)||null,n,r,a,c,f)),!0}return!1}function pv(n){var r=Xi(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){n.blockedOn=r,Ei(n.priority,function(){fv(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,Ei(n.priority,function(){fv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Eh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=bm(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Sl=c,a.target.dispatchEvent(c),Sl=null}else return r=ti(a),r!==null&&hv(r),n.blockedOn=a,!1;r.shift()}return!0}function gv(n,r,a){Eh(n)&&a.delete(r)}function V4(){wm=!1,Ts!==null&&Eh(Ts)&&(Ts=null),Cs!==null&&Eh(Cs)&&(Cs=null),Ss!==null&&Eh(Ss)&&(Ss=null),fc.forEach(gv),dc.forEach(gv)}function wh(n,r){n.blockedOn===r&&(n.blockedOn=null,wm||(wm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,V4)))}var Ah=null;function xv(n){Ah!==n&&(Ah=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ah===n&&(Ah=null);for(var r=0;r<n.length;r+=3){var a=n[r],c=n[r+1],f=n[r+2];if(typeof c!="function"){if(Em(c||a)===null)continue;break}var p=ti(a);p!==null&&(n.splice(r,3),r-=3,b0(p,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Uo(n){function r(H){return wh(H,n)}Ts!==null&&wh(Ts,n),Cs!==null&&wh(Cs,n),Ss!==null&&wh(Ss,n),fc.forEach(r),dc.forEach(r);for(var a=0;a<Rs.length;a++){var c=Rs[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Rs.length&&(a=Rs[0],a.blockedOn===null);)pv(a),a.blockedOn===null&&Rs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],p=a[c+1],E=f[Kt]||null;if(typeof p=="function")E||xv(a);else if(E){var j=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Kt]||null)j=E.formAction;else if(Em(f)!==null)continue}else j=E.action;typeof j=="function"?a[c+1]=j:(a.splice(c,3),c-=3),xv(a)}}}function yv(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Am(n){this._internalRoot=n}Th.prototype.render=Am.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,c=Gn();cv(a,c,n,r,null,null)},Th.prototype.unmount=Am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;cv(n.current,2,null,n,null,null),sh(),r[Ki]=null}};function Th(n){this._internalRoot=n}Th.prototype.unstable_scheduleHydration=function(n){if(n){var r=su();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Rs.length&&r!==0&&r<Rs[a].priority;a++);Rs.splice(a,0,n),a===0&&pv(n)}};var vv=e.version;if(vv!=="19.2.1")throw Error(s(527,vv,"19.2.1"));ce.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=d(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var F4={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{On=Ch.inject(F4),It=Ch}catch{}}return gc.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,c="",f=Cy,p=Sy,E=Ry;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=ov(n,1,!1,null,null,a,c,null,f,p,E,yv),n[Ki]=r.current,sm(n),new Am(r)},gc.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var c=!1,f="",p=Cy,E=Sy,j=Ry,H=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError),a.formState!==void 0&&(H=a.formState)),r=ov(n,1,!0,r,a??null,c,f,H,p,E,j,yv),r.context=lv(null),a=r.current,c=Gn(),c=$i(c),f=ds(c),f.callback=null,ms(a,f,c),a=c,r.current.lanes=a,qi(r,a),cr(r),n[Ki]=r.current,sm(n),new Th(r)},gc.version="19.2.1",gc}var Dv;function Z4(){if(Dv)return Rm.exports;Dv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=W4(),Rm.exports}var J4=Z4();function zo({category:i,title:e,description:t,profileImageUrl:s,authorName:o,timestamp:l,commentsCount:u}){return x.jsxs("div",{className:"border border-white/30 px-4 py-4 rounded-3xl bg-white/10 backdrop-blur-xl shadow-2xl shadow-black/20 flex flex-col hover:bg-white/15 transition-all duration-300",children:[x.jsx("div",{className:"border border-white/30 rounded-full w-fit px-3 py-1.5 bg-white/20 backdrop-blur-md",children:x.jsx("h2",{className:"text-white/90 text-sm font-bold drop-shadow-md",children:i})}),x.jsxs("div",{className:"mt-4",children:[x.jsx("h3",{className:"text-white font-bold text-[20px]",children:e}),x.jsx("p",{className:"leading-tight text-gray-300",children:t})]}),x.jsxs("div",{className:"text-white mt-4 flex items-center gap-4 text-gray-400 text-sm",children:[x.jsx("img",{src:s,alt:`${o}'s profile`,className:"w-8 h-8 object-cover rounded-full"}),x.jsx("span",{children:o}),l&&x.jsx("span",{children:l}),u!==void 0&&x.jsxs("span",{children:[u," comments"]})]})]})}function km({profileImageUrl:i,authorName:e,content:t}){return x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl flex flex-col rounded-3xl px-4 py-6 items-center border border-white/30 shadow-2xl shadow-black/20 hover:bg-white/15 transition-all duration-300",children:[x.jsx("img",{src:i,alt:`${e}'s profile`,className:"w-16 h-16 object-cover rounded-full mt-4"}),x.jsx("h2",{className:"mt-4 text-lg font-semibold",children:e}),x.jsx("p",{className:"mt-2 text-center",children:t})]})}function eC(){return x.jsxs("div",{style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:[x.jsxs("section",{className:"min-h-screen relative flex items-center",children:[x.jsxs("div",{className:"z-10 px-8 md:px-16 lg:px-24 max-w-4xl",children:[x.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold text-white mb-6 leading-tight drop-shadow-2xl",children:["Your Journey to",x.jsx("br",{}),"Healing Starts Here"]}),x.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-4 max-w-3xl leading-relaxed font-medium",children:"Mental health matters. You're not alone on this journey."}),x.jsx("p",{className:"text-lg md:text-xl text-white/80 mb-12 max-w-2xl leading-relaxed",children:"Connect with a supportive community, access professional resources, and find the help you need in a safe, understanding environment."}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[x.jsx("button",{className:"px-8 py-4 bg-white/20 hover:bg-white/30 backdrop-blur-xl text-white font-bold rounded-full border border-white/40 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg hover:scale-105",children:"Get Started "}),x.jsx("button",{className:"px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-semibold rounded-full border border-white/30 shadow-xl transition-all duration-300 hover:scale-105",children:"Learn More"})]})]}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 z-20",children:x.jsxs("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-full",children:[x.jsx("path",{d:"M0,50 C300,100 500,0 600,30 C700,60 900,100 1200,50 L1200,120 L0,120 Z",fill:"url(#wave-gradient)",opacity:"0.8"}),x.jsx("path",{d:"M0,70 C300,20 500,110 600,80 C700,50 900,0 1200,70 L1200,120 L0,120 Z",fill:"url(#wave-gradient2)",opacity:"0.6"}),x.jsxs("defs",{children:[x.jsxs("linearGradient",{id:"wave-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[x.jsx("stop",{offset:"0%",stopColor:"#9D7BA8"}),x.jsx("stop",{offset:"100%",stopColor:"#6A1E55"})]}),x.jsxs("linearGradient",{id:"wave-gradient2",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[x.jsx("stop",{offset:"0%",stopColor:"#B89DC0"}),x.jsx("stop",{offset:"100%",stopColor:"#8B5A8E"})]})]})]})})]}),x.jsxs("section",{className:"min-h-screen relative flex flex-col items-center pt-16 pb-32",children:[x.jsxs("div",{className:"flex items-center flex-col mt-16 px-8 md:px-16 lg:px-24",children:[x.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Do you have a question?"}),x.jsx("p",{className:"md:text-2xl text-white mb-16",children:"Nimbus is here to help"}),x.jsx("div",{className:"flex flex-row justify-center w-full",children:x.jsx("input",{className:"border border-white/30 bg-white/10 backdrop-blur-xl w-[100%] px-4 py-2 rounded-full text-white placeholder-white/60 shadow-lg focus:outline-none focus:border-white/50 transition-all duration-300",placeholder:"Search mental health topics..."})})]}),x.jsx("h2",{className:"mt-32 md:text-5xl font-bold ",children:"Latest Discussions"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 px-8 md:px-16 lg:px-24 mt-16",children:[x.jsx(zo,{category:"Mental Health",title:"How to manage anxiety?",description:"Looking for tips and strategies to cope with anxiety.",profileImageUrl:"home/person1.jpg",authorName:"John Doe",timestamp:"2 hours ago",commentsCount:5}),x.jsx(zo,{category:"Mental Health",title:"How to manage anxiety?",description:"Looking for tips and strategies to cope with anxiety.",profileImageUrl:"home/person2.jpg",authorName:"John Doe",timestamp:"2 hours ago",commentsCount:5}),x.jsx(zo,{category:"Mental Health",title:"How to manage anxiety?",description:"Looking for tips and strategies to cope with anxiety.",profileImageUrl:"home/person3.jpg",authorName:"John Doe",timestamp:"2 hours ago",commentsCount:5}),x.jsx(zo,{category:"Mental Health",title:"How to manage anxiety?",description:"Looking for tips and strategies to cope with anxiety.",profileImageUrl:"home/person1.jpg",authorName:"John Doe",timestamp:"2 hours ago",commentsCount:5}),x.jsx(zo,{category:"Mental Health",title:"How to manage anxiety?",description:"Looking for tips and strategies to cope with anxiety.",profileImageUrl:"home/person2.jpg",authorName:"John Doe",timestamp:"2 hours ago",commentsCount:5}),x.jsx(zo,{category:"Mental Health",title:"How to manage anxiety?",description:"Looking for tips and strategies to cope with anxiety.",profileImageUrl:"home/person3.jpg",authorName:"John Doe",timestamp:"2 hours ago",commentsCount:5})]})]}),x.jsx("section",{className:"pb-32",children:x.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24",children:[x.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Stories of Hope"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:[x.jsx(km,{profileImageUrl:"home/person1.jpg",authorName:"Jane Smith",content:"Nimbus helped me find the support I needed during tough times. I'm grateful for this community."}),x.jsx(km,{profileImageUrl:"home/person2.jpg",authorName:"Mike Johnson",content:"The resources and discussions on Nimbus have been invaluable in my journey to mental wellness."}),x.jsx(km,{profileImageUrl:"home/person3.jpg",authorName:"Mike Johnson",content:"The resources and discussions on Nimbus have been invaluable in my journey to mental wellness."})]})]})}),x.jsx("section",{className:"pb-32",children:x.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24",children:[x.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Still need more help?"}),x.jsx("p",{className:"text-white font-semibold",children:"Connect with a professional counselor"}),x.jsx("button",{className:"mt-8 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-bold rounded-full border border-white/30 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg",children:"Book an appointmentr with us now"})]})})]})}function tC(){return x.jsx("div",{className:"min-h-screen pt-32 px-4",children:x.jsxs("div",{className:"max-w-6xl mx-auto",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Education"}),x.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:x.jsx("p",{className:"text-white/80 text-lg",children:"Education page coming soon..."})})]})})}function nC(){return x.jsx("div",{className:"min-h-screen pt-32 px-4",children:x.jsxs("div",{className:"max-w-6xl mx-auto",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Get Help"}),x.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:x.jsx("p",{className:"text-white/80 text-lg",children:"Help page coming soon..."})})]})})}function iC(){return x.jsx("div",{className:"min-h-screen pt-32 px-4",children:x.jsxs("div",{className:"max-w-6xl mx-auto",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Counseling"}),x.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:x.jsx("p",{className:"text-white/80 text-lg",children:"Counseling page coming soon..."})})]})})}const rC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Nv=i=>{const e=sC(i);return e.charAt(0).toUpperCase()+e.slice(1)},hb=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),aC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var oC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lC=K.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:u,...m},g)=>K.createElement("svg",{ref:g,...oC,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:hb("lucide",o),...!l&&!aC(m)&&{"aria-hidden":"true"},...m},[...u.map(([d,y])=>K.createElement(d,y)),...Array.isArray(l)?l:[l]]));const $e=(i,e)=>{const t=K.forwardRef(({className:s,...o},l)=>K.createElement(lC,{ref:l,iconNode:e,className:hb(`lucide-${rC(Nv(i))}`,`lucide-${i}`,s),...o}));return t.displayName=Nv(i),t};const cC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fb=$e("arrow-left",cC);const uC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hC=$e("arrow-right",uC);const fC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],dC=$e("book-open",fC);const mC=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],db=$e("cake",mC);const pC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mb=$e("calendar",pC);const gC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zf=$e("circle-alert",gC);const xC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pb=$e("circle-check-big",xC);const yC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vC=$e("clock",yC);const _C=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bC=$e("eye-off",_C);const EC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wC=$e("eye",EC);const AC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jm=$e("file-text",AC);const TC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Hc=$e("heart",TC);const CC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Iv=$e("lock",CC);const SC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gb=$e("log-out",SC);const RC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xb=$e("mail",RC);const DC=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Pp=$e("message-circle",DC);const NC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],IC=$e("message-square",NC);const kC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Lp=$e("phone",kC);const BC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],OC=$e("pin",BC);const jC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jf=$e("plus",jC);const MC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yb=$e("search",MC);const PC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],LC=$e("send",PC);const VC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],vb=$e("share-2",VC);const FC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_b=$e("sparkles",FC);const UC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zC=$e("square-pen",UC);const HC=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],qC=$e("tag",HC);const GC=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],$C=$e("thumbs-up",GC);const KC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],YC=$e("trash-2",KC);const XC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bb=$e("trending-up",XC);const QC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],WC=$e("upload",QC);const ZC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ed=$e("user",ZC);const JC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],eS=$e("users",JC);const tS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ep=$e("x",tS);var kv="popstate";function nS(i={}){function e(o,l){let{pathname:u="/",search:m="",hash:g=""}=Fa(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),tp("",{pathname:u,search:m,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let u=o.document.querySelector("base"),m="";if(u&&u.getAttribute("href")){let g=o.location.href,d=g.indexOf("#");m=d===-1?g:g.slice(0,d)}return m+"#"+(typeof l=="string"?l:kc(l))}function s(o,l){mi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return rS(e,t,s,i)}function vt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function mi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iS(){return Math.random().toString(36).substring(2,10)}function Bv(i,e){return{usr:i.state,key:i.key,idx:e}}function tp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Fa(e):e,state:t,key:e&&e.key||s||iS()}}function kc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Fa(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function rS(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,m="POP",g=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function _(){m="POP";let T=y(),P=T==null?null:T-d;d=T,g&&g({action:m,location:O.location,delta:P})}function b(T,P){m="PUSH";let C=tp(O.location,T,P);t&&t(C,T),d=y()+1;let I=Bv(C,d),L=O.createHref(C);try{u.pushState(I,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(L)}l&&g&&g({action:m,location:O.location,delta:1})}function R(T,P){m="REPLACE";let C=tp(O.location,T,P);t&&t(C,T),d=y();let I=Bv(C,d),L=O.createHref(C);u.replaceState(I,"",L),l&&g&&g({action:m,location:O.location,delta:0})}function N(T){return sS(T)}let O={get action(){return m},get location(){return i(o,u)},listen(T){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(kv,_),g=T,()=>{o.removeEventListener(kv,_),g=null}},createHref(T){return e(o,T)},createURL:N,encodeLocation(T){let P=N(T);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:R,go(T){return u.go(T)}};return O}function sS(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),vt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:kc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Eb(i,e,t="/"){return aS(i,e,t,!1)}function aS(i,e,t,s){let o=typeof e=="string"?Fa(e):e,l=Kr(o.pathname||"/",t);if(l==null)return null;let u=wb(i);oS(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let d=yS(l);m=gS(u[g],d,s)}return m}function wb(i,e=[],t=[],s="",o=!1){let l=(u,m,g=o,d)=>{let y={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&g)return;vt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=qr([s,y.relativePath]),b=t.concat(y);u.children&&u.children.length>0&&(vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),wb(u.children,e,b,_,g)),!(u.path==null&&!u.index)&&e.push({path:_,score:mS(_,u.index),routesMeta:b})};return i.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))l(u,m);else for(let g of Ab(u.path))l(u,m,!0,g)}),e}function Ab(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=Ab(s.join("/")),m=[];return m.push(...u.map(g=>g===""?l:[l,g].join("/"))),o&&m.push(...u),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function oS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:pS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var lS=/^:[\w-]+$/,cS=3,uS=2,hS=1,fS=10,dS=-2,Ov=i=>i==="*";function mS(i,e){let t=i.split("/"),s=t.length;return t.some(Ov)&&(s+=dS),e&&(s+=uS),t.filter(o=>!Ov(o)).reduce((o,l)=>o+(lS.test(l)?cS:l===""?hS:fS),s)}function pS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function gS(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",u=[];for(let m=0;m<s.length;++m){let g=s[m],d=m===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=If({path:g.relativePath,caseSensitive:g.caseSensitive,end:d},y),b=g.route;if(!_&&d&&t&&!s[s.length-1].route.index&&(_=If({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:qr([l,_.pathname]),pathnameBase:wS(qr([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=qr([l,_.pathnameBase]))}return u}function If(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=xS(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((d,{paramName:y,isOptional:_},b)=>{if(y==="*"){let N=m[b]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const R=m[b];return _&&!R?d[y]=void 0:d[y]=(R||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:u,pattern:i}}function xS(i,e=!1,t=!0){mi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function yS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Kr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var vS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_S=i=>vS.test(i);function bS(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Fa(i):i,l;if(t)if(_S(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),mi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=jv(t.substring(1),"/"):l=jv(t,e)}else l=e;return{pathname:l,search:AS(s),hash:TS(o)}}function jv(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Bm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ES(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tb(i){let e=ES(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Cb(i,e,t,s=!1){let o;typeof i=="string"?o=Fa(i):(o={...i},vt(!o.pathname||!o.pathname.includes("?"),Bm("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),Bm("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),Bm("#","search","hash",o)));let l=i===""||o.pathname==="",u=l?"/":o.pathname,m;if(u==null)m=t;else{let _=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),_-=1;o.pathname=b.join("/")}m=_>=0?e[_]:"/"}let g=bS(o,m),d=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(d||y)&&(g.pathname+="/"),g}var qr=i=>i.join("/").replace(/\/\/+/g,"/"),wS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),AS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,TS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function CS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function SS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sb=["POST","PUT","PATCH","DELETE"];new Set(Sb);var RS=["GET",...Sb];new Set(RS);var cl=K.createContext(null);cl.displayName="DataRouter";var td=K.createContext(null);td.displayName="DataRouterState";K.createContext(!1);var Rb=K.createContext({isTransitioning:!1});Rb.displayName="ViewTransition";var DS=K.createContext(new Map);DS.displayName="Fetchers";var NS=K.createContext(null);NS.displayName="Await";var Mi=K.createContext(null);Mi.displayName="Navigation";var qc=K.createContext(null);qc.displayName="Location";var br=K.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var Vp=K.createContext(null);Vp.displayName="RouteError";function IS(i,{relative:e}={}){vt(Gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=K.useContext(Mi),{hash:o,pathname:l,search:u}=$c(i,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:qr([t,l])),s.createHref({pathname:m,search:u,hash:o})}function Gc(){return K.useContext(qc)!=null}function Qs(){return vt(Gc(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(qc).location}var Db="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nb(i){K.useContext(Mi).static||K.useLayoutEffect(i)}function Pi(){let{isDataRoute:i}=K.useContext(br);return i?GS():kS()}function kS(){vt(Gc(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(cl),{basename:e,navigator:t}=K.useContext(Mi),{matches:s}=K.useContext(br),{pathname:o}=Qs(),l=JSON.stringify(Tb(s)),u=K.useRef(!1);return Nb(()=>{u.current=!0}),K.useCallback((g,d={})=>{if(mi(u.current,Db),!u.current)return;if(typeof g=="number"){t.go(g);return}let y=Cb(g,JSON.parse(l),o,d.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qr([e,y.pathname])),(d.replace?t.replace:t.push)(y,d.state,d)},[e,t,l,o,i])}K.createContext(null);function BS(){let{matches:i}=K.useContext(br),e=i[i.length-1];return e?e.params:{}}function $c(i,{relative:e}={}){let{matches:t}=K.useContext(br),{pathname:s}=Qs(),o=JSON.stringify(Tb(t));return K.useMemo(()=>Cb(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function OS(i,e){return Ib(i,e)}function Ib(i,e,t,s,o){vt(Gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=K.useContext(Mi),{matches:u}=K.useContext(br),m=u[u.length-1],g=m?m.params:{},d=m?m.pathname:"/",y=m?m.pathnameBase:"/",_=m&&m.route;{let C=_&&_.path||"";kb(d,!_||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=Qs(),R;if(e){let C=typeof e=="string"?Fa(e):e;vt(y==="/"||C.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${C.pathname}" was given in the \`location\` prop.`),R=C}else R=b;let N=R.pathname||"/",O=N;if(y!=="/"){let C=y.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(C.length).join("/")}let T=Eb(i,{pathname:O});mi(_||T!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),mi(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=VS(T&&T.map(C=>Object.assign({},C,{params:Object.assign({},g,C.params),pathname:qr([y,l.encodeLocation?l.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?y:qr([y,l.encodeLocation?l.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),u,t,s,o);return e&&P?K.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},P):P}function jS(){let i=qS(),e=CS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,u)}var MS=K.createElement(jS,null),PS=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?K.createElement(br.Provider,{value:this.props.routeContext},K.createElement(Vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LS({routeContext:i,match:e,children:t}){let s=K.useContext(cl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(br.Provider,{value:i},t)}function VS(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,u=t?.errors;if(u!=null){let y=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);vt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let m=!1,g=-1;if(t)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=y),_.route.id){let{loaderData:b,errors:R}=t,N=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||N){m=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let d=t&&s?(y,_)=>{s(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:SS(t.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,b)=>{let R,N=!1,O=null,T=null;t&&(R=u&&_.route.id?u[_.route.id]:void 0,O=_.route.errorElement||MS,m&&(g<0&&b===0?(kb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,T=null):g===b&&(N=!0,T=_.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,b+1)),C=()=>{let I;return R?I=O:N?I=T:_.route.Component?I=K.createElement(_.route.Component,null):_.route.element?I=_.route.element:I=y,K.createElement(LS,{match:_,routeContext:{outlet:y,matches:P,isDataRoute:t!=null},children:I})};return t&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?K.createElement(PS,{location:t.location,revalidation:t.revalidation,component:O,error:R,children:C(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:d}):C()},null)}function Fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FS(i){let e=K.useContext(cl);return vt(e,Fp(i)),e}function US(i){let e=K.useContext(td);return vt(e,Fp(i)),e}function zS(i){let e=K.useContext(br);return vt(e,Fp(i)),e}function Up(i){let e=zS(i),t=e.matches[e.matches.length-1];return vt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function HS(){return Up("useRouteId")}function qS(){let i=K.useContext(Vp),e=US("useRouteError"),t=Up("useRouteError");return i!==void 0?i:e.errors?.[t]}function GS(){let{router:i}=FS("useNavigate"),e=Up("useNavigate"),t=K.useRef(!1);return Nb(()=>{t.current=!0}),K.useCallback(async(o,l={})=>{mi(t.current,Db),t.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var Mv={};function kb(i,e,t){!e&&!Mv[i]&&(Mv[i]=!0,mi(!1,t))}K.memo($S);function $S({routes:i,future:e,state:t,unstable_onError:s}){return Ib(i,void 0,t,s,e)}function xn(i){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KS({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){vt(!Gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=K.useMemo(()=>({basename:m,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[m,o,l,u]);typeof t=="string"&&(t=Fa(t));let{pathname:d="/",search:y="",hash:_="",state:b=null,key:R="default"}=t,N=K.useMemo(()=>{let O=Kr(d,m);return O==null?null:{location:{pathname:O,search:y,hash:_,state:b,key:R},navigationType:s}},[m,d,y,_,b,R,s]);return mi(N!=null,`<Router basename="${m}"> is not able to match the URL "${d}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:K.createElement(Mi.Provider,{value:g},K.createElement(qc.Provider,{children:e,value:N}))}function YS({children:i,location:e}){return OS(np(i),e)}function np(i,e=[]){let t=[];return K.Children.forEach(i,(s,o)=>{if(!K.isValidElement(s))return;let l=[...e,o];if(s.type===K.Fragment){t.push.apply(t,np(s.props.children,l));return}vt(s.type===xn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=np(s.props.children,l)),t.push(u)}),t}var Mh="get",Ph="application/x-www-form-urlencoded";function nd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function XS(i){return nd(i)&&i.tagName.toLowerCase()==="button"}function QS(i){return nd(i)&&i.tagName.toLowerCase()==="form"}function WS(i){return nd(i)&&i.tagName.toLowerCase()==="input"}function ZS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function JS(i,e){return i.button===0&&(!e||e==="_self")&&!ZS(i)}var Sh=null;function e6(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var t6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(i){return i!=null&&!t6.has(i)?(mi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):i}function n6(i,e){let t,s,o,l,u;if(QS(i)){let m=i.getAttribute("action");s=m?Kr(m,e):null,t=i.getAttribute("method")||Mh,o=Om(i.getAttribute("enctype"))||Ph,l=new FormData(i)}else if(XS(i)||WS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Kr(g,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Mh,o=Om(i.getAttribute("formenctype"))||Om(m.getAttribute("enctype"))||Ph,l=new FormData(m,i),!e6()){let{name:d,type:y,value:_}=i;if(y==="image"){let b=d?`${d}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else d&&l.append(d,_)}}else{if(nd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mh,s=null,o=Ph,u=i}return l&&o==="text/plain"&&(u=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function i6(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Kr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function r6(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s6(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function a6(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await r6(l,t);return u.links?u.links():[]}return[]}));return u6(s.flat(1).filter(s6).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(i,e,t,s,o,l){let u=(g,d)=>t[d]?g.route.id!==t[d].route.id:!0,m=(g,d)=>t[d].pathname!==g.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,d)=>u(g,d)||m(g,d)):l==="data"?e.filter((g,d)=>{let y=s.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(u(g,d)||m(g,d))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function o6(i,e,{includeHydrateFallback:t}={}){return l6(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function l6(i){return[...new Set(i)]}function c6(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function u6(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(c6(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function Bb(){let i=K.useContext(cl);return zp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function h6(){let i=K.useContext(td);return zp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Hp=K.createContext(void 0);Hp.displayName="FrameworkContext";function Ob(){let i=K.useContext(Hp);return zp(i,"You must render this element inside a <HydratedRouter> element"),i}function f6(i,e){let t=K.useContext(Hp),[s,o]=K.useState(!1),[l,u]=K.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:d,onMouseLeave:y,onTouchStart:_}=e,b=K.useRef(null);K.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let O=P=>{P.forEach(C=>{u(C.isIntersecting)})},T=new IntersectionObserver(O,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[i]),K.useEffect(()=>{if(s){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[s]);let R=()=>{o(!0)},N=()=>{o(!1),u(!1)};return t?i!=="intent"?[l,b,{}]:[l,b,{onFocus:xc(m,R),onBlur:xc(g,N),onMouseEnter:xc(d,R),onMouseLeave:xc(y,N),onTouchStart:xc(_,R)}]:[!1,b,{}]}function xc(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function d6({page:i,...e}){let{router:t}=Bb(),s=K.useMemo(()=>Eb(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?K.createElement(p6,{page:i,matches:s,...e}):null}function m6(i){let{manifest:e,routeModules:t}=Ob(),[s,o]=K.useState([]);return K.useEffect(()=>{let l=!1;return a6(i,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[i,e,t]),s}function p6({page:i,matches:e,...t}){let s=Qs(),{manifest:o,routeModules:l}=Ob(),{basename:u}=Bb(),{loaderData:m,matches:g}=h6(),d=K.useMemo(()=>Pv(i,e,g,o,s,"data"),[i,e,g,o,s]),y=K.useMemo(()=>Pv(i,e,g,o,s,"assets"),[i,e,g,o,s]),_=K.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,O=!1;if(e.forEach(P=>{let C=o.routes[P.route.id];!C||!C.hasLoader||(!d.some(I=>I.route.id===P.route.id)&&P.route.id in m&&l[P.route.id]?.shouldRevalidate||C.hasClientLoader?O=!0:N.add(P.route.id))}),N.size===0)return[];let T=i6(i,u,"data");return O&&N.size>0&&T.searchParams.set("_routes",e.filter(P=>N.has(P.route.id)).map(P=>P.route.id).join(",")),[T.pathname+T.search]},[u,m,s,o,d,e,i,l]),b=K.useMemo(()=>o6(y,o),[y,o]),R=m6(y);return K.createElement(K.Fragment,null,_.map(N=>K.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>K.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),R.map(({key:N,link:O})=>K.createElement("link",{key:N,nonce:t.nonce,...O})))}function g6(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jb&&(window.__reactRouterVersion="7.10.1")}catch{}function x6({basename:i,children:e,unstable_useTransitions:t,window:s}){let o=K.useRef();o.current==null&&(o.current=nS({window:s,v5Compat:!0}));let l=o.current,[u,m]=K.useState({action:l.action,location:l.location}),g=K.useCallback(d=>{t===!1?m(d):K.startTransition(()=>m(d))},[t]);return K.useLayoutEffect(()=>l.listen(g),[l,g]),K.createElement(KS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t===!0})}var Mb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=K.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:u,state:m,target:g,to:d,preventScrollReset:y,viewTransition:_,...b},R){let{basename:N,unstable_useTransitions:O}=K.useContext(Mi),T=typeof d=="string"&&Mb.test(d),P,C=!1;if(typeof d=="string"&&T&&(P=d,jb))try{let D=new URL(window.location.href),k=d.startsWith("//")?new URL(D.protocol+d):new URL(d),U=Kr(k.pathname,N);k.origin===D.origin&&U!=null?d=U+k.search+k.hash:C=!0}catch{mi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=IS(d,{relative:o}),[L,z,q]=f6(s,b),A=b6(d,{replace:u,state:m,target:g,preventScrollReset:y,relative:o,viewTransition:_,unstable_useTransitions:O});function S(D){e&&e(D),D.defaultPrevented||A(D)}let B=K.createElement("a",{...b,...q,href:P||I,onClick:C||l?e:S,ref:g6(R,z),target:g,"data-discover":!T&&t==="render"?"true":void 0});return L&&!T?K.createElement(K.Fragment,null,B,K.createElement(d6,{page:I})):B});Rn.displayName="Link";var y6=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:m,children:g,...d},y){let _=$c(u,{relative:d.relative}),b=Qs(),R=K.useContext(td),{navigator:N,basename:O}=K.useContext(Mi),T=R!=null&&C6(_)&&m===!0,P=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,C=b.pathname,I=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(C=C.toLowerCase(),I=I?I.toLowerCase():null,P=P.toLowerCase()),I&&O&&(I=Kr(I,O)||I);const L=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let z=C===P||!o&&C.startsWith(P)&&C.charAt(L)==="/",q=I!=null&&(I===P||!o&&I.startsWith(P)&&I.charAt(P.length)==="/"),A={isActive:z,isPending:q,isTransitioning:T},S=z?e:void 0,B;typeof s=="function"?B=s(A):B=[s,z?"active":null,q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(A):l;return K.createElement(Rn,{...d,"aria-current":S,className:B,ref:y,style:D,to:u,viewTransition:m},typeof g=="function"?g(A):g)});y6.displayName="NavLink";var v6=K.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:u=Mh,action:m,onSubmit:g,relative:d,preventScrollReset:y,viewTransition:_,...b},R)=>{let{unstable_useTransitions:N}=K.useContext(Mi),O=A6(),T=T6(m,{relative:d}),P=u.toLowerCase()==="get"?"get":"post",C=typeof m=="string"&&Mb.test(m),I=L=>{if(g&&g(L),L.defaultPrevented)return;L.preventDefault();let z=L.nativeEvent.submitter,q=z?.getAttribute("formmethod")||u,A=()=>O(z||L.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:o,state:l,relative:d,preventScrollReset:y,viewTransition:_});N&&t!==!1?K.startTransition(()=>A()):A()};return K.createElement("form",{ref:R,method:P,action:T,onSubmit:s?g:I,...b,"data-discover":!C&&i==="render"?"true":void 0})});v6.displayName="Form";function _6(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pb(i){let e=K.useContext(cl);return vt(e,_6(i)),e}function b6(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:u,unstable_useTransitions:m}={}){let g=Pi(),d=Qs(),y=$c(i,{relative:l});return K.useCallback(_=>{if(JS(_,e)){_.preventDefault();let b=t!==void 0?t:kc(d)===kc(y),R=()=>g(i,{replace:b,state:s,preventScrollReset:o,relative:l,viewTransition:u});m?K.startTransition(()=>R()):R()}},[d,g,y,t,s,e,i,o,l,u,m])}var E6=0,w6=()=>`__${String(++E6)}__`;function A6(){let{router:i}=Pb("useSubmit"),{basename:e}=K.useContext(Mi),t=HS(),s=i.fetch,o=i.navigate;return K.useCallback(async(l,u={})=>{let{action:m,method:g,encType:d,formData:y,body:_}=n6(l,e);if(u.navigate===!1){let b=u.fetcherKey||w6();await s(b,t,u.action||m,{preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||g,formEncType:u.encType||d,flushSync:u.flushSync})}else await o(u.action||m,{preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||g,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,o,e,t])}function T6(i,{relative:e}={}){let{basename:t}=K.useContext(Mi),s=K.useContext(br);vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...$c(i||".",{relative:e})},u=Qs();if(i==null){l.search=u.search;let m=new URLSearchParams(l.search),g=m.getAll("index");if(g.some(y=>y==="")){m.delete("index"),g.filter(_=>_).forEach(_=>m.append("index",_));let y=m.toString();l.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:qr([t,l.pathname])),kc(l)}function C6(i,{relative:e}={}){let t=K.useContext(Rb);vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Pb("useViewTransitionState"),o=$c(i,{relative:e});if(!t.isTransitioning)return!1;let l=Kr(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=Kr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return If(o.pathname,u)!=null||If(o.pathname,l)!=null}const S6=()=>{};var Lv={};const Lb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},R6=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],u=i[t++],m=i[t++],g=((o&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],u=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Vb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],u=o+1<i.length,m=u?i[o+1]:0,g=o+2<i.length,d=g?i[o+2]:0,y=l>>2,_=(l&3)<<4|m>>4;let b=(m&15)<<2|d>>6,R=d&63;g||(R=64,u||(b=64)),s.push(t[y],t[_],t[b],t[R])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Lb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):R6(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const d=o<i.length?t[i.charAt(o)]:64;++o;const _=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||m==null||d==null||_==null)throw new D6;const b=l<<2|m>>4;if(s.push(b),d!==64){const R=m<<4&240|d>>2;if(s.push(R),_!==64){const N=d<<6&192|_;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class D6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N6=function(i){const e=Lb(i);return Vb.encodeByteArray(e,!0)},kf=function(i){return N6(i).replace(/\./g,"")},Fb=function(i){try{return Vb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function I6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const k6=()=>I6().__FIREBASE_DEFAULTS__,B6=()=>{if(typeof process>"u"||typeof Lv>"u")return;const i=Lv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},O6=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Fb(i[1]);return e&&JSON.parse(e)},id=()=>{try{return S6()||k6()||B6()||O6()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Ub=i=>id()?.emulatorHosts?.[i],zb=i=>{const e=Ub(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Hb=()=>id()?.config,qb=i=>id()?.[`_${i}`];class j6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Ws(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qp(i){return(await fetch(i,{credentials:"include"})).ok}function Gb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[kf(JSON.stringify(t)),kf(JSON.stringify(u)),""].join(".")}const Tc={};function M6(){const i={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?i.emulator.push(e):i.prod.push(e);return i}function P6(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Vv=!1;function Gp(i,e){if(typeof window>"u"||typeof document>"u"||!Ws(window.location.host)||Tc[i]===e||Tc[i]||Vv)return;Tc[i]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=M6().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Vv=!0,u()},b}function y(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=P6(s),R=t("text"),N=document.getElementById(R)||document.createElement("span"),O=t("learnmore"),T=document.getElementById(O)||document.createElement("a"),P=t("preprendIcon"),C=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const I=b.element;m(I),y(T,O);const L=d();g(C,P),I.append(C,N,T,L),document.body.appendChild(I)}l?(N.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function V6(){const i=id()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $b(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function U6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z6(){const i=fn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function H6(){return!V6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kb(){try{return typeof indexedDB=="object"}catch{return!1}}function Yb(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function q6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const G6="FirebaseError";class xi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=G6,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ua.prototype.create)}}class Ua{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?$6(l,s):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new xi(o,m,s)}}function $6(i,e){return i.replace(K6,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const K6=/\{\$([^}]+)}/g;function Y6(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function vr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],u=e[o];if(Fv(l)&&Fv(u)){if(!vr(l,u))return!1}else if(l!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Fv(i){return i!==null&&typeof i=="object"}function Kc(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function vc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function _c(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function X6(i,e){const t=new Q6(i,e);return t.subscribe.bind(t)}class Q6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");W6(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=jm),o.error===void 0&&(o.error=jm),o.complete===void 0&&(o.complete=jm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W6(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function jm(){}const Z6=1e3,J6=2,e3=14400*1e3,t3=.5;function Uv(i,e=Z6,t=J6){const s=e*Math.pow(t,i),o=Math.round(t3*s*(Math.random()-.5)*2);return Math.min(e3,s+o)}function lt(i){return i&&i._delegate?i._delegate:i}class pi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ra="[DEFAULT]";class n3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new j6;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r3(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i3(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i3(i){return i===Ra?void 0:i}function r3(i){return i.instantiationMode==="EAGER"}class s3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new n3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Fe||(Fe={}));const a3={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},o3=Fe.INFO,l3={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},c3=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=l3[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rd{constructor(e){this.name=e,this._logLevel=o3,this._logHandler=c3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const u3=(i,e)=>e.some(t=>i instanceof t);let zv,Hv;function h3(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f3(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,ip=new WeakMap,Qb=new WeakMap,Mm=new WeakMap,$p=new WeakMap;function d3(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",u)},l=()=>{t(Ls(i.result)),o()},u=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Xb.set(t,i)}).catch(()=>{}),$p.set(e,i),e}function m3(i){if(ip.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",u),i.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",u),i.addEventListener("abort",u)});ip.set(i,e)}let rp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return ip.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Qb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ls(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function p3(i){rp=i(rp)}function g3(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Pm(this),e,...t);return Qb.set(s,e.sort?e.sort():[e]),Ls(s)}:f3().includes(i)?function(...e){return i.apply(Pm(this),e),Ls(Xb.get(this))}:function(...e){return Ls(i.apply(Pm(this),e))}}function x3(i){return typeof i=="function"?g3(i):(i instanceof IDBTransaction&&m3(i),u3(i,h3())?new Proxy(i,rp):i)}function Ls(i){if(i instanceof IDBRequest)return d3(i);if(Mm.has(i))return Mm.get(i);const e=x3(i);return e!==i&&(Mm.set(i,e),$p.set(e,i)),e}const Pm=i=>$p.get(i);function Wb(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const u=indexedDB.open(i,e),m=Ls(u);return s&&u.addEventListener("upgradeneeded",g=>{s(Ls(u.result),g.oldVersion,g.newVersion,Ls(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),m}const y3=["get","getKey","getAll","getAllKeys","count"],v3=["put","add","delete","clear"],Lm=new Map;function qv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=v3.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||y3.includes(t)))return;const l=async function(u,...m){const g=this.transaction(u,o?"readwrite":"readonly");let d=g.store;return s&&(d=d.index(m.shift())),(await Promise.all([d[t](...m),o&&g.done]))[0]};return Lm.set(e,l),l}p3(i=>({...i,get:(e,t,s)=>qv(e,t)||i.get(e,t,s),has:(e,t)=>!!qv(e,t)||i.has(e,t)}));class _3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b3(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function b3(i){return i.getComponent()?.type==="VERSION"}const sp="@firebase/app",Gv="0.14.6";const Yr=new rd("@firebase/app"),E3="@firebase/app-compat",w3="@firebase/analytics-compat",A3="@firebase/analytics",T3="@firebase/app-check-compat",C3="@firebase/app-check",S3="@firebase/auth",R3="@firebase/auth-compat",D3="@firebase/database",N3="@firebase/data-connect",I3="@firebase/database-compat",k3="@firebase/functions",B3="@firebase/functions-compat",O3="@firebase/installations",j3="@firebase/installations-compat",M3="@firebase/messaging",P3="@firebase/messaging-compat",L3="@firebase/performance",V3="@firebase/performance-compat",F3="@firebase/remote-config",U3="@firebase/remote-config-compat",z3="@firebase/storage",H3="@firebase/storage-compat",q3="@firebase/firestore",G3="@firebase/ai",$3="@firebase/firestore-compat",K3="firebase",Y3="12.6.0";const ap="[DEFAULT]",X3={[sp]:"fire-core",[E3]:"fire-core-compat",[A3]:"fire-analytics",[w3]:"fire-analytics-compat",[C3]:"fire-app-check",[T3]:"fire-app-check-compat",[S3]:"fire-auth",[R3]:"fire-auth-compat",[D3]:"fire-rtdb",[N3]:"fire-data-connect",[I3]:"fire-rtdb-compat",[k3]:"fire-fn",[B3]:"fire-fn-compat",[O3]:"fire-iid",[j3]:"fire-iid-compat",[M3]:"fire-fcm",[P3]:"fire-fcm-compat",[L3]:"fire-perf",[V3]:"fire-perf-compat",[F3]:"fire-rc",[U3]:"fire-rc-compat",[z3]:"fire-gcs",[H3]:"fire-gcs-compat",[q3]:"fire-fst",[$3]:"fire-fst-compat",[G3]:"fire-vertex","fire-js":"fire-js",[K3]:"fire-js-all"};const Bf=new Map,Q3=new Map,op=new Map;function $v(i,e){try{i.container.addComponent(e)}catch(t){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Bi(i){const e=i.name;if(op.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,i);for(const t of Bf.values())$v(t,i);for(const t of Q3.values())$v(t,i);return!0}function Zs(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function $n(i){return i==null?!1:i.settings!==void 0}const W3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new Ua("app","Firebase",W3);class Z3{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}const za=Y3;function Zb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:ap,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Vs.create("bad-app-name",{appName:String(o)});if(t||(t=Hb()),!t)throw Vs.create("no-options");const l=Bf.get(o);if(l){if(vr(t,l.options)&&vr(s,l.config))return l;throw Vs.create("duplicate-app",{appName:o})}const u=new s3(o);for(const g of op.values())u.addComponent(g);const m=new Z3(t,s,u);return Bf.set(o,m),m}function sd(i=ap){const e=Bf.get(i);if(!e&&i===ap&&Hb())return Zb();if(!e)throw Vs.create("no-app",{appName:i});return e}function In(i,e,t){let s=X3[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(u.join(" "));return}Bi(new pi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const J3="firebase-heartbeat-database",e8=1,Bc="firebase-heartbeat-store";let Vm=null;function Jb(){return Vm||(Vm=Wb(J3,e8,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Bc)}catch(t){console.warn(t)}}}}).catch(i=>{throw Vs.create("idb-open",{originalErrorMessage:i.message})})),Vm}async function t8(i){try{const t=(await Jb()).transaction(Bc),s=await t.objectStore(Bc).get(eE(i));return await t.done,s}catch(e){if(e instanceof xi)Yr.warn(e.message);else{const t=Vs.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(t.message)}}}async function Kv(i,e){try{const s=(await Jb()).transaction(Bc,"readwrite");await s.objectStore(Bc).put(e,eE(i)),await s.done}catch(t){if(t instanceof xi)Yr.warn(t.message);else{const s=Vs.create("idb-set",{originalErrorMessage:t?.message});Yr.warn(s.message)}}}function eE(i){return`${i.name}!${i.options.appId}`}const n8=1024,i8=30;class r8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new a8(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>i8){const o=o8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yv(),{heartbeatsToSend:t,unsentEntries:s}=s8(this._heartbeatsCache.heartbeats),o=kf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Yr.warn(e),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function s8(i,e=n8){const t=[];let s=i.slice();for(const o of i){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Xv(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Xv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class a8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kb()?Yb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await t8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Xv(i){return kf(JSON.stringify({version:2,heartbeats:i})).length}function o8(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function l8(i){Bi(new pi("platform-logger",e=>new _3(e),"PRIVATE")),Bi(new pi("heartbeat",e=>new r8(e),"PRIVATE")),In(sp,Gv,i),In(sp,Gv,"esm2020"),In("fire-js","")}l8("");var c8="firebase",u8="12.6.0";In(c8,u8,"app");const tE="@firebase/installations",Kp="0.6.19";const nE=1e4,iE=`w:${Kp}`,rE="FIS_v2",h8="https://firebaseinstallations.googleapis.com/v1",f8=3600*1e3,d8="installations",m8="Installations";const p8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ba=new Ua(d8,m8,p8);function sE(i){return i instanceof xi&&i.code.includes("request-failed")}function aE({projectId:i}){return`${h8}/projects/${i}/installations`}function oE(i){return{token:i.token,requestStatus:2,expiresIn:x8(i.expiresIn),creationTime:Date.now()}}async function lE(i,e){const s=(await e.json()).error;return Ba.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function cE({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function g8(i,{refreshToken:e}){const t=cE(i);return t.append("Authorization",y8(e)),t}async function uE(i){const e=await i();return e.status>=500&&e.status<600?i():e}function x8(i){return Number(i.replace("s","000"))}function y8(i){return`${rE} ${i}`}async function v8({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=aE(i),o=cE(i),l=e.getImmediate({optional:!0});if(l){const d=await l.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const u={fid:t,authVersion:rE,appId:i.appId,sdkVersion:iE},m={method:"POST",headers:o,body:JSON.stringify(u)},g=await uE(()=>fetch(s,m));if(g.ok){const d=await g.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:oE(d.authToken)}}else throw await lE("Create Installation",g)}function hE(i){return new Promise(e=>{setTimeout(e,i)})}function _8(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const b8=/^[cdef][\w-]{21}$/,lp="";function E8(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=w8(i);return b8.test(t)?t:lp}catch{return lp}}function w8(i){return _8(i).substr(0,22)}function ad(i){return`${i.appName}!${i.appId}`}const fE=new Map;function dE(i,e){const t=ad(i);mE(t,e),A8(t,e)}function mE(i,e){const t=fE.get(i);if(t)for(const s of t)s(e)}function A8(i,e){const t=T8();t&&t.postMessage({key:i,fid:e}),C8()}let Da=null;function T8(){return!Da&&"BroadcastChannel"in self&&(Da=new BroadcastChannel("[Firebase] FID Change"),Da.onmessage=i=>{mE(i.data.key,i.data.fid)}),Da}function C8(){fE.size===0&&Da&&(Da.close(),Da=null)}const S8="firebase-installations-database",R8=1,Oa="firebase-installations-store";let Fm=null;function Yp(){return Fm||(Fm=Wb(S8,R8,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Oa)}}})),Fm}async function Of(i,e){const t=ad(i),o=(await Yp()).transaction(Oa,"readwrite"),l=o.objectStore(Oa),u=await l.get(t);return await l.put(e,t),await o.done,(!u||u.fid!==e.fid)&&dE(i,e.fid),e}async function pE(i){const e=ad(i),s=(await Yp()).transaction(Oa,"readwrite");await s.objectStore(Oa).delete(e),await s.done}async function od(i,e){const t=ad(i),o=(await Yp()).transaction(Oa,"readwrite"),l=o.objectStore(Oa),u=await l.get(t),m=e(u);return m===void 0?await l.delete(t):await l.put(m,t),await o.done,m&&(!u||u.fid!==m.fid)&&dE(i,m.fid),m}async function Xp(i){let e;const t=await od(i.appConfig,s=>{const o=D8(s),l=N8(i,o);return e=l.registrationPromise,l.installationEntry});return t.fid===lp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function D8(i){const e=i||{fid:E8(),registrationStatus:0};return gE(e)}function N8(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ba.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=I8(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:k8(i)}:{installationEntry:e}}async function I8(i,e){try{const t=await v8(i,e);return Of(i.appConfig,t)}catch(t){throw sE(t)&&t.customData.serverCode===409?await pE(i.appConfig):await Of(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function k8(i){let e=await Qv(i.appConfig);for(;e.registrationStatus===1;)await hE(100),e=await Qv(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Xp(i);return s||t}return e}function Qv(i){return od(i,e=>{if(!e)throw Ba.create("installation-not-found");return gE(e)})}function gE(i){return B8(i)?{fid:i.fid,registrationStatus:0}:i}function B8(i){return i.registrationStatus===1&&i.registrationTime+nE<Date.now()}async function O8({appConfig:i,heartbeatServiceProvider:e},t){const s=j8(i,t),o=g8(i,t),l=e.getImmediate({optional:!0});if(l){const d=await l.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const u={installation:{sdkVersion:iE,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(u)},g=await uE(()=>fetch(s,m));if(g.ok){const d=await g.json();return oE(d)}else throw await lE("Generate Auth Token",g)}function j8(i,{fid:e}){return`${aE(i)}/${e}/authTokens:generate`}async function Qp(i,e=!1){let t;const s=await od(i.appConfig,l=>{if(!xE(l))throw Ba.create("not-registered");const u=l.authToken;if(!e&&L8(u))return l;if(u.requestStatus===1)return t=M8(i,e),l;{if(!navigator.onLine)throw Ba.create("app-offline");const m=F8(l);return t=P8(i,m),m}});return t?await t:s.authToken}async function M8(i,e){let t=await Wv(i.appConfig);for(;t.authToken.requestStatus===1;)await hE(100),t=await Wv(i.appConfig);const s=t.authToken;return s.requestStatus===0?Qp(i,e):s}function Wv(i){return od(i,e=>{if(!xE(e))throw Ba.create("not-registered");const t=e.authToken;return U8(t)?{...e,authToken:{requestStatus:0}}:e})}async function P8(i,e){try{const t=await O8(i,e),s={...e,authToken:t};return await Of(i.appConfig,s),t}catch(t){if(sE(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await pE(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Of(i.appConfig,s)}throw t}}function xE(i){return i!==void 0&&i.registrationStatus===2}function L8(i){return i.requestStatus===2&&!V8(i)}function V8(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+f8}function F8(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function U8(i){return i.requestStatus===1&&i.requestTime+nE<Date.now()}async function z8(i){const e=i,{installationEntry:t,registrationPromise:s}=await Xp(e);return s?s.catch(console.error):Qp(e).catch(console.error),t.fid}async function H8(i,e=!1){const t=i;return await q8(t),(await Qp(t,e)).token}async function q8(i){const{registrationPromise:e}=await Xp(i);e&&await e}function G8(i){if(!i||!i.options)throw Um("App Configuration");if(!i.name)throw Um("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Um(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Um(i){return Ba.create("missing-app-config-values",{valueName:i})}const yE="installations",$8="installations-internal",K8=i=>{const e=i.getProvider("app").getImmediate(),t=G8(e),s=Zs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Y8=i=>{const e=i.getProvider("app").getImmediate(),t=Zs(e,yE).getImmediate();return{getId:()=>z8(t),getToken:o=>H8(t,o)}};function X8(){Bi(new pi(yE,K8,"PUBLIC")),Bi(new pi($8,Y8,"PRIVATE"))}X8();In(tE,Kp);In(tE,Kp,"esm2020");const jf="analytics",Q8="firebase_id",W8="origin",Z8=60*1e3,J8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wp="https://www.googletagmanager.com/gtag/js";const yn=new rd("@firebase/analytics");const eR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new Ua("analytics","Analytics",eR);function tR(i){if(!i.startsWith(Wp)){const e=Xn.create("invalid-gtag-resource",{gtagURL:i});return yn.warn(e.message),""}return i}function vE(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function nR(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function iR(i,e){const t=nR("firebase-js-sdk-policy",{createScriptURL:tR}),s=document.createElement("script"),o=`${Wp}?l=${i}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function rR(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function sR(i,e,t,s,o,l){const u=s[o];try{if(u)await e[u];else{const g=(await vE(t)).find(d=>d.measurementId===o);g&&await e[g.appId]}}catch(m){yn.error(m)}i("config",o,l)}async function aR(i,e,t,s,o){try{let l=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const m=await vE(t);for(const g of u){const d=m.find(_=>_.measurementId===g),y=d&&e[d.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",s,o||{})}catch(l){yn.error(l)}}function oR(i,e,t,s){async function o(l,...u){try{if(l==="event"){const[m,g]=u;await aR(i,e,t,m,g)}else if(l==="config"){const[m,g]=u;await sR(i,e,t,s,m,g)}else if(l==="consent"){const[m,g]=u;i("consent",m,g)}else if(l==="get"){const[m,g,d]=u;i("get",m,g,d)}else if(l==="set"){const[m]=u;i("set",m)}else i(l,...u)}catch(m){yn.error(m)}}return o}function lR(i,e,t,s,o){let l=function(...u){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=oR(l,i,e,t),{gtagCore:l,wrappedGtag:window[o]}}function cR(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Wp)&&t.src.includes(i))return t;return null}const uR=30,hR=1e3;class fR{constructor(e={},t=hR){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _E=new fR;function dR(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function mR(i){const{appId:e,apiKey:t}=i,s={method:"GET",headers:dR(t)},o=J8.replace("{app-id}",e),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let u="";try{const m=await l.json();m.error?.message&&(u=m.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function pR(i,e=_E,t){const{appId:s,apiKey:o,measurementId:l}=i.options;if(!s)throw Xn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw Xn.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new yR;return setTimeout(async()=>{m.abort()},Z8),bE({appId:s,apiKey:o,measurementId:l},u,m,e)}async function bE(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=_E){const{appId:l,measurementId:u}=i;try{await gR(s,e)}catch(m){if(u)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw m}try{const m=await mR(i);return o.deleteThrottleMetadata(l),m}catch(m){const g=m;if(!xR(g)){if(o.deleteThrottleMetadata(l),u)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:u};throw m}const d=Number(g?.customData?.httpStatus)===503?Uv(t,o.intervalMillis,uR):Uv(t,o.intervalMillis),y={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return o.setThrottleMetadata(l,y),yn.debug(`Calling attemptFetch again in ${d} millis`),bE(i,y,s,o)}}function gR(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(l),s(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xR(i){if(!(i instanceof xi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class yR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vR(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const l=await e,u={...s,send_to:l};i("event",t,u)}}async function _R(i,e,t,s){if(s&&s.global){const o={};for(const l of Object.keys(t))o[`user_properties.${l}`]=t[l];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:t})}}async function bR(){if(Kb())try{await Yb()}catch(i){return yn.warn(Xn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return yn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ER(i,e,t,s,o,l,u){const m=pR(i);m.then(b=>{t[b.measurementId]=b.appId,i.options.measurementId&&b.measurementId!==i.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>yn.error(b)),e.push(m);const g=bR().then(b=>{if(b)return s.getId()}),[d,y]=await Promise.all([m,g]);cR(l)||iR(l,d.measurementId),o("js",new Date);const _=u?.config??{};return _[W8]="firebase",_.update=!0,y!=null&&(_[Q8]=y),o("config",d.measurementId,_),d.measurementId}class wR{constructor(e){this.app=e}_delete(){return delete Yo[this.app.options.appId],Promise.resolve()}}let Yo={},Zv=[];const Jv={};let zm="dataLayer",AR="gtag",e_,Zp,t_=!1;function TR(){const i=[];if($b()&&i.push("This is a browser extension environment."),q6()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Xn.create("invalid-analytics-context",{errorInfo:e});yn.warn(t.message)}}function CR(i,e,t){TR();const s=i.options.appId;if(!s)throw Xn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(Yo[s]!=null)throw Xn.create("already-exists",{id:s});if(!t_){rR(zm);const{wrappedGtag:l,gtagCore:u}=lR(Yo,Zv,Jv,zm,AR);Zp=l,e_=u,t_=!0}return Yo[s]=ER(i,Zv,Jv,e,e_,zm,t),new wR(i)}function SR(i=sd()){i=lt(i);const e=Zs(i,jf);return e.isInitialized()?e.getImmediate():RR(i)}function RR(i,e={}){const t=Zs(i,jf);if(t.isInitialized()){const o=t.getImmediate();if(vr(e,t.getOptions()))return o;throw Xn.create("already-initialized")}return t.initialize({options:e})}function DR(i,e,t){i=lt(i),_R(Zp,Yo[i.app.options.appId],e,t).catch(s=>yn.error(s))}function NR(i,e,t,s){i=lt(i),vR(Zp,Yo[i.app.options.appId],e,t,s).catch(o=>yn.error(o))}const n_="@firebase/analytics",i_="0.10.19";function IR(){Bi(new pi(jf,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return CR(s,o,t)},"PUBLIC")),Bi(new pi("analytics-internal",i,"PRIVATE")),In(n_,i_),In(n_,i_,"esm2020");function i(e){try{const t=e.getProvider(jf).getImmediate();return{logEvent:(s,o,l)=>NR(t,s,o,l),setUserProperties:(s,o)=>DR(t,s,o)}}catch(t){throw Xn.create("interop-component-reg-failed",{reason:t})}}}IR();function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kR=EE,wE=new Ua("auth","Firebase",EE());const Mf=new rd("@firebase/auth");function BR(i,...e){Mf.logLevel<=Fe.WARN&&Mf.warn(`Auth (${za}): ${i}`,...e)}function Lh(i,...e){Mf.logLevel<=Fe.ERROR&&Mf.error(`Auth (${za}): ${i}`,...e)}function Oi(i,...e){throw Jp(i,...e)}function fr(i,...e){return Jp(i,...e)}function AE(i,e,t){const s={...kR(),[e]:t};return new Ua("auth","Firebase",s).create(e,{appName:i.name})}function Gr(i){return AE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return wE.create(i,...e)}function Se(i,e,...t){if(!i)throw Jp(e,...t)}function zr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Lh(e),new Error(e)}function Xr(i,e){i||zr(e)}function cp(){return typeof self<"u"&&self.location?.href||""}function OR(){return r_()==="http:"||r_()==="https:"}function r_(){return typeof self<"u"&&self.location?.protocol||null}function jR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OR()||$b()||"connection"in navigator)?navigator.onLine:!0}function MR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile=L6()||U6()}get(){return jR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eg(i,e){Xr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class TE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VR=new Yc(3e4,6e4);function Js(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Zr(i,e,t,s,o={}){return CE(i,o,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const m=Kc({key:i.config.apiKey,...u}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const d={method:e,headers:g,...l};return F6()||(d.referrerPolicy="no-referrer"),i.emulatorConfig&&Ws(i.emulatorConfig.host)&&(d.credentials="include"),TE.fetch()(await SE(i,i.config.apiHost,t,m),d)})}async function CE(i,e,t){i._canInitEmulator=!1;const s={...PR,...e};try{const o=new UR(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Rh(i,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[g,d]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(i,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Rh(i,"email-already-in-use",u);if(g==="USER_DISABLED")throw Rh(i,"user-disabled",u);const y=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw AE(i,y,d);Oi(i,y)}}catch(o){if(o instanceof xi)throw o;Oi(i,"network-request-failed",{message:String(o)})}}async function Xc(i,e,t,s,o={}){const l=await Zr(i,e,t,s,o);return"mfaPendingCredential"in l&&Oi(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function SE(i,e,t,s){const o=`${e}${t}?${s}`,l=i,u=l.config.emulator?eg(i.config,o):`${i.config.apiScheme}://${o}`;return LR.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function FR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(fr(this.auth,"network-request-failed")),VR.get())})}}function Rh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=fr(i,e,s);return o.customData._tokenResponse=t,o}function s_(i){return i!==void 0&&i.enterprise!==void 0}class zR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return FR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HR(i,e){return Zr(i,"GET","/v2/recaptchaConfig",Js(i,e))}async function qR(i,e){return Zr(i,"POST","/v1/accounts:delete",e)}async function Pf(i,e){return Zr(i,"POST","/v1/accounts:lookup",e)}function Cc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GR(i,e=!1){const t=lt(i),s=await t.getIdToken(e),o=tg(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:s,authTime:Cc(Hm(o.auth_time)),issuedAtTime:Cc(Hm(o.iat)),expirationTime:Cc(Hm(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Hm(i){return Number(i)*1e3}function tg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Fb(t);return o?JSON.parse(o):(Lh("Failed to decode base64 JWT payload"),null)}catch(o){return Lh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function a_(i){const e=tg(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function el(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof xi&&$R(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function $R({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class KR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class up{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lf(i){const e=i.auth,t=await i.getIdToken(),s=await el(i,Pf(e,{idToken:t}));Se(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?RE(o.providerUserInfo):[],u=XR(i.providerData,l),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!u?.length,d=m?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(i,y)}async function YR(i){const e=lt(i);await Lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function RE(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function QR(i,e){const t=await CE(i,{},async()=>{const s=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,u=await SE(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ws(i.emulatorConfig.host)&&(g.credentials="include"),TE.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WR(i,e){return Zr(i,"POST","/v2/accounts:revokeToken",Js(i,e))}class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=a_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await QR(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,u=new Xo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return zr("not implemented")}}function Ns(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ki{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new KR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new up(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await el(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GR(this,e)}reload(){return YR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Lf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await el(this,qR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,d=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:R,providerData:N,stsTokenManager:O}=t;Se(_&&O,e,"internal-error");const T=Xo.fromJSON(this.name,O);Se(typeof _=="string",e,"internal-error"),Ns(s,e.name),Ns(o,e.name),Se(typeof b=="boolean",e,"internal-error"),Se(typeof R=="boolean",e,"internal-error"),Ns(l,e.name),Ns(u,e.name),Ns(m,e.name),Ns(g,e.name),Ns(d,e.name),Ns(y,e.name);const P=new ki({uid:_,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:R,photoURL:u,phoneNumber:l,tenantId:m,stsTokenManager:T,createdAt:d,lastLoginAt:y});return N&&Array.isArray(N)&&(P.providerData=N.map(C=>({...C}))),g&&(P._redirectEventId=g),P}static async _fromIdTokenResponse(e,t,s=!1){const o=new Xo;o.updateFromServerResponse(t);const l=new ki({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Lf(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?RE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,m=new Xo;m.updateFromIdToken(s);const g=new ki({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,d),g}}const o_=new Map;function Hr(i){Xr(i instanceof Function,"Expected a class definition");let e=o_.get(i);return e?(Xr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,o_.set(i,e),e)}class DE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DE.type="NONE";const l_=DE;function Vh(i,e,t){return`firebase:${i}:${e}:${t}`}class Qo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Vh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Vh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Pf(this.auth,{idToken:e}).catch(()=>{});return t?ki._fromGetAccountInfoResponse(this.auth,t,e):null}return ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Qo(Hr(l_),e,s);const o=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let l=o[0]||Hr(l_);const u=Vh(s,e.config.apiKey,e.name);let m=null;for(const d of t)try{const y=await d._get(u);if(y){let _;if(typeof y=="string"){const b=await Pf(e,{idToken:y}).catch(()=>{});if(!b)break;_=await ki._fromGetAccountInfoResponse(e,b,y)}else _=ki._fromJSON(e,y);d!==l&&(m=_),l=d;break}}catch{}const g=o.filter(d=>d._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Qo(l,e,s):(l=g[0],m&&await l._set(u,m.toJSON()),await Promise.all(t.map(async d=>{if(d!==l)try{await d._remove(u)}catch{}})),new Qo(l,e,s))}}function c_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jE(e))return"Blackberry";if(ME(e))return"Webos";if(IE(e))return"Safari";if((e.includes("chrome/")||kE(e))&&!e.includes("edge/"))return"Chrome";if(OE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function NE(i=fn()){return/firefox\//i.test(i)}function IE(i=fn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kE(i=fn()){return/crios\//i.test(i)}function BE(i=fn()){return/iemobile/i.test(i)}function OE(i=fn()){return/android/i.test(i)}function jE(i=fn()){return/blackberry/i.test(i)}function ME(i=fn()){return/webos/i.test(i)}function ng(i=fn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ZR(i=fn()){return ng(i)&&!!window.navigator?.standalone}function JR(){return z6()&&document.documentMode===10}function PE(i=fn()){return ng(i)||OE(i)||ME(i)||jE(i)||/windows phone/i.test(i)||BE(i)}function LE(i,e=[]){let t;switch(i){case"Browser":t=c_(fn());break;case"Worker":t=`${c_(fn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${za}/${s}`}class e5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,m)=>{try{const g=e(l);u(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function t5(i,e={}){return Zr(i,"GET","/v2/passwordPolicy",Js(i,e))}const n5=6;class i5{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??n5,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class r5{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u_(this),this.idTokenSubscription=new u_(this),this.beforeStateQueue=new e5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pf(this,{idToken:e}),s=await ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===u)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Gr(this));const t=e?lt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t5(this),t=new i5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ua("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await WR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ha(i){return lt(i)}class u_{constructor(e){this.auth=e,this.observer=null,this.addObserver=X6(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s5(i){ld=i}function VE(i){return ld.loadJS(i)}function a5(){return ld.recaptchaEnterpriseScript}function o5(){return ld.gapiScript}function l5(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class c5{constructor(){this.enterprise=new u5}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class u5{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const h5="recaptcha-enterprise",FE="NO_RECAPTCHA";class f5{constructor(e){this.type=h5,this.auth=Ha(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{HR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const d=new zR(g);return l.tenantId==null?l._agentRecaptchaConfig=d:l._tenantRecaptchaConfigs[l.tenantId]=d,u(d.siteKey)}}).catch(g=>{m(g)})})}function o(l,u,m){const g=window.grecaptcha;s_(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(d=>{u(d)}).catch(()=>{u(FE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c5().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(m=>{if(!t&&s_(window.grecaptcha))o(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=a5();g.length!==0&&(g+=m),VE(g).then(()=>{o(m,l,u)}).catch(d=>{u(d)})}}).catch(m=>{u(m)})})}}async function h_(i,e,t,s=!1,o=!1){const l=new f5(i);let u;if(o)u=FE;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,d=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function hp(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await h_(i,e,t,t==="getOobCode");return s(i,l)}else return s(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await h_(i,e,t,t==="getOobCode");return s(i,u)}else return Promise.reject(l)})}function d5(i,e){const t=Zs(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(vr(l,e??{}))return o;Oi(o,"already-initialized")}return t.initialize({options:e})}function m5(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Hr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function p5(i,e,t){const s=Ha(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=UE(e),{host:u,port:m}=g5(e),g=m===null?"":`:${m}`,d={url:`${l}//${u}${g}/`},y=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(vr(d,s.config.emulator)&&vr(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ws(u)?(qp(`${l}//${u}${g}`),Gp("Auth",!0)):x5()}function UE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function g5(i){const e=UE(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:f_(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:f_(u)}}}function f_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function x5(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class ig{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function y5(i,e){return Zr(i,"POST","/v1/accounts:signUp",e)}async function v5(i,e){return Xc(i,"POST","/v1/accounts:signInWithPassword",Js(i,e))}async function _5(i,e){return Xc(i,"POST","/v1/accounts:signInWithEmailLink",Js(i,e))}async function b5(i,e){return Xc(i,"POST","/v1/accounts:signInWithEmailLink",Js(i,e))}class Oc extends ig{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Oc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Oc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,t,"signInWithPassword",v5);case"emailLink":return _5(e,{email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,s,"signUpPassword",y5);case"emailLink":return b5(e,{idToken:t,email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wo(i,e){return Xc(i,"POST","/v1/accounts:signInWithIdp",Js(i,e))}const E5="http://localhost";class ja extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const u=new ja(s,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wo(e,t)}buildRequest(){const e={requestUri:E5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kc(t)}return e}}function w5(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function A5(i){const e=vc(_c(i)).link,t=e?vc(_c(e)).deep_link_id:null,s=vc(_c(i)).deep_link_id;return(s?vc(_c(s)).link:null)||s||t||e||i}class rg{constructor(e){const t=vc(_c(e)),s=t.apiKey??null,o=t.oobCode??null,l=w5(t.mode??null);Se(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=A5(e);try{return new rg(t)}catch{return null}}}class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,t){return Oc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=rg.parseLink(t);return Se(s,"argument-error"),Oc._fromEmailAndCode(e,s.code,s.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class zE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qc extends zE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ks extends Qc{constructor(){super("facebook.com")}static credential(e){return ja._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";class Bs extends Qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ja._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Bs.credential(t,s)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class Os extends Qc{constructor(){super("github.com")}static credential(e){return ja._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";class js extends Qc{constructor(){super("twitter.com")}static credential(e,t){return ja._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return js.credential(t,s)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function T5(i,e){return Xc(i,"POST","/v1/accounts:signUp",Js(i,e))}class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await ki._fromIdTokenResponse(e,s,o),u=d_(s);return new Ma({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=d_(s);return new Ma({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function d_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Vf extends xi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Vf(e,t,s,o)}}function HE(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(i,l,e,s):l})}async function C5(i,e,t=!1){const s=await el(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ma._forOperation(i,"link",s)}async function S5(i,e,t=!1){const{auth:s}=i;if($n(s.app))return Promise.reject(Gr(s));const o="reauthenticate";try{const l=await el(i,HE(s,o,e,i),t);Se(l.idToken,s,"internal-error");const u=tg(l.idToken);Se(u,s,"internal-error");const{sub:m}=u;return Se(i.uid===m,s,"user-mismatch"),Ma._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Oi(s,"user-mismatch"),l}}async function qE(i,e,t=!1){if($n(i.app))return Promise.reject(Gr(i));const s="signIn",o=await HE(i,s,e),l=await Ma._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}async function R5(i,e){return qE(Ha(i),e)}async function GE(i){const e=Ha(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D5(i,e,t){if($n(i.app))return Promise.reject(Gr(i));const s=Ha(i),u=await hp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T5).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&GE(i),g}),m=await Ma._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(m.user),m}function N5(i,e,t){return $n(i.app)?Promise.reject(Gr(i)):R5(lt(i),ul.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&GE(i),s})}async function I5(i,e){return Zr(i,"POST","/v1/accounts:update",e)}async function k5(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=lt(i),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await el(s,I5(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function B5(i,e,t,s){return lt(i).onIdTokenChanged(e,t,s)}function O5(i,e,t){return lt(i).beforeAuthStateChanged(e,t)}function sg(i,e,t,s){return lt(i).onAuthStateChanged(e,t,s)}function $E(i){return lt(i).signOut()}const Ff="__sak";class KE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const j5=1e3,M5=10;class YE extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,g)=>{this.notifyListeners(u,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);JR()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,M5):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},j5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}YE.type="LOCAL";const P5=YE;class XE extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}XE.type="SESSION";const QE=XE;function L5(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new cd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(u).map(async d=>d(t.origin,l)),g=await L5(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];function ag(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class V5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((m,g)=>{const d=ag("",20);o.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(_){const b=_;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(b.data.response);break;default:clearTimeout(y),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function dr(){return window}function F5(i){dr().location.href=i}function WE(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function U5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z5(){return navigator?.serviceWorker?.controller||null}function H5(){return WE()?self:null}const ZE="firebaseLocalStorageDb",q5=1,Uf="firebaseLocalStorage",JE="fbase_key";class Wc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ud(i,e){return i.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function G5(){const i=indexedDB.deleteDatabase(ZE);return new Wc(i).toPromise()}function fp(){const i=indexedDB.open(ZE,q5);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Uf,{keyPath:JE})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Uf)?e(s):(s.close(),await G5(),e(await fp()))})})}async function m_(i,e,t){const s=ud(i,!0).put({[JE]:e,value:t});return new Wc(s).toPromise()}async function $5(i,e){const t=ud(i,!1).get(e),s=await new Wc(t).toPromise();return s===void 0?null:s.value}function p_(i,e){const t=ud(i,!0).delete(e);return new Wc(t).toPromise()}const K5=800,Y5=3;class ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>Y5)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(H5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await U5(),!this.activeServiceWorker)return;this.sender=new V5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await m_(e,Ff,"1"),await p_(e,Ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>m_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>$5(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>p_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=ud(o,!1).getAll();return new Wc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ew.type="LOCAL";const X5=ew;new Yc(3e4,6e4);function Q5(i,e){return e?Hr(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class og extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function W5(i){return qE(i.auth,new og(i),i.bypassAuthState)}function Z5(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),S5(t,new og(i),i.bypassAuthState)}async function J5(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),C5(t,new og(i),i.bypassAuthState)}class tw{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W5;case"linkViaPopup":case"linkViaRedirect":return J5;case"reauthViaPopup":case"reauthViaRedirect":return Z5;default:Oi(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eD=new Yc(2e3,1e4);class Ko extends tw{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eD.get())};e()}}Ko.currentPopupAction=null;const tD="pendingRedirect",Fh=new Map;class nD extends tw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const s=await iD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iD(i,e){const t=aD(e),s=sD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function rD(i,e){Fh.set(i._key(),e)}function sD(i){return Hr(i._redirectPersistence)}function aD(i){return Vh(tD,i.config.apiKey,i.name)}async function oD(i,e,t=!1){if($n(i.app))return Promise.reject(Gr(i));const s=Ha(i),o=Q5(s,e),u=await new nD(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const lD=600*1e3;class cD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(fr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lD&&this.cachedEventUids.clear(),this.cachedEventUids.has(g_(e))}saveEventToCache(e){this.cachedEventUids.add(g_(e)),this.lastProcessedEventTime=Date.now()}}function g_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function nw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function uD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nw(i);default:return!1}}async function hD(i,e={}){return Zr(i,"GET","/v1/projects",e)}const fD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dD=/^https?/;async function mD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await hD(i);for(const t of e)try{if(pD(t))return}catch{}Oi(i,"unauthorized-domain")}function pD(i){const e=cp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!dD.test(t))return!1;if(fD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const gD=new Yc(3e4,6e4);function x_(){const i=dr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function xD(i){return new Promise((e,t)=>{function s(){x_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x_(),t(fr(i,"network-request-failed"))},timeout:gD.get()})}if(dr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(dr().gapi?.load)s();else{const o=l5("iframefcb");return dr()[o]=()=>{gapi.load?s():t(fr(i,"network-request-failed"))},VE(`${o5()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function yD(i){return Uh=Uh||xD(i),Uh}const vD=new Yc(5e3,15e3),_D="__/auth/iframe",bD="emulator/auth/iframe",ED={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AD(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?eg(e,bD):`https://${i.config.authDomain}/${_D}`,s={apiKey:e.apiKey,appName:i.name,v:za},o=wD.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Kc(s).slice(1)}`}async function TD(i){const e=await yD(i),t=dr().gapi;return Se(t,i,"internal-error"),e.open({where:document.body,url:AD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ED,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const u=fr(i,"network-request-failed"),m=dr().setTimeout(()=>{l(u)},vD.get());function g(){dr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{l(u)})}))}const CD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SD=500,RD=600,DD="_blank",ND="http://localhost";class y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ID(i,e,t,s=SD,o=RD){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...CD,width:s.toString(),height:o.toString(),top:l,left:u},d=fn().toLowerCase();t&&(m=kE(d)?DD:t),NE(d)&&(e=e||ND,g.scrollbars="yes");const y=Object.entries(g).reduce((b,[R,N])=>`${b}${R}=${N},`,"");if(ZR(d)&&m!=="_self")return kD(e||"",m),new y_(null);const _=window.open(e||"",m,y);Se(_,i,"popup-blocked");try{_.focus()}catch{}return new y_(_)}function kD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const BD="__/auth/handler",OD="emulator/auth/handler",jD=encodeURIComponent("fac");async function v_(i,e,t,s,o,l){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:za,eventId:o};if(e instanceof zE){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",Y6(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Qc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}i.tenantId&&(u.tid=i.tenantId);const m=u;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const g=await i._getAppCheckToken(),d=g?`#${jD}=${encodeURIComponent(g)}`:"";return`${MD(i)}?${Kc(m).slice(1)}${d}`}function MD({config:i}){return i.emulator?eg(i,OD):`https://${i.authDomain}/${BD}`}const qm="webStorageSupport";class PD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QE,this._completeRedirectFn=oD,this._overrideRedirectResult=rD}async _openPopup(e,t,s,o){Xr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await v_(e,t,s,cp(),o);return ID(e,l,ag())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await v_(e,t,s,cp(),o);return F5(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Xr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await TD(e),s=new cD(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qm,{type:qm},o=>{const l=o?.[0]?.[qm];l!==void 0&&t(!!l),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PE()||IE()||ng()}}const LD=PD;var __="@firebase/auth",b_="1.11.1";class VD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UD(i){Bi(new pi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:u,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LE(i)},d=new r5(s,o,l,g);return m5(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Bi(new pi("auth-internal",e=>{const t=Ha(e.getProvider("auth").getImmediate());return(s=>new VD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(__,b_,FD(i)),In(__,b_,"esm2020")}const zD=300,HD=qb("authIdTokenMaxAge")||zD;let E_=null;const qD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>HD)return;const o=t?.token;E_!==o&&(E_=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GD(i=sd()){const e=Zs(i,"auth");if(e.isInitialized())return e.getImmediate();const t=d5(i,{popupRedirectResolver:LD,persistence:[X5,P5,QE]}),s=qb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=qD(l.toString());O5(t,u,()=>u(t.currentUser)),B5(t,m=>u(m))}}const o=Ub("auth");return o&&p5(t,`http://${o}`),t}function $D(){return document.getElementsByTagName("head")?.[0]??document}s5({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=fr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",$D().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UD("Browser");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fs,iw;(function(){var i;function e(A,S){function B(){}B.prototype=S.prototype,A.F=S.prototype,A.prototype=new B,A.prototype.constructor=A,A.D=function(D,k,U){for(var M=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)M[fe-2]=arguments[fe];return S.prototype[k].apply(D,M)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,S,B){B||(B=0);const D=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)D[k]=S.charCodeAt(B++)|S.charCodeAt(B++)<<8|S.charCodeAt(B++)<<16|S.charCodeAt(B++)<<24;else for(k=0;k<16;++k)D[k]=S[B++]|S[B++]<<8|S[B++]<<16|S[B++]<<24;S=A.g[0],B=A.g[1],k=A.g[2];let U=A.g[3],M;M=S+(U^B&(k^U))+D[0]+3614090360&4294967295,S=B+(M<<7&4294967295|M>>>25),M=U+(k^S&(B^k))+D[1]+3905402710&4294967295,U=S+(M<<12&4294967295|M>>>20),M=k+(B^U&(S^B))+D[2]+606105819&4294967295,k=U+(M<<17&4294967295|M>>>15),M=B+(S^k&(U^S))+D[3]+3250441966&4294967295,B=k+(M<<22&4294967295|M>>>10),M=S+(U^B&(k^U))+D[4]+4118548399&4294967295,S=B+(M<<7&4294967295|M>>>25),M=U+(k^S&(B^k))+D[5]+1200080426&4294967295,U=S+(M<<12&4294967295|M>>>20),M=k+(B^U&(S^B))+D[6]+2821735955&4294967295,k=U+(M<<17&4294967295|M>>>15),M=B+(S^k&(U^S))+D[7]+4249261313&4294967295,B=k+(M<<22&4294967295|M>>>10),M=S+(U^B&(k^U))+D[8]+1770035416&4294967295,S=B+(M<<7&4294967295|M>>>25),M=U+(k^S&(B^k))+D[9]+2336552879&4294967295,U=S+(M<<12&4294967295|M>>>20),M=k+(B^U&(S^B))+D[10]+4294925233&4294967295,k=U+(M<<17&4294967295|M>>>15),M=B+(S^k&(U^S))+D[11]+2304563134&4294967295,B=k+(M<<22&4294967295|M>>>10),M=S+(U^B&(k^U))+D[12]+1804603682&4294967295,S=B+(M<<7&4294967295|M>>>25),M=U+(k^S&(B^k))+D[13]+4254626195&4294967295,U=S+(M<<12&4294967295|M>>>20),M=k+(B^U&(S^B))+D[14]+2792965006&4294967295,k=U+(M<<17&4294967295|M>>>15),M=B+(S^k&(U^S))+D[15]+1236535329&4294967295,B=k+(M<<22&4294967295|M>>>10),M=S+(k^U&(B^k))+D[1]+4129170786&4294967295,S=B+(M<<5&4294967295|M>>>27),M=U+(B^k&(S^B))+D[6]+3225465664&4294967295,U=S+(M<<9&4294967295|M>>>23),M=k+(S^B&(U^S))+D[11]+643717713&4294967295,k=U+(M<<14&4294967295|M>>>18),M=B+(U^S&(k^U))+D[0]+3921069994&4294967295,B=k+(M<<20&4294967295|M>>>12),M=S+(k^U&(B^k))+D[5]+3593408605&4294967295,S=B+(M<<5&4294967295|M>>>27),M=U+(B^k&(S^B))+D[10]+38016083&4294967295,U=S+(M<<9&4294967295|M>>>23),M=k+(S^B&(U^S))+D[15]+3634488961&4294967295,k=U+(M<<14&4294967295|M>>>18),M=B+(U^S&(k^U))+D[4]+3889429448&4294967295,B=k+(M<<20&4294967295|M>>>12),M=S+(k^U&(B^k))+D[9]+568446438&4294967295,S=B+(M<<5&4294967295|M>>>27),M=U+(B^k&(S^B))+D[14]+3275163606&4294967295,U=S+(M<<9&4294967295|M>>>23),M=k+(S^B&(U^S))+D[3]+4107603335&4294967295,k=U+(M<<14&4294967295|M>>>18),M=B+(U^S&(k^U))+D[8]+1163531501&4294967295,B=k+(M<<20&4294967295|M>>>12),M=S+(k^U&(B^k))+D[13]+2850285829&4294967295,S=B+(M<<5&4294967295|M>>>27),M=U+(B^k&(S^B))+D[2]+4243563512&4294967295,U=S+(M<<9&4294967295|M>>>23),M=k+(S^B&(U^S))+D[7]+1735328473&4294967295,k=U+(M<<14&4294967295|M>>>18),M=B+(U^S&(k^U))+D[12]+2368359562&4294967295,B=k+(M<<20&4294967295|M>>>12),M=S+(B^k^U)+D[5]+4294588738&4294967295,S=B+(M<<4&4294967295|M>>>28),M=U+(S^B^k)+D[8]+2272392833&4294967295,U=S+(M<<11&4294967295|M>>>21),M=k+(U^S^B)+D[11]+1839030562&4294967295,k=U+(M<<16&4294967295|M>>>16),M=B+(k^U^S)+D[14]+4259657740&4294967295,B=k+(M<<23&4294967295|M>>>9),M=S+(B^k^U)+D[1]+2763975236&4294967295,S=B+(M<<4&4294967295|M>>>28),M=U+(S^B^k)+D[4]+1272893353&4294967295,U=S+(M<<11&4294967295|M>>>21),M=k+(U^S^B)+D[7]+4139469664&4294967295,k=U+(M<<16&4294967295|M>>>16),M=B+(k^U^S)+D[10]+3200236656&4294967295,B=k+(M<<23&4294967295|M>>>9),M=S+(B^k^U)+D[13]+681279174&4294967295,S=B+(M<<4&4294967295|M>>>28),M=U+(S^B^k)+D[0]+3936430074&4294967295,U=S+(M<<11&4294967295|M>>>21),M=k+(U^S^B)+D[3]+3572445317&4294967295,k=U+(M<<16&4294967295|M>>>16),M=B+(k^U^S)+D[6]+76029189&4294967295,B=k+(M<<23&4294967295|M>>>9),M=S+(B^k^U)+D[9]+3654602809&4294967295,S=B+(M<<4&4294967295|M>>>28),M=U+(S^B^k)+D[12]+3873151461&4294967295,U=S+(M<<11&4294967295|M>>>21),M=k+(U^S^B)+D[15]+530742520&4294967295,k=U+(M<<16&4294967295|M>>>16),M=B+(k^U^S)+D[2]+3299628645&4294967295,B=k+(M<<23&4294967295|M>>>9),M=S+(k^(B|~U))+D[0]+4096336452&4294967295,S=B+(M<<6&4294967295|M>>>26),M=U+(B^(S|~k))+D[7]+1126891415&4294967295,U=S+(M<<10&4294967295|M>>>22),M=k+(S^(U|~B))+D[14]+2878612391&4294967295,k=U+(M<<15&4294967295|M>>>17),M=B+(U^(k|~S))+D[5]+4237533241&4294967295,B=k+(M<<21&4294967295|M>>>11),M=S+(k^(B|~U))+D[12]+1700485571&4294967295,S=B+(M<<6&4294967295|M>>>26),M=U+(B^(S|~k))+D[3]+2399980690&4294967295,U=S+(M<<10&4294967295|M>>>22),M=k+(S^(U|~B))+D[10]+4293915773&4294967295,k=U+(M<<15&4294967295|M>>>17),M=B+(U^(k|~S))+D[1]+2240044497&4294967295,B=k+(M<<21&4294967295|M>>>11),M=S+(k^(B|~U))+D[8]+1873313359&4294967295,S=B+(M<<6&4294967295|M>>>26),M=U+(B^(S|~k))+D[15]+4264355552&4294967295,U=S+(M<<10&4294967295|M>>>22),M=k+(S^(U|~B))+D[6]+2734768916&4294967295,k=U+(M<<15&4294967295|M>>>17),M=B+(U^(k|~S))+D[13]+1309151649&4294967295,B=k+(M<<21&4294967295|M>>>11),M=S+(k^(B|~U))+D[4]+4149444226&4294967295,S=B+(M<<6&4294967295|M>>>26),M=U+(B^(S|~k))+D[11]+3174756917&4294967295,U=S+(M<<10&4294967295|M>>>22),M=k+(S^(U|~B))+D[2]+718787259&4294967295,k=U+(M<<15&4294967295|M>>>17),M=B+(U^(k|~S))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(k+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+U&4294967295}s.prototype.v=function(A,S){S===void 0&&(S=A.length);const B=S-this.blockSize,D=this.C;let k=this.h,U=0;for(;U<S;){if(k==0)for(;U<=B;)o(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<S;)if(D[k++]=A.charCodeAt(U++),k==this.blockSize){o(this,D),k=0;break}}else for(;U<S;)if(D[k++]=A[U++],k==this.blockSize){o(this,D),k=0;break}}this.h=k,this.o+=S},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var B=A.length-8;B<A.length;++B)A[B]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,B=0;B<4;++B)for(let D=0;D<32;D+=8)A[S++]=this.g[B]>>>D&255;return A};function l(A,S){var B=m;return Object.prototype.hasOwnProperty.call(B,A)?B[A]:B[A]=S(A)}function u(A,S){this.h=S;const B=[];let D=!0;for(let k=A.length-1;k>=0;k--){const U=A[k]|0;D&&U==S||(B[k]=U,D=!1)}this.g=B}var m={};function g(A){return-128<=A&&A<128?l(A,function(S){return new u([S|0],S<0?-1:0)}):new u([A|0],A<0?-1:0)}function d(A){if(isNaN(A)||!isFinite(A))return _;if(A<0)return T(d(-A));const S=[];let B=1;for(let D=0;A>=B;D++)S[D]=A/B|0,B*=4294967296;return new u(S,0)}function y(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return T(y(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const B=d(Math.pow(S,8));let D=_;for(let U=0;U<A.length;U+=8){var k=Math.min(8,A.length-U);const M=parseInt(A.substring(U,U+k),S);k<8?(k=d(Math.pow(S,k)),D=D.j(k).add(d(M))):(D=D.j(B),D=D.add(d(M)))}return D}var _=g(0),b=g(1),R=g(16777216);i=u.prototype,i.m=function(){if(O(this))return-T(this).m();let A=0,S=1;for(let B=0;B<this.g.length;B++){const D=this.i(B);A+=(D>=0?D:4294967296+D)*S,S*=4294967296}return A},i.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N(this))return"0";if(O(this))return"-"+T(this).toString(A);const S=d(Math.pow(A,6));var B=this;let D="";for(;;){const k=L(B,S).g;B=P(B,k.j(S));let U=((B.g.length>0?B.g[0]:B.h)>>>0).toString(A);if(B=k,N(B))return U+D;for(;U.length<6;)U="0"+U;D=U+D}},i.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function N(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function O(A){return A.h==-1}i.l=function(A){return A=P(this,A),O(A)?-1:N(A)?0:1};function T(A){const S=A.g.length,B=[];for(let D=0;D<S;D++)B[D]=~A.g[D];return new u(B,~A.h).add(b)}i.abs=function(){return O(this)?T(this):this},i.add=function(A){const S=Math.max(this.g.length,A.g.length),B=[];let D=0;for(let k=0;k<=S;k++){let U=D+(this.i(k)&65535)+(A.i(k)&65535),M=(U>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);D=M>>>16,U&=65535,M&=65535,B[k]=M<<16|U}return new u(B,B[B.length-1]&-2147483648?-1:0)};function P(A,S){return A.add(T(S))}i.j=function(A){if(N(this)||N(A))return _;if(O(this))return O(A)?T(this).j(T(A)):T(T(this).j(A));if(O(A))return T(this.j(T(A)));if(this.l(R)<0&&A.l(R)<0)return d(this.m()*A.m());const S=this.g.length+A.g.length,B=[];for(var D=0;D<2*S;D++)B[D]=0;for(D=0;D<this.g.length;D++)for(let k=0;k<A.g.length;k++){const U=this.i(D)>>>16,M=this.i(D)&65535,fe=A.i(k)>>>16,pe=A.i(k)&65535;B[2*D+2*k]+=M*pe,C(B,2*D+2*k),B[2*D+2*k+1]+=U*pe,C(B,2*D+2*k+1),B[2*D+2*k+1]+=M*fe,C(B,2*D+2*k+1),B[2*D+2*k+2]+=U*fe,C(B,2*D+2*k+2)}for(A=0;A<S;A++)B[A]=B[2*A+1]<<16|B[2*A];for(A=S;A<2*S;A++)B[A]=0;return new u(B,0)};function C(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function I(A,S){this.g=A,this.h=S}function L(A,S){if(N(S))throw Error("division by zero");if(N(A))return new I(_,_);if(O(A))return S=L(T(A),S),new I(T(S.g),T(S.h));if(O(S))return S=L(A,T(S)),new I(T(S.g),S.h);if(A.g.length>30){if(O(A)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var B=b,D=S;D.l(A)<=0;)B=z(B),D=z(D);var k=q(B,1),U=q(D,1);for(D=q(D,2),B=q(B,2);!N(D);){var M=U.add(D);M.l(A)<=0&&(k=k.add(B),U=M),D=q(D,1),B=q(B,1)}return S=P(A,k.j(S)),new I(k,S)}for(k=_;A.l(S)>=0;){for(B=Math.max(1,Math.floor(A.m()/S.m())),D=Math.ceil(Math.log(B)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),U=d(B),M=U.j(S);O(M)||M.l(A)>0;)B-=D,U=d(B),M=U.j(S);N(U)&&(U=b),k=k.add(U),A=P(A,M)}return new I(k,A)}i.B=function(A){return L(this,A).h},i.and=function(A){const S=Math.max(this.g.length,A.g.length),B=[];for(let D=0;D<S;D++)B[D]=this.i(D)&A.i(D);return new u(B,this.h&A.h)},i.or=function(A){const S=Math.max(this.g.length,A.g.length),B=[];for(let D=0;D<S;D++)B[D]=this.i(D)|A.i(D);return new u(B,this.h|A.h)},i.xor=function(A){const S=Math.max(this.g.length,A.g.length),B=[];for(let D=0;D<S;D++)B[D]=this.i(D)^A.i(D);return new u(B,this.h^A.h)};function z(A){const S=A.g.length+1,B=[];for(let D=0;D<S;D++)B[D]=A.i(D)<<1|A.i(D-1)>>>31;return new u(B,A.h)}function q(A,S){const B=S>>5;S%=32;const D=A.g.length-B,k=[];for(let U=0;U<D;U++)k[U]=S>0?A.i(U+B)>>>S|A.i(U+B+1)<<32-S:A.i(U+B);return new u(k,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,iw=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Fs=u}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rw,bc,sw,zh,dp,aw,ow,lw;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function o(h,v){if(v)e:{var w=s;h=h.split(".");for(var V=0;V<h.length-1;V++){var Z=h[V];if(!(Z in w))break e;w=w[Z]}h=h[h.length-1],V=w[h],v=v(V),v!=V&&v!=null&&e(w,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var w=[],V;for(V in v)Object.prototype.hasOwnProperty.call(v,V)&&w.push([V,v[V]]);return w}});var l=l||{},u=this||self;function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,w){return h.call.apply(h.bind,arguments)}function d(h,v,w){return d=g,d.apply(null,arguments)}function y(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var V=w.slice();return V.push.apply(V,arguments),h.apply(this,V)}}function _(h,v){function w(){}w.prototype=v.prototype,h.Z=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(V,Z,ne){for(var he=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)he[Be-2]=arguments[Be];return v.prototype[Z].apply(V,he)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const w=Array(v);for(let V=0;V<v;V++)w[V]=h[V];return w}return[]}function N(h,v){for(let V=1;V<arguments.length;V++){const Z=arguments[V];var w=typeof Z;if(w=w!="object"?w:Z?Array.isArray(Z)?"array":w:"null",w=="array"||w=="object"&&typeof Z.length=="number"){w=h.length||0;const ne=Z.length||0;h.length=w+ne;for(let he=0;he<ne;he++)h[w+he]=Z[he]}else h.push(Z)}}class O{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function T(h){u.setTimeout(()=>{throw h},0)}function P(){var h=A;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class C{constructor(){this.h=this.g=null}add(v,w){const V=I.get();V.set(v,w),this.h?this.h.next=V:this.g=V,this.h=V}}var I=new O(()=>new L,h=>h.reset());class L{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let z,q=!1,A=new C,S=()=>{const h=Promise.resolve(void 0);z=()=>{h.then(B)}};function B(){for(var h;h=P();){try{h.h.call(h.g)}catch(w){T(w)}var v=I;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}q=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,v),u.removeEventListener("test",w,v)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function fe(h,v){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(fe,k),fe.prototype.init=function(h,v){const w=this.type=h.type,V=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),W=0;function ce(h,v,w,V,Z){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!V,this.ha=Z,this.key=++W,this.da=this.fa=!1}function ue(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function _e(h,v,w){for(const V in h)v.call(w,h[V],V,h)}function be(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function F(h){const v={};for(const w in h)v[w]=h[w];return v}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(h,v){let w,V;for(let Z=1;Z<arguments.length;Z++){V=arguments[Z];for(w in V)h[w]=V[w];for(let ne=0;ne<G.length;ne++)w=G[ne],Object.prototype.hasOwnProperty.call(V,w)&&(h[w]=V[w])}}function Q(h){this.src=h,this.g={},this.h=0}Q.prototype.add=function(h,v,w,V,Z){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const he=ge(h,v,V,Z);return he>-1?(v=h[he],w||(v.fa=!1)):(v=new ce(v,this.src,ne,!!V,Z),v.fa=w,h.push(v)),v};function me(h,v){const w=v.type;if(w in h.g){var V=h.g[w],Z=Array.prototype.indexOf.call(V,v,void 0),ne;(ne=Z>=0)&&Array.prototype.splice.call(V,Z,1),ne&&(ue(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function ge(h,v,w,V){for(let Z=0;Z<h.length;++Z){const ne=h[Z];if(!ne.da&&ne.listener==v&&ne.capture==!!w&&ne.ha==V)return Z}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),Ee={};function We(h,v,w,V,Z){if(Array.isArray(v)){for(let ne=0;ne<v.length;ne++)We(h,v[ne],w,V,Z);return null}return w=yi(w),h&&h[pe]?h.J(v,w,m(V)?!!V.capture:!1,Z):vn(h,v,w,!1,V,Z)}function vn(h,v,w,V,Z,ne){if(!v)throw Error("Invalid event type");const he=m(Z)?!!Z.capture:!!Z;let Be=kn(h);if(Be||(h[Ce]=Be=new Q(h)),w=Be.add(v,w,V,he,ne),w.proxy)return w;if(V=Li(),w.proxy=V,V.src=h,V.listener=w,h.addEventListener)U||(Z=he),Z===void 0&&(Z=!1),h.addEventListener(v.toString(),V,Z);else if(h.attachEvent)h.attachEvent(dt(v.toString()),V);else if(h.addListener&&h.removeListener)h.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Li(){function h(w){return v.call(h.src,h.listener,w)}const v=Vi;return h}function Qn(h,v,w,V,Z){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Qn(h,v[ne],w,V,Z);else V=m(V)?!!V.capture:!!V,w=yi(w),h&&h[pe]?(h=h.i,ne=String(v).toString(),ne in h.g&&(v=h.g[ne],w=ge(v,w,V,Z),w>-1&&(ue(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete h.g[ne],h.h--)))):h&&(h=kn(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ge(v,w,V,Z)),(w=h>-1?v[h]:null)&&$t(w))}function $t(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[pe])me(v.i,h);else{var w=h.type,V=h.proxy;v.removeEventListener?v.removeEventListener(w,V,h.capture):v.detachEvent?v.detachEvent(dt(w),V):v.addListener&&v.removeListener&&v.removeListener(V),(w=kn(v))?(me(w,h),w.h==0&&(w.src=null,v[Ce]=null)):ue(h)}}}function dt(h){return h in Ee?Ee[h]:Ee[h]="on"+h}function Vi(h,v){if(h.da)h=!0;else{v=new fe(v,this);const w=h.listener,V=h.ha||h.src;h.fa&&$t(h),h=w.call(V,v)}return h}function kn(h){return h=h[Ce],h instanceof Q?h:null}var Fi="__closure_events_fn_"+(Math.random()*1e9>>>0);function yi(h){return typeof h=="function"?h:(h[Fi]||(h[Fi]=function(v){return h.handleEvent(v)}),h[Fi])}function mt(){D.call(this),this.i=new Q(this),this.M=this,this.G=null}_(mt,D),mt.prototype[pe]=!0,mt.prototype.removeEventListener=function(h,v,w,V){Qn(this,h,v,w,V)};function ct(h,v){var w,V=h.G;if(V)for(w=[];V;V=V.G)w.push(V);if(h=h.M,V=v.type||v,typeof v=="string")v=new k(v,h);else if(v instanceof k)v.target=v.target||h;else{var Z=v;v=new k(V,h),X(v,Z)}Z=!0;let ne,he;if(w)for(he=w.length-1;he>=0;he--)ne=v.g=w[he],Z=Dt(ne,V,!0,v)&&Z;if(ne=v.g=h,Z=Dt(ne,V,!0,v)&&Z,Z=Dt(ne,V,!1,v)&&Z,w)for(he=0;he<w.length;he++)ne=v.g=w[he],Z=Dt(ne,V,!1,v)&&Z}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const w=h.g[v];for(let V=0;V<w.length;V++)ue(w[V]);delete h.g[v],h.h--}}this.G=null},mt.prototype.J=function(h,v,w,V){return this.i.add(String(h),v,!1,w,V)},mt.prototype.K=function(h,v,w,V){return this.i.add(String(h),v,!0,w,V)};function Dt(h,v,w,V){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let Z=!0;for(let ne=0;ne<v.length;++ne){const he=v[ne];if(he&&!he.da&&he.capture==w){const Be=he.listener,Tt=he.ha||he.src;he.fa&&me(h.i,he),Z=Be.call(Tt,V)!==!1&&Z}}return Z&&!V.defaultPrevented}function on(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function Bn(h){h.g=on(()=>{h.g=null,h.i&&(h.i=!1,Bn(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Nt extends D{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(h){D.call(this),this.h=h,this.g={}}_(Ui,D);var Wn=[];function vi(h){_e(h.g,function(v,w){this.g.hasOwnProperty(w)&&$t(v)},h),h.g={}}Ui.prototype.N=function(){Ui.Z.N.call(this),vi(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zi=u.JSON.stringify,Qa=u.JSON.parse,ia=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function _i(){}function Hi(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function It(){k.call(this,"d")}_(It,k);function dn(){k.call(this,"c")}_(dn,k);var xt={},Wa=null;function Er(){return Wa=Wa||new mt}xt.Ia="serverreachability";function Za(h){k.call(this,xt.Ia,h)}_(Za,k);function jn(h){const v=Er();ct(v,new Za(v))}xt.STAT_EVENT="statevent";function wr(h,v){k.call(this,xt.STAT_EVENT,h),this.stat=v}_(wr,k);function yt(h){const v=Er();ct(v,new wr(v,h))}xt.Ja="timingevent";function Zn(h,v){k.call(this,xt.Ja,h),this.size=v}_(Zn,k);function Jn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function Ja(h,v,w,V,Z,ne){h.info(function(){if(h.g)if(ne){var he="",Be=ne.split("&");for(let Xe=0;Xe<Be.length;Xe++){var Tt=Be[Xe].split("=");if(Tt.length>1){const pt=Tt[0];Tt=Tt[1];const ri=pt.split("_");he=ri.length>=2&&ri[1]=="type"?he+(pt+"="+Tt+"&"):he+(pt+"=redacted&")}}}else he=null;else he=ne;return"XMLHTTP REQ ("+V+") [attempt "+Z+"]: "+v+`
`+w+`
`+he})}function eo(h,v,w,V,Z,ne,he){h.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Z+"]: "+v+`
`+w+`
`+ne+" "+he})}function ei(h,v,w,V){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+xl(h,w)+(V?" "+V:"")})}function qi(h,v){h.info(function(){return"TIMEOUT: "+v})}Mn.prototype.info=function(){};function xl(h,v){if(!h.g)return v;if(!v)return null;try{const ne=JSON.parse(v);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var w=ne[h];if(!(w.length<2)){var V=w[1];if(Array.isArray(V)&&!(V.length<1)){var Z=V[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let he=1;he<V.length;he++)V[he]=""}}}}return zi(ne)}catch{return v}}var Gi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ht={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_n;function $i(){}_($i,_i),$i.prototype.g=function(){return new XMLHttpRequest},_n=new $i;function bi(h){return encodeURIComponent(String(h))}function su(h){var v=1;h=h.split(":");const w=[];for(;v>0&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function Ei(h,v,w,V){this.j=h,this.i=v,this.l=w,this.S=V||1,this.V=new Ui(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var kt={},Kt={};function Ki(h,v,w){h.M=1,h.A=ra(Ot(v)),h.u=w,h.R=!0,to(h,null)}function to(h,v){h.F=Date.now(),Yi(h),h.B=Ot(h.A);var w=h.B,V=h.S;Array.isArray(V)||(V=[String(V)]),so(w.i,"t",V),h.C=0,w=h.j.L,h.h=new wi,h.g=_u(h.j,w?v:null,!h.u),h.P>0&&(h.O=new Nt(d(h.Y,h,h.g),h.P)),v=h.V,w=h.g,V=h.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Wn[0]=Z.toString()),Z=Wn);for(let ne=0;ne<Z.length;ne++){const he=We(w,Z[ne],V||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=h.J?F(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),jn(),Ja(h.i,h.v,h.B,h.l,h.S,h.u)}Ei.prototype.ba=function(h){h=h.target;const v=this.O;v&&Ci(h)==3?v.j():this.Y(h)},Ei.prototype.Y=function(h){try{if(h==this.g)e:{const Be=Ci(this.g),Tt=this.g.ya(),Xe=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Be!=4||Tt==7||(Tt==8||Xe<=0?jn(3):jn(2)),Xi(this);var v=this.g.ca();this.X=v;var w=Id(this);if(this.o=v==200,eo(this.i,this.v,this.B,this.l,this.S,Be,v),this.o){if(this.U&&!this.L){t:{if(this.g){var V,Z=this.g;if((V=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(V)){var ne=V;break t}}ne=null}if(h=ne)ei(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qi(this,h);else{this.o=!1,this.m=3,yt(12),Pn(this),ti(this);break e}}if(this.R){h=!0;let pt;for(;!this.K&&this.C<w.length;)if(pt=ou(this,w),pt==Kt){Be==4&&(this.m=4,yt(14),h=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==kt){this.m=4,yt(15),ei(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else ei(this.i,this.l,pt,null),Qi(this,pt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||w.length!=0||this.h.h||(this.m=1,yt(16),h=!1),this.o=this.o&&h,!h)ei(this.i,this.l,w,"[Invalid Chunked Response]"),Pn(this),ti(this);else if(w.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),kl(he),he.P=!0,yt(11))}}else ei(this.i,this.l,w,null),Qi(this,w);Be==4&&Pn(this),this.o&&!this.K&&(Be==4?gu(this.j,this):(this.o=!1,Yi(this)))}else Tr(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),Pn(this),ti(this)}}}catch{}finally{}};function Id(h){if(!au(h))return h.g.la();const v=Zt(h.g);if(v==="")return"";let w="";const V=v.length,Z=Ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Pn(h),ti(h),"";h.h.i=new u.TextDecoder}for(let ne=0;ne<V;ne++)h.h.h=!0,w+=h.h.i.decode(v[ne],{stream:!(Z&&ne==V-1)});return v.length=0,h.h.g+=w,h.C=0,h.h.g}function au(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ou(h,v){var w=h.C,V=v.indexOf(`
`,w);return V==-1?Kt:(w=Number(v.substring(w,V)),isNaN(w)?kt:(V+=1,V+w>v.length?Kt:(v=v.slice(V,V+w),h.C=V+w,v)))}Ei.prototype.cancel=function(){this.K=!0,Pn(this)};function Yi(h){h.T=Date.now()+h.H,no(h,h.H)}function no(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Jn(d(h.aa,h),v)}function Xi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(qi(this.i,this.B),this.M!=2&&(jn(),yt(17)),Pn(this),this.m=2,ti(this)):no(this,this.T-h)};function ti(h){h.j.I==0||h.K||gu(h.j,h)}function Pn(h){Xi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,vi(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Qi(h,v){try{var w=h.j;if(w.I!=0&&(w.g==h||Zi(w.h,h))){if(!h.L&&Zi(w.h,h)&&w.I==3){try{var V=w.Ba.g.parse(v)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Z=V;if(Z[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)uo(w),as(w);else break e;ha(w),yt(18)}}else w.xa=Z[1],0<w.xa-w.K&&Z[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Jn(d(w.Va,w),6e3));Wi(w.h)<=1&&w.ta&&(w.ta=void 0)}else rr(w,11)}else if((h.L||w.g==h)&&uo(w),!M(v))for(Z=w.Ba.g.parse(v),v=0;v<Z.length;v++){let Xe=Z[v];const pt=Xe[0];if(!(pt<=w.K))if(w.K=pt,Xe=Xe[1],w.I==2)if(Xe[0]=="c"){w.M=Xe[1],w.ba=Xe[2];const ri=Xe[3];ri!=null&&(w.ka=ri,w.j.info("VER="+w.ka));const sr=Xe[4];sr!=null&&(w.za=sr,w.j.info("SVER="+w.za));const Si=Xe[5];Si!=null&&typeof Si=="number"&&Si>0&&(V=1.5*Si,w.O=V,w.j.info("backChannelRequestTimeoutMs_="+V)),V=w;const Ri=h.g;if(Ri){const fa=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var ne=V.h;ne.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(_l(ne,ne.h),ne.h=null))}if(V.G){const ho=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(V.wa=ho,Je(V.J,V.G,ho))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),V=w;var he=h;if(V.na=vu(V,V.L?V.ba:null,V.W),he.L){bl(V.h,he);var Be=he,Tt=V.O;Tt&&(Be.H=Tt),Be.D&&(Xi(Be),Yi(Be)),V.g=he}else mu(V);w.i.length>0&&ir(w)}else Xe[0]!="stop"&&Xe[0]!="close"||rr(w,7);else w.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?rr(w,7):Nl(w):Xe[0]!="noop"&&w.l&&w.l.qa(Xe),w.A=0)}}jn(4)}catch{}}var Bt=class{constructor(h,v){this.g=h,this.map=v}};function yl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Wi(h){return h.h?1:h.g?h.g.size:0}function Zi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function _l(h,v){h.g?h.g.add(v):h.h=v}function bl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}yl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function El(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.G);return v}return R(h.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(h,v){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const V=h[w].indexOf("=");let Z,ne=null;V>=0?(Z=h[w].substring(0,V),ne=h[w].substring(V+1)):Z=h[w],v(Z,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Ln(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Ln?(this.l=h.l,Yt(this,h.j),this.o=h.o,this.g=h.g,Jr(this,h.u),this.h=h.h,wl(this,fu(h.i)),this.m=h.m):h&&(v=String(h).match(lu))?(this.l=!1,Yt(this,v[1]||"",!0),this.o=Ji(v[2]||""),this.g=Ji(v[3]||"",!0),Jr(this,v[4]),this.h=Ji(v[5]||"",!0),wl(this,v[6]||"",!0),this.m=Ji(v[7]||"")):(this.l=!1,this.i=new ts(null,this.l))}Ln.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(sa(v,ro,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(sa(v,ro,!0),"@"),h.push(bi(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(sa(w,w.charAt(0)=="/"?Al:cu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",sa(w,uu)),h.join("")},Ln.prototype.resolve=function(h){const v=Ot(this);let w=!!h.j;w?Yt(v,h.j):w=!!h.o,w?v.o=h.o:w=!!h.g,w?v.g=h.g:w=h.u!=null;var V=h.h;if(w)Jr(v,h.u);else if(w=!!h.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var Z=v.h.lastIndexOf("/");Z!=-1&&(V=v.h.slice(0,Z+1)+V)}if(Z=V,Z==".."||Z==".")V="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){V=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ne=[];for(let he=0;he<Z.length;){const Be=Z[he++];Be=="."?V&&he==Z.length&&ne.push(""):Be==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),V&&he==Z.length&&ne.push("")):(ne.push(Be),V=!0)}V=ne.join("/")}else V=Z}return w?v.h=V:w=h.i.toString()!=="",w?wl(v,fu(h.i)):w=!!h.m,w&&(v.m=h.m),v};function Ot(h){return new Ln(h)}function Yt(h,v,w){h.j=w?Ji(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Jr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function wl(h,v,w){v instanceof ts?(h.i=v,ao(h.i,h.l)):(w||(v=sa(v,es)),h.i=new ts(v,h.l))}function Je(h,v,w){h.i.set(v,w)}function ra(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ji(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function sa(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,bn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ro=/[#\/\?@]/g,cu=/[#\?:]/g,Al=/[#\?]/g,es=/[#\?@]/g,uu=/#/g;function ts(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function En(h){h.g||(h.g=new Map,h.h=0,h.i&&io(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}i=ts.prototype,i.add=function(h,v){En(this),this.i=null,h=ns(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function hu(h,v){En(h),v=ns(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Tl(h,v){return En(h),v=ns(h,v),h.g.has(v)}i.forEach=function(h,v){En(this),this.g.forEach(function(w,V){w.forEach(function(Z){h.call(v,Z,V,this)},this)},this)};function Cl(h,v){En(h);let w=[];if(typeof v=="string")Tl(h,v)&&(w=w.concat(h.g.get(ns(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)w=w.concat(h[v]);return w}i.set=function(h,v){return En(this),this.i=null,h=ns(this,h),Tl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=Cl(this,h),h.length>0?String(h[0]):v):v};function so(h,v,w){hu(h,v),w.length>0&&(h.i=null,h.g.set(ns(h,v),R(w)),h.h+=w.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let V=0;V<v.length;V++){var w=v[V];const Z=bi(w);w=Cl(this,w);for(let ne=0;ne<w.length;ne++){let he=Z;w[ne]!==""&&(he+="="+bi(w[ne])),h.push(he)}}return this.i=h.join("&")};function fu(h){const v=new ts;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function ns(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ao(h,v){v&&!h.j&&(En(h),h.i=null,h.g.forEach(function(w,V){const Z=V.toLowerCase();V!=Z&&(hu(this,V),so(this,Z,w))},h)),h.j=v}function Ai(h,v){const w=new Mn;if(u.Image){const V=new Image;V.onload=y(ni,w,"TestLoadImage: loaded",!0,v,V),V.onerror=y(ni,w,"TestLoadImage: error",!1,v,V),V.onabort=y(ni,w,"TestLoadImage: abort",!1,v,V),V.ontimeout=y(ni,w,"TestLoadImage: timeout",!1,v,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=h}else v(!1)}function Sl(h,v){const w=new Mn,V=new AbortController,Z=setTimeout(()=>{V.abort(),ni(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:V.signal}).then(ne=>{clearTimeout(Z),ne.ok?ni(w,"TestPingServer: ok",!0,v):ni(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Z),ni(w,"TestPingServer: error",!1,v)})}function ni(h,v,w,V,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),V(w)}catch{}}function is(){this.g=new ia}function er(h){this.i=h.Sb||null,this.h=h.ab||!1}_(er,_i),er.prototype.g=function(){return new aa(this.i,this.h)};function aa(h,v){mt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(aa,mt),i=aa.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Ti(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?rs(this):Ti(this),this.readyState==3&&oo(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,rs(this))},i.Na=function(h){this.g&&(this.response=h,rs(this))},i.ga=function(){this.g&&rs(this)};function rs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ti(h)}i.setRequestHeader=function(h,v){this.A.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function Ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ii(h){let v="";return _e(h,function(w,V){v+=V,v+=":",v+=w,v+=`\r
`}),v}function oa(h,v,w){e:{for(V in w){var V=!1;break e}V=!0}V||(w=ii(w),typeof h=="string"?w!=null&&bi(w):Je(h,v,w))}function nt(h){mt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(nt,mt);var tr=/^https?$/i,Rl=["POST","PUT"];i=nt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,v,w,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_n.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ne){la(this,ne);return}if(h=w||"",w=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Z in V)w.set(Z,V[Z]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ne of V.keys())w.set(ne,V.get(ne));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(w.keys()).find(ne=>ne.toLowerCase()=="content-type"),Z=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Rl,v,void 0)>=0)||V||Z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,he]of w)this.g.setRequestHeader(ne,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){la(this,ne)}};function la(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Dl(h),Ar(h)}function Dl(h){h.A||(h.A=!0,ct(h,"complete"),ct(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ct(this,"complete"),ct(this,"abort"),Ar(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},i.Xa=function(){ca(this)};function ca(h){if(h.h&&typeof l<"u"){if(h.v&&Ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(ct(h,"readystatechange"),Ci(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var V;if(V=ne===0){let he=String(h.D).match(lu)[1]||null;!he&&u.self&&u.self.location&&(he=u.self.location.protocol.slice(0,-1)),V=!tr.test(he?he.toLowerCase():"")}w=V}if(w)ct(h,"complete"),ct(h,"success");else{h.o=6;try{var Z=Ci(h)>2?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.ca()+"]",Dl(h)}}finally{Ar(h)}}}}function Ar(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,v||ct(h,"ready");try{w.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ci(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Qa(v)}};function Zt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Tr(h){const v={};h=(h.g&&Ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<h.length;V++){if(M(h[V]))continue;var w=su(h[V]);const Z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ne=v[Z]||[];v[Z]=ne,ne.push(w)}be(v,function(V){return V.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function nr(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function ss(h){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=nr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=nr("baseRetryDelayMs",5e3,h),this.Za=nr("retryDelaySeedMs",1e4,h),this.Ta=nr("forwardChannelMaxRetries",2,h),this.va=nr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(h&&h.concurrentRequestLimit),this.Ba=new is,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ss.prototype,i.ka=8,i.I=1,i.connect=function(h,v,w,V){yt(0),this.W=h,this.H=v||{},w&&V!==void 0&&(this.H.OSID=w,this.H.OAID=V),this.F=this.X,this.J=vu(this,null,this.W),ir(this)};function Nl(h){if(lo(h),h.I==3){var v=h.V++,w=Ot(h.J);if(Je(w,"SID",h.M),Je(w,"RID",v),Je(w,"TYPE","terminate"),ua(h,w),v=new Ei(h,h.j,v),v.M=2,v.A=ra(Ot(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=v.A,w=!0),w||(v.g=_u(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Yi(v)}yu(h)}function as(h){h.g&&(kl(h),h.g.cancel(),h.g=null)}function lo(h){as(h),h.v&&(u.clearTimeout(h.v),h.v=null),uo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ir(h){if(!vl(h.h)&&!h.m){h.m=!0;var v=h.Ea;z||S(),q||(z(),q=!0),A.add(v,h),h.D=0}}function co(h,v){return Wi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Jn(d(h.Ea,h,v),xu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Z=new Ei(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=F(ne),X(ne,this.U)):ne=this.U),this.u!==null||this.R||(Z.J=ne,ne=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var V=this.i[w];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(v+=V,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=du(this,Z,v),w=Ot(this.J),Je(w,"RID",h),Je(w,"CVER",22),this.G&&Je(w,"X-HTTP-Session-Id",this.G),ua(this,w),ne&&(this.R?v="headers="+bi(ii(ne))+"&"+v:this.u&&oa(w,this.u,ne)),_l(this.h,Z),this.Ra&&Je(w,"TYPE","init"),this.S?(Je(w,"$req",v),Je(w,"SID","null"),Z.U=!0,Ki(Z,w,null)):Ki(Z,w,v),this.I=2}}else this.I==3&&(h?Il(this,h):this.i.length==0||vl(this.h)||Il(this))};function Il(h,v){var w;v?w=v.l:w=h.V++;const V=Ot(h.J);Je(V,"SID",h.M),Je(V,"RID",w),Je(V,"AID",h.K),ua(h,V),h.u&&h.o&&oa(V,h.u,h.o),w=new Ei(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),v&&(h.i=v.G.concat(h.i)),v=du(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),_l(h.h,w),Ki(w,V,v)}function ua(h,v){h.H&&_e(h.H,function(w,V){Je(v,V,w)}),h.l&&_e({},function(w,V){Je(v,V,w)})}function du(h,v,w){w=Math.min(h.i.length,w);const V=h.l?d(h.l.Ka,h.l,h):null;e:{var Z=h.i;let Be=-1;for(;;){const Tt=["count="+w];Be==-1?w>0?(Be=Z[0].g,Tt.push("ofs="+Be)):Be=0:Tt.push("ofs="+Be);let Xe=!0;for(let pt=0;pt<w;pt++){var ne=Z[pt].g;const ri=Z[pt].map;if(ne-=Be,ne<0)Be=Math.max(0,Z[pt].g-100),Xe=!1;else try{ne="req"+ne+"_"||"";try{var he=ri instanceof Map?ri:Object.entries(ri);for(const[sr,Si]of he){let Ri=Si;m(Si)&&(Ri=zi(Si)),Tt.push(ne+sr+"="+encodeURIComponent(Ri))}}catch(sr){throw Tt.push(ne+"type="+encodeURIComponent("_badmap")),sr}}catch{V&&V(ri)}}if(Xe){he=Tt.join("&");break e}}he=void 0}return h=h.i.splice(0,w),v.G=h,he}function mu(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;z||S(),q||(z(),q=!0),A.add(v,h),h.A=0}}function ha(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Jn(d(h.Da,h),xu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Jn(d(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),as(this),pu(this))};function kl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function pu(h){h.g=new Ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Ot(h.na);Je(v,"RID","rpc"),Je(v,"SID",h.M),Je(v,"AID",h.K),Je(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(v,"TO",h.ia),Je(v,"TYPE","xmlhttp"),ua(h,v),h.u&&h.o&&oa(v,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=ra(Ot(v)),w.u=null,w.R=!0,to(w,h)}i.Va=function(){this.C!=null&&(this.C=null,as(this),ha(this),yt(19))};function uo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function gu(h,v){var w=null;if(h.g==v){uo(h),kl(h),h.g=null;var V=2}else if(Zi(h.h,v))w=v.G,bl(h.h,v),V=1;else return;if(h.I!=0){if(v.o)if(V==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var Z=h.D;V=Er(),ct(V,new Zn(V,w)),ir(h)}else mu(h);else if(Z=v.m,Z==3||Z==0&&v.X>0||!(V==1&&co(h,v)||V==2&&ha(h)))switch(w&&w.length>0&&(v=h.h,v.i=v.i.concat(w)),Z){case 1:rr(h,5);break;case 4:rr(h,10);break;case 3:rr(h,6);break;default:rr(h,2)}}}function xu(h,v){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*v}function rr(h,v){if(h.j.info("Error code "+v),v==2){var w=d(h.bb,h),V=h.Ua;const Z=!V;V=new Ln(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Yt(V,"https"),ra(V),Z?Ai(V.toString(),w):Sl(V.toString(),w)}else yt(2);h.I=0,h.l&&h.l.pa(v),yu(h),lo(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function yu(h){if(h.I=0,h.ja=[],h.l){const v=El(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ja,v),N(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function vu(h,v,w){var V=w instanceof Ln?Ot(w):new Ln(w);if(V.g!="")v&&(V.g=v+"."+V.g),Jr(V,V.u);else{var Z=u.location;V=Z.protocol,v=v?v+"."+Z.hostname:Z.hostname,Z=+Z.port;const ne=new Ln(null);V&&Yt(ne,V),v&&(ne.g=v),Z&&Jr(ne,Z),w&&(ne.h=w),V=ne}return w=h.G,v=h.wa,w&&v&&Je(V,w,v),Je(V,"VER",h.ka),ua(h,V),V}function _u(h,v,w){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new nt(new er({ab:w})):new nt(h.ma),v.Fa(h.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}i=bu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function os(){}os.prototype.g=function(h,v){return new mn(h,v)};function mn(h,v){mt.call(this),this.g=new ss(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!M(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Cr(this)}_(mn,mt),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Nl(this.g)},mn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=zi(h),h=w);v.i.push(new Bt(v.Ya++,h)),v.I==3&&ir(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,mn.Z.N.call(this)};function Eu(h){It.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const w in v){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Eu,It);function wu(){dn.call(this),this.status=1}_(wu,dn);function Cr(h){this.g=h}_(Cr,bu),Cr.prototype.ra=function(){ct(this.g,"a")},Cr.prototype.qa=function(h){ct(this.g,new Eu(h))},Cr.prototype.pa=function(h){ct(this.g,new wu)},Cr.prototype.oa=function(){ct(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,lw=function(){return new os},ow=function(){return Er()},aw=xt,dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,zh=Gi,Ht.COMPLETE="complete",sw=Ht,Hi.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",mt.prototype.listen=mt.prototype.J,bc=Hi,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,rw=nt}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const A_="@firebase/firestore",T_="4.9.2";class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let hl="12.3.0";const Pa=new rd("@firebase/firestore");function Ho(){return Pa.logLevel}function xe(i,...e){if(Pa.logLevel<=Fe.DEBUG){const t=e.map(lg);Pa.debug(`Firestore (${hl}): ${i}`,...t)}}function Qr(i,...e){if(Pa.logLevel<=Fe.ERROR){const t=e.map(lg);Pa.error(`Firestore (${hl}): ${i}`,...t)}}function tl(i,...e){if(Pa.logLevel<=Fe.WARN){const t=e.map(lg);Pa.warn(`Firestore (${hl}): ${i}`,...t)}}function lg(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Re(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,cw(i,s,t)}function cw(i,e,t){let s=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Qr(s),new Error(s)}function Ze(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||cw(e,o,s)}function ke(i,e){return i}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends xi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class uw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(un.UNAUTHENTICATED)))}shutdown(){}}class YD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class XD{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $r,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $r)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new uw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class QD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new QD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const s=l=>{l.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new C_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JD(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function mp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),l=e.charAt(s);if(o!==l)return Gm(o)===Gm(l)?Ue(o,l):Gm(o)?1:-1}return Ue(i.length,e.length)}const eN=55296,tN=57343;function Gm(i){const e=i.charCodeAt(0);return e>=eN&&e<=tN}function nl(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}const S_="__name__";class ur{constructor(e,t,s){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Re(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=ur.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ue(e.length,t.length)}static compareSegments(e,t){const s=ur.isNumericId(e),o=ur.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ur.extractNumericId(e).compare(ur.extractNumericId(t)):mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class ot extends ur{construct(e,t,s){return new ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new ot(t)}static emptyPath(){return new ot([])}}const nN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends ur{construct(e,t,s){return new sn(e,t,s)}static isValidIdentifier(e){return nN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S_}static keyField(){return new sn([S_])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new de(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(s+=m,o++):(l(),o++)}if(l(),u)throw new de(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ot.fromString(e))}static fromName(e){return new Ae(ot.fromString(e).popFirst(5))}static empty(){return new Ae(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ot(e.slice()))}}function hw(i,e,t){if(!t)throw new de(ae.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function iN(i,e,t,s){if(e===!0&&s===!0)throw new de(ae.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function R_(i){if(!Ae.isDocumentKey(i))throw new de(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function D_(i){if(Ae.isDocumentKey(i))throw new de(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function fw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function hd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function zs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hd(i);throw new de(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Ut(i,e){const t={typeString:i};return e&&(t.value=e),t}function Zc(i,e){if(!fw(i))throw new de(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const u=i[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new de(ae.INVALID_ARGUMENT,t);return!0}const N_=-62135596800,I_=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*I_);return new ft(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<N_)throw new de(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ut("string",ft._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ft(0,0))}static max(){return new Ne(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jc=-1;function rN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new ft(t+1,0):new ft(t,s));return new Hs(o,Ae.empty(),e)}function sN(i){return new Hs(i.readTime,i.key,jc)}class Hs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Hs(Ne.min(),Ae.empty(),jc)}static max(){return new Hs(Ne.max(),Ae.empty(),jc)}}function aN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(i.documentKey,e.documentKey),t!==0?t:Ue(i.largestBatchId,e.largestBatchId))}const oN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fl(i){if(i.code!==ae.FAILED_PRECONDITION||i.message!==oN)throw i;xe("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):le.reject(t)}static resolve(e){return new le(((t,s)=>{t(e)}))}static reject(e){return new le(((t,s)=>{s(e)}))}static waitFor(e){return new le(((t,s)=>{let o=0,l=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++l,u&&l===o&&t()}),(g=>s(g)))})),u=!0,l===o&&t()}))}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next((o=>o?le.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new le(((s,o)=>{const l=e.length,u=new Array(l);let m=0;for(let g=0;g<l;g++){const d=g;t(e[d]).next((y=>{u[d]=y,++m,m===l&&s(u)}),(y=>o(y)))}}))}static doWhile(e,t){return new le(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function cN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(i){return i.name==="IndexedDbTransactionError"}class fd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fd.ce=-1;const ug=-1;function dd(i){return i==null}function zf(i){return i===0&&1/i==-1/0}function uN(i){return typeof i=="number"&&Number.isInteger(i)&&!zf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const dw="";function hN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=k_(e)),e=fN(i.get(t),e);return k_(e)}function fN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case dw:t+="";break;default:t+=l}}return t}function k_(i){return i+dw+""}function B_(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ea(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function mw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class _t{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??rn.RED,this.left=o??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new rn(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new O_(this.data.getIterator())}getIteratorFrom(e){return new O_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class O_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Gt(sn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new pw("Invalid base64 string: "+l):l}})(e);return new an(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const dN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(i){if(Ze(!!i,39018),typeof i=="string"){let e=0;const t=dN.exec(i);if(Ze(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(i.seconds),nanos:Rt(i.nanos)}}function Rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Gs(i){return typeof i=="string"?an.fromBase64String(i):an.fromUint8Array(i)}const gw="server_timestamp",xw="__type__",yw="__previous_value__",vw="__local_write_time__";function hg(i){return(i?.mapValue?.fields||{})[xw]?.stringValue===gw}function md(i){const e=i.mapValue.fields[yw];return hg(e)?md(e):e}function Mc(i){const e=qs(i.mapValue.fields[vw].timestampValue);return new ft(e.seconds,e.nanos)}class mN{constructor(e,t,s,o,l,u,m,g,d,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=d,this.isUsingEmulator=y}}const Hf="(default)";class Pc{constructor(e,t){this.projectId=e,this.database=t||Hf}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===Hf}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}const _w="__type__",pN="__max__",Ih={mapValue:{}},bw="__vector__",qf="value";function $s(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hg(i)?4:xN(i)?9007199254740991:gN(i)?10:11:Re(28295,{value:i})}function _r(i,e){if(i===e)return!0;const t=$s(i);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Mc(i).isEqual(Mc(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=qs(o.timestampValue),m=qs(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return Gs(o.bytesValue).isEqual(Gs(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return Rt(o.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Rt(o.integerValue)===Rt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Rt(o.doubleValue),m=Rt(l.doubleValue);return u===m?zf(u)===zf(m):isNaN(u)&&isNaN(m)}return!1})(i,e);case 9:return nl(i.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},m=l.mapValue.fields||{};if(B_(u)!==B_(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!_r(u[g],m[g])))return!1;return!0})(i,e);default:return Re(52216,{left:i})}}function Lc(i,e){return(i.values||[]).find((t=>_r(t,e)))!==void 0}function il(i,e){if(i===e)return 0;const t=$s(i),s=$s(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(l,u){const m=Rt(l.integerValue||l.doubleValue),g=Rt(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return j_(i.timestampValue,e.timestampValue);case 4:return j_(Mc(i),Mc(e));case 5:return mp(i.stringValue,e.stringValue);case 6:return(function(l,u){const m=Gs(l),g=Gs(u);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(l,u){const m=l.split("/"),g=u.split("/");for(let d=0;d<m.length&&d<g.length;d++){const y=Ue(m[d],g[d]);if(y!==0)return y}return Ue(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,u){const m=Ue(Rt(l.latitude),Rt(u.latitude));return m!==0?m:Ue(Rt(l.longitude),Rt(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return M_(i.arrayValue,e.arrayValue);case 10:return(function(l,u){const m=l.fields||{},g=u.fields||{},d=m[qf]?.arrayValue,y=g[qf]?.arrayValue,_=Ue(d?.values?.length||0,y?.values?.length||0);return _!==0?_:M_(d,y)})(i.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Ih.mapValue&&u===Ih.mapValue)return 0;if(l===Ih.mapValue)return 1;if(u===Ih.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),d=u.fields||{},y=Object.keys(d);g.sort(),y.sort();for(let _=0;_<g.length&&_<y.length;++_){const b=mp(g[_],y[_]);if(b!==0)return b;const R=il(m[g[_]],d[y[_]]);if(R!==0)return R}return Ue(g.length,y.length)})(i.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function j_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const t=qs(i),s=qs(e),o=Ue(t.seconds,s.seconds);return o!==0?o:Ue(t.nanos,s.nanos)}function M_(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=il(t[o],s[o]);if(l)return l}return Ue(t.length,s.length)}function rl(i){return pp(i)}function pp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=qs(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Gs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Ae.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=pp(l);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of s)l?l=!1:o+=",",o+=`${u}:${pp(t.fields[u])}`;return o+"}"})(i.mapValue):Re(61005,{value:i})}function Hh(i){switch($s(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(i);return e?16+Hh(e):16;case 5:return 2*i.stringValue.length;case 6:return Gs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Hh(l)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ea(s.fields,((l,u)=>{o+=l.length+Hh(u)})),o})(i.mapValue);default:throw Re(13486,{value:i})}}function P_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function gp(i){return!!i&&"integerValue"in i}function fg(i){return!!i&&"arrayValue"in i}function L_(i){return!!i&&"nullValue"in i}function V_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function qh(i){return!!i&&"mapValue"in i}function gN(i){return(i?.mapValue?.fields||{})[_w]?.stringValue===bw}function Sc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ea(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Sc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sc(i.arrayValue.values[t]);return e}return{...i}}function xN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===pN}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(t)}setAll(e){let t=sn.emptyPath(),s={},o=[];e.forEach(((u,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}u?s[m.lastSegment()]=Sc(u):o.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];qh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ea(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new Nn(Sc(this.value))}}function Ew(i){const e=[];return ea(i.fields,((t,s)=>{const o=new sn([t]);if(qh(s)){const l=Ew(s.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new Kn(e)}class hn{constructor(e,t,s,o,l,u,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new hn(e,0,Ne.min(),Ne.min(),Ne.min(),Nn.empty(),0)}static newFoundDocument(e,t,s,o){return new hn(e,1,t,Ne.min(),s,o,0)}static newNoDocument(e,t){return new hn(e,2,t,Ne.min(),Ne.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Ne.min(),Ne.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gf{constructor(e,t){this.position=e,this.inclusive=t}}function F_(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],u=i.position[o];if(l.field.isKeyField()?s=Ae.comparator(Ae.fromName(u.referenceValue),t.key):s=il(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function U_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!_r(i.position[t],e.position[t]))return!1;return!0}class Vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function yN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ww{}class Ft extends ww{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new _N(e,t,s):t==="array-contains"?new wN(e,s):t==="in"?new AN(e,s):t==="not-in"?new TN(e,s):t==="array-contains-any"?new CN(e,s):new Ft(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new bN(e,s):new EN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends ww{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ji(e,t)}matches(e){return Aw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Aw(i){return i.op==="and"}function Tw(i){return vN(i)&&Aw(i)}function vN(i){for(const e of i.filters)if(e instanceof ji)return!1;return!0}function xp(i){if(i instanceof Ft)return i.field.canonicalString()+i.op.toString()+rl(i.value);if(Tw(i))return i.filters.map((e=>xp(e))).join(",");{const e=i.filters.map((t=>xp(t))).join(",");return`${i.op}(${e})`}}function Cw(i,e){return i instanceof Ft?(function(s,o){return o instanceof Ft&&s.op===o.op&&s.field.isEqual(o.field)&&_r(s.value,o.value)})(i,e):i instanceof ji?(function(s,o){return o instanceof ji&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,u,m)=>l&&Cw(u,o.filters[m])),!0):!1})(i,e):void Re(19439)}function Sw(i){return i instanceof Ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`})(i):i instanceof ji?(function(t){return t.op.toString()+" {"+t.getFilters().map(Sw).join(" ,")+"}"})(i):"Filter"}class _N extends Ft{constructor(e,t,s){super(e,t,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class bN extends Ft{constructor(e,t){super(e,"in",t),this.keys=Rw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class EN extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=Rw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Rw(i,e){return(e.arrayValue?.values||[]).map((t=>Ae.fromName(t.referenceValue)))}class wN extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fg(t)&&Lc(t.arrayValue,this.value)}}class AN extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lc(this.value.arrayValue,t)}}class TN extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Lc(this.value.arrayValue,t)}}class CN extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Lc(this.value.arrayValue,s)))}}class SN{constructor(e,t=null,s=[],o=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=u,this.endAt=m,this.Te=null}}function z_(i,e=null,t=[],s=[],o=null,l=null,u=null){return new SN(i,e,t,s,o,l,u)}function dg(i){const e=ke(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>xp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>rl(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>rl(s))).join(",")),e.Te=t}return e.Te}function mg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!yN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Cw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!U_(i.startAt,e.startAt)&&U_(i.endAt,e.endAt)}function yp(i){return Ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ml{constructor(e,t=null,s=[],o=[],l=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RN(i,e,t,s,o,l,u,m){return new ml(i,e,t,s,o,l,u,m)}function pg(i){return new ml(i)}function H_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Dw(i){return i.collectionGroup!==null}function Rc(i){const e=ke(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Gt(sn.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((d=>{d.isInequality()&&(m=m.add(d.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Vc(l,s))})),t.has(sn.keyField().canonicalString())||e.Ie.push(new Vc(sn.keyField(),s))}return e.Ie}function mr(i){const e=ke(i);return e.Ee||(e.Ee=DN(e,Rc(i))),e.Ee}function DN(i,e){if(i.limitType==="F")return z_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Vc(o.field,l)}));const t=i.endAt?new Gf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Gf(i.startAt.position,i.startAt.inclusive):null;return z_(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function vp(i,e){const t=i.filters.concat([e]);return new ml(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function _p(i,e,t){return new ml(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function pd(i,e){return mg(mr(i),mr(e))&&i.limitType===e.limitType}function Nw(i){return`${dg(mr(i))}|lt:${i.limitType}`}function qo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>Sw(o))).join(", ")}]`),dd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>rl(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>rl(o))).join(",")),`Target(${s})`})(mr(i))}; limitType=${i.limitType})`}function gd(i,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ae.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(i,e)&&(function(s,o){for(const l of Rc(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(u,m,g){const d=F_(u,m,g);return u.inclusive?d<=0:d<0})(s.startAt,Rc(s),o)||s.endAt&&!(function(u,m,g){const d=F_(u,m,g);return u.inclusive?d>=0:d>0})(s.endAt,Rc(s),o))})(i,e)}function NN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Iw(i){return(e,t)=>{let s=!1;for(const o of Rc(i)){const l=IN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function IN(i,e,t){const s=i.field.isKeyField()?Ae.comparator(e.key,t.key):(function(l,u,m){const g=u.data.field(l),d=m.data.field(l);return g!==null&&d!==null?il(g,d):Re(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:i.dir})}}class qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return mw(this.inner)}size(){return this.innerSize}}const kN=new _t(Ae.comparator);function Wr(){return kN}const kw=new _t(Ae.comparator);function Ec(...i){let e=kw;for(const t of i)e=e.insert(t.key,t);return e}function Bw(i){let e=kw;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Na(){return Dc()}function Ow(){return Dc()}function Dc(){return new qa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const BN=new _t(Ae.comparator),ON=new Gt(Ae.comparator);function ze(...i){let e=ON;for(const t of i)e=e.add(t);return e}const jN=new Gt(Ue);function MN(){return jN}function gg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function jw(i){return{integerValue:""+i}}function PN(i,e){return uN(e)?jw(e):gg(i,e)}class xd{constructor(){this._=void 0}}function LN(i,e,t){return i instanceof Fc?(function(o,l){const u={fields:{[xw]:{stringValue:gw},[vw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&hg(l)&&(l=md(l)),l&&(u.fields[yw]=l),{mapValue:u}})(t,e):i instanceof sl?Pw(i,e):i instanceof al?Lw(i,e):(function(o,l){const u=Mw(o,l),m=q_(u)+q_(o.Ae);return gp(u)&&gp(o.Ae)?jw(m):gg(o.serializer,m)})(i,e)}function VN(i,e,t){return i instanceof sl?Pw(i,e):i instanceof al?Lw(i,e):t}function Mw(i,e){return i instanceof $f?(function(s){return gp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Fc extends xd{}class sl extends xd{constructor(e){super(),this.elements=e}}function Pw(i,e){const t=Vw(e);for(const s of i.elements)t.some((o=>_r(o,s)))||t.push(s);return{arrayValue:{values:t}}}class al extends xd{constructor(e){super(),this.elements=e}}function Lw(i,e){let t=Vw(e);for(const s of i.elements)t=t.filter((o=>!_r(o,s)));return{arrayValue:{values:t}}}class $f extends xd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function q_(i){return Rt(i.integerValue||i.doubleValue)}function Vw(i){return fg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class xg{constructor(e,t){this.field=e,this.transform=t}}function FN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof sl&&o instanceof sl||s instanceof al&&o instanceof al?nl(s.elements,o.elements,_r):s instanceof $f&&o instanceof $f?_r(s.Ae,o.Ae):s instanceof Fc&&o instanceof Fc})(i.transform,e.transform)}class UN{constructor(e,t){this.version=e,this.transformResults=t}}class pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class yd{}function Fw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new zw(i.key,pr.none()):new Jc(i.key,i.data,pr.none());{const t=i.data,s=Nn.empty();let o=new Gt(sn.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),o=o.add(l)}return new ta(i.key,s,new Kn(o.toArray()),pr.none())}}function zN(i,e,t){i instanceof Jc?(function(o,l,u){const m=o.value.clone(),g=$_(o.fieldTransforms,l,u.transformResults);m.setAll(g),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,e,t):i instanceof ta?(function(o,l,u){if(!Gh(o.precondition,l))return void l.convertToUnknownDocument(u.version);const m=$_(o.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(Uw(o)),g.setAll(m),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(i,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Nc(i,e,t,s){return i instanceof Jc?(function(l,u,m,g){if(!Gh(l.precondition,u))return m;const d=l.value.clone(),y=K_(l.fieldTransforms,g,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(i,e,t,s):i instanceof ta?(function(l,u,m,g){if(!Gh(l.precondition,u))return m;const d=K_(l.fieldTransforms,g,u),y=u.data;return y.setAll(Uw(l)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(i,e,t,s):(function(l,u,m){return Gh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(i,e,t)}function HN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=Mw(s.transform,o||null);l!=null&&(t===null&&(t=Nn.empty()),t.set(s.field,l))}return t||null}function G_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&nl(s,o,((l,u)=>FN(l,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Jc extends yd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ta extends yd{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Uw(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function $_(i,e,t){const s=new Map;Ze(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const l=i[o],u=l.transform,m=e.data.field(l.field);s.set(l.field,VN(u,m,t[o]))}return s}function K_(i,e,t){const s=new Map;for(const o of i){const l=o.transform,u=t.data.field(o.field);s.set(o.field,LN(l,u,e))}return s}class zw extends yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qN extends yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&zN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Nc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Nc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ow();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=t.has(o.key)?null:m;const g=Fw(u,m);g!==null&&s.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((t,s)=>G_(t,s)))&&nl(this.baseMutations,e.baseMutations,((t,s)=>G_(t,s)))}}class yg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return BN})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,s[u].version);return new yg(e,t,s,o)}}class $N{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KN{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vt,Ge;function YN(i){switch(i){case ae.OK:return Re(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function Hw(i){if(i===void 0)return Qr("GRPC error has no .code"),ae.UNKNOWN;switch(i){case Vt.OK:return ae.OK;case Vt.CANCELLED:return ae.CANCELLED;case Vt.UNKNOWN:return ae.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ae.INTERNAL;case Vt.UNAVAILABLE:return ae.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ae.NOT_FOUND;case Vt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Vt.ABORTED:return ae.ABORTED;case Vt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Vt.DATA_LOSS:return ae.DATA_LOSS;default:return Re(39323,{code:i})}}(Ge=Vt||(Vt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function XN(){return new TextEncoder}const QN=new Fs([4294967295,4294967295],0);function Y_(i){const e=XN().encode(i),t=new iw;return t.update(e),new Uint8Array(t.digest())}function X_(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fs([t,s],0),new Fs([o,l],0)]}class vg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new wc(`Invalid padding: ${t}`);if(s<0)throw new wc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new wc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Fs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Fs.fromNumber(s)));return o.compare(QN)===1&&(o=new Fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Y_(e),[s,o]=X_(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,o,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new vg(l,o,t);return s.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const t=Y_(e),[s,o]=X_(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vd{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new vd(Ne.min(),o,new _t(Ue),Wr(),ze())}}class eu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new eu(s,t,ze(),ze(),ze())}}class $h{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class qw{constructor(e,t){this.targetId=e,this.Ce=t}}class Gw{constructor(e,t,s=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Q_{constructor(){this.ve=0,this.Fe=W_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),s=ze();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Re(38017,{changeType:l})}})),new eu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=W_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wr(),this.Je=kh(),this.He=kh(),this.Ye=new _t(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(yp(l))if(s===0){const u=new Ae(l.path);this.et(t,u,hn.newNoDocument(u,Ne.min()))}else Ze(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(t);const d=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let u,m;try{u=Gs(s).toUint8Array()}catch(g){if(g instanceof pw)return tl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new vg(u,o,l)}catch(g){return tl(g instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const m=this.ot(u);if(m){if(l.current&&yp(m.target)){const g=new Ae(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,hn.newNoDocument(g,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let s=ze();this.He.forEach(((l,u)=>{let m=!0;u.forEachWhile((g=>{const d=this.ot(g);return!d||d.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new vd(e,t,this.Ye,this.je,s);return this.je=Wr(),this.Je=kh(),this.He=kh(),this.Ye=new _t(Ue),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Q_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Gt(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Gt(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function kh(){return new _t(Ae.comparator)}function W_(){return new _t(Ae.comparator)}const ZN={asc:"ASCENDING",desc:"DESCENDING"},JN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eI={and:"AND",or:"OR"};class tI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bp(i,e){return i.useProto3Json||dd(e)?e:{value:e}}function Kf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $w(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function nI(i,e){return Kf(i,e.toTimestamp())}function gr(i){return Ze(!!i,49232),Ne.fromTimestamp((function(t){const s=qs(t);return new ft(s.seconds,s.nanos)})(i))}function _g(i,e){return Ep(i,e).canonicalString()}function Ep(i,e){const t=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function Kw(i){const e=ot.fromString(i);return Ze(Zw(e),10190,{key:e.toString()}),e}function wp(i,e){return _g(i.databaseId,e.path)}function $m(i,e){const t=Kw(e);if(t.get(1)!==i.databaseId.projectId)throw new de(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new de(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ae(Xw(t))}function Yw(i,e){return _g(i.databaseId,e)}function iI(i){const e=Kw(i);return e.length===4?ot.emptyPath():Xw(e)}function Ap(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Xw(i){return Ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Z_(i,e,t){return{name:wp(i,e),fields:t.value.mapValue.fields}}function rI(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Re(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(d,y){return d.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),an.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),an.fromUint8Array(y||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(d){const y=d.code===void 0?ae.UNKNOWN:Hw(d.code);return new de(y,d.message||"")})(u);t=new Gw(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=$m(i,s.document.name),l=gr(s.document.updateTime),u=s.document.createTime?gr(s.document.createTime):Ne.min(),m=new Nn({mapValue:{fields:s.document.fields}}),g=hn.newFoundDocument(o,l,u,m),d=s.targetIds||[],y=s.removedTargetIds||[];t=new $h(d,y,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=$m(i,s.document),l=s.readTime?gr(s.readTime):Ne.min(),u=hn.newNoDocument(o,l),m=s.removedTargetIds||[];t=new $h([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=$m(i,s.document),l=s.removedTargetIds||[];t=new $h([],l,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,u=new KN(o,l),m=s.targetId;t=new qw(m,u)}}return t}function sI(i,e){let t;if(e instanceof Jc)t={update:Z_(i,e.key,e.value)};else if(e instanceof zw)t={delete:wp(i,e.key)};else if(e instanceof ta)t={update:Z_(i,e.key,e.data),updateMask:mI(e.fieldMask)};else{if(!(e instanceof qN))return Re(16599,{Vt:e.type});t={verify:wp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const m=u.transform;if(m instanceof Fc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof sl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof al)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $f)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Re(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:nI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(i,e.precondition)),t}function aI(i,e){return i&&i.length>0?(Ze(e!==void 0,14353),i.map((t=>(function(o,l){let u=o.updateTime?gr(o.updateTime):gr(l);return u.isEqual(Ne.min())&&(u=gr(l)),new UN(u,o.transformResults||[])})(t,e)))):[]}function oI(i,e){return{documents:[Yw(i,e.path)]}}function lI(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Yw(i,o);const l=(function(d){if(d.length!==0)return Ww(ji.create(d,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(d){if(d.length!==0)return d.map((y=>(function(b){return{field:Go(b.field),direction:hI(b.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=bp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:o}}function cI(i){let e=iI(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ze(s===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(_){const b=Qw(_);return b instanceof ji&&Tw(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((b=>(function(N){return new Vc($o(N.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(b)))})(t.orderBy));let m=null;t.limit&&(m=(function(_){let b;return b=typeof _=="object"?_.value:_,dd(b)?null:b})(t.limit));let g=null;t.startAt&&(g=(function(_){const b=!!_.before,R=_.values||[];return new Gf(R,b)})(t.startAt));let d=null;return t.endAt&&(d=(function(_){const b=!_.before,R=_.values||[];return new Gf(R,b)})(t.endAt)),RN(e,o,u,l,m,"F",g,d)}function uI(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Qw(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=$o(t.unaryFilter.field);return Ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$o(t.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=$o(t.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$o(t.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ft.create($o(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ji.create(t.compositeFilter.filters.map((s=>Qw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(i):Re(30097,{filter:i})}function hI(i){return ZN[i]}function fI(i){return JN[i]}function dI(i){return eI[i]}function Go(i){return{fieldPath:i.canonicalString()}}function $o(i){return sn.fromServerFormat(i.fieldPath)}function Ww(i){return i instanceof Ft?(function(t){if(t.op==="=="){if(V_(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NAN"}};if(L_(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(V_(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NAN"}};if(L_(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(t.field),op:fI(t.op),value:t.value}}})(i):i instanceof ji?(function(t){const s=t.getFilters().map((o=>Ww(o)));return s.length===1?s[0]:{compositeFilter:{op:dI(t.op),filters:s}}})(i):Re(54877,{filter:i})}function mI(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Zw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Ps{constructor(e,t,s,o,l=Ne.min(),u=Ne.min(),m=an.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pI{constructor(e){this.yt=e}}function gI(i){const e=cI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_p(e,e.limit,"L"):e}class xI{constructor(){this.Cn=new yI}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Hs.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class yI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Gt(ot.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Gt(ot.comparator)).toArray()}}const J_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jw=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(Jw,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}const e2="LruGarbageCollector",vI=1048576;function t2([i,e],[t,s]){const o=Ue(i,t);return o===0?Ue(e,s):o}class _I{constructor(e){this.Ir=e,this.buffer=new Gt(t2),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();t2(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(e2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?xe(e2,"Ignoring IndexedDB error during garbage collection: ",t):await fl(t)}await this.Vr(3e5)}))}}class EI{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return le.resolve(fd.ce);const s=new _I(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(J_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,u,m,g,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,u=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(s=_,m=Date.now(),this.removeTargets(e,s,t)))).next((_=>(l=_,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(d=Date.now(),Ho()<=Fe.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${_} documents in `+(d-g)+`ms
Total Duration: ${d-y}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:_}))))}}function wI(i,e){return new EI(i,e)}class AI{constructor(){this.changes=new qa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class CI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Nc(s.mutation,o,Kn.empty(),ft.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ze()){const o=Na();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let u=Ec();return l.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=Na();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ze())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,m)=>{t.set(u,m)}))}))}computeViews(e,t,s,o){let l=Wr();const u=Dc(),m=(function(){return Dc()})();return t.forEach(((g,d)=>{const y=s.get(d.key);o.has(d.key)&&(y===void 0||y.mutation instanceof ta)?l=l.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),Nc(y.mutation,d,y.mutation.getFieldMask(),ft.now())):u.set(d.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((d,y)=>u.set(d,y))),t.forEach(((d,y)=>m.set(d,new TI(y,u.get(d)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=Dc();let o=new _t(((u,m)=>u-m)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const m of u)m.keys().forEach((g=>{const d=t.get(g);if(d===null)return;let y=s.get(g)||Kn.empty();y=m.applyToLocalView(d,y),s.set(g,y);const _=(o.get(m.batchId)||ze()).add(g);o=o.insert(m.batchId,_)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),d=g.key,y=g.value,_=Ow();y.forEach((b=>{if(!l.has(b)){const R=Fw(t.get(b),s.get(b));R!==null&&_.set(b,R),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return le.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):le.resolve(Na());let m=jc,g=l;return u.next((d=>le.forEach(d,((y,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),l.get(y)?le.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{g=g.insert(y,b)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,g,d,ze()))).next((y=>({batchId:m,changes:Bw(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next((s=>{let o=Ec();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let u=Ec();return this.indexManager.getCollectionParents(e,l).next((m=>le.forEach(m,(g=>{const d=(function(_,b){return new ml(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,s,o).next((y=>{y.forEach(((_,b)=>{u=u.insert(_,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((u=>{l.forEach(((g,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,hn.newInvalidDocument(y)))}));let m=Ec();return u.forEach(((g,d)=>{const y=l.get(g);y!==void 0&&Nc(y.mutation,d,Kn.empty(),ft.now()),gd(t,d)&&(m=m.insert(g,d))})),m}))}}class SI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}})(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:gI(o.bundledQuery),readTime:gr(o.readTime)}})(t)),le.resolve()}}class RI{constructor(){this.overlays=new _t(Ae.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Na();return le.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=Na(),l=t.length+1,u=new Ae(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,d=g.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new _t(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>s){let y=l.get(d.largestBatchId);y===null&&(y=Na(),l=l.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const m=Na(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((d,y)=>m.set(d,y))),!(m.size()>=o)););return le.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new $N(t,s));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}class DI{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}class bg{constructor(){this.Qr=new Gt(Qt.$r),this.Ur=new Gt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Qt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Ae(new ot([])),s=new Qt(t,e),o=new Qt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new ot([])),s=new Qt(t,e),o=new Qt(t,e+1);let l=ze();return this.Ur.forEachInRange([s,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Qt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}class NI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Qt.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new GN(l,t,s,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new Qt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?ug:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Qt(t,0),o=new Qt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(u=>{const m=this.Xr(u.Yr);l.push(m)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Gt(Ue);return t.forEach((o=>{const l=new Qt(o,0),u=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(m=>{s=s.add(m.Yr)}))})),le.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Ae.isDocumentKey(l)||(l=l.child(""));const u=new Qt(new Ae(l),0);let m=new Gt(Ue);return this.Zr.forEachWhile((g=>{const d=g.key.path;return!!s.isPrefixOf(d)&&(d.length===o&&(m=m.add(g.Yr)),!0)}),u),le.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return le.forEach(t.mutations,(o=>{const l=new Qt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Qt(t,0),o=this.Zr.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class II{constructor(e){this.ri=e,this.docs=(function(){return new _t(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let s=Wr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():hn.newInvalidDocument(o))})),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Wr();const u=t.path,m=new Ae(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:d,value:{document:y}}=g.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||aN(sN(y),s)<=0||(o.has(y.key)||gd(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Re(9500)}ii(e,t){return le.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new kI(this)}getSize(e){return le.resolve(this.size)}}class kI extends AI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class BI{constructor(e){this.persistence=e,this.si=new qa((t=>dg(t)),mg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new bg,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ol(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),le.waitFor(l).next((()=>o))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}class eA{constructor(e,t){this.ui={},this.overlays={},this.ci=new fd(0),this.li=!1,this.li=!0,this.hi=new DI,this.referenceDelegate=e(this),this.Pi=new BI(this),this.indexManager=new xI,this.remoteDocumentCache=(function(o){return new II(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new pI(t),this.Ii=new SI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new NI(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){xe("MemoryPersistence","Starting transaction:",e);const o=new OI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return le.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class OI extends lN{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Ri=new bg,this.Vi=null}static mi(e){return new Eg(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(s=>{const o=Ae.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Yf{constructor(e,t){this.persistence=e,this.pi=new qa((s=>hN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=wI(this,t)}static mi(e,t){return new Yf(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return le.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?le.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((m=>{m||(s++,l.removeEntry(u,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hh(e.data.value)),t}br(e,t,s){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ze(),o=ze();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new wg(e,t.fromCache,s,o)}}class jI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H6()?8:cN(fn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new jI;return this.Ss(e,t,u).next((m=>{if(l.result=m,this.Vs)return this.bs(e,t,u,m.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Ho()<=Fe.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Ho()<=Fe.DEBUG&&xe("QueryEngine","Query:",qo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ho()<=Fe.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):le.resolve())}ys(e,t){if(H_(t))return le.resolve(null);let s=mr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=_p(t,null,"F"),s=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=ze(...l);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const d=this.Ds(t,m);return this.Cs(t,d,u,g.readTime)?this.ys(e,_p(t,null,"F")):this.vs(e,d,t,g)}))))})))))}ws(e,t,s,o){return H_(t)||o.isEqual(Ne.min())?le.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,s,o)?le.resolve(null):(Ho()<=Fe.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qo(t)),this.vs(e,u,t,rN(o,jc)).next((m=>m)))}))}Ds(e,t){let s=new Gt(Iw(e));return t.forEach(((o,l)=>{gd(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return Ho()<=Fe.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",qo(t)),this.ps.getDocumentsMatchingQuery(e,t,Hs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Ag="LocalStore",PI=3e8;class LI{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new _t(Ue),this.xs=new qa((l=>dg(l)),mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function VI(i,e,t,s){return new LI(i,e,t,s)}async function tA(i,e){const t=ke(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],m=[];let g=ze();for(const d of o){u.push(d.batchId);for(const y of d.mutations)g=g.add(y.key)}for(const d of l){m.push(d.batchId);for(const y of d.mutations)g=g.add(y.key)}return t.localDocuments.getDocuments(s,g).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:m})))}))}))}function FI(i,e){const t=ke(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,d,y){const _=d.batch,b=_.keys();let R=le.resolve();return b.forEach((N=>{R=R.next((()=>y.getEntry(g,N))).next((O=>{const T=d.docVersions.get(N);Ze(T!==null,48541),O.version.compareTo(T)<0&&(_.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),y.addEntry(O)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(g,_)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ze();for(let d=0;d<m.mutationResults.length;++d)m.mutationResults[d].transformResults.length>0&&(g=g.add(m.batch.mutations[d].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function nA(i){const e=ke(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function UI(i,e){const t=ke(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((y,_)=>{const b=o.get(_);if(!b)return;m.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(l,y.addedDocuments,_))));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(an.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),o=o.insert(_,R),(function(O,T,P){return O.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=PI?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(b,R,y)&&m.push(t.Pi.updateTargetData(l,R))}));let g=Wr(),d=ze();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),m.push(zI(l,u,e.documentUpdates).next((y=>{g=y.ks,d=y.qs}))),!s.isEqual(Ne.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next((_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(y)}return le.waitFor(m).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,d))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function zI(i,e,t){let s=ze(),o=ze();return t.forEach((l=>s=s.add(l))),e.getEntries(i,s).next((l=>{let u=Wr();return t.forEach(((m,g)=>{const d=l.get(m);g.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ne.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!d.isValidDocument()||g.version.compareTo(d.version)>0||g.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):xe(Ag,"Ignoring outdated watch update for ",m,". Current version:",d.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function HI(i,e){const t=ke(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ug),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function qI(i,e){const t=ke(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,le.resolve(o)):t.Pi.allocateTargetId(s).next((u=>(o=new Ps(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Tp(i,e,t){const s=ke(i),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!dl(u))throw u;xe(Ag,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function n2(i,e,t){const s=ke(i);let o=Ne.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,d,y){const _=ke(g),b=_.xs.get(y);return b!==void 0?le.resolve(_.Ms.get(b)):_.Pi.getTargetData(d,y)})(s,u,mr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,m.targetId).next((g=>{l=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,t?o:Ne.min(),t?l:ze()))).next((m=>(GI(s,NN(e),m),{documents:m,Qs:l})))))}function GI(i,e,t){let s=i.Os.get(e)||Ne.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),i.Os.set(e,s)}class i2{constructor(){this.activeTargetIds=MN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $I{constructor(){this.Mo=new i2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i2,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KI{Oo(e){}shutdown(){}}const r2="ConnectivityMonitor";class s2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(r2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(r2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bh=null;function Cp(){return Bh===null?Bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bh++,"0x"+Bh.toString(16)}const Km="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Hf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const u=Cp(),m=this.zo(e,t.toUriEncodedString());xe(Km,`Sending RPC '${e}' ${u}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:d}=new URL(m),y=Ws(d);return this.Jo(e,m,g,s,y).then((_=>(xe(Km,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw tl(Km,`RPC '${e}' ${u} failed with error: `,_,"url: ",m,"request:",s),_}))}Ho(e,t,s,o,l,u){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=YI[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class QI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cn="WebChannelConnection";class WI extends XI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const u=Cp();return new Promise(((m,g)=>{const d=new rw;d.setWithCredentials(!0),d.listenOnce(sw.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case zh.NO_ERROR:const _=d.getResponseJson();xe(cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),m(_);break;case zh.TIMEOUT:xe(cn,`RPC '${e}' ${u} timed out`),g(new de(ae.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const b=d.getStatus();if(xe(cn,`RPC '${e}' ${u} failed with status:`,b,"response text:",d.getResponseText()),b>0){let R=d.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R?.error;if(N&&N.status&&N.message){const O=(function(P){const C=P.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(C)>=0?C:ae.UNKNOWN})(N.status);g(new de(O,N.message))}else g(new de(ae.UNKNOWN,"Server responded with status "+d.getStatus()))}else g(new de(ae.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{xe(cn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);xe(cn,`RPC '${e}' ${u} sending request:`,o),d.send(t,"POST",y,s,15)}))}T_(e,t,s){const o=Cp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=lw(),m=ow(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(g.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const y=l.join("");xe(cn,`Creating RPC '${e}' stream ${o}: ${y}`,g);const _=u.createWebChannel(y,g);this.I_(_);let b=!1,R=!1;const N=new QI({Yo:T=>{R?xe(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,T):(b||(xe(cn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),b=!0),xe(cn,`RPC '${e}' stream ${o} sending:`,T),_.send(T))},Zo:()=>_.close()}),O=(T,P,C)=>{T.listen(P,(I=>{try{C(I)}catch(L){setTimeout((()=>{throw L}),0)}}))};return O(_,bc.EventType.OPEN,(()=>{R||(xe(cn,`RPC '${e}' stream ${o} transport opened.`),N.o_())})),O(_,bc.EventType.CLOSE,(()=>{R||(R=!0,xe(cn,`RPC '${e}' stream ${o} transport closed`),N.a_(),this.E_(_))})),O(_,bc.EventType.ERROR,(T=>{R||(R=!0,tl(cn,`RPC '${e}' stream ${o} transport errored. Name:`,T.name,"Message:",T.message),N.a_(new de(ae.UNAVAILABLE,"The operation could not be completed")))})),O(_,bc.EventType.MESSAGE,(T=>{if(!R){const P=T.data[0];Ze(!!P,16349);const C=P,I=C?.error||C[0]?.error;if(I){xe(cn,`RPC '${e}' stream ${o} received error:`,I);const L=I.status;let z=(function(S){const B=Vt[S];if(B!==void 0)return Hw(B)})(L),q=I.message;z===void 0&&(z=ae.INTERNAL,q="Unknown error status: "+L+" with message "+I.message),R=!0,N.a_(new de(z,q)),_.close()}else xe(cn,`RPC '${e}' stream ${o} received:`,P),N.u_(P)}})),O(m,aw.STAT_EVENT,(T=>{T.stat===dp.PROXY?xe(cn,`RPC '${e}' stream ${o} detected buffering proxy`):T.stat===dp.NOPROXY&&xe(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Ym(){return typeof document<"u"?document:null}function _d(i){return new tI(i,!0)}class iA{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const a2="PersistentStream";class rA{constructor(e,t,s,o,l,u,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new de(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(a2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(xe(a2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZI extends rA{constructor(e,t,s,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=rI(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?gr(u.readTime):Ne.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Ap(this.serializer),t.addTarget=(function(l,u){let m;const g=u.target;if(m=yp(g)?{documents:oI(l,g)}:{query:lI(l,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=$w(l,u.resumeToken);const d=bp(l,u.expectedCount);d!==null&&(m.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Kf(l,u.snapshotVersion.toTimestamp());const d=bp(l,u.expectedCount);d!==null&&(m.expectedCount=d)}return m})(this.serializer,e);const s=uI(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Ap(this.serializer),t.removeTarget=e,this.q_(t)}}class JI extends rA{constructor(e,t,s,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=aI(e.writeResults,e.commitTime),s=gr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Ap(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>sI(this.serializer,s)))};this.q_(t)}}class e9{}class t9 extends e9{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Ep(t,s),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ae.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Ep(t,s),o,u,m,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class n9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(t),this.aa=!1):xe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const La="RemoteStore";class i9{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Ga(this)&&(xe(La,"Restarting streams for network reachability change."),await(async function(g){const d=ke(g);d.Ea.add(4),await tu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await bd(d)})(this))}))})),this.Ra=new n9(s,o)}}async function bd(i){if(Ga(i))for(const e of i.da)await e(!0)}async function tu(i){for(const e of i.da)await e(!1)}function sA(i,e){const t=ke(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Rg(t)?Sg(t):pl(t).O_()&&Cg(t,e))}function Tg(i,e){const t=ke(i),s=pl(t);t.Ia.delete(e),s.O_()&&aA(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ga(t)&&t.Ra.set("Unknown"))}function Cg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(i).Y_(e)}function aA(i,e){i.Va.Ue(e),pl(i).Z_(e)}function Sg(i){i.Va=new WN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),pl(i).start(),i.Ra.ua()}function Rg(i){return Ga(i)&&!pl(i).x_()&&i.Ia.size>0}function Ga(i){return ke(i).Ea.size===0}function oA(i){i.Va=void 0}async function r9(i){i.Ra.set("Online")}async function s9(i){i.Ia.forEach(((e,t)=>{Cg(i,e)}))}async function a9(i,e){oA(i),Rg(i)?(i.Ra.ha(e),Sg(i)):i.Ra.set("Unknown")}async function o9(i,e,t){if(i.Ra.set("Online"),e instanceof Gw&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){xe(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xf(i,s)}else if(e instanceof $h?i.Va.Ze(e):e instanceof qw?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ne.min()))try{const s=await nA(i.localStore);t.compareTo(s)>=0&&await(function(l,u){const m=l.Va.Tt(u);return m.targetChanges.forEach(((g,d)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(d);y&&l.Ia.set(d,y.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,d)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),aA(l,g);const _=new Ps(y.target,g,d,y.sequenceNumber);Cg(l,_)})),l.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){xe(La,"Failed to raise snapshot:",s),await Xf(i,s)}}async function Xf(i,e,t){if(!dl(e))throw e;i.Ea.add(1),await tu(i),i.Ra.set("Offline"),t||(t=()=>nA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{xe(La,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await bd(i)}))}function lA(i,e){return e().catch((t=>Xf(i,t,e)))}async function Ed(i){const e=ke(i),t=Ks(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ug;for(;l9(e);)try{const o=await HI(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,c9(e,o)}catch(o){await Xf(e,o)}cA(e)&&uA(e)}function l9(i){return Ga(i)&&i.Ta.length<10}function c9(i,e){i.Ta.push(e);const t=Ks(i);t.O_()&&t.X_&&t.ea(e.mutations)}function cA(i){return Ga(i)&&!Ks(i).x_()&&i.Ta.length>0}function uA(i){Ks(i).start()}async function u9(i){Ks(i).ra()}async function h9(i){const e=Ks(i);for(const t of i.Ta)e.ea(t.mutations)}async function f9(i,e,t){const s=i.Ta.shift(),o=yg.from(s,e,t);await lA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ed(i)}async function d9(i,e){e&&Ks(i).X_&&await(async function(s,o){if((function(u){return YN(u)&&u!==ae.ABORTED})(o.code)){const l=s.Ta.shift();Ks(s).B_(),await lA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Ed(s)}})(i,e),cA(i)&&uA(i)}async function o2(i,e){const t=ke(i);t.asyncQueue.verifyOperationInProgress(),xe(La,"RemoteStore received new credentials");const s=Ga(t);t.Ea.add(3),await tu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bd(t)}async function m9(i,e){const t=ke(i);e?(t.Ea.delete(2),await bd(t)):e||(t.Ea.add(2),await tu(t),t.Ra.set("Unknown"))}function pl(i){return i.ma||(i.ma=(function(t,s,o){const l=ke(t);return l.sa(),new ZI(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:r9.bind(null,i),t_:s9.bind(null,i),r_:a9.bind(null,i),H_:o9.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Rg(i)?Sg(i):i.Ra.set("Unknown")):(await i.ma.stop(),oA(i))}))),i.ma}function Ks(i){return i.fa||(i.fa=(function(t,s,o){const l=ke(t);return l.sa(),new JI(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:u9.bind(null,i),r_:d9.bind(null,i),ta:h9.bind(null,i),na:f9.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ed(i)):(await i.fa.stop(),i.Ta.length>0&&(xe(La,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Dg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const u=Date.now()+s,m=new Dg(e,t,u,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(i,e){if(Qr("AsyncQueue",`${e}: ${i}`),dl(i))return new de(ae.UNAVAILABLE,`${e}: ${i}`);throw i}class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ae.comparator(t.key,s.key):(t,s)=>Ae.comparator(t.key,s.key),this.keyedMap=Ec(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Zo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class l2{constructor(){this.ga=new _t(Ae.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class ll{constructor(e,t,s,o,l,u,m,g,d){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=d}static fromInitialDocuments(e,t,s,o,l){const u=[];return t.forEach((m=>{u.push({type:0,doc:m})})),new ll(e,t,Zo.emptySet(t),u,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class p9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class g9{constructor(){this.queries=c2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=ke(t),l=o.queries;o.queries=c2(),l.forEach(((u,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new de(ae.ABORTED,"Firestore shutting down"))}}function c2(){return new qa((i=>Nw(i)),pd)}async function hA(i,e){const t=ke(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new p9,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const m=Ng(u,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ig(t)}async function fA(i,e){const t=ke(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function x9(i,e){const t=ke(i);let s=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const m of u.Sa)m.Fa(o)&&(s=!0);u.wa=o}}s&&Ig(t)}function y9(i,e,t){const s=ke(i),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Ig(i){i.Ca.forEach((e=>{e.next()}))}var Sp,u2;(u2=Sp||(Sp={})).Ma="default",u2.Cache="cache";class dA{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sp.Cache}}class mA{constructor(e){this.key=e}}class pA{constructor(e){this.key=e}}class v9{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=Iw(e),this.tu=new Zo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new l2,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,_)=>{const b=o.get(y),R=gd(this.query,_)?_:null,N=!!b&&this.mutatedKeys.has(b.key),O=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let T=!1;b&&R?b.data.isEqual(R.data)?N!==O&&(s.track({type:3,doc:R}),T=!0):this.su(b,R)||(s.track({type:2,doc:R}),T=!0,(g&&this.eu(R,g)>0||d&&this.eu(R,d)<0)&&(m=!0)):!b&&R?(s.track({type:0,doc:R}),T=!0):b&&!R&&(s.track({type:1,doc:b}),T=!0,(g||d)&&(m=!0)),T&&(R?(u=u.add(R),l=O?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(R,N){const O=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:T})}};return O(R)-O(N)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,d=g!==this.Za;return this.Za=g,u.length!==0||d?{snapshot:new ll(this.query,e.tu,l,u,e.mutatedKeys,g===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new pA(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new mA(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kg="SyncEngine";class _9{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class b9{constructor(e){this.key=e,this.hu=!1}}class E9{constructor(e,t,s,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new qa((m=>Nw(m)),pd),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ae.comparator),this.Au=new Map,this.Ru=new bg,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w9(i,e,t=!0){const s=bA(i);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await gA(s,e,t,!0),o}async function A9(i,e){const t=bA(i);await gA(t,e,!0,!1)}async function gA(i,e,t,s){const o=await qI(i.localStore,mr(e)),l=o.targetId,u=i.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await T9(i,e,l,u==="current",o.resumeToken)),i.isPrimaryClient&&t&&sA(i.remoteStore,o),m}async function T9(i,e,t,s,o){i.pu=(_,b,R)=>(async function(O,T,P,C){let I=T.view.ru(P);I.Cs&&(I=await n2(O.localStore,T.query,!1).then((({documents:A})=>T.view.ru(A,I))));const L=C&&C.targetChanges.get(T.targetId),z=C&&C.targetMismatches.get(T.targetId)!=null,q=T.view.applyChanges(I,O.isPrimaryClient,L,z);return f2(O,T.targetId,q.au),q.snapshot})(i,_,b,R);const l=await n2(i.localStore,e,!0),u=new v9(e,l.Qs),m=u.ru(l.documents),g=eu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),d=u.applyChanges(m,i.isPrimaryClient,g);f2(i,t,d.au);const y=new _9(e,t,u);return i.Tu.set(e,y),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),d.snapshot}async function C9(i,e,t){const s=ke(i),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((u=>!pd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Tg(s.remoteStore,o.targetId),Rp(s,o.targetId)})).catch(fl)):(Rp(s,o.targetId),await Tp(s.localStore,o.targetId,!0))}async function S9(i,e){const t=ke(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Tg(t.remoteStore,s.targetId))}async function R9(i,e,t){const s=j9(i);try{const o=await(function(u,m){const g=ke(u),d=ft.now(),y=m.reduce(((R,N)=>R.add(N.key)),ze());let _,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let N=Wr(),O=ze();return g.Ns.getEntries(R,y).next((T=>{N=T,N.forEach(((P,C)=>{C.isValidDocument()||(O=O.add(P))}))})).next((()=>g.localDocuments.getOverlayedDocuments(R,N))).next((T=>{_=T;const P=[];for(const C of m){const I=HN(C,_.get(C.key).overlayedDocument);I!=null&&P.push(new ta(C.key,I,Ew(I.value.mapValue),pr.exists(!0)))}return g.mutationQueue.addMutationBatch(R,d,P,m)})).next((T=>{b=T;const P=T.applyToLocalDocumentSet(_,O);return g.documentOverlayCache.saveOverlays(R,T.batchId,P)}))})).then((()=>({batchId:b.batchId,changes:Bw(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,m,g){let d=u.Vu[u.currentUser.toKey()];d||(d=new _t(Ue)),d=d.insert(m,g),u.Vu[u.currentUser.toKey()]=d})(s,o.batchId,t),await nu(s,o.changes),await Ed(s.remoteStore)}catch(o){const l=Ng(o,"Failed to persist write");t.reject(l)}}async function xA(i,e){const t=ke(i);try{const s=await UI(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ze(u.hu,14607):o.removedDocuments.size>0&&(Ze(u.hu,42227),u.hu=!1))})),await nu(t,s,e)}catch(s){await fl(s)}}function h2(i,e,t){const s=ke(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const g=ke(u);g.onlineState=m;let d=!1;g.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(m)&&(d=!0)})),d&&Ig(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function D9(i,e,t){const s=ke(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let u=new _t(Ae.comparator);u=u.insert(l,hn.newNoDocument(l,Ne.min()));const m=ze().add(l),g=new vd(Ne.min(),new Map,new _t(Ue),u,m);await xA(s,g),s.du=s.du.remove(l),s.Au.delete(e),Bg(s)}else await Tp(s.localStore,e,!1).then((()=>Rp(s,e,t))).catch(fl)}async function N9(i,e){const t=ke(i),s=e.batch.batchId;try{const o=await FI(t.localStore,e);vA(t,s,null),yA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await nu(t,o)}catch(o){await fl(o)}}async function I9(i,e,t){const s=ke(i);try{const o=await(function(u,m){const g=ke(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return g.mutationQueue.lookupMutationBatch(d,m).next((_=>(Ze(_!==null,37113),y=_.keys(),g.mutationQueue.removeMutationBatch(d,_)))).next((()=>g.mutationQueue.performConsistencyCheck(d))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(d,y,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>g.localDocuments.getDocuments(d,y)))}))})(s.localStore,e);vA(s,e,t),yA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await nu(s,o)}catch(o){await fl(o)}}function yA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function vA(i,e,t){const s=ke(i);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Rp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||_A(i,s)}))}function _A(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Tg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Bg(i))}function f2(i,e,t){for(const s of t)s instanceof mA?(i.Ru.addReference(s.key,e),k9(i,s)):s instanceof pA?(xe(kg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||_A(i,s.key)):Re(19791,{wu:s})}function k9(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(xe(kg,"New document in limbo: "+t),i.Eu.add(s),Bg(i))}function Bg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Ae(ot.fromString(e)),s=i.fu.next();i.Au.set(s,new b9(t)),i.du=i.du.insert(t,s),sA(i.remoteStore,new Ps(mr(pg(t.path)),s,"TargetPurposeLimboResolution",fd.ce))}}async function nu(i,e,t){const s=ke(i),o=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{u.push(s.pu(g,e,t).then((d=>{if((d||t)&&s.isPrimaryClient){const y=d?!d.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(d){o.push(d);const y=wg.As(g.targetId,d);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(g,d){const y=ke(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>le.forEach(d,(b=>le.forEach(b.Es,(R=>y.persistence.referenceDelegate.addReference(_,b.targetId,R))).next((()=>le.forEach(b.ds,(R=>y.persistence.referenceDelegate.removeReference(_,b.targetId,R)))))))))}catch(_){if(!dl(_))throw _;xe(Ag,"Failed to update sequence numbers: "+_)}for(const _ of d){const b=_.targetId;if(!_.fromCache){const R=y.Ms.get(b),N=R.snapshotVersion,O=R.withLastLimboFreeSnapshotVersion(N);y.Ms=y.Ms.insert(b,O)}}})(s.localStore,l))}async function B9(i,e){const t=ke(i);if(!t.currentUser.isEqual(e)){xe(kg,"User change. New user:",e.toKey());const s=await tA(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((m=>{m.forEach((g=>{g.reject(new de(ae.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nu(t,s.Ls)}}function O9(i,e){const t=ke(i),s=t.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const m=t.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function bA(i){const e=ke(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=xA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D9.bind(null,e),e.Pu.H_=x9.bind(null,e.eventManager),e.Pu.yu=y9.bind(null,e.eventManager),e}function j9(i){const e=ke(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I9.bind(null,e),e}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return VI(this.persistence,new MI,e.initialUser,this.serializer)}Cu(e){return new eA(Eg.mi,this.serializer)}Du(e){return new $I}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class M9 extends Qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof Yf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bI(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new eA((s=>Yf.mi(s,t)),this.serializer)}}class Dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>h2(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=B9.bind(null,this.syncEngine),await m9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g9})()}createDatastore(e){const t=_d(e.databaseInfo.databaseId),s=(function(l){return new WI(l)})(e.databaseInfo);return(function(l,u,m,g){return new t9(l,u,m,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,u,m){return new i9(s,o,l,u,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>h2(this.syncEngine,t,0)),(function(){return s2.v()?new s2:new KI})())}createSyncEngine(e,t){return(function(o,l,u,m,g,d,y){const _=new E9(o,l,u,m,g,d);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=ke(t);xe(La,"RemoteStore shutting down."),s.Ea.add(5),await tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dp.provider={build:()=>new Dp};class EA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ys="FirestoreClient";class P9{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{xe(Ys,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(xe(Ys,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ng(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Xm(i,e){i.asyncQueue.verifyOperationInProgress(),xe(Ys,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await tA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function d2(i,e){i.asyncQueue.verifyOperationInProgress();const t=await L9(i);xe(Ys,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>o2(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>o2(e.remoteStore,o))),i._onlineComponents=e}async function L9(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){xe(Ys,"Using user provided OfflineComponentProvider");try{await Xm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;tl("Error using user provided cache. Falling back to memory cache: "+t),await Xm(i,new Qf)}}else xe(Ys,"Using default OfflineComponentProvider"),await Xm(i,new M9(void 0));return i._offlineComponents}async function wA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(xe(Ys,"Using user provided OnlineComponentProvider"),await d2(i,i._uninitializedComponentsProvider._online)):(xe(Ys,"Using default OnlineComponentProvider"),await d2(i,new Dp))),i._onlineComponents}function V9(i){return wA(i).then((e=>e.syncEngine))}async function AA(i){const e=await wA(i),t=e.eventManager;return t.onListen=w9.bind(null,e.syncEngine),t.onUnlisten=C9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=A9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=S9.bind(null,e.syncEngine),t}function F9(i,e,t={}){const s=new $r;return i.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,g,d){const y=new EA({next:b=>{y.Nu(),u.enqueueAndForget((()=>fA(l,_)));const R=b.docs.has(m);!R&&b.fromCache?d.reject(new de(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&g&&g.source==="server"?d.reject(new de(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new dA(pg(m.path),y,{includeMetadataChanges:!0,qa:!0});return hA(l,_)})(await AA(i),i.asyncQueue,e,t,s))),s.promise}function U9(i,e,t={}){const s=new $r;return i.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,g,d){const y=new EA({next:b=>{y.Nu(),u.enqueueAndForget((()=>fA(l,_))),b.fromCache&&g.source==="server"?d.reject(new de(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new dA(m,y,{includeMetadataChanges:!0,qa:!0});return hA(l,_)})(await AA(i),i.asyncQueue,e,t,s))),s.promise}function TA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const m2=new Map;const CA="firestore.googleapis.com",p2=!0;class g2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CA,this.ssl=p2}else this.host=e.host,this.ssl=e.ssl??p2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vI)throw new de(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new KD;switch(s.type){case"firstParty":return new WD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=m2.get(t);s&&(xe("ComponentProvider","Removing Datastore"),m2.delete(t),s.terminate())})(this),Promise.resolve()}}function z9(i,e,t,s={}){i=zs(i,wd);const o=Ws(e),l=i._getSettings(),u={...l,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(qp(`https://${m}`),Gp("Firestore",!0)),l.host!==CA&&l.host!==m&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:m,ssl:o,emulatorOptions:s};if(!vr(g,u)&&(i._setSettings(g),s.mockUserToken)){let d,y;if(typeof s.mockUserToken=="string")d=s.mockUserToken,y=un.MOCK_USER;else{d=Gb(s.mockUserToken,i._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new de(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new un(_)}i._authCredentials=new YD(new uw(d,y))}}class $a{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $a(this.firestore,e,this._query)}}class zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Zc(t,zt._jsonSchema))return new zt(e,s||null,new Ae(ot.fromString(t.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Ut("string",zt._jsonSchemaVersion),referencePath:Ut("string")};class Us extends $a{constructor(e,t,s){super(e,t,pg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ae(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function Xs(i,e,...t){if(i=lt(i),hw("collection","path",e),i instanceof wd){const s=ot.fromString(e,...t);return D_(s),new Us(i,null,s)}{if(!(i instanceof zt||i instanceof Us))throw new de(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...t));return D_(s),new Us(i.firestore,null,s)}}function iu(i,e,...t){if(i=lt(i),arguments.length===1&&(e=cg.newId()),hw("doc","path",e),i instanceof wd){const s=ot.fromString(e,...t);return R_(s),new zt(i,null,new Ae(s))}{if(!(i instanceof zt||i instanceof Us))throw new de(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...t));return R_(s),new zt(i.firestore,i instanceof Us?i.converter:null,new Ae(s))}}const x2="AsyncQueue";class y2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iA(this,"async_queue_retry"),this._c=()=>{const s=Ym();s&&xe(x2,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Ym();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ym();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;xe(x2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",v2(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Dg.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:v2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function v2(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ru extends wd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new y2,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y2(e),this._firestoreClient=void 0,await e}}}function H9(i,e){const t=typeof i=="object"?i:sd(),s=typeof i=="string"?i:Hf,o=Zs(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=zb("firestore");l&&z9(o,...l)}return o}function Og(i){if(i._terminated)throw new de(ae.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||q9(i),i._firestoreClient}function q9(i){const e=i._freezeSettings(),t=(function(o,l,u,m){return new mN(o,l,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,TA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new P9(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(i._componentsProvider))}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(an.fromBase64String(e))}catch(t){throw new de(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new di(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zc(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:Ut("string",di._jsonSchemaVersion),bytes:Ut("string")};class Ad{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gl{constructor(e){this._methodName=e}}class xr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(e){if(Zc(e,xr._jsonSchema))return new xr(e.latitude,e.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:Ut("string",xr._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class yr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zc(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new yr(e.vectorValues);throw new de(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:Ut("string",yr._jsonSchemaVersion),vectorValues:Ut("object")};const G9=/^__.*__$/;class $9{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jc(e,this.data,t,this.fieldTransforms)}}class SA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:i})}}class Td{constructor(e,t,s,o,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Td({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RA(this.Ac)&&G9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class K9{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||_d(e)}Cc(e,t,s,o=!1){return new Td({Ac:e,methodName:t,Dc:s,path:sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(i){const e=i._freezeSettings(),t=_d(i._databaseId);return new K9(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Y9(i,e,t,s,o,l={}){const u=i.Cc(l.merge||l.mergeFields?2:0,e,t,o);Vg("Data must be an object, but it was:",u,s);const m=NA(s,u);let g,d;if(l.merge)g=new Kn(u.fieldMask),d=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=Np(e,_,t);if(!u.contains(b))throw new de(ae.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);kA(y,b)||y.push(b)}g=new Kn(y),d=u.fieldTransforms.filter((_=>g.covers(_.field)))}else g=null,d=u.fieldTransforms;return new $9(new Nn(m),g,d)}class Cd extends gl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cd}}function DA(i,e,t){return new Td({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mg extends gl{_toFieldTransform(e){return new xg(e.path,new Fc)}isEqual(e){return e instanceof Mg}}class Pg extends gl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=DA(this,e,!0),s=this.vc.map((l=>Ka(l,t))),o=new sl(s);return new xg(e.path,o)}isEqual(e){return e instanceof Pg&&vr(this.vc,e.vc)}}class Lg extends gl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=DA(this,e,!0),s=this.vc.map((l=>Ka(l,t))),o=new al(s);return new xg(e.path,o)}isEqual(e){return e instanceof Lg&&vr(this.vc,e.vc)}}function X9(i,e,t,s){const o=i.Cc(1,e,t);Vg("Data must be an object, but it was:",o,s);const l=[],u=Nn.empty();ea(s,((g,d)=>{const y=Fg(e,g,t);d=lt(d);const _=o.yc(y);if(d instanceof Cd)l.push(y);else{const b=Ka(d,_);b!=null&&(l.push(y),u.set(y,b))}}));const m=new Kn(l);return new SA(u,m,o.fieldTransforms)}function Q9(i,e,t,s,o,l){const u=i.Cc(1,e,t),m=[Np(e,s,t)],g=[o];if(l.length%2!=0)throw new de(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)m.push(Np(e,l[b])),g.push(l[b+1]);const d=[],y=Nn.empty();for(let b=m.length-1;b>=0;--b)if(!kA(d,m[b])){const R=m[b];let N=g[b];N=lt(N);const O=u.yc(R);if(N instanceof Cd)d.push(R);else{const T=Ka(N,O);T!=null&&(d.push(R),y.set(R,T))}}const _=new Kn(d);return new SA(y,_,u.fieldTransforms)}function W9(i,e,t,s=!1){return Ka(t,i.Cc(s?4:3,e))}function Ka(i,e){if(IA(i=lt(i)))return Vg("Unsupported field value:",e,i),NA(i,e);if(i instanceof gl)return(function(s,o){if(!RA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let u=0;for(const m of s){let g=Ka(m,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}})(i,e)}return(function(s,o){if((s=lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ft.fromDate(s);return{timestampValue:Kf(o.serializer,l)}}if(s instanceof ft){const l=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kf(o.serializer,l)}}if(s instanceof xr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof di)return{bytesValue:$w(o.serializer,s._byteString)};if(s instanceof zt){const l=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yr)return(function(u,m){return{mapValue:{fields:{[_w]:{stringValue:bw},[qf]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw m.Sc("VectorValues must only contain numeric values.");return gg(m.serializer,d)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${hd(s)}`)})(i,e)}function NA(i,e){const t={};return mw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(i,((s,o)=>{const l=Ka(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function IA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof xr||i instanceof di||i instanceof zt||i instanceof gl||i instanceof yr)}function Vg(i,e,t){if(!IA(t)||!fw(t)){const s=hd(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Np(i,e,t){if((e=lt(e))instanceof Ad)return e._internalPath;if(typeof e=="string")return Fg(i,e);throw Wf("Field path arguments must be of type string or ",i,!1,void 0,t)}const Z9=new RegExp("[~\\*/\\[\\]]");function Fg(i,e,t){if(e.search(Z9)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ad(...e.split("."))._internalPath}catch{throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Wf(i,e,t,s,o){const l=s&&!s.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${s}`),u&&(g+=` in document ${o}`),g+=")"),new de(ae.INVALID_ARGUMENT,m+i+g)}function kA(i,e){return i.some((t=>t.isEqual(e)))}class BA{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class J9 extends BA{data(){return super.data()}}function Sd(i,e){return typeof e=="string"?Fg(i,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}function ek(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class OA extends Ug{}function Uc(i,e,...t){let s=[];e instanceof Ug&&s.push(e),s=s.concat(t),(function(l){const u=l.filter((g=>g instanceof Hg)).length,m=l.filter((g=>g instanceof Rd)).length;if(u>1||u>0&&m>0)throw new de(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Rd extends OA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Rd(e,t,s)}_apply(e){const t=this._parse(e);return MA(e._query,t),new $a(e.firestore,e.converter,vp(e._query,t))}_parse(e){const t=jg(e.firestore);return(function(l,u,m,g,d,y,_){let b;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){b2(_,y);const N=[];for(const O of _)N.push(_2(g,l,O));b={arrayValue:{values:N}}}else b=_2(g,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||b2(_,y),b=W9(m,u,_,y==="in"||y==="not-in");return Ft.create(d,y,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zg(i,e,t){const s=e,o=Sd("where",i);return Rd._create(o,s,t)}class Hg extends Ug{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ji.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const m=l.getFlattenedFilters();for(const g of m)MA(u,g),u=vp(u,g)})(e._query,t),new $a(e.firestore,e.converter,vp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends OA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qg(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new de(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vc(l,u)})(e._query,this._field,this._direction);return new $a(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new ml(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function jA(i,e="asc"){const t=e,s=Sd("orderBy",i);return qg._create(s,t)}function _2(i,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new de(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dw(e)&&t.indexOf("/")!==-1)throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ot.fromString(t));if(!Ae.isDocumentKey(s))throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return P_(i,new Ae(s))}if(t instanceof zt)return P_(i,t._key);throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(t)}.`)}function b2(i,e){if(!Array.isArray(i)||i.length===0)throw new de(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MA(i,e){const t=(function(o,l){for(const u of o)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tk{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ea(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[qf].arrayValue?.values?.map((s=>Rt(s.doubleValue)));return new yr(t)}convertGeoPoint(e){return new xr(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=md(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const t=qs(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ot.fromString(e);Ze(Zw(s),9688,{name:e});const o=new Pc(s.get(1),s.get(3)),l=new Ae(s.popFirst(5));return o.isEqual(t)||Qr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function nk(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class Ac{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends BA{constructor(e,t,s,o,l,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Sd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ia._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:Ut("string",Ia._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Kh extends Ia{data(e={}){return super.data(e)}}class Jo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ac(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Kh(this._firestore,this._userDataWriter,s.key,s,new Ac(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const g=new Kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ac(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const g=new Kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ac(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,y=-1;return m.type!==0&&(d=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),y=u.indexOf(m.doc.key)),{type:ik(m.type),doc:g,oldIndex:d,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ik(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}function PA(i){i=zs(i,zt);const e=zs(i.firestore,ru);return F9(Og(e),i._key).then((t=>rk(e,i,t)))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:Ut("string",Jo._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class LA extends tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}}function zc(i){i=zs(i,$a);const e=zs(i.firestore,ru),t=Og(e),s=new LA(e);return ek(i._query),U9(t,i._query).then((o=>new Jo(e,s,i,o)))}function Gg(i,e,t,...s){i=zs(i,zt);const o=zs(i.firestore,ru),l=jg(o);let u;return u=typeof(e=lt(e))=="string"||e instanceof Ad?Q9(l,"updateDoc",i._key,e,t,s):X9(l,"updateDoc",i._key,e),VA(o,[u.toMutation(i._key,pr.exists(!0))])}function $g(i,e){const t=zs(i.firestore,ru),s=iu(i),o=nk(i.converter,e);return VA(t,[Y9(jg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,pr.exists(!1))]).then((()=>s))}function VA(i,e){return(function(s,o){const l=new $r;return s.asyncQueue.enqueueAndForget((async()=>R9(await V9(s),o,l))),l.promise})(Og(i),e)}function rk(i,e,t){const s=t.docs.get(e._key),o=new LA(i);return new Ia(i,o,e._key,s,new Ac(t.hasPendingWrites,t.fromCache),e.converter)}function Ip(){return new Mg("serverTimestamp")}function FA(...i){return new Pg("arrayUnion",i)}function UA(...i){return new Lg("arrayRemove",i)}(function(e,t=!0){(function(o){hl=o})(za),Bi(new pi("firestore",((s,{instanceIdentifier:o,options:l})=>{const u=s.getProvider("app").getImmediate(),m=new ru(new XD(s.getProvider("auth-internal")),new ZD(u,s.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new de(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(d.options.projectId,y)})(u,o),u);return l={useFetchStreams:t,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),In(A_,T_,e),In(A_,T_,"esm2020")})();const zA="firebasestorage.googleapis.com",HA="storageBucket",sk=120*1e3,ak=600*1e3;class At extends xi{constructor(e,t,s=0){super(Qm(e),`Firebase Storage: ${t} (${Qm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Qm(i){return"storage/"+i}function Kg(){const i="An unknown error occurred, please check the error payload for server response.";return new At(wt.UNKNOWN,i)}function ok(i){return new At(wt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function lk(i){return new At(wt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ck(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(wt.UNAUTHENTICATED,i)}function uk(){return new At(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hk(i){return new At(wt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function fk(){return new At(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dk(){return new At(wt.CANCELED,"User canceled the upload/download.")}function mk(i){return new At(wt.INVALID_URL,"Invalid URL '"+i+"'.")}function pk(i){return new At(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function gk(){return new At(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HA+"' property when initializing the app?")}function xk(){return new At(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yk(){return new At(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vk(i){return new At(wt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function kp(i){return new At(wt.INVALID_ARGUMENT,i)}function qA(){return new At(wt.APP_DELETED,"The Firebase app was deleted.")}function _k(i){return new At(wt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ic(i,e){return new At(wt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function yc(i){throw new At(wt.INTERNAL_ERROR,"Internal error: "+i)}class Yn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Yn.makeFromUrl(e,t)}catch{return new Yn(e,"")}if(s.path==="")return s;throw pk(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+o+u,"i"),g={bucket:1,path:3};function d(L){L.path_=decodeURIComponent(L.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${y}/b/${o}/o${b}`,"i"),N={bucket:1,path:3},O=t===zA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",P=new RegExp(`^https?://${O}/${o}/${T}`,"i"),I=[{regex:m,indices:g,postModify:l},{regex:R,indices:N,postModify:d},{regex:P,indices:{bucket:1,path:2},postModify:d}];for(let L=0;L<I.length;L++){const z=I[L],q=z.regex.exec(e);if(q){const A=q[z.indices.bucket];let S=q[z.indices.path];S||(S=""),s=new Yn(A,S),z.postModify(s);break}}if(s==null)throw mk(e);return s}}class bk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Ek(i,e,t){let s=1,o=null,l=null,u=!1,m=0;function g(){return m===2}let d=!1;function y(...T){d||(d=!0,e.apply(null,T))}function _(T){o=setTimeout(()=>{o=null,i(R,g())},T)}function b(){l&&clearTimeout(l)}function R(T,...P){if(d){b();return}if(T){b(),y.call(null,T,...P);return}if(g()||u){b(),y.call(null,T,...P);return}s<64&&(s*=2);let I;m===1?(m=2,I=0):I=(s+Math.random())*1e3,_(I)}let N=!1;function O(T){N||(N=!0,b(),!d&&(o!==null?(T||(m=2),clearTimeout(o),_(0)):T||(m=1)))}return _(0),l=setTimeout(()=>{u=!0,O(!0)},t),O}function wk(i){i(!1)}function Ak(i){return i!==void 0}function Tk(i){return typeof i=="object"&&!Array.isArray(i)}function Yg(i){return typeof i=="string"||i instanceof String}function E2(i){return Xg()&&i instanceof Blob}function Xg(){return typeof Blob<"u"}function w2(i,e,t,s){if(s<e)throw kp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw kp(`Invalid value for '${i}'. Expected ${t} or less.`)}function Qg(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function GA(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var ka;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ka||(ka={}));function Ck(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}class Sk{constructor(e,t,s,o,l,u,m,g,d,y,_,b=!0,R=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=g,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,O)=>{this.resolve_=N,this.reject_=O,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Oh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{const g=m.loaded,d=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,d)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===ka.NO_ERROR,g=l.getStatus();if(!m||Ck(g,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===ka.ABORT;s(!1,new Oh(!1,null,y));return}const d=this.successCodes_.indexOf(g)!==-1;s(!0,new Oh(d,l))})},t=(s,o)=>{const l=this.resolve_,u=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());Ak(g)?l(g):l()}catch(g){u(g)}else if(m!==null){const g=Kg();g.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,g)):u(g)}else if(o.canceled){const g=this.appDelete_?qA():dk();u(g)}else{const g=fk();u(g)}};this.canceled_?t(!1,new Oh(!1,null,!0)):this.backoffId_=Ek(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function Rk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Dk(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Nk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Ik(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function kk(i,e,t,s,o,l,u=!0,m=!1){const g=GA(i.urlParams),d=i.url+g,y=Object.assign({},i.headers);return Nk(y,e),Rk(y,t),Dk(y,l),Ik(y,s),new Sk(d,i.method,y,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,u,m)}function Bk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ok(...i){const e=Bk();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Xg())return new Blob(i);throw new At(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jk(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function Mk(i){if(typeof atob>"u")throw vk("base-64");return atob(i)}const hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wm{constructor(e,t){this.data=e,this.contentType=t||null}}function Pk(i,e){switch(i){case hr.RAW:return new Wm($A(e));case hr.BASE64:case hr.BASE64URL:return new Wm(KA(i,e));case hr.DATA_URL:return new Wm(Vk(e),Fk(e))}throw Kg()}function $A(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=i.charCodeAt(++t);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Lk(i){let e;try{e=decodeURIComponent(i)}catch{throw Ic(hr.DATA_URL,"Malformed data URL.")}return $A(e)}function KA(i,e){switch(i){case hr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Ic(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case hr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Ic(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Mk(e)}catch(o){throw o.message.includes("polyfill")?o:Ic(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class YA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ic(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=Uk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Vk(i){const e=new YA(i);return e.base64?KA(hr.BASE64,e.rest):Lk(e.rest)}function Fk(i){return new YA(i).contentType}function Uk(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class Ms{constructor(e,t){let s=0,o="";E2(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(E2(this.data_)){const s=this.data_,o=jk(s,e,t);return o===null?null:new Ms(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Ms(s,!0)}}static getBlob(...e){if(Xg()){const t=e.map(s=>s instanceof Ms?s.data_:s);return new Ms(Ok.apply(null,t))}else{const t=e.map(u=>Yg(u)?Pk(hr.RAW,u).data:u.data_);let s=0;t.forEach(u=>{s+=u.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)o[l++]=u[m]}),new Ms(o,!0)}}uploadData(){return this.data_}}function XA(i){let e;try{e=JSON.parse(i)}catch{return null}return Tk(e)?e:null}function zk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Hk(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function QA(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function qk(i,e){return e}class gn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||qk}}let jh=null;function Gk(i){return!Yg(i)||i.length<2?i:QA(i)}function WA(){if(jh)return jh;const i=[];i.push(new gn("bucket")),i.push(new gn("generation")),i.push(new gn("metageneration")),i.push(new gn("name","fullPath",!0));function e(l,u){return Gk(u)}const t=new gn("name");t.xform=e,i.push(t);function s(l,u){return u!==void 0?Number(u):u}const o=new gn("size");return o.xform=s,i.push(o),i.push(new gn("timeCreated")),i.push(new gn("updated")),i.push(new gn("md5Hash",null,!0)),i.push(new gn("cacheControl",null,!0)),i.push(new gn("contentDisposition",null,!0)),i.push(new gn("contentEncoding",null,!0)),i.push(new gn("contentLanguage",null,!0)),i.push(new gn("contentType",null,!0)),i.push(new gn("metadata","customMetadata",!0)),jh=i,jh}function $k(i,e){function t(){const s=i.bucket,o=i.fullPath,l=new Yn(s,o);return e._makeStorageReference(l)}Object.defineProperty(i,"ref",{get:t})}function Kk(i,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];s[u.local]=u.xform(s,e[u.server])}return $k(s,i),s}function ZA(i,e,t){const s=XA(e);return s===null?null:Kk(i,s,t)}function Yk(i,e,t,s){const o=XA(e);if(o===null||!Yg(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(d=>{const y=i.bucket,_=i.fullPath,b="/b/"+u(y)+"/o/"+u(_),R=Qg(b,t,s),N=GA({alt:"media",token:d});return R+N})[0]}function Xk(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=i[l.local])}return JSON.stringify(t)}class JA{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function eT(i){if(!i)throw Kg()}function Qk(i,e){function t(s,o){const l=ZA(i,o,e);return eT(l!==null),l}return t}function Wk(i,e){function t(s,o){const l=ZA(i,o,e);return eT(l!==null),Yk(l,o,i.host,i._protocol)}return t}function tT(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=uk():o=ck():t.getStatus()===402?o=lk(i.bucket):t.getStatus()===403?o=hk(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Zk(i){const e=tT(i);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=ok(i.path)),l.serverResponse=o.serverResponse,l}return t}function Jk(i,e,t){const s=e.fullServerUrl(),o=Qg(s,i.host,i._protocol),l="GET",u=i.maxOperationRetryTime,m=new JA(o,l,Wk(i,t),u);return m.errorHandler=Zk(e),m}function e7(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function t7(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=e7(null,e)),s}function n7(i,e,t,s,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let I="";for(let L=0;L<2;L++)I=I+Math.random().toString().slice(2);return I}const g=m();u["Content-Type"]="multipart/related; boundary="+g;const d=t7(e,s,o),y=Xk(d,t),_="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+g+`\r
Content-Type: `+d.contentType+`\r
\r
`,b=`\r
--`+g+"--",R=Ms.getBlob(_,s,b);if(R===null)throw xk();const N={name:d.fullPath},O=Qg(l,i.host,i._protocol),T="POST",P=i.maxUploadRetryTime,C=new JA(O,T,Qk(i,t),P);return C.urlParams=N,C.headers=u,C.body=R.uploadData(),C.errorHandler=tT(e),C}class i7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ka.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ka.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ka.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,l){if(this.sent_)throw yc("cannot .send() more than once");if(Ws(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class r7 extends i7{initXhr(){this.xhr_.responseType="text"}}function nT(){return new r7}class Va{constructor(e,t){this._service=e,t instanceof Yn?this._location=t:this._location=Yn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Va(e,t)}get root(){const e=new Yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QA(this._location.path)}get storage(){return this._service}get parent(){const e=zk(this._location.path);if(e===null)return null;const t=new Yn(this._location.bucket,e);return new Va(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw _k(e)}}function s7(i,e,t){i._throwIfRoot("uploadBytes");const s=n7(i.storage,i._location,WA(),new Ms(e,!0),t);return i.storage.makeRequestWithTokens(s,nT).then(o=>({metadata:o,ref:i}))}function a7(i){i._throwIfRoot("getDownloadURL");const e=Jk(i.storage,i._location,WA());return i.storage.makeRequestWithTokens(e,nT).then(t=>{if(t===null)throw yk();return t})}function o7(i,e){const t=Hk(i._location.path,e),s=new Yn(i._location.bucket,t);return new Va(i.storage,s)}function l7(i){return/^[A-Za-z]+:\/\//.test(i)}function c7(i,e){return new Va(i,e)}function iT(i,e){if(i instanceof Wg){const t=i;if(t._bucket==null)throw gk();const s=new Va(t,t._bucket);return e!=null?iT(s,e):s}else return e!==void 0?o7(i,e):i}function u7(i,e){if(e&&l7(e)){if(i instanceof Wg)return c7(i,e);throw kp("To use ref(service, url), the first argument must be a Storage instance.")}else return iT(i,e)}function A2(i,e){const t=e?.[HA];return t==null?null:Yn.makeFromBucketSpec(t,i)}function h7(i,e,t,s={}){i.host=`${e}:${t}`;const o=Ws(e);o&&(qp(`https://${i.host}/b`),Gp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(i._overrideAuthToken=typeof l=="string"?l:Gb(l,i.app.options.projectId))}class Wg{constructor(e,t,s,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=zA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sk,this._maxUploadRetryTime=ak,this._requests=new Set,o!=null?this._bucket=Yn.makeFromBucketSpec(o,this._host):this._bucket=A2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yn.makeFromBucketSpec(this._url,e):this._bucket=A2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){w2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){w2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Va(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new bk(qA());{const u=kk(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const T2="@firebase/storage",C2="0.14.0";const rT="storage";function f7(i,e,t){return i=lt(i),s7(i,e,t)}function d7(i){return i=lt(i),a7(i)}function m7(i,e){return i=lt(i),u7(i,e)}function p7(i=sd(),e){i=lt(i);const s=Zs(i,rT).getImmediate({identifier:e}),o=zb("storage");return o&&g7(s,...o),s}function g7(i,e,t,s={}){h7(i,e,t,s)}function x7(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Wg(t,s,o,e,za)}function y7(){Bi(new pi(rT,x7,"PUBLIC").setMultipleInstances(!0)),In(T2,C2,""),In(T2,C2,"esm2020")}y7();const sT={apiKey:"AIzaSyAvWBMxfjs90YP7ccPemiXiJtiVp2KkkcE",authDomain:"bpa-2025-b4fca.firebaseapp.com",projectId:"bpa-2025-b4fca",storageBucket:"bpa-2025-b4fca.firebasestorage.app",messagingSenderId:"608672657670",appId:"1:608672657670:web:d037bcb4fcea53f825ee87",measurementId:"G-TNPNG989TD"};sT.apiKey||console.warn("[firebase] VITE_FIREBASE_API_KEY is not set. Check your .env file or environment variables.");const Dd=Zb(sT);SR(Dd);const De=GD(Dd),gi=H9(Dd),v7=p7(Dd);function _7(){const i=Pi(),[e,t]=K.useState(""),[s,o]=K.useState("All"),[l,u]=K.useState("Most Recent"),[m,g]=K.useState("All Time"),[d,y]=K.useState([]),[_,b]=K.useState(!0);K.useEffect(()=>{(async()=>{try{b(!0);const P=Xs(gi,"forum"),C=Uc(P,jA("createdAt","desc")),I=await zc(C),L=[...new Set(I.docs.map(A=>A.data().userId))],z={};for(const A of L)if(A){const S=Xs(gi,"Users"),B=Uc(S,zg("userId","==",A)),D=await zc(B);D.empty||(z[A]=D.docs[0].data())}const q=I.docs.map(A=>{const S=A.data(),B=z[S.userId]||{},D=S.createdAt?.toDate(),k=D?R(D):"just now";return{id:A.id,title:S.title,content:S.content,userId:S.userId,author:B.displayName||B.email||"Anonymous",authorAvatar:B.profileImageUrl||"",timeAgo:k,replies:S.replies||0,likes:S.likes||0,category:S.category,isPinned:S.isPinned||!1,tags:S.tags||[],triggers:S.triggers||[],createdAt:S.createdAt}});y(q)}catch(P){console.error("Error fetching discussions:",P)}finally{b(!1)}})()},[]);const R=T=>{const P=Math.floor((new Date().getTime()-T.getTime())/1e3),C={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[I,L]of Object.entries(C)){const z=Math.floor(P/L);if(z>=1)return`${z} ${I}${z>1?"s":""} ago`}return"just now"},N=["Uplifty","Depression","Relationships","Recovery","Self-Care"],O=[{title:"How therapy changed my perspective",category:"Recovery",replies:156},{title:"Meditation apps that actually work",category:"Self-Care",replies:243},{title:"Setting boundaries with family",category:"Relationships",replies:89}];return x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Community Forums"}),x.jsx("p",{className:"text-white/70 text-lg",children:"You're not alone. Share, listen, heal together."}),x.jsx("p",{className:"text-white/50 text-sm mt-2",children:"Safe space to connect with others on similar journeys, find support, and share experiences in judgment-free environment"})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-6 shadow-2xl shadow-black/20",children:[x.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx(yb,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),x.jsx("input",{type:"text",placeholder:"Search discussions, topics, keywords...",value:e,onChange:T=>t(T.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]}),x.jsxs("button",{onClick:()=>i("/forum/create"),className:"bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/30 shadow-lg flex items-center gap-2 justify-center",children:[x.jsx(Jf,{size:20}),"New Discussion"]})]}),x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-white/70 text-sm",children:"Sort by:"}),x.jsxs("select",{value:l,onChange:T=>u(T.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md",children:[x.jsx("option",{children:"Most Recent"}),x.jsx("option",{children:"Most Popular"}),x.jsx("option",{children:"Most Replies"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-white/70 text-sm",children:"Category:"}),x.jsxs("select",{value:s,onChange:T=>o(T.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md",children:[x.jsx("option",{children:"All"}),N.map(T=>x.jsx("option",{children:T},T))]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-white/70 text-sm",children:"Time:"}),x.jsxs("select",{value:m,onChange:T=>g(T.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md",children:[x.jsx("option",{children:"All Time"}),x.jsx("option",{children:"Today"}),x.jsx("option",{children:"This Week"}),x.jsx("option",{children:"This Month"})]})]})]}),x.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:N.map(T=>x.jsxs("button",{className:"bg-white/10 hover:bg-white/20 backdrop-blur-md text-white/90 text-sm font-medium rounded-full px-4 py-2 transition-all duration-200 border border-white/20",children:[x.jsx("span",{className:"mr-2",children:""}),T]},T))})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[_?x.jsx("div",{className:"text-center text-white/70 py-12",children:x.jsx("p",{children:"Loading discussions..."})}):d.length===0?x.jsx("div",{className:"text-center text-white/70 py-12",children:x.jsx("p",{children:"No discussions yet. Be the first to start one!"})}):d.map(T=>x.jsxs("div",{className:`bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer ${T.isPinned?"border-yellow-500/40":""}`,children:[T.isPinned&&x.jsxs("div",{className:"flex items-center gap-2 text-yellow-400/90 text-sm font-semibold mb-3",children:[x.jsx(OC,{size:16}),x.jsx("span",{children:"Pinned"})]}),x.jsx("h3",{className:"text-xl font-bold text-white mb-3 drop-shadow-md",children:T.title}),x.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:T.content}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[T.authorAvatar?x.jsx("img",{src:T.authorAvatar,alt:T.author,className:"w-8 h-8 rounded-full object-cover bg-white/20"}):x.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-sm",children:""}),x.jsx("span",{className:"text-white/80 text-sm font-medium",children:T.author})]}),x.jsxs("span",{className:"text-white/50 text-sm",children:[" ",T.timeAgo]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[x.jsx($C,{size:16}),x.jsx("span",{className:"text-sm",children:T.likes})]}),x.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[x.jsx(Pp,{size:16}),x.jsx("span",{className:"text-sm",children:T.replies})]})]})]}),T.tags&&x.jsx("div",{className:"flex gap-2 mt-3",children:T.tags.map(P=>x.jsxs("span",{className:"text-xs text-white/50 bg-white/5 px-2 py-1 rounded-full",children:["#",P]},P))}),x.jsx("button",{className:"mt-4 text-sm text-white/60 hover:text-white transition-colors",children:"View replies "})]},T.id)),!_&&d.length>0&&x.jsx("button",{className:"w-full bg-white/5 hover:bg-white/10 backdrop-blur-md text-white/70 font-medium rounded-full py-3 transition-all duration-200 border border-white/10",children:"Loading more discussions..."})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[x.jsx("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md",children:"Community Guidelines"}),x.jsxs("ul",{className:"space-y-2 text-white/70 text-sm",children:[x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-green-400",children:""}),x.jsx("span",{children:"Be respectful and kind to all members"})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-green-400",children:""}),x.jsx("span",{children:"Keep discussions supportive and constructive"})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-green-400",children:""}),x.jsx("span",{children:"Share mindfully - respect confidentiality"})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-green-400",children:""}),x.jsx("span",{children:"Report any concerns to moderation team"})]})]}),x.jsx("button",{className:"mt-4 text-sm text-white/60 hover:text-white transition-colors",children:"Read full Guidelines "})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[x.jsxs("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md flex items-center gap-2",children:[x.jsx(bb,{size:20}),"Trending Discussions"]}),x.jsx("div",{className:"space-y-3",children:O.map((T,P)=>x.jsxs("div",{className:"hover:bg-white/5 p-3 rounded-full transition-all cursor-pointer",children:[x.jsx("h4",{className:"text-white/90 text-sm font-semibold mb-1",children:T.title}),x.jsxs("div",{className:"flex items-center gap-2 text-white/50 text-xs",children:[x.jsx("span",{children:T.category}),x.jsx("span",{children:""}),x.jsxs("span",{children:[T.replies," replies"]})]})]},P))})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[x.jsx("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md",children:"Community Stats"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[x.jsx(eS,{size:18}),x.jsx("span",{className:"text-sm",children:"Members"})]}),x.jsx("span",{className:"text-white font-bold",children:"2,847"})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[x.jsx(IC,{size:18}),x.jsx("span",{className:"text-sm",children:"Discussions"})]}),x.jsx("span",{className:"text-white font-bold",children:"342"})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[x.jsx(Hc,{size:18}),x.jsx("span",{className:"text-sm",children:"Replies"})]}),x.jsx("span",{className:"text-white font-bold",children:"15,672"})]})]})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-lg",children:"U"}),x.jsx("div",{children:x.jsx("h3",{className:"text-white font-bold",children:"Your Activity"})})]}),x.jsxs("div",{className:"space-y-2 text-sm",children:[x.jsxs("div",{className:"flex justify-between text-white/70",children:[x.jsx("span",{children:"Discussions started"}),x.jsx("span",{className:"text-white font-semibold",children:"3"})]}),x.jsxs("div",{className:"flex justify-between text-white/70",children:[x.jsx("span",{children:"Replies posted"}),x.jsx("span",{className:"text-white font-semibold",children:"12"})]}),x.jsxs("div",{className:"flex justify-between text-white/70",children:[x.jsx("span",{children:"Helpful reactions"}),x.jsx("span",{className:"text-white font-semibold",children:"28"})]})]}),x.jsx("button",{className:"mt-4 w-full bg-white/10 hover:bg-white/20 text-white text-sm font-medium py-2 rounded-full transition-all border border-white/20",children:"View Profile"})]})]})]})]})})}const b7=["Anxiety","Depression","Eating Disorders","Self-Harm","Substance Abuse","Trauma/PTSD","Suicidal Thoughts","Relationship Issues","Academic Stress","Financial Stress","Grief/Loss","Social Anxiety","Body Image","Sleep Issues","OCD","Panic Attacks"];function E7(){const i=Pi(),[e,t]=K.useState(!1),[s,o]=K.useState(""),[l,u]=K.useState(""),[m,g]=K.useState(""),[d,y]=K.useState({title:"",content:"",category:"Uplifty",tags:[],triggers:[]}),_=["Uplifty","Depression","Relationships","Recovery","Self-Care"],b=C=>{const{name:I,value:L}=C.target;y(z=>({...z,[I]:L}))},R=C=>{y(I=>({...I,triggers:I.triggers.includes(C)?I.triggers.filter(L=>L!==C):[...I.triggers,C]}))},N=C=>{if(C.key===" "&&m.trim()){C.preventDefault();const I=m.trim().toLowerCase().replace(/\s+/g,"-");d.tags.includes(I)||y(L=>({...L,tags:[...L.tags,I]})),g("")}else C.key==="Backspace"&&!m&&d.tags.length>0&&y(I=>({...I,tags:I.tags.slice(0,-1)}))},O=C=>{y(I=>({...I,tags:I.tags.filter(L=>L!==C)}))},T=async C=>{if(C.preventDefault(),o(""),u(""),!d.title.trim()){o("Please enter a title for your post");return}if(!d.content.trim()){o("Please enter content for your post");return}if(!De.currentUser){o("You must be signed in to create a post");return}t(!0);try{const I={title:d.title.trim(),content:d.content.trim(),category:d.category,tags:d.tags,triggers:d.triggers,userId:De.currentUser.uid,createdAt:Ip(),replies:0,likes:0,views:0,isPinned:!1};await $g(Xs(gi,"forum"),I),u("Post created successfully!"),setTimeout(()=>{i("/forum")},1500)}catch(I){console.error("Error creating post:",I),o(I.message||"Failed to create post. Please try again."),t(!1)}},P=()=>{i("/forum")};return x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Create New Discussion"}),x.jsx("p",{className:"text-white/70 text-lg",children:"Share your thoughts and connect with the community"})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[s&&x.jsxs("div",{className:"mb-6 bg-red-500/20 border border-red-500/30 rounded-2xl p-4 flex items-start gap-3",children:[x.jsx(Zf,{className:"text-red-400 flex-shrink-0 mt-0.5",size:20}),x.jsx("p",{className:"text-red-200 text-sm",children:s})]}),l&&x.jsxs("div",{className:"mb-6 bg-green-500/20 border border-green-500/30 rounded-2xl p-4 flex items-start gap-3",children:[x.jsx("div",{className:"text-green-400 flex-shrink-0 mt-0.5",children:""}),x.jsx("p",{className:"text-green-200 text-sm",children:l})]}),x.jsxs("form",{onSubmit:T,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsxs("label",{htmlFor:"title",className:"block text-white font-semibold mb-2",children:["Discussion Title ",x.jsx("span",{className:"text-red-400",children:"*"})]}),x.jsx("input",{type:"text",id:"title",name:"title",value:d.title,onChange:b,placeholder:"Enter a clear, descriptive title...",className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all",disabled:e,maxLength:200}),x.jsxs("p",{className:"text-white/50 text-xs mt-1",children:[d.title.length,"/200 characters"]})]}),x.jsxs("div",{children:[x.jsxs("label",{htmlFor:"category",className:"block text-white font-semibold mb-2",children:["Category ",x.jsx("span",{className:"text-red-400",children:"*"})]}),x.jsx("select",{id:"category",name:"category",value:d.category,onChange:b,className:"w-full bg-white/10 border border-white/20 rounded-2xl px-4 py-3 text-white focus:outline-none focus:border-white/40 cursor-pointer backdrop-blur-md transition-all appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center"},disabled:e,children:_.map(C=>x.jsx("option",{value:C,className:"bg-[#6A1E55] text-white",children:C},C))})]}),x.jsxs("div",{children:[x.jsxs("label",{htmlFor:"content",className:"block text-white font-semibold mb-2",children:["Content ",x.jsx("span",{className:"text-red-400",children:"*"})]}),x.jsx("textarea",{id:"content",name:"content",value:d.content,onChange:b,placeholder:"Share your thoughts, experiences, or questions... Be respectful and supportive.",className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all resize-none",rows:8,disabled:e,maxLength:5e3}),x.jsxs("p",{className:"text-white/50 text-xs mt-1",children:[d.content.length,"/5000 characters"]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"tags",className:"block text-white font-semibold mb-2",children:"Tags (optional)"}),x.jsxs("div",{className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 min-h-[48px] flex flex-wrap gap-2 items-center",children:[d.tags.map((C,I)=>x.jsxs("span",{className:"bg-white/20 text-white text-sm px-3 py-1 rounded-full flex items-center gap-2 border border-white/30",children:["#",C,x.jsx("button",{type:"button",onClick:()=>O(C),className:"hover:bg-white/20 rounded-full p-0.5 transition-colors",disabled:e,children:x.jsx(ep,{size:14})})]},I)),x.jsx("input",{type:"text",id:"tags",value:m,onChange:C=>g(C.target.value),onKeyDown:N,placeholder:d.tags.length===0?"Type a tag and press space...":"",className:"flex-1 min-w-[120px] bg-transparent border-none outline-none text-white placeholder-white/50",disabled:e})]}),x.jsx("p",{className:"text-white/50 text-xs mt-1",children:"Press space to add a tag, backspace to remove"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-white font-semibold mb-3",children:"Content Warnings / Triggers (optional)"}),x.jsx("p",{className:"text-white/50 text-xs mb-3",children:"Select any sensitive topics that your post mentions"}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:b7.map(C=>x.jsx("button",{type:"button",onClick:()=>R(C),disabled:e,className:`px-4 py-2 rounded-full text-sm font-medium transition-all border ${d.triggers.includes(C)?"bg-white/30 text-white border-white/50 shadow-lg":"bg-white/5 text-white/70 border-white/20 hover:bg-white/10"} disabled:opacity-50 disabled:cursor-not-allowed`,children:C},C))})]}),x.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[x.jsx("h3",{className:"text-white font-semibold mb-2 text-sm",children:"Community Guidelines Reminder"}),x.jsxs("ul",{className:"space-y-1 text-white/60 text-xs",children:[x.jsx("li",{children:" Be respectful and kind to all members"}),x.jsx("li",{children:" Keep discussions supportive and constructive"}),x.jsx("li",{children:" Respect confidentiality and privacy"}),x.jsx("li",{children:" Avoid giving medical advice - share experiences instead"})]})]}),x.jsxs("div",{className:"flex gap-4 pt-4",children:[x.jsxs("button",{type:"submit",disabled:e,className:"flex-1 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/30 shadow-lg flex items-center gap-2 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[x.jsx(Jf,{size:20}),e?"Creating...":"Create Discussion"]}),x.jsxs("button",{type:"button",onClick:P,disabled:e,className:"bg-white/5 hover:bg-white/10 backdrop-blur-md text-white/80 font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/20 flex items-center gap-2 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[x.jsx(ep,{size:20}),"Cancel"]})]})]})]}),x.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[x.jsx("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md",children:"Tips for Great Discussions"}),x.jsxs("ul",{className:"space-y-2 text-white/70 text-sm",children:[x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-green-400",children:""}),x.jsx("span",{children:"Use a clear, specific title that describes your topic"})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-green-400",children:""}),x.jsx("span",{children:"Provide context and details to help others understand"})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-green-400",children:""}),x.jsx("span",{children:"Add relevant tags to increase visibility"})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-green-400",children:""}),x.jsx("span",{children:"Mark triggers to help members navigate content safely"})]})]})]})]})})}function w7(){return x.jsx("div",{className:"min-h-screen pt-32 px-4",children:x.jsxs("div",{className:"max-w-6xl mx-auto",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Testimonials"}),x.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:x.jsx("p",{className:"text-white/80 text-lg",children:"Testimonials page coming soon..."})})]})})}var Yh={exports:{}};function A7(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xh={exports:{}};const T7={},C7=Object.freeze(Object.defineProperty({__proto__:null,default:T7},Symbol.toStringTag,{value:"Module"})),S7=H4(C7);var R7=Xh.exports,S2;function qe(){return S2||(S2=1,(function(i,e){(function(t,s){i.exports=s()})(R7,function(){var t=t||(function(s,o){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof Tm<"u"&&Tm.crypto&&(l=Tm.crypto),!l&&typeof A7=="function")try{l=S7}catch{}var u=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},m=Object.create||(function(){function C(){}return function(I){var L;return C.prototype=I,L=new C,C.prototype=null,L}})(),g={},d=g.lib={},y=d.Base=(function(){return{extend:function(C){var I=m(this);return C&&I.mixIn(C),(!I.hasOwnProperty("init")||this.init===I.init)&&(I.init=function(){I.$super.init.apply(this,arguments)}),I.init.prototype=I,I.$super=this,I},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var I in C)C.hasOwnProperty(I)&&(this[I]=C[I]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),_=d.WordArray=y.extend({init:function(C,I){C=this.words=C||[],I!=o?this.sigBytes=I:this.sigBytes=C.length*4},toString:function(C){return(C||R).stringify(this)},concat:function(C){var I=this.words,L=C.words,z=this.sigBytes,q=C.sigBytes;if(this.clamp(),z%4)for(var A=0;A<q;A++){var S=L[A>>>2]>>>24-A%4*8&255;I[z+A>>>2]|=S<<24-(z+A)%4*8}else for(var B=0;B<q;B+=4)I[z+B>>>2]=L[B>>>2];return this.sigBytes+=q,this},clamp:function(){var C=this.words,I=this.sigBytes;C[I>>>2]&=4294967295<<32-I%4*8,C.length=s.ceil(I/4)},clone:function(){var C=y.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var I=[],L=0;L<C;L+=4)I.push(u());return new _.init(I,C)}}),b=g.enc={},R=b.Hex={stringify:function(C){for(var I=C.words,L=C.sigBytes,z=[],q=0;q<L;q++){var A=I[q>>>2]>>>24-q%4*8&255;z.push((A>>>4).toString(16)),z.push((A&15).toString(16))}return z.join("")},parse:function(C){for(var I=C.length,L=[],z=0;z<I;z+=2)L[z>>>3]|=parseInt(C.substr(z,2),16)<<24-z%8*4;return new _.init(L,I/2)}},N=b.Latin1={stringify:function(C){for(var I=C.words,L=C.sigBytes,z=[],q=0;q<L;q++){var A=I[q>>>2]>>>24-q%4*8&255;z.push(String.fromCharCode(A))}return z.join("")},parse:function(C){for(var I=C.length,L=[],z=0;z<I;z++)L[z>>>2]|=(C.charCodeAt(z)&255)<<24-z%4*8;return new _.init(L,I)}},O=b.Utf8={stringify:function(C){try{return decodeURIComponent(escape(N.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return N.parse(unescape(encodeURIComponent(C)))}},T=d.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=O.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var I,L=this._data,z=L.words,q=L.sigBytes,A=this.blockSize,S=A*4,B=q/S;C?B=s.ceil(B):B=s.max((B|0)-this._minBufferSize,0);var D=B*A,k=s.min(D*4,q);if(D){for(var U=0;U<D;U+=A)this._doProcessBlock(z,U);I=z.splice(0,D),L.sigBytes-=k}return new _.init(I,k)},clone:function(){var C=y.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});d.Hasher=T.extend({cfg:y.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var I=this._doFinalize();return I},blockSize:16,_createHelper:function(C){return function(I,L){return new C.init(L).finalize(I)}},_createHmacHelper:function(C){return function(I,L){return new P.HMAC.init(C,L).finalize(I)}}});var P=g.algo={};return g})(Math);return t})})(Xh)),Xh.exports}var Qh={exports:{}},D7=Qh.exports,R2;function Nd(){return R2||(R2=1,(function(i,e){(function(t,s){i.exports=s(qe())})(D7,function(t){return(function(s){var o=t,l=o.lib,u=l.Base,m=l.WordArray,g=o.x64={};g.Word=u.extend({init:function(d,y){this.high=d,this.low=y}}),g.WordArray=u.extend({init:function(d,y){d=this.words=d||[],y!=s?this.sigBytes=y:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,y=d.length,_=[],b=0;b<y;b++){var R=d[b];_.push(R.high),_.push(R.low)}return m.create(_,this.sigBytes)},clone:function(){for(var d=u.clone.call(this),y=d.words=this.words.slice(0),_=y.length,b=0;b<_;b++)y[b]=y[b].clone();return d}})})(),t})})(Qh)),Qh.exports}var Wh={exports:{}},N7=Wh.exports,D2;function I7(){return D2||(D2=1,(function(i,e){(function(t,s){i.exports=s(qe())})(N7,function(t){return(function(){if(typeof ArrayBuffer=="function"){var s=t,o=s.lib,l=o.WordArray,u=l.init,m=l.init=function(g){if(g instanceof ArrayBuffer&&(g=new Uint8Array(g)),(g instanceof Int8Array||typeof Uint8ClampedArray<"u"&&g instanceof Uint8ClampedArray||g instanceof Int16Array||g instanceof Uint16Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array)&&(g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength)),g instanceof Uint8Array){for(var d=g.byteLength,y=[],_=0;_<d;_++)y[_>>>2]|=g[_]<<24-_%4*8;u.call(this,y,d)}else u.apply(this,arguments)};m.prototype=l}})(),t.lib.WordArray})})(Wh)),Wh.exports}var Zh={exports:{}},k7=Zh.exports,N2;function B7(){return N2||(N2=1,(function(i,e){(function(t,s){i.exports=s(qe())})(k7,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=s.enc;u.Utf16=u.Utf16BE={stringify:function(g){for(var d=g.words,y=g.sigBytes,_=[],b=0;b<y;b+=2){var R=d[b>>>2]>>>16-b%4*8&65535;_.push(String.fromCharCode(R))}return _.join("")},parse:function(g){for(var d=g.length,y=[],_=0;_<d;_++)y[_>>>1]|=g.charCodeAt(_)<<16-_%2*16;return l.create(y,d*2)}},u.Utf16LE={stringify:function(g){for(var d=g.words,y=g.sigBytes,_=[],b=0;b<y;b+=2){var R=m(d[b>>>2]>>>16-b%4*8&65535);_.push(String.fromCharCode(R))}return _.join("")},parse:function(g){for(var d=g.length,y=[],_=0;_<d;_++)y[_>>>1]|=m(g.charCodeAt(_)<<16-_%2*16);return l.create(y,d*2)}};function m(g){return g<<8&4278255360|g>>>8&16711935}})(),t.enc.Utf16})})(Zh)),Zh.exports}var Jh={exports:{}},O7=Jh.exports,I2;function Ya(){return I2||(I2=1,(function(i,e){(function(t,s){i.exports=s(qe())})(O7,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=s.enc;u.Base64={stringify:function(g){var d=g.words,y=g.sigBytes,_=this._map;g.clamp();for(var b=[],R=0;R<y;R+=3)for(var N=d[R>>>2]>>>24-R%4*8&255,O=d[R+1>>>2]>>>24-(R+1)%4*8&255,T=d[R+2>>>2]>>>24-(R+2)%4*8&255,P=N<<16|O<<8|T,C=0;C<4&&R+C*.75<y;C++)b.push(_.charAt(P>>>6*(3-C)&63));var I=_.charAt(64);if(I)for(;b.length%4;)b.push(I);return b.join("")},parse:function(g){var d=g.length,y=this._map,_=this._reverseMap;if(!_){_=this._reverseMap=[];for(var b=0;b<y.length;b++)_[y.charCodeAt(b)]=b}var R=y.charAt(64);if(R){var N=g.indexOf(R);N!==-1&&(d=N)}return m(g,d,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function m(g,d,y){for(var _=[],b=0,R=0;R<d;R++)if(R%4){var N=y[g.charCodeAt(R-1)]<<R%4*2,O=y[g.charCodeAt(R)]>>>6-R%4*2,T=N|O;_[b>>>2]|=T<<24-b%4*8,b++}return l.create(_,b)}})(),t.enc.Base64})})(Jh)),Jh.exports}var ef={exports:{}},j7=ef.exports,k2;function M7(){return k2||(k2=1,(function(i,e){(function(t,s){i.exports=s(qe())})(j7,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=s.enc;u.Base64url={stringify:function(g,d){d===void 0&&(d=!0);var y=g.words,_=g.sigBytes,b=d?this._safe_map:this._map;g.clamp();for(var R=[],N=0;N<_;N+=3)for(var O=y[N>>>2]>>>24-N%4*8&255,T=y[N+1>>>2]>>>24-(N+1)%4*8&255,P=y[N+2>>>2]>>>24-(N+2)%4*8&255,C=O<<16|T<<8|P,I=0;I<4&&N+I*.75<_;I++)R.push(b.charAt(C>>>6*(3-I)&63));var L=b.charAt(64);if(L)for(;R.length%4;)R.push(L);return R.join("")},parse:function(g,d){d===void 0&&(d=!0);var y=g.length,_=d?this._safe_map:this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var R=0;R<_.length;R++)b[_.charCodeAt(R)]=R}var N=_.charAt(64);if(N){var O=g.indexOf(N);O!==-1&&(y=O)}return m(g,y,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function m(g,d,y){for(var _=[],b=0,R=0;R<d;R++)if(R%4){var N=y[g.charCodeAt(R-1)]<<R%4*2,O=y[g.charCodeAt(R)]>>>6-R%4*2,T=N|O;_[b>>>2]|=T<<24-b%4*8,b++}return l.create(_,b)}})(),t.enc.Base64url})})(ef)),ef.exports}var tf={exports:{}},P7=tf.exports,B2;function Xa(){return B2||(B2=1,(function(i,e){(function(t,s){i.exports=s(qe())})(P7,function(t){return(function(s){var o=t,l=o.lib,u=l.WordArray,m=l.Hasher,g=o.algo,d=[];(function(){for(var O=0;O<64;O++)d[O]=s.abs(s.sin(O+1))*4294967296|0})();var y=g.MD5=m.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(O,T){for(var P=0;P<16;P++){var C=T+P,I=O[C];O[C]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var L=this._hash.words,z=O[T+0],q=O[T+1],A=O[T+2],S=O[T+3],B=O[T+4],D=O[T+5],k=O[T+6],U=O[T+7],M=O[T+8],fe=O[T+9],pe=O[T+10],W=O[T+11],ce=O[T+12],ue=O[T+13],_e=O[T+14],be=O[T+15],F=L[0],G=L[1],X=L[2],Q=L[3];F=_(F,G,X,Q,z,7,d[0]),Q=_(Q,F,G,X,q,12,d[1]),X=_(X,Q,F,G,A,17,d[2]),G=_(G,X,Q,F,S,22,d[3]),F=_(F,G,X,Q,B,7,d[4]),Q=_(Q,F,G,X,D,12,d[5]),X=_(X,Q,F,G,k,17,d[6]),G=_(G,X,Q,F,U,22,d[7]),F=_(F,G,X,Q,M,7,d[8]),Q=_(Q,F,G,X,fe,12,d[9]),X=_(X,Q,F,G,pe,17,d[10]),G=_(G,X,Q,F,W,22,d[11]),F=_(F,G,X,Q,ce,7,d[12]),Q=_(Q,F,G,X,ue,12,d[13]),X=_(X,Q,F,G,_e,17,d[14]),G=_(G,X,Q,F,be,22,d[15]),F=b(F,G,X,Q,q,5,d[16]),Q=b(Q,F,G,X,k,9,d[17]),X=b(X,Q,F,G,W,14,d[18]),G=b(G,X,Q,F,z,20,d[19]),F=b(F,G,X,Q,D,5,d[20]),Q=b(Q,F,G,X,pe,9,d[21]),X=b(X,Q,F,G,be,14,d[22]),G=b(G,X,Q,F,B,20,d[23]),F=b(F,G,X,Q,fe,5,d[24]),Q=b(Q,F,G,X,_e,9,d[25]),X=b(X,Q,F,G,S,14,d[26]),G=b(G,X,Q,F,M,20,d[27]),F=b(F,G,X,Q,ue,5,d[28]),Q=b(Q,F,G,X,A,9,d[29]),X=b(X,Q,F,G,U,14,d[30]),G=b(G,X,Q,F,ce,20,d[31]),F=R(F,G,X,Q,D,4,d[32]),Q=R(Q,F,G,X,M,11,d[33]),X=R(X,Q,F,G,W,16,d[34]),G=R(G,X,Q,F,_e,23,d[35]),F=R(F,G,X,Q,q,4,d[36]),Q=R(Q,F,G,X,B,11,d[37]),X=R(X,Q,F,G,U,16,d[38]),G=R(G,X,Q,F,pe,23,d[39]),F=R(F,G,X,Q,ue,4,d[40]),Q=R(Q,F,G,X,z,11,d[41]),X=R(X,Q,F,G,S,16,d[42]),G=R(G,X,Q,F,k,23,d[43]),F=R(F,G,X,Q,fe,4,d[44]),Q=R(Q,F,G,X,ce,11,d[45]),X=R(X,Q,F,G,be,16,d[46]),G=R(G,X,Q,F,A,23,d[47]),F=N(F,G,X,Q,z,6,d[48]),Q=N(Q,F,G,X,U,10,d[49]),X=N(X,Q,F,G,_e,15,d[50]),G=N(G,X,Q,F,D,21,d[51]),F=N(F,G,X,Q,ce,6,d[52]),Q=N(Q,F,G,X,S,10,d[53]),X=N(X,Q,F,G,pe,15,d[54]),G=N(G,X,Q,F,q,21,d[55]),F=N(F,G,X,Q,M,6,d[56]),Q=N(Q,F,G,X,be,10,d[57]),X=N(X,Q,F,G,k,15,d[58]),G=N(G,X,Q,F,ue,21,d[59]),F=N(F,G,X,Q,B,6,d[60]),Q=N(Q,F,G,X,W,10,d[61]),X=N(X,Q,F,G,A,15,d[62]),G=N(G,X,Q,F,fe,21,d[63]),L[0]=L[0]+F|0,L[1]=L[1]+G|0,L[2]=L[2]+X|0,L[3]=L[3]+Q|0},_doFinalize:function(){var O=this._data,T=O.words,P=this._nDataBytes*8,C=O.sigBytes*8;T[C>>>5]|=128<<24-C%32;var I=s.floor(P/4294967296),L=P;T[(C+64>>>9<<4)+15]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,T[(C+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,O.sigBytes=(T.length+1)*4,this._process();for(var z=this._hash,q=z.words,A=0;A<4;A++){var S=q[A];q[A]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return z},clone:function(){var O=m.clone.call(this);return O._hash=this._hash.clone(),O}});function _(O,T,P,C,I,L,z){var q=O+(T&P|~T&C)+I+z;return(q<<L|q>>>32-L)+T}function b(O,T,P,C,I,L,z){var q=O+(T&C|P&~C)+I+z;return(q<<L|q>>>32-L)+T}function R(O,T,P,C,I,L,z){var q=O+(T^P^C)+I+z;return(q<<L|q>>>32-L)+T}function N(O,T,P,C,I,L,z){var q=O+(P^(T|~C))+I+z;return(q<<L|q>>>32-L)+T}o.MD5=m._createHelper(y),o.HmacMD5=m._createHmacHelper(y)})(Math),t.MD5})})(tf)),tf.exports}var nf={exports:{}},L7=nf.exports,O2;function aT(){return O2||(O2=1,(function(i,e){(function(t,s){i.exports=s(qe())})(L7,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=o.Hasher,m=s.algo,g=[],d=m.SHA1=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,_){for(var b=this._hash.words,R=b[0],N=b[1],O=b[2],T=b[3],P=b[4],C=0;C<80;C++){if(C<16)g[C]=y[_+C]|0;else{var I=g[C-3]^g[C-8]^g[C-14]^g[C-16];g[C]=I<<1|I>>>31}var L=(R<<5|R>>>27)+P+g[C];C<20?L+=(N&O|~N&T)+1518500249:C<40?L+=(N^O^T)+1859775393:C<60?L+=(N&O|N&T|O&T)-1894007588:L+=(N^O^T)-899497514,P=T,T=O,O=N<<30|N>>>2,N=R,R=L}b[0]=b[0]+R|0,b[1]=b[1]+N|0,b[2]=b[2]+O|0,b[3]=b[3]+T|0,b[4]=b[4]+P|0},_doFinalize:function(){var y=this._data,_=y.words,b=this._nDataBytes*8,R=y.sigBytes*8;return _[R>>>5]|=128<<24-R%32,_[(R+64>>>9<<4)+14]=Math.floor(b/4294967296),_[(R+64>>>9<<4)+15]=b,y.sigBytes=_.length*4,this._process(),this._hash},clone:function(){var y=u.clone.call(this);return y._hash=this._hash.clone(),y}});s.SHA1=u._createHelper(d),s.HmacSHA1=u._createHmacHelper(d)})(),t.SHA1})})(nf)),nf.exports}var rf={exports:{}},V7=rf.exports,j2;function Zg(){return j2||(j2=1,(function(i,e){(function(t,s){i.exports=s(qe())})(V7,function(t){return(function(s){var o=t,l=o.lib,u=l.WordArray,m=l.Hasher,g=o.algo,d=[],y=[];(function(){function R(P){for(var C=s.sqrt(P),I=2;I<=C;I++)if(!(P%I))return!1;return!0}function N(P){return(P-(P|0))*4294967296|0}for(var O=2,T=0;T<64;)R(O)&&(T<8&&(d[T]=N(s.pow(O,1/2))),y[T]=N(s.pow(O,1/3)),T++),O++})();var _=[],b=g.SHA256=m.extend({_doReset:function(){this._hash=new u.init(d.slice(0))},_doProcessBlock:function(R,N){for(var O=this._hash.words,T=O[0],P=O[1],C=O[2],I=O[3],L=O[4],z=O[5],q=O[6],A=O[7],S=0;S<64;S++){if(S<16)_[S]=R[N+S]|0;else{var B=_[S-15],D=(B<<25|B>>>7)^(B<<14|B>>>18)^B>>>3,k=_[S-2],U=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;_[S]=D+_[S-7]+U+_[S-16]}var M=L&z^~L&q,fe=T&P^T&C^P&C,pe=(T<<30|T>>>2)^(T<<19|T>>>13)^(T<<10|T>>>22),W=(L<<26|L>>>6)^(L<<21|L>>>11)^(L<<7|L>>>25),ce=A+W+M+y[S]+_[S],ue=pe+fe;A=q,q=z,z=L,L=I+ce|0,I=C,C=P,P=T,T=ce+ue|0}O[0]=O[0]+T|0,O[1]=O[1]+P|0,O[2]=O[2]+C|0,O[3]=O[3]+I|0,O[4]=O[4]+L|0,O[5]=O[5]+z|0,O[6]=O[6]+q|0,O[7]=O[7]+A|0},_doFinalize:function(){var R=this._data,N=R.words,O=this._nDataBytes*8,T=R.sigBytes*8;return N[T>>>5]|=128<<24-T%32,N[(T+64>>>9<<4)+14]=s.floor(O/4294967296),N[(T+64>>>9<<4)+15]=O,R.sigBytes=N.length*4,this._process(),this._hash},clone:function(){var R=m.clone.call(this);return R._hash=this._hash.clone(),R}});o.SHA256=m._createHelper(b),o.HmacSHA256=m._createHmacHelper(b)})(Math),t.SHA256})})(rf)),rf.exports}var sf={exports:{}},F7=sf.exports,M2;function U7(){return M2||(M2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Zg())})(F7,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=s.algo,m=u.SHA256,g=u.SHA224=m.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=m._doFinalize.call(this);return d.sigBytes-=4,d}});s.SHA224=m._createHelper(g),s.HmacSHA224=m._createHmacHelper(g)})(),t.SHA224})})(sf)),sf.exports}var af={exports:{}},z7=af.exports,P2;function oT(){return P2||(P2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Nd())})(z7,function(t){return(function(){var s=t,o=s.lib,l=o.Hasher,u=s.x64,m=u.Word,g=u.WordArray,d=s.algo;function y(){return m.create.apply(m,arguments)}var _=[y(1116352408,3609767458),y(1899447441,602891725),y(3049323471,3964484399),y(3921009573,2173295548),y(961987163,4081628472),y(1508970993,3053834265),y(2453635748,2937671579),y(2870763221,3664609560),y(3624381080,2734883394),y(310598401,1164996542),y(607225278,1323610764),y(1426881987,3590304994),y(1925078388,4068182383),y(2162078206,991336113),y(2614888103,633803317),y(3248222580,3479774868),y(3835390401,2666613458),y(4022224774,944711139),y(264347078,2341262773),y(604807628,2007800933),y(770255983,1495990901),y(1249150122,1856431235),y(1555081692,3175218132),y(1996064986,2198950837),y(2554220882,3999719339),y(2821834349,766784016),y(2952996808,2566594879),y(3210313671,3203337956),y(3336571891,1034457026),y(3584528711,2466948901),y(113926993,3758326383),y(338241895,168717936),y(666307205,1188179964),y(773529912,1546045734),y(1294757372,1522805485),y(1396182291,2643833823),y(1695183700,2343527390),y(1986661051,1014477480),y(2177026350,1206759142),y(2456956037,344077627),y(2730485921,1290863460),y(2820302411,3158454273),y(3259730800,3505952657),y(3345764771,106217008),y(3516065817,3606008344),y(3600352804,1432725776),y(4094571909,1467031594),y(275423344,851169720),y(430227734,3100823752),y(506948616,1363258195),y(659060556,3750685593),y(883997877,3785050280),y(958139571,3318307427),y(1322822218,3812723403),y(1537002063,2003034995),y(1747873779,3602036899),y(1955562222,1575990012),y(2024104815,1125592928),y(2227730452,2716904306),y(2361852424,442776044),y(2428436474,593698344),y(2756734187,3733110249),y(3204031479,2999351573),y(3329325298,3815920427),y(3391569614,3928383900),y(3515267271,566280711),y(3940187606,3454069534),y(4118630271,4000239992),y(116418474,1914138554),y(174292421,2731055270),y(289380356,3203993006),y(460393269,320620315),y(685471733,587496836),y(852142971,1086792851),y(1017036298,365543100),y(1126000580,2618297676),y(1288033470,3409855158),y(1501505948,4234509866),y(1607167915,987167468),y(1816402316,1246189591)],b=[];(function(){for(var N=0;N<80;N++)b[N]=y()})();var R=d.SHA512=l.extend({_doReset:function(){this._hash=new g.init([new m.init(1779033703,4089235720),new m.init(3144134277,2227873595),new m.init(1013904242,4271175723),new m.init(2773480762,1595750129),new m.init(1359893119,2917565137),new m.init(2600822924,725511199),new m.init(528734635,4215389547),new m.init(1541459225,327033209)])},_doProcessBlock:function(N,O){for(var T=this._hash.words,P=T[0],C=T[1],I=T[2],L=T[3],z=T[4],q=T[5],A=T[6],S=T[7],B=P.high,D=P.low,k=C.high,U=C.low,M=I.high,fe=I.low,pe=L.high,W=L.low,ce=z.high,ue=z.low,_e=q.high,be=q.low,F=A.high,G=A.low,X=S.high,Q=S.low,me=B,ge=D,Ce=k,Ee=U,We=M,vn=fe,Li=pe,Qn=W,$t=ce,dt=ue,Vi=_e,kn=be,Fi=F,yi=G,mt=X,ct=Q,Dt=0;Dt<80;Dt++){var on,Bn,Nt=b[Dt];if(Dt<16)Bn=Nt.high=N[O+Dt*2]|0,on=Nt.low=N[O+Dt*2+1]|0;else{var Ui=b[Dt-15],Wn=Ui.high,vi=Ui.low,zi=(Wn>>>1|vi<<31)^(Wn>>>8|vi<<24)^Wn>>>7,Qa=(vi>>>1|Wn<<31)^(vi>>>8|Wn<<24)^(vi>>>7|Wn<<25),ia=b[Dt-2],_i=ia.high,Hi=ia.low,On=(_i>>>19|Hi<<13)^(_i<<3|Hi>>>29)^_i>>>6,It=(Hi>>>19|_i<<13)^(Hi<<3|_i>>>29)^(Hi>>>6|_i<<26),dn=b[Dt-7],xt=dn.high,Wa=dn.low,Er=b[Dt-16],Za=Er.high,jn=Er.low;on=Qa+Wa,Bn=zi+xt+(on>>>0<Qa>>>0?1:0),on=on+It,Bn=Bn+On+(on>>>0<It>>>0?1:0),on=on+jn,Bn=Bn+Za+(on>>>0<jn>>>0?1:0),Nt.high=Bn,Nt.low=on}var wr=$t&Vi^~$t&Fi,yt=dt&kn^~dt&yi,Zn=me&Ce^me&We^Ce&We,Jn=ge&Ee^ge&vn^Ee&vn,Mn=(me>>>28|ge<<4)^(me<<30|ge>>>2)^(me<<25|ge>>>7),Ja=(ge>>>28|me<<4)^(ge<<30|me>>>2)^(ge<<25|me>>>7),eo=($t>>>14|dt<<18)^($t>>>18|dt<<14)^($t<<23|dt>>>9),ei=(dt>>>14|$t<<18)^(dt>>>18|$t<<14)^(dt<<23|$t>>>9),qi=_[Dt],xl=qi.high,Gi=qi.low,Ht=ct+ei,_n=mt+eo+(Ht>>>0<ct>>>0?1:0),Ht=Ht+yt,_n=_n+wr+(Ht>>>0<yt>>>0?1:0),Ht=Ht+Gi,_n=_n+xl+(Ht>>>0<Gi>>>0?1:0),Ht=Ht+on,_n=_n+Bn+(Ht>>>0<on>>>0?1:0),$i=Ja+Jn,bi=Mn+Zn+($i>>>0<Ja>>>0?1:0);mt=Fi,ct=yi,Fi=Vi,yi=kn,Vi=$t,kn=dt,dt=Qn+Ht|0,$t=Li+_n+(dt>>>0<Qn>>>0?1:0)|0,Li=We,Qn=vn,We=Ce,vn=Ee,Ce=me,Ee=ge,ge=Ht+$i|0,me=_n+bi+(ge>>>0<Ht>>>0?1:0)|0}D=P.low=D+ge,P.high=B+me+(D>>>0<ge>>>0?1:0),U=C.low=U+Ee,C.high=k+Ce+(U>>>0<Ee>>>0?1:0),fe=I.low=fe+vn,I.high=M+We+(fe>>>0<vn>>>0?1:0),W=L.low=W+Qn,L.high=pe+Li+(W>>>0<Qn>>>0?1:0),ue=z.low=ue+dt,z.high=ce+$t+(ue>>>0<dt>>>0?1:0),be=q.low=be+kn,q.high=_e+Vi+(be>>>0<kn>>>0?1:0),G=A.low=G+yi,A.high=F+Fi+(G>>>0<yi>>>0?1:0),Q=S.low=Q+ct,S.high=X+mt+(Q>>>0<ct>>>0?1:0)},_doFinalize:function(){var N=this._data,O=N.words,T=this._nDataBytes*8,P=N.sigBytes*8;O[P>>>5]|=128<<24-P%32,O[(P+128>>>10<<5)+30]=Math.floor(T/4294967296),O[(P+128>>>10<<5)+31]=T,N.sigBytes=O.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var N=l.clone.call(this);return N._hash=this._hash.clone(),N},blockSize:1024/32});s.SHA512=l._createHelper(R),s.HmacSHA512=l._createHmacHelper(R)})(),t.SHA512})})(af)),af.exports}var of={exports:{}},H7=of.exports,L2;function q7(){return L2||(L2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Nd(),oT())})(H7,function(t){return(function(){var s=t,o=s.x64,l=o.Word,u=o.WordArray,m=s.algo,g=m.SHA512,d=m.SHA384=g.extend({_doReset:function(){this._hash=new u.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var y=g._doFinalize.call(this);return y.sigBytes-=16,y}});s.SHA384=g._createHelper(d),s.HmacSHA384=g._createHmacHelper(d)})(),t.SHA384})})(of)),of.exports}var lf={exports:{}},G7=lf.exports,V2;function $7(){return V2||(V2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Nd())})(G7,function(t){return(function(s){var o=t,l=o.lib,u=l.WordArray,m=l.Hasher,g=o.x64,d=g.Word,y=o.algo,_=[],b=[],R=[];(function(){for(var T=1,P=0,C=0;C<24;C++){_[T+5*P]=(C+1)*(C+2)/2%64;var I=P%5,L=(2*T+3*P)%5;T=I,P=L}for(var T=0;T<5;T++)for(var P=0;P<5;P++)b[T+5*P]=P+(2*T+3*P)%5*5;for(var z=1,q=0;q<24;q++){for(var A=0,S=0,B=0;B<7;B++){if(z&1){var D=(1<<B)-1;D<32?S^=1<<D:A^=1<<D-32}z&128?z=z<<1^113:z<<=1}R[q]=d.create(A,S)}})();var N=[];(function(){for(var T=0;T<25;T++)N[T]=d.create()})();var O=y.SHA3=m.extend({cfg:m.cfg.extend({outputLength:512}),_doReset:function(){for(var T=this._state=[],P=0;P<25;P++)T[P]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(T,P){for(var C=this._state,I=this.blockSize/2,L=0;L<I;L++){var z=T[P+2*L],q=T[P+2*L+1];z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360;var A=C[L];A.high^=q,A.low^=z}for(var S=0;S<24;S++){for(var B=0;B<5;B++){for(var D=0,k=0,U=0;U<5;U++){var A=C[B+5*U];D^=A.high,k^=A.low}var M=N[B];M.high=D,M.low=k}for(var B=0;B<5;B++)for(var fe=N[(B+4)%5],pe=N[(B+1)%5],W=pe.high,ce=pe.low,D=fe.high^(W<<1|ce>>>31),k=fe.low^(ce<<1|W>>>31),U=0;U<5;U++){var A=C[B+5*U];A.high^=D,A.low^=k}for(var ue=1;ue<25;ue++){var D,k,A=C[ue],_e=A.high,be=A.low,F=_[ue];F<32?(D=_e<<F|be>>>32-F,k=be<<F|_e>>>32-F):(D=be<<F-32|_e>>>64-F,k=_e<<F-32|be>>>64-F);var G=N[b[ue]];G.high=D,G.low=k}var X=N[0],Q=C[0];X.high=Q.high,X.low=Q.low;for(var B=0;B<5;B++)for(var U=0;U<5;U++){var ue=B+5*U,A=C[ue],me=N[ue],ge=N[(B+1)%5+5*U],Ce=N[(B+2)%5+5*U];A.high=me.high^~ge.high&Ce.high,A.low=me.low^~ge.low&Ce.low}var A=C[0],Ee=R[S];A.high^=Ee.high,A.low^=Ee.low}},_doFinalize:function(){var T=this._data,P=T.words;this._nDataBytes*8;var C=T.sigBytes*8,I=this.blockSize*32;P[C>>>5]|=1<<24-C%32,P[(s.ceil((C+1)/I)*I>>>5)-1]|=128,T.sigBytes=P.length*4,this._process();for(var L=this._state,z=this.cfg.outputLength/8,q=z/8,A=[],S=0;S<q;S++){var B=L[S],D=B.high,k=B.low;D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,A.push(k),A.push(D)}return new u.init(A,z)},clone:function(){for(var T=m.clone.call(this),P=T._state=this._state.slice(0),C=0;C<25;C++)P[C]=P[C].clone();return T}});o.SHA3=m._createHelper(O),o.HmacSHA3=m._createHmacHelper(O)})(Math),t.SHA3})})(lf)),lf.exports}var cf={exports:{}},K7=cf.exports,F2;function Y7(){return F2||(F2=1,(function(i,e){(function(t,s){i.exports=s(qe())})(K7,function(t){return(function(s){var o=t,l=o.lib,u=l.WordArray,m=l.Hasher,g=o.algo,d=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),b=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),R=u.create([0,1518500249,1859775393,2400959708,2840853838]),N=u.create([1352829926,1548603684,1836072691,2053994217,0]),O=g.RIPEMD160=m.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(q,A){for(var S=0;S<16;S++){var B=A+S,D=q[B];q[B]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var k=this._hash.words,U=R.words,M=N.words,fe=d.words,pe=y.words,W=_.words,ce=b.words,ue,_e,be,F,G,X,Q,me,ge,Ce;X=ue=k[0],Q=_e=k[1],me=be=k[2],ge=F=k[3],Ce=G=k[4];for(var Ee,S=0;S<80;S+=1)Ee=ue+q[A+fe[S]]|0,S<16?Ee+=T(_e,be,F)+U[0]:S<32?Ee+=P(_e,be,F)+U[1]:S<48?Ee+=C(_e,be,F)+U[2]:S<64?Ee+=I(_e,be,F)+U[3]:Ee+=L(_e,be,F)+U[4],Ee=Ee|0,Ee=z(Ee,W[S]),Ee=Ee+G|0,ue=G,G=F,F=z(be,10),be=_e,_e=Ee,Ee=X+q[A+pe[S]]|0,S<16?Ee+=L(Q,me,ge)+M[0]:S<32?Ee+=I(Q,me,ge)+M[1]:S<48?Ee+=C(Q,me,ge)+M[2]:S<64?Ee+=P(Q,me,ge)+M[3]:Ee+=T(Q,me,ge)+M[4],Ee=Ee|0,Ee=z(Ee,ce[S]),Ee=Ee+Ce|0,X=Ce,Ce=ge,ge=z(me,10),me=Q,Q=Ee;Ee=k[1]+be+ge|0,k[1]=k[2]+F+Ce|0,k[2]=k[3]+G+X|0,k[3]=k[4]+ue+Q|0,k[4]=k[0]+_e+me|0,k[0]=Ee},_doFinalize:function(){var q=this._data,A=q.words,S=this._nDataBytes*8,B=q.sigBytes*8;A[B>>>5]|=128<<24-B%32,A[(B+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,q.sigBytes=(A.length+1)*4,this._process();for(var D=this._hash,k=D.words,U=0;U<5;U++){var M=k[U];k[U]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return D},clone:function(){var q=m.clone.call(this);return q._hash=this._hash.clone(),q}});function T(q,A,S){return q^A^S}function P(q,A,S){return q&A|~q&S}function C(q,A,S){return(q|~A)^S}function I(q,A,S){return q&S|A&~S}function L(q,A,S){return q^(A|~S)}function z(q,A){return q<<A|q>>>32-A}o.RIPEMD160=m._createHelper(O),o.HmacRIPEMD160=m._createHmacHelper(O)})(),t.RIPEMD160})})(cf)),cf.exports}var uf={exports:{}},X7=uf.exports,U2;function Jg(){return U2||(U2=1,(function(i,e){(function(t,s){i.exports=s(qe())})(X7,function(t){(function(){var s=t,o=s.lib,l=o.Base,u=s.enc,m=u.Utf8,g=s.algo;g.HMAC=l.extend({init:function(d,y){d=this._hasher=new d.init,typeof y=="string"&&(y=m.parse(y));var _=d.blockSize,b=_*4;y.sigBytes>b&&(y=d.finalize(y)),y.clamp();for(var R=this._oKey=y.clone(),N=this._iKey=y.clone(),O=R.words,T=N.words,P=0;P<_;P++)O[P]^=1549556828,T[P]^=909522486;R.sigBytes=N.sigBytes=b,this.reset()},reset:function(){var d=this._hasher;d.reset(),d.update(this._iKey)},update:function(d){return this._hasher.update(d),this},finalize:function(d){var y=this._hasher,_=y.finalize(d);y.reset();var b=y.finalize(this._oKey.clone().concat(_));return b}})})()})})(uf)),uf.exports}var hf={exports:{}},Q7=hf.exports,z2;function W7(){return z2||(z2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Zg(),Jg())})(Q7,function(t){return(function(){var s=t,o=s.lib,l=o.Base,u=o.WordArray,m=s.algo,g=m.SHA256,d=m.HMAC,y=m.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:g,iterations:25e4}),init:function(_){this.cfg=this.cfg.extend(_)},compute:function(_,b){for(var R=this.cfg,N=d.create(R.hasher,_),O=u.create(),T=u.create([1]),P=O.words,C=T.words,I=R.keySize,L=R.iterations;P.length<I;){var z=N.update(b).finalize(T);N.reset();for(var q=z.words,A=q.length,S=z,B=1;B<L;B++){S=N.finalize(S),N.reset();for(var D=S.words,k=0;k<A;k++)q[k]^=D[k]}O.concat(z),C[0]++}return O.sigBytes=I*4,O}});s.PBKDF2=function(_,b,R){return y.create(R).compute(_,b)}})(),t.PBKDF2})})(hf)),hf.exports}var ff={exports:{}},Z7=ff.exports,H2;function na(){return H2||(H2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),aT(),Jg())})(Z7,function(t){return(function(){var s=t,o=s.lib,l=o.Base,u=o.WordArray,m=s.algo,g=m.MD5,d=m.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:g,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,_){for(var b,R=this.cfg,N=R.hasher.create(),O=u.create(),T=O.words,P=R.keySize,C=R.iterations;T.length<P;){b&&N.update(b),b=N.update(y).finalize(_),N.reset();for(var I=1;I<C;I++)b=N.finalize(b),N.reset();O.concat(b)}return O.sigBytes=P*4,O}});s.EvpKDF=function(y,_,b){return d.create(b).compute(y,_)}})(),t.EvpKDF})})(ff)),ff.exports}var df={exports:{}},J7=df.exports,q2;function Wt(){return q2||(q2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),na())})(J7,function(t){t.lib.Cipher||(function(s){var o=t,l=o.lib,u=l.Base,m=l.WordArray,g=l.BufferedBlockAlgorithm,d=o.enc;d.Utf8;var y=d.Base64,_=o.algo,b=_.EvpKDF,R=l.Cipher=g.extend({cfg:u.extend(),createEncryptor:function(D,k){return this.create(this._ENC_XFORM_MODE,D,k)},createDecryptor:function(D,k){return this.create(this._DEC_XFORM_MODE,D,k)},init:function(D,k,U){this.cfg=this.cfg.extend(U),this._xformMode=D,this._key=k,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){D&&this._append(D);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function D(k){return typeof k=="string"?B:q}return function(k){return{encrypt:function(U,M,fe){return D(M).encrypt(k,U,M,fe)},decrypt:function(U,M,fe){return D(M).decrypt(k,U,M,fe)}}}})()});l.StreamCipher=R.extend({_doFinalize:function(){var D=this._process(!0);return D},blockSize:1});var N=o.mode={},O=l.BlockCipherMode=u.extend({createEncryptor:function(D,k){return this.Encryptor.create(D,k)},createDecryptor:function(D,k){return this.Decryptor.create(D,k)},init:function(D,k){this._cipher=D,this._iv=k}}),T=N.CBC=(function(){var D=O.extend();D.Encryptor=D.extend({processBlock:function(U,M){var fe=this._cipher,pe=fe.blockSize;k.call(this,U,M,pe),fe.encryptBlock(U,M),this._prevBlock=U.slice(M,M+pe)}}),D.Decryptor=D.extend({processBlock:function(U,M){var fe=this._cipher,pe=fe.blockSize,W=U.slice(M,M+pe);fe.decryptBlock(U,M),k.call(this,U,M,pe),this._prevBlock=W}});function k(U,M,fe){var pe,W=this._iv;W?(pe=W,this._iv=s):pe=this._prevBlock;for(var ce=0;ce<fe;ce++)U[M+ce]^=pe[ce]}return D})(),P=o.pad={},C=P.Pkcs7={pad:function(D,k){for(var U=k*4,M=U-D.sigBytes%U,fe=M<<24|M<<16|M<<8|M,pe=[],W=0;W<M;W+=4)pe.push(fe);var ce=m.create(pe,M);D.concat(ce)},unpad:function(D){var k=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=k}};l.BlockCipher=R.extend({cfg:R.cfg.extend({mode:T,padding:C}),reset:function(){var D;R.reset.call(this);var k=this.cfg,U=k.iv,M=k.mode;this._xformMode==this._ENC_XFORM_MODE?D=M.createEncryptor:(D=M.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,U&&U.words):(this._mode=D.call(M,this,U&&U.words),this._mode.__creator=D)},_doProcessBlock:function(D,k){this._mode.processBlock(D,k)},_doFinalize:function(){var D,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),k.unpad(D)),D},blockSize:128/32});var I=l.CipherParams=u.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),L=o.format={},z=L.OpenSSL={stringify:function(D){var k,U=D.ciphertext,M=D.salt;return M?k=m.create([1398893684,1701076831]).concat(M).concat(U):k=U,k.toString(y)},parse:function(D){var k,U=y.parse(D),M=U.words;return M[0]==1398893684&&M[1]==1701076831&&(k=m.create(M.slice(2,4)),M.splice(0,4),U.sigBytes-=16),I.create({ciphertext:U,salt:k})}},q=l.SerializableCipher=u.extend({cfg:u.extend({format:z}),encrypt:function(D,k,U,M){M=this.cfg.extend(M);var fe=D.createEncryptor(U,M),pe=fe.finalize(k),W=fe.cfg;return I.create({ciphertext:pe,key:U,iv:W.iv,algorithm:D,mode:W.mode,padding:W.padding,blockSize:D.blockSize,formatter:M.format})},decrypt:function(D,k,U,M){M=this.cfg.extend(M),k=this._parse(k,M.format);var fe=D.createDecryptor(U,M).finalize(k.ciphertext);return fe},_parse:function(D,k){return typeof D=="string"?k.parse(D,this):D}}),A=o.kdf={},S=A.OpenSSL={execute:function(D,k,U,M,fe){if(M||(M=m.random(64/8)),fe)var pe=b.create({keySize:k+U,hasher:fe}).compute(D,M);else var pe=b.create({keySize:k+U}).compute(D,M);var W=m.create(pe.words.slice(k),U*4);return pe.sigBytes=k*4,I.create({key:pe,iv:W,salt:M})}},B=l.PasswordBasedCipher=q.extend({cfg:q.cfg.extend({kdf:S}),encrypt:function(D,k,U,M){M=this.cfg.extend(M);var fe=M.kdf.execute(U,D.keySize,D.ivSize,M.salt,M.hasher);M.iv=fe.iv;var pe=q.encrypt.call(this,D,k,fe.key,M);return pe.mixIn(fe),pe},decrypt:function(D,k,U,M){M=this.cfg.extend(M),k=this._parse(k,M.format);var fe=M.kdf.execute(U,D.keySize,D.ivSize,k.salt,M.hasher);M.iv=fe.iv;var pe=q.decrypt.call(this,D,k,fe.key,M);return pe}})})()})})(df)),df.exports}var mf={exports:{}},eB=mf.exports,G2;function tB(){return G2||(G2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(eB,function(t){return t.mode.CFB=(function(){var s=t.lib.BlockCipherMode.extend();s.Encryptor=s.extend({processBlock:function(l,u){var m=this._cipher,g=m.blockSize;o.call(this,l,u,g,m),this._prevBlock=l.slice(u,u+g)}}),s.Decryptor=s.extend({processBlock:function(l,u){var m=this._cipher,g=m.blockSize,d=l.slice(u,u+g);o.call(this,l,u,g,m),this._prevBlock=d}});function o(l,u,m,g){var d,y=this._iv;y?(d=y.slice(0),this._iv=void 0):d=this._prevBlock,g.encryptBlock(d,0);for(var _=0;_<m;_++)l[u+_]^=d[_]}return s})(),t.mode.CFB})})(mf)),mf.exports}var pf={exports:{}},nB=pf.exports,$2;function iB(){return $2||($2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(nB,function(t){return t.mode.CTR=(function(){var s=t.lib.BlockCipherMode.extend(),o=s.Encryptor=s.extend({processBlock:function(l,u){var m=this._cipher,g=m.blockSize,d=this._iv,y=this._counter;d&&(y=this._counter=d.slice(0),this._iv=void 0);var _=y.slice(0);m.encryptBlock(_,0),y[g-1]=y[g-1]+1|0;for(var b=0;b<g;b++)l[u+b]^=_[b]}});return s.Decryptor=o,s})(),t.mode.CTR})})(pf)),pf.exports}var gf={exports:{}},rB=gf.exports,K2;function sB(){return K2||(K2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(rB,function(t){return t.mode.CTRGladman=(function(){var s=t.lib.BlockCipherMode.extend();function o(m){if((m>>24&255)===255){var g=m>>16&255,d=m>>8&255,y=m&255;g===255?(g=0,d===255?(d=0,y===255?y=0:++y):++d):++g,m=0,m+=g<<16,m+=d<<8,m+=y}else m+=1<<24;return m}function l(m){return(m[0]=o(m[0]))===0&&(m[1]=o(m[1])),m}var u=s.Encryptor=s.extend({processBlock:function(m,g){var d=this._cipher,y=d.blockSize,_=this._iv,b=this._counter;_&&(b=this._counter=_.slice(0),this._iv=void 0),l(b);var R=b.slice(0);d.encryptBlock(R,0);for(var N=0;N<y;N++)m[g+N]^=R[N]}});return s.Decryptor=u,s})(),t.mode.CTRGladman})})(gf)),gf.exports}var xf={exports:{}},aB=xf.exports,Y2;function oB(){return Y2||(Y2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(aB,function(t){return t.mode.OFB=(function(){var s=t.lib.BlockCipherMode.extend(),o=s.Encryptor=s.extend({processBlock:function(l,u){var m=this._cipher,g=m.blockSize,d=this._iv,y=this._keystream;d&&(y=this._keystream=d.slice(0),this._iv=void 0),m.encryptBlock(y,0);for(var _=0;_<g;_++)l[u+_]^=y[_]}});return s.Decryptor=o,s})(),t.mode.OFB})})(xf)),xf.exports}var yf={exports:{}},lB=yf.exports,X2;function cB(){return X2||(X2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(lB,function(t){return t.mode.ECB=(function(){var s=t.lib.BlockCipherMode.extend();return s.Encryptor=s.extend({processBlock:function(o,l){this._cipher.encryptBlock(o,l)}}),s.Decryptor=s.extend({processBlock:function(o,l){this._cipher.decryptBlock(o,l)}}),s})(),t.mode.ECB})})(yf)),yf.exports}var vf={exports:{}},uB=vf.exports,Q2;function hB(){return Q2||(Q2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(uB,function(t){return t.pad.AnsiX923={pad:function(s,o){var l=s.sigBytes,u=o*4,m=u-l%u,g=l+m-1;s.clamp(),s.words[g>>>2]|=m<<24-g%4*8,s.sigBytes+=m},unpad:function(s){var o=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=o}},t.pad.Ansix923})})(vf)),vf.exports}var _f={exports:{}},fB=_f.exports,W2;function dB(){return W2||(W2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(fB,function(t){return t.pad.Iso10126={pad:function(s,o){var l=o*4,u=l-s.sigBytes%l;s.concat(t.lib.WordArray.random(u-1)).concat(t.lib.WordArray.create([u<<24],1))},unpad:function(s){var o=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=o}},t.pad.Iso10126})})(_f)),_f.exports}var bf={exports:{}},mB=bf.exports,Z2;function pB(){return Z2||(Z2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(mB,function(t){return t.pad.Iso97971={pad:function(s,o){s.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(s,o)},unpad:function(s){t.pad.ZeroPadding.unpad(s),s.sigBytes--}},t.pad.Iso97971})})(bf)),bf.exports}var Ef={exports:{}},gB=Ef.exports,J2;function xB(){return J2||(J2=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(gB,function(t){return t.pad.ZeroPadding={pad:function(s,o){var l=o*4;s.clamp(),s.sigBytes+=l-(s.sigBytes%l||l)},unpad:function(s){for(var o=s.words,l=s.sigBytes-1,l=s.sigBytes-1;l>=0;l--)if(o[l>>>2]>>>24-l%4*8&255){s.sigBytes=l+1;break}}},t.pad.ZeroPadding})})(Ef)),Ef.exports}var wf={exports:{}},yB=wf.exports,eb;function vB(){return eb||(eb=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(yB,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(wf)),wf.exports}var Af={exports:{}},_B=Af.exports,tb;function bB(){return tb||(tb=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Wt())})(_B,function(t){return(function(s){var o=t,l=o.lib,u=l.CipherParams,m=o.enc,g=m.Hex,d=o.format;d.Hex={stringify:function(y){return y.ciphertext.toString(g)},parse:function(y){var _=g.parse(y);return u.create({ciphertext:_})}}})(),t.format.Hex})})(Af)),Af.exports}var Tf={exports:{}},EB=Tf.exports,nb;function wB(){return nb||(nb=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Ya(),Xa(),na(),Wt())})(EB,function(t){return(function(){var s=t,o=s.lib,l=o.BlockCipher,u=s.algo,m=[],g=[],d=[],y=[],_=[],b=[],R=[],N=[],O=[],T=[];(function(){for(var I=[],L=0;L<256;L++)L<128?I[L]=L<<1:I[L]=L<<1^283;for(var z=0,q=0,L=0;L<256;L++){var A=q^q<<1^q<<2^q<<3^q<<4;A=A>>>8^A&255^99,m[z]=A,g[A]=z;var S=I[z],B=I[S],D=I[B],k=I[A]*257^A*16843008;d[z]=k<<24|k>>>8,y[z]=k<<16|k>>>16,_[z]=k<<8|k>>>24,b[z]=k;var k=D*16843009^B*65537^S*257^z*16843008;R[A]=k<<24|k>>>8,N[A]=k<<16|k>>>16,O[A]=k<<8|k>>>24,T[A]=k,z?(z=S^I[I[I[D^S]]],q^=I[I[q]]):z=q=1}})();var P=[0,1,2,4,8,16,32,64,128,27,54],C=u.AES=l.extend({_doReset:function(){var I;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var L=this._keyPriorReset=this._key,z=L.words,q=L.sigBytes/4,A=this._nRounds=q+6,S=(A+1)*4,B=this._keySchedule=[],D=0;D<S;D++)D<q?B[D]=z[D]:(I=B[D-1],D%q?q>6&&D%q==4&&(I=m[I>>>24]<<24|m[I>>>16&255]<<16|m[I>>>8&255]<<8|m[I&255]):(I=I<<8|I>>>24,I=m[I>>>24]<<24|m[I>>>16&255]<<16|m[I>>>8&255]<<8|m[I&255],I^=P[D/q|0]<<24),B[D]=B[D-q]^I);for(var k=this._invKeySchedule=[],U=0;U<S;U++){var D=S-U;if(U%4)var I=B[D];else var I=B[D-4];U<4||D<=4?k[U]=I:k[U]=R[m[I>>>24]]^N[m[I>>>16&255]]^O[m[I>>>8&255]]^T[m[I&255]]}}},encryptBlock:function(I,L){this._doCryptBlock(I,L,this._keySchedule,d,y,_,b,m)},decryptBlock:function(I,L){var z=I[L+1];I[L+1]=I[L+3],I[L+3]=z,this._doCryptBlock(I,L,this._invKeySchedule,R,N,O,T,g);var z=I[L+1];I[L+1]=I[L+3],I[L+3]=z},_doCryptBlock:function(I,L,z,q,A,S,B,D){for(var k=this._nRounds,U=I[L]^z[0],M=I[L+1]^z[1],fe=I[L+2]^z[2],pe=I[L+3]^z[3],W=4,ce=1;ce<k;ce++){var ue=q[U>>>24]^A[M>>>16&255]^S[fe>>>8&255]^B[pe&255]^z[W++],_e=q[M>>>24]^A[fe>>>16&255]^S[pe>>>8&255]^B[U&255]^z[W++],be=q[fe>>>24]^A[pe>>>16&255]^S[U>>>8&255]^B[M&255]^z[W++],F=q[pe>>>24]^A[U>>>16&255]^S[M>>>8&255]^B[fe&255]^z[W++];U=ue,M=_e,fe=be,pe=F}var ue=(D[U>>>24]<<24|D[M>>>16&255]<<16|D[fe>>>8&255]<<8|D[pe&255])^z[W++],_e=(D[M>>>24]<<24|D[fe>>>16&255]<<16|D[pe>>>8&255]<<8|D[U&255])^z[W++],be=(D[fe>>>24]<<24|D[pe>>>16&255]<<16|D[U>>>8&255]<<8|D[M&255])^z[W++],F=(D[pe>>>24]<<24|D[U>>>16&255]<<16|D[M>>>8&255]<<8|D[fe&255])^z[W++];I[L]=ue,I[L+1]=_e,I[L+2]=be,I[L+3]=F},keySize:256/32});s.AES=l._createHelper(C)})(),t.AES})})(Tf)),Tf.exports}var Cf={exports:{}},AB=Cf.exports,ib;function TB(){return ib||(ib=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Ya(),Xa(),na(),Wt())})(AB,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=o.BlockCipher,m=s.algo,g=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],y=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],_=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],b=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],R=m.DES=u.extend({_doReset:function(){for(var P=this._key,C=P.words,I=[],L=0;L<56;L++){var z=g[L]-1;I[L]=C[z>>>5]>>>31-z%32&1}for(var q=this._subKeys=[],A=0;A<16;A++){for(var S=q[A]=[],B=y[A],L=0;L<24;L++)S[L/6|0]|=I[(d[L]-1+B)%28]<<31-L%6,S[4+(L/6|0)]|=I[28+(d[L+24]-1+B)%28]<<31-L%6;S[0]=S[0]<<1|S[0]>>>31;for(var L=1;L<7;L++)S[L]=S[L]>>>(L-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var D=this._invSubKeys=[],L=0;L<16;L++)D[L]=q[15-L]},encryptBlock:function(P,C){this._doCryptBlock(P,C,this._subKeys)},decryptBlock:function(P,C){this._doCryptBlock(P,C,this._invSubKeys)},_doCryptBlock:function(P,C,I){this._lBlock=P[C],this._rBlock=P[C+1],N.call(this,4,252645135),N.call(this,16,65535),O.call(this,2,858993459),O.call(this,8,16711935),N.call(this,1,1431655765);for(var L=0;L<16;L++){for(var z=I[L],q=this._lBlock,A=this._rBlock,S=0,B=0;B<8;B++)S|=_[B][((A^z[B])&b[B])>>>0];this._lBlock=A,this._rBlock=q^S}var D=this._lBlock;this._lBlock=this._rBlock,this._rBlock=D,N.call(this,1,1431655765),O.call(this,8,16711935),O.call(this,2,858993459),N.call(this,16,65535),N.call(this,4,252645135),P[C]=this._lBlock,P[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function N(P,C){var I=(this._lBlock>>>P^this._rBlock)&C;this._rBlock^=I,this._lBlock^=I<<P}function O(P,C){var I=(this._rBlock>>>P^this._lBlock)&C;this._lBlock^=I,this._rBlock^=I<<P}s.DES=u._createHelper(R);var T=m.TripleDES=u.extend({_doReset:function(){var P=this._key,C=P.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var I=C.slice(0,2),L=C.length<4?C.slice(0,2):C.slice(2,4),z=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=R.createEncryptor(l.create(I)),this._des2=R.createEncryptor(l.create(L)),this._des3=R.createEncryptor(l.create(z))},encryptBlock:function(P,C){this._des1.encryptBlock(P,C),this._des2.decryptBlock(P,C),this._des3.encryptBlock(P,C)},decryptBlock:function(P,C){this._des3.decryptBlock(P,C),this._des2.encryptBlock(P,C),this._des1.decryptBlock(P,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});s.TripleDES=u._createHelper(T)})(),t.TripleDES})})(Cf)),Cf.exports}var Sf={exports:{}},CB=Sf.exports,rb;function SB(){return rb||(rb=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Ya(),Xa(),na(),Wt())})(CB,function(t){return(function(){var s=t,o=s.lib,l=o.StreamCipher,u=s.algo,m=u.RC4=l.extend({_doReset:function(){for(var y=this._key,_=y.words,b=y.sigBytes,R=this._S=[],N=0;N<256;N++)R[N]=N;for(var N=0,O=0;N<256;N++){var T=N%b,P=_[T>>>2]>>>24-T%4*8&255;O=(O+R[N]+P)%256;var C=R[N];R[N]=R[O],R[O]=C}this._i=this._j=0},_doProcessBlock:function(y,_){y[_]^=g.call(this)},keySize:256/32,ivSize:0});function g(){for(var y=this._S,_=this._i,b=this._j,R=0,N=0;N<4;N++){_=(_+1)%256,b=(b+y[_])%256;var O=y[_];y[_]=y[b],y[b]=O,R|=y[(y[_]+y[b])%256]<<24-N*8}return this._i=_,this._j=b,R}s.RC4=l._createHelper(m);var d=u.RC4Drop=m.extend({cfg:m.cfg.extend({drop:192}),_doReset:function(){m._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)g.call(this)}});s.RC4Drop=l._createHelper(d)})(),t.RC4})})(Sf)),Sf.exports}var Rf={exports:{}},RB=Rf.exports,sb;function DB(){return sb||(sb=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Ya(),Xa(),na(),Wt())})(RB,function(t){return(function(){var s=t,o=s.lib,l=o.StreamCipher,u=s.algo,m=[],g=[],d=[],y=u.Rabbit=l.extend({_doReset:function(){for(var b=this._key.words,R=this.cfg.iv,N=0;N<4;N++)b[N]=(b[N]<<8|b[N]>>>24)&16711935|(b[N]<<24|b[N]>>>8)&4278255360;var O=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],T=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var N=0;N<4;N++)_.call(this);for(var N=0;N<8;N++)T[N]^=O[N+4&7];if(R){var P=R.words,C=P[0],I=P[1],L=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,z=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,q=L>>>16|z&4294901760,A=z<<16|L&65535;T[0]^=L,T[1]^=q,T[2]^=z,T[3]^=A,T[4]^=L,T[5]^=q,T[6]^=z,T[7]^=A;for(var N=0;N<4;N++)_.call(this)}},_doProcessBlock:function(b,R){var N=this._X;_.call(this),m[0]=N[0]^N[5]>>>16^N[3]<<16,m[1]=N[2]^N[7]>>>16^N[5]<<16,m[2]=N[4]^N[1]>>>16^N[7]<<16,m[3]=N[6]^N[3]>>>16^N[1]<<16;for(var O=0;O<4;O++)m[O]=(m[O]<<8|m[O]>>>24)&16711935|(m[O]<<24|m[O]>>>8)&4278255360,b[R+O]^=m[O]},blockSize:128/32,ivSize:64/32});function _(){for(var b=this._X,R=this._C,N=0;N<8;N++)g[N]=R[N];R[0]=R[0]+1295307597+this._b|0,R[1]=R[1]+3545052371+(R[0]>>>0<g[0]>>>0?1:0)|0,R[2]=R[2]+886263092+(R[1]>>>0<g[1]>>>0?1:0)|0,R[3]=R[3]+1295307597+(R[2]>>>0<g[2]>>>0?1:0)|0,R[4]=R[4]+3545052371+(R[3]>>>0<g[3]>>>0?1:0)|0,R[5]=R[5]+886263092+(R[4]>>>0<g[4]>>>0?1:0)|0,R[6]=R[6]+1295307597+(R[5]>>>0<g[5]>>>0?1:0)|0,R[7]=R[7]+3545052371+(R[6]>>>0<g[6]>>>0?1:0)|0,this._b=R[7]>>>0<g[7]>>>0?1:0;for(var N=0;N<8;N++){var O=b[N]+R[N],T=O&65535,P=O>>>16,C=((T*T>>>17)+T*P>>>15)+P*P,I=((O&4294901760)*O|0)+((O&65535)*O|0);d[N]=C^I}b[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,b[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,b[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,b[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,b[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,b[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,b[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,b[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}s.Rabbit=l._createHelper(y)})(),t.Rabbit})})(Rf)),Rf.exports}var Df={exports:{}},NB=Df.exports,ab;function IB(){return ab||(ab=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Ya(),Xa(),na(),Wt())})(NB,function(t){return(function(){var s=t,o=s.lib,l=o.StreamCipher,u=s.algo,m=[],g=[],d=[],y=u.RabbitLegacy=l.extend({_doReset:function(){var b=this._key.words,R=this.cfg.iv,N=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],O=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var T=0;T<4;T++)_.call(this);for(var T=0;T<8;T++)O[T]^=N[T+4&7];if(R){var P=R.words,C=P[0],I=P[1],L=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,z=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,q=L>>>16|z&4294901760,A=z<<16|L&65535;O[0]^=L,O[1]^=q,O[2]^=z,O[3]^=A,O[4]^=L,O[5]^=q,O[6]^=z,O[7]^=A;for(var T=0;T<4;T++)_.call(this)}},_doProcessBlock:function(b,R){var N=this._X;_.call(this),m[0]=N[0]^N[5]>>>16^N[3]<<16,m[1]=N[2]^N[7]>>>16^N[5]<<16,m[2]=N[4]^N[1]>>>16^N[7]<<16,m[3]=N[6]^N[3]>>>16^N[1]<<16;for(var O=0;O<4;O++)m[O]=(m[O]<<8|m[O]>>>24)&16711935|(m[O]<<24|m[O]>>>8)&4278255360,b[R+O]^=m[O]},blockSize:128/32,ivSize:64/32});function _(){for(var b=this._X,R=this._C,N=0;N<8;N++)g[N]=R[N];R[0]=R[0]+1295307597+this._b|0,R[1]=R[1]+3545052371+(R[0]>>>0<g[0]>>>0?1:0)|0,R[2]=R[2]+886263092+(R[1]>>>0<g[1]>>>0?1:0)|0,R[3]=R[3]+1295307597+(R[2]>>>0<g[2]>>>0?1:0)|0,R[4]=R[4]+3545052371+(R[3]>>>0<g[3]>>>0?1:0)|0,R[5]=R[5]+886263092+(R[4]>>>0<g[4]>>>0?1:0)|0,R[6]=R[6]+1295307597+(R[5]>>>0<g[5]>>>0?1:0)|0,R[7]=R[7]+3545052371+(R[6]>>>0<g[6]>>>0?1:0)|0,this._b=R[7]>>>0<g[7]>>>0?1:0;for(var N=0;N<8;N++){var O=b[N]+R[N],T=O&65535,P=O>>>16,C=((T*T>>>17)+T*P>>>15)+P*P,I=((O&4294901760)*O|0)+((O&65535)*O|0);d[N]=C^I}b[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,b[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,b[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,b[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,b[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,b[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,b[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,b[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}s.RabbitLegacy=l._createHelper(y)})(),t.RabbitLegacy})})(Df)),Df.exports}var Nf={exports:{}},kB=Nf.exports,ob;function BB(){return ob||(ob=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Ya(),Xa(),na(),Wt())})(kB,function(t){return(function(){var s=t,o=s.lib,l=o.BlockCipher,u=s.algo;const m=16,g=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var y={pbox:[],sbox:[]};function _(T,P){let C=P>>24&255,I=P>>16&255,L=P>>8&255,z=P&255,q=T.sbox[0][C]+T.sbox[1][I];return q=q^T.sbox[2][L],q=q+T.sbox[3][z],q}function b(T,P,C){let I=P,L=C,z;for(let q=0;q<m;++q)I=I^T.pbox[q],L=_(T,I)^L,z=I,I=L,L=z;return z=I,I=L,L=z,L=L^T.pbox[m],I=I^T.pbox[m+1],{left:I,right:L}}function R(T,P,C){let I=P,L=C,z;for(let q=m+1;q>1;--q)I=I^T.pbox[q],L=_(T,I)^L,z=I,I=L,L=z;return z=I,I=L,L=z,L=L^T.pbox[1],I=I^T.pbox[0],{left:I,right:L}}function N(T,P,C){for(let A=0;A<4;A++){T.sbox[A]=[];for(let S=0;S<256;S++)T.sbox[A][S]=d[A][S]}let I=0;for(let A=0;A<m+2;A++)T.pbox[A]=g[A]^P[I],I++,I>=C&&(I=0);let L=0,z=0,q=0;for(let A=0;A<m+2;A+=2)q=b(T,L,z),L=q.left,z=q.right,T.pbox[A]=L,T.pbox[A+1]=z;for(let A=0;A<4;A++)for(let S=0;S<256;S+=2)q=b(T,L,z),L=q.left,z=q.right,T.sbox[A][S]=L,T.sbox[A][S+1]=z;return!0}var O=u.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var T=this._keyPriorReset=this._key,P=T.words,C=T.sigBytes/4;N(y,P,C)}},encryptBlock:function(T,P){var C=b(y,T[P],T[P+1]);T[P]=C.left,T[P+1]=C.right},decryptBlock:function(T,P){var C=R(y,T[P],T[P+1]);T[P]=C.left,T[P+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});s.Blowfish=l._createHelper(O)})(),t.Blowfish})})(Nf)),Nf.exports}var OB=Yh.exports,lb;function jB(){return lb||(lb=1,(function(i,e){(function(t,s,o){i.exports=s(qe(),Nd(),I7(),B7(),Ya(),M7(),Xa(),aT(),Zg(),U7(),oT(),q7(),$7(),Y7(),Jg(),W7(),na(),Wt(),tB(),iB(),sB(),oB(),cB(),hB(),dB(),pB(),xB(),vB(),bB(),wB(),TB(),SB(),DB(),IB(),BB())})(OB,function(t){return t})})(Yh)),Yh.exports}var MB=jB();const Bp=z4(MB),Op=(i,e)=>{try{return Bp.AES.encrypt(i,e).toString()}catch(t){return console.error("Encryption error:",t),""}},jp=(i,e)=>{try{const s=Bp.AES.decrypt(i,e).toString(Bp.enc.Utf8);return s||(console.warn("Decryption resulted in empty string for:",i),"")}catch(t){return console.error("Decryption error:",t),""}},PB=(i,e)=>i.map(t=>Op(t,e)),LB=(i,e)=>i.map(t=>jp(t,e)),VB=async()=>{try{if(!De.currentUser)return console.log("No current user"),!1;const i=Xs(gi,"Users"),e=Uc(i,zg("userId","==",De.currentUser.uid)),t=await zc(e);if(t.empty)return console.log("No profile found for user"),!1;const s=t.docs[0].data().setupCompleted===!0;return console.log("Profile setup complete:",s),s}catch(i){return console.error("Error checking profile setup:",i),i.code==="permission-denied"&&console.warn("Permission denied when checking profile - update your Firestore rules"),!1}},lT=async()=>{try{if(!De.currentUser)return console.log("No current user"),null;const i=Xs(gi,"Users"),e=Uc(i,zg("userId","==",De.currentUser.uid)),t=await zc(e);if(t.empty)return console.log("No profile found"),null;const s=t.docs[0].data(),o=De.currentUser.uid;console.log("Decrypting sensitive user data");const l={docId:t.docs[0].id,...s,phone:s.phone?jp(s.phone,o):null,age:s.age?jp(s.age,o):null,triggers:s.triggers&&Array.isArray(s.triggers)?LB(s.triggers,o):[]};return console.log("Profile data decrypted successfully"),l}catch(i){return console.error("Error fetching user profile:",i),null}};function FB(){const[i,e]=K.useState(!1),[t,s]=K.useState(!1),[o,l]=K.useState(!1),[u,m]=K.useState(""),[g,d]=K.useState(""),y=Pi(),[_,b]=K.useState({email:"",password:"",name:"",confirmPassword:""}),R=async N=>{N.preventDefault(),m(""),d(""),l(!0);try{if(i){if(_.password!==_.confirmPassword){m("Passwords do not match"),l(!1);return}if(_.password.length<6){m("Password must be at least 6 characters"),l(!1);return}if(!_.name.trim()){m("Name is required"),l(!1);return}const O=await D5(De,_.email,_.password);await k5(O.user,{displayName:_.name}),d("Account created successfully! Redirecting..."),setTimeout(()=>{y("/accountsetup")},1500)}else{await N5(De,_.email,_.password);const O=await VB();d("Signed in successfully! Redirecting..."),setTimeout(()=>{y(O?"/":"/accountsetup")},1500)}}catch(O){O.code==="auth/email-already-in-use"?m("Email is already in use"):O.code==="auth/invalid-email"?m("Invalid email address"):O.code==="auth/weak-password"?m("Password is too weak"):O.code==="auth/user-not-found"?m("User not found"):O.code==="auth/wrong-password"?m("Incorrect password"):m(O.message||"An error occurred")}finally{l(!1)}};return x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsx("div",{className:"w-full max-w-md",children:x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg mb-2",children:i?"Create Account":"Welcome Back"}),x.jsx("p",{className:"text-white/70 text-sm",children:i?"Join our supportive community":"Sign in to continue your journey"})]}),u&&x.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[x.jsx(Zf,{size:20,className:"text-red-400 flex-shrink-0 mt-0.5"}),x.jsx("p",{className:"text-red-200 text-sm",children:u})]}),g&&x.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[x.jsx(pb,{size:20,className:"text-green-400 flex-shrink-0 mt-0.5"}),x.jsx("p",{className:"text-green-200 text-sm",children:g})]}),x.jsxs("form",{onSubmit:R,className:"space-y-4",children:[i&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Full Name"}),x.jsxs("div",{className:"relative",children:[x.jsx(ed,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),x.jsx("input",{type:"text",placeholder:"Enter your name",value:_.name,onChange:N=>b({..._,name:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:i})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Email Address"}),x.jsxs("div",{className:"relative",children:[x.jsx(xb,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),x.jsx("input",{type:"email",placeholder:"Enter your email",value:_.email,onChange:N=>b({..._,email:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(Iv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),x.jsx("input",{type:t?"text":"password",placeholder:"Enter your password",value:_.password,onChange:N=>b({..._,password:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-12 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0}),x.jsx("button",{type:"button",onClick:()=>s(!t),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/50 hover:text-white/80 transition-colors",children:t?x.jsx(bC,{size:20}):x.jsx(wC,{size:20})})]})]}),i&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(Iv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),x.jsx("input",{type:t?"text":"password",placeholder:"Confirm your password",value:_.confirmPassword,onChange:N=>b({..._,confirmPassword:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:i})]})]}),!i&&x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{type:"button",className:"text-white/60 hover:text-white text-sm transition-colors",children:"Forgot Password?"})}),x.jsx("button",{type:"submit",disabled:o,className:"w-full bg-white/20 hover:bg-white/30 disabled:bg-white/10 disabled:opacity-50 backdrop-blur-md text-white font-semibold rounded-full py-3 transition-all duration-300 border border-white/30 shadow-lg mt-6",children:o?"Processing...":i?"Create Account":"Sign In"})]}),x.jsx("div",{className:"text-center mt-6",children:x.jsxs("button",{type:"button",onClick:()=>e(!i),className:"text-white/70 hover:text-white text-sm transition-colors",children:[i?"Already have an account? ":"Don't have an account? ",x.jsx("span",{className:"font-semibold",children:i?"Sign In":"Sign Up"})]})}),x.jsx("p",{className:"text-white/40 text-xs text-center mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})})}const UB=["Anxiety","Depression","Eating Disorders","Self-Harm","Substance Abuse","Trauma/PTSD","Suicidal Thoughts","Relationship Issues","Academic Stress","Financial Stress","Grief/Loss","Social Anxiety","Body Image","Sleep Issues","OCD","Panic Attacks"];function zB(){const i=Pi(),[e,t]=K.useState(!1),[s,o]=K.useState(""),[l,u]=K.useState(""),[m,g]=K.useState(null),[d,y]=K.useState(""),[_,b]=K.useState([]),[R,N]=K.useState({phone:"",age:"",bio:"",preferences:""});K.useEffect(()=>{De.currentUser||i("/signin")},[i]);const O=C=>{const I=C.target.files?.[0];if(I){g(I);const L=new FileReader;L.onloadend=()=>{y(L.result)},L.readAsDataURL(I)}},T=C=>{b(I=>I.includes(C)?I.filter(L=>L!==C):[...I,C])},P=async C=>{C.preventDefault(),console.log("Form submitted"),o(""),u(""),t(!0);try{if(!R.phone.trim()){console.log("Phone number is empty"),o("Phone number is required"),t(!1);return}console.log("Phone validation passed");let I="";if(m){console.log("Uploading profile image");const U=De.currentUser;if(!U){console.log("User not authenticated (image upload)"),o("User not authenticated"),t(!1);return}try{const M=m7(v7,`profile-pictures/${U.uid}/${m.name}`);console.log("Image ref:",M.toString()),await f7(M,m),I=await d7(M),console.log("Image uploaded:",I)}catch(M){console.warn("Failed to upload profile image:",M),console.warn("Continuing without profile image")}}const L=De.currentUser;if(console.log("Current user:",L),!L){console.log("User not authenticated (firestore)"),o("User not authenticated"),t(!1);return}const z=L.uid;console.log("Using encryption key:",z);const q=Op(R.phone,z),A=R.age?Op(R.age,z):null,S=PB(_,z);console.log("Sensitive data encrypted");const B={userId:L.uid,email:L.email,displayName:L.displayName,phone:q,age:A,triggers:S,profileImageUrl:I,bio:R.bio,preferences:R.preferences,setupCompleted:!0,createdAt:Ip(),updatedAt:Ip()};console.log("Profile data prepared (with encrypted fields)");const D=Xs(gi,"Users");console.log("Adding document to Firestore");const k=await $g(D,B);console.log("Document added with ID:",k.id),u("Profile setup completed! Redirecting to home..."),t(!1),setTimeout(()=>{i("/")},1500)}catch(I){console.error("Error setting up profile:",I),console.error("Error code:",I.code),console.error("Error message:",I.message),console.error("Full error:",I);let L="An error occurred while setting up your profile";I.code==="permission-denied"?L="Permission denied. Please check Firestore security rules. Make sure authenticated users can write to the Users collection.":I.message&&(L=I.message),o(L),t(!1)}};return x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsx("div",{className:"w-full max-w-2xl",children:x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg mb-2",children:"Complete Your Profile"}),x.jsx("p",{className:"text-white/70 text-sm",children:"Help us personalize your mental health journey"})]}),s&&x.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[x.jsx(Zf,{size:20,className:"text-red-400 flex-shrink-0 mt-0.5"}),x.jsx("p",{className:"text-red-200 text-sm",children:s})]}),l&&x.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[x.jsx(pb,{size:20,className:"text-green-400 flex-shrink-0 mt-0.5"}),x.jsx("p",{className:"text-green-200 text-sm",children:l})]}),x.jsxs("form",{onSubmit:P,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/80 text-sm font-medium mb-3",children:"Profile Picture"}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-24 h-24 rounded-2xl bg-white/5 border border-white/20 flex items-center justify-center overflow-hidden",children:d?x.jsx("img",{src:d,alt:"Profile",className:"w-full h-full object-cover"}):x.jsx(WC,{size:32,className:"text-white/50"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"w-full text-sm text-white/50 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-white/20 file:text-white hover:file:bg-white/30 transition-colors"}),x.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Optional - PNG, JPG up to 5MB"})]})]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2",children:["Phone Number ",x.jsx("span",{className:"text-red-400",children:"*"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Lp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),x.jsx("input",{type:"tel",placeholder:"Enter your phone number",value:R.phone,onChange:C=>N({...R,phone:C.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Age"}),x.jsxs("div",{className:"relative",children:[x.jsx(db,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),x.jsx("input",{type:"number",placeholder:"Enter your age",value:R.age,onChange:C=>N({...R,age:C.target.value}),min:"13",max:"120",className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Bio"}),x.jsx("textarea",{placeholder:"Tell us a bit about yourself...",value:R.bio,onChange:C=>N({...R,bio:C.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all resize-none",rows:3})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-3 flex items-center gap-2",children:[x.jsx(Hc,{size:18}),"Topics to Avoid (Select any that apply)"]}),x.jsx("div",{className:"grid grid-cols-2 gap-3",children:UB.map(C=>x.jsx("button",{type:"button",onClick:()=>T(C),className:`p-3 rounded-2xl text-sm font-medium transition-all border ${_.includes(C)?"bg-pink-500/40 border-pink-500/60 text-white":"bg-white/5 border-white/20 text-white/70 hover:bg-white/10"}`,children:C},C))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 flex items-center gap-2",children:[x.jsx(Jm,{size:18}),"Additional Preferences"]}),x.jsx("textarea",{placeholder:"Share any other preferences or information that would help personalize your experience...",value:R.preferences,onChange:C=>N({...R,preferences:C.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all resize-none",rows:3})]}),x.jsx("button",{type:"submit",disabled:e,className:"w-full bg-white/20 hover:bg-white/30 disabled:bg-white/10 disabled:opacity-50 backdrop-blur-md text-white font-semibold rounded-full py-3 transition-all duration-300 border border-white/30 shadow-lg mt-6",children:e?"Completing Setup...":"Complete Profile Setup"}),x.jsx("p",{className:"text-white/40 text-xs text-center",children:"You can update this information anytime from your profile settings"})]})]})})})}function HB(){const i=Pi(),[e,t]=K.useState(null),[s,o]=K.useState(!0),[l,u]=K.useState("");K.useEffect(()=>{(async()=>{if(!De.currentUser){i("/signin");return}try{const d=await lT();d?t(d):u("Could not load profile")}catch(d){console.error("Error loading profile:",d),u("Error loading profile")}finally{o(!1)}})()},[i]);const m=async()=>{try{await $E(De),i("/")}catch(g){console.error("Error signing out:",g)}};return s?x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsx("div",{className:"text-white text-xl",children:"Loading profile..."})}):e?x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsx("div",{className:"max-w-2xl mx-auto",children:x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20 mb-6",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-4xl font-bold text-white drop-shadow-lg mb-2",children:"Your Profile"}),x.jsx("p",{className:"text-white/70",children:"All your account information"})]}),x.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e?.profileImageUrl?x.jsx("img",{src:e.profileImageUrl,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-white/20 mb-4 shadow-lg"}):x.jsx("div",{className:"w-32 h-32 rounded-full bg-white/10 border-4 border-white/20 flex items-center justify-center mb-4",children:x.jsx("span",{className:"text-white/50 text-6xl",children:""})}),x.jsx("h2",{className:"text-3xl font-bold text-white",children:e?.displayName||"User"}),x.jsx("p",{className:"text-white/60 text-sm",children:e?.email})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 md:grid-flow-col md:auto-cols-fr",children:[x.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx(xb,{size:20,className:"text-white/70"}),x.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Email"})]}),x.jsx("p",{className:"text-white font-normal text-center break-words text-xs md:text-sm w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.email,children:e?.email})]}),x.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx(Lp,{size:20,className:"text-white/70"}),x.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Phone"})]}),x.jsx("p",{className:"text-white font-semibold text-center break-words w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.phone,children:e?.phone||"Not provided"})]}),x.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx(db,{size:20,className:"text-white/70"}),x.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Age"})]}),x.jsx("p",{className:"text-white font-semibold text-center break-words w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.age,children:e?.age?e.age:"Not provided"})]})]}),e?.bio&&x.jsxs("div",{className:"mb-8",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(Jm,{size:20,className:"text-white/70"}),x.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Bio"})]}),x.jsx("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:x.jsx("p",{className:"text-white",children:e.bio})})]}),e?.triggers&&e.triggers.length>0&&x.jsxs("div",{className:"mb-8",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(Hc,{size:20,className:"text-white/70"}),x.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Topics to Avoid"})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:e.triggers.map((g,d)=>x.jsx("span",{className:"px-4 py-2 bg-pink-500/20 border border-pink-500/50 text-white rounded-full text-sm font-medium",children:g},d))})]}),e?.preferences&&x.jsxs("div",{className:"mb-8",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(Jm,{size:20,className:"text-white/70"}),x.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Preferences"})]}),x.jsx("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:x.jsx("p",{className:"text-white",children:e.preferences})})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[x.jsxs("button",{onClick:()=>i("/accountsetup"),className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg",children:[x.jsx(zC,{size:18}),"Edit Profile"]}),x.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-red-500/20 hover:bg-red-500/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-red-500/30 shadow-lg",children:[x.jsx(gb,{size:18}),"Sign Out"]})]})]})})}):x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsx("div",{className:"text-white text-xl",children:l||"Profile not found"})})}const qB=async()=>{try{const i=Uc(Xs(gi,"blogPosts"),jA("date","desc"));return(await zc(i)).docs.map(t=>({id:t.id,...t.data()}))}catch(i){return console.error(i),[]}},Zm=async i=>{try{const e=iu(gi,"blogPosts",i),t=await PA(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){return console.error(e),null}},GB=async i=>{try{return(await $g(Xs(gi,"blogPosts"),{...i,likedBy:[],comments:[],createdAt:new Date().toISOString()})).id}catch(e){return console.error(e),null}},cT=async(i,e,t)=>{try{return await Gg(iu(gi,"blogPosts",i),{likedBy:t?UA(e):FA(e)}),!0}catch(s){return console.error(s),!1}},$B=async(i,e,t,s,o)=>{try{const l={id:crypto.randomUUID(),author:e,authorEmail:t,content:s,timestamp:new Date().toISOString(),userId:o};return await Gg(iu(gi,"blogPosts",i),{comments:FA(l)}),!0}catch(l){return console.error(l),!1}},KB=async(i,e,t)=>{try{const s=iu(gi,"blogPosts",i),o=await PA(s);if(!o.exists())return!1;const u=o.data().comments?.find(g=>g.id===e);if(!u)return!1;const m=De.currentUser?.email;return u.userId!==t&&m!=="amogh.shivanna@gmail.com"?!1:(await Gg(s,{comments:UA(u)}),!0)}catch(s){return console.error(s),!1}};function YB(){const i=Pi(),[e,t]=K.useState(""),[s,o]=K.useState("All"),[l,u]=K.useState([]),[m,g]=K.useState("newest"),[d,y]=K.useState(0),[_,b]=K.useState([]),[R,N]=K.useState(!0),[O,T]=K.useState(null),[P,C]=K.useState(!1),I=["All","Mental Health","Self-Care","Mindfulness","Relationships","Wellness","Technology"];K.useEffect(()=>sg(De,S=>{T(S?S.uid:null)}),[]),K.useEffect(()=>{(async()=>{try{const S=await qB();if(b(S),O){const B=S.filter(D=>D.likedBy?.includes(O)).map(D=>D.id);u(B)}}catch(S){console.error("Error loading blog posts:",S)}finally{N(!1)}})()},[O]),K.useEffect(()=>{if(O){const A=De.currentUser?.email;C(A==="amogh.shivanna@gmail.com")}},[O]);const L=async A=>{if(!O||!De.currentUser){alert("Please log in to like posts");return}const S=l.includes(A);u(B=>S?B.filter(D=>D!==A):[...B,A]),b(B=>B.map(D=>D.id===A?{...D,likedBy:S?D.likedBy?.filter(k=>k!==De.currentUser.uid)||[]:[...D.likedBy||[],De.currentUser.uid]}:D));try{await cT(A,De.currentUser.uid,S)||(u(D=>S?[...D,A]:D.filter(k=>k!==A)),b(D=>D.map(k=>k.id===A?{...k,likedBy:S?[...k.likedBy||[],De.currentUser.uid]:k.likedBy?.filter(U=>U!==De.currentUser.uid)||[]}:k)))}catch(B){console.error("Error updating like:",B),u(D=>S?[...D,A]:D.filter(k=>k!==A)),b(D=>D.map(k=>k.id===A?{...k,likedBy:S?[...k.likedBy||[],De.currentUser.uid]:k.likedBy?.filter(U=>U!==De.currentUser.uid)||[]}:k))}},z=_.filter(A=>{const S=s==="All"||A.category===s,B=A.title.toLowerCase().includes(e.toLowerCase())||A.excerpt.toLowerCase().includes(e.toLowerCase())||A.tags.some(U=>U.toLowerCase().includes(e.toLowerCase())),k=(A.likedBy?.length||0)>=d;return S&&B&&k}).sort((A,S)=>m==="newest"?new Date(S.date).getTime()-new Date(A.date).getTime():m==="oldest"?new Date(A.date).getTime()-new Date(S.date).getTime():m==="most-liked"?(S.likedBy?.length||0)-(A.likedBy?.length||0):0),q=_.filter(A=>A.featured);return R?x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsx("p",{className:"text-white text-lg",children:"Loading blog posts..."})}):x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsxs("div",{className:"flex items-center justify-center gap-4 mb-3",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg",children:"Wellness Blog"}),P&&x.jsxs("button",{onClick:()=>i("/add-blog"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-full font-semibold transition-all duration-200 flex items-center gap-2 shadow-lg",children:[x.jsx(Jf,{size:20}),"New Post"]})]}),x.jsx("p",{className:"text-white/70 text-lg",children:"Expert insights and practical tips for mental health and wellbeing"})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-8 shadow-2xl shadow-black/20",children:[x.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:x.jsxs("div",{className:"flex-1 relative",children:[x.jsx(yb,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),x.jsx("input",{type:"text",placeholder:"Search articles, topics, keywords...",value:e,onChange:A=>t(A.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]})}),x.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:I.map(A=>x.jsx("button",{onClick:()=>o(A),className:`px-4 py-2 rounded-full font-medium text-sm transition-all duration-200 border ${s===A?"bg-white/25 text-white border-white/40 shadow-lg":"bg-white/5 text-white/80 border-white/10 hover:bg-white/10"}`,children:A},A))}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"text-white/70 text-sm font-medium block mb-2",children:"Sort By:"}),x.jsxs("select",{value:m,onChange:A=>g(A.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-2 text-white text-sm focus:outline-none focus:border-white/30 transition-all",children:[x.jsx("option",{value:"newest",className:"bg-[#0A0F2A]",children:"Newest First"}),x.jsx("option",{value:"oldest",className:"bg-[#0A0F2A]",children:"Oldest First"}),x.jsx("option",{value:"most-liked",className:"bg-[#0A0F2A]",children:"Most Liked"})]})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"text-white/70 text-sm font-medium block mb-2",children:"Minimum Likes:"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(bb,{size:16,className:"text-white/50"}),x.jsx("input",{type:"range",min:"0",max:"500",step:"50",value:d,onChange:A=>y(Number(A.target.value)),className:"flex-1 h-2 bg-white/10 rounded-full appearance-none cursor-pointer accent-white/50"}),x.jsx("span",{className:"text-white/70 text-sm font-medium w-12",children:d})]})]})]})]}),s==="All"&&e===""&&d===0&&q.length>0&&x.jsxs("div",{className:"mb-12",children:[x.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[x.jsx(_b,{size:24}),"Featured Articles"]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:q.map(A=>x.jsxs("div",{onClick:()=>i(`/blog/${A.id}`),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer group",children:[x.jsx("div",{className:"flex items-start justify-between mb-4",children:x.jsx("span",{className:"bg-white/20 text-white/90 text-xs font-semibold px-3 py-1 rounded-full",children:"Featured"})}),x.jsx("h3",{className:"text-2xl font-bold text-white mb-3 group-hover:text-white/90 transition-colors",children:A.title}),x.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:A.excerpt}),x.jsx("div",{className:"flex items-center justify-between text-sm text-white/60 mb-4",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(mb,{size:16}),new Date(A.date).toLocaleDateString()]}),x.jsxs("span",{children:[A.readTime," min read"]})]})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"flex gap-2",children:A.tags.slice(0,2).map(S=>x.jsxs("span",{className:"text-xs text-white/50 bg-white/5 px-2 py-1 rounded-full",children:["#",S]},S))}),x.jsx(hC,{size:20,className:"text-white/50 group-hover:text-white/80 transition-colors"})]})]},A.id))})]}),x.jsxs("div",{children:[x.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[x.jsx(dC,{size:24}),s==="All"&&e===""?"Latest Articles":"Articles"]}),z.length===0?x.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-12 text-center shadow-xl shadow-black/10",children:x.jsx("p",{className:"text-white/70 text-lg",children:"No articles found matching your search."})}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(A=>x.jsxs("div",{onClick:()=>i(`/blog/${A.id}`),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer group flex flex-col",children:[x.jsx("div",{className:"flex items-start justify-between mb-4",children:x.jsx("span",{className:"bg-white/20 text-white/80 text-xs font-medium px-3 py-1 rounded-full",children:A.category})}),x.jsx("h3",{className:"text-lg font-bold text-white mb-3 group-hover:text-white/90 transition-colors line-clamp-2",children:A.title}),x.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-3 flex-grow",children:A.excerpt}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(ed,{size:14}),x.jsx("span",{children:A.author})]}),x.jsxs("span",{children:[A.readTime," min"]})]}),x.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[x.jsxs("button",{onClick:S=>{S.stopPropagation(),L(A.id)},className:"flex items-center gap-1 text-white/60 hover:text-red-400 transition-all duration-200 group",children:[x.jsx(Hc,{size:18,fill:l.includes(A.id)?"currentColor":"none",className:`transition-all duration-200 ${l.includes(A.id)?"text-red-400 scale-110":"group-hover:scale-110"}`}),x.jsx("span",{className:`text-sm font-medium transition-colors ${l.includes(A.id)?"text-red-400":""}`,children:A.likedBy?.length||0})]}),x.jsx("button",{onClick:S=>S.stopPropagation(),className:"text-white/60 hover:text-white transition-colors",children:x.jsx(vb,{size:18})})]})]})]},A.id))})]})]})})}function XB(){return x.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4",children:x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white text-center mb-8",children:"Resources"}),x.jsx("p",{className:"text-white/80 text-center text-lg mb-12 max-w-2xl mx-auto",children:"Helpful resources for mental health and wellbeing"}),x.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"text-white/90",children:x.jsx("p",{className:"text-lg",children:"Explore our curated collection of mental health resources."})}),x.jsx("div",{className:"bg-white/5 rounded-2xl p-6 min-h-[400px] flex items-center justify-center",children:x.jsx("p",{className:"text-white/60 text-center",children:"Resources content coming soon..."})})]})})]})})}function QB(){const i=Pi(),[e,t]=K.useState(!1),[s,o]=K.useState(!1),[l,u]=K.useState(""),[m,g]=K.useState({title:"",excerpt:"",content:"",author:"Amogh Shivanna",category:"Wellness",readTime:5,tags:[],featured:!1}),d=["Mental Health","Self-Care","Mindfulness","Relationships","Wellness","Technology"];K.useEffect(()=>sg(De,O=>{if(O){const P=O.email==="amogh.shivanna@gmail.com";t(P),P||i("/blog")}else i("/blog")}),[i]);const y=N=>{const{name:O,value:T,type:P}=N.target;if(P==="checkbox"){const C=N.target.checked;g(I=>({...I,[O]:C}))}else g(C=>({...C,[O]:T}))},_=()=>{l.trim()&&!m.tags.includes(l.trim())&&(g(N=>({...N,tags:[...N.tags,l.trim()]})),u(""))},b=N=>{g(O=>({...O,tags:O.tags.filter(T=>T!==N)}))},R=async N=>{if(N.preventDefault(),!m.title||!m.excerpt||!m.content){alert("Please fill in all required fields (Title, Excerpt, and Content)");return}if(m.readTime<1){alert("Read time must be at least 1 minute");return}o(!0);try{const O={title:m.title.trim(),excerpt:m.excerpt.trim(),content:m.content.trim(),author:m.author,category:m.category,readTime:Number(m.readTime),date:new Date().toISOString(),tags:m.tags,featured:m.featured||!1};console.log("Submitting post data:",O),await GB(O)?(alert("Blog post created successfully!"),i("/blog")):alert("Failed to create blog post. Please check the console for errors and ensure you have the correct Firebase permissions.")}catch(O){console.error("Error in handleSubmit:",O),alert(`An error occurred while creating the blog post: ${O.message}`)}finally{o(!1)}};return e?x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("div",{className:"mb-8",children:[x.jsxs("button",{onClick:()=>i("/blog"),className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-4",children:[x.jsx(fb,{size:20}),"Back to Blog"]}),x.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Create New Blog Post"}),x.jsx("p",{className:"text-white/70 text-lg",children:"Share your insights with the community"})]}),x.jsxs("form",{onSubmit:R,className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Title ",x.jsx("span",{className:"text-red-400",children:"*"})]}),x.jsx("input",{type:"text",name:"title",value:m.title,onChange:y,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all",placeholder:"Enter blog post title...",required:!0})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Excerpt ",x.jsx("span",{className:"text-red-400",children:"*"})]}),x.jsx("textarea",{name:"excerpt",value:m.excerpt,onChange:y,rows:2,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Brief summary of your post...",required:!0})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Content ",x.jsx("span",{className:"text-red-400",children:"*"})]}),x.jsx("textarea",{name:"content",value:m.content,onChange:y,rows:12,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Write your blog post content here...",required:!0})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Category"}),x.jsx("select",{name:"category",value:m.category,onChange:y,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white focus:outline-none focus:border-white/30 transition-all",children:d.map(N=>x.jsx("option",{value:N,className:"bg-[#0A0F2A]",children:N},N))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Read Time (minutes)"}),x.jsx("input",{type:"number",name:"readTime",value:m.readTime,onChange:y,min:"1",max:"60",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Tags"}),x.jsxs("div",{className:"flex gap-2 mb-3",children:[x.jsx("input",{type:"text",value:l,onChange:N=>u(N.target.value),onKeyPress:N=>N.key==="Enter"&&(N.preventDefault(),_()),className:"flex-1 bg-white/5 border border-white/10 rounded-2xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all",placeholder:"Add a tag..."}),x.jsxs("button",{type:"button",onClick:_,className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-2xl transition-all duration-200 flex items-center gap-2",children:[x.jsx(Jf,{size:18}),"Add"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:m.tags.map(N=>x.jsxs("span",{className:"bg-white/10 text-white/90 px-3 py-1 rounded-full text-sm flex items-center gap-2 border border-white/20",children:["#",N,x.jsx("button",{type:"button",onClick:()=>b(N),className:"text-white/70 hover:text-white",children:""})]},N))})]}),x.jsx("div",{className:"mb-8",children:x.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[x.jsx("input",{type:"checkbox",name:"featured",checked:m.featured,onChange:y,className:"w-5 h-5 rounded border-white/20 bg-white/5 text-white focus:ring-0 focus:ring-offset-0"}),x.jsxs("span",{className:"text-white/90 text-sm font-semibold flex items-center gap-2",children:[x.jsx(_b,{size:16}),"Mark as Featured Post"]})]})}),x.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 rounded-2xl transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Post...":"Publish Blog Post"})]})]})}):null}function WB(){const{postId:i}=BS(),e=Pi(),[t,s]=K.useState(null),[o,l]=K.useState(!0),[u,m]=K.useState(null),[g,d]=K.useState(!1),[y,_]=K.useState(!1),[b,R]=K.useState(""),[N,O]=K.useState(""),[T,P]=K.useState(""),[C,I]=K.useState(!1);K.useEffect(()=>sg(De,D=>{D?(m(D.uid),R(D.displayName||D.email?.split("@")[0]||"Anonymous"),O(D.email||""),_(D.email==="amogh.shivanna@gmail.com")):(m(null),R(""),O(""),_(!1))}),[]),K.useEffect(()=>{(async()=>{if(!i){e("/blog");return}try{const D=await Zm(i);D?(s(D),u&&d(D.likedBy?.includes(u)||!1)):e("/blog")}catch(D){console.error("Error loading blog post:",D),e("/blog")}finally{l(!1)}})()},[i,u,e]);const L=async()=>{if(!u||!De.currentUser){alert("Please log in to like posts");return}if(!t)return;const B=g;d(!g);try{await cT(t.id,De.currentUser.uid,B)?s(k=>k&&{...k,likedBy:B?k.likedBy?.filter(U=>U!==De.currentUser.uid)||[]:[...k.likedBy||[],De.currentUser.uid]}):d(B)}catch(D){console.error("Error toggling like:",D),d(B)}},z=async()=>{if(navigator.share&&t)try{await navigator.share({title:t.title,text:t.excerpt,url:window.location.href})}catch(B){console.log("Error sharing:",B)}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")},q=async B=>{if(B.preventDefault(),!De.currentUser){alert("Please log in to comment");return}if(!T.trim()){alert("Please enter a comment");return}if(i){I(!0);try{const D=De.currentUser.displayName||De.currentUser.email?.split("@")[0]||"Anonymous User",k=De.currentUser.email||"no-email@example.com";if(await $B(i,D,k,T.trim(),De.currentUser.uid)){const M=await Zm(i);M&&s(M),P("")}else alert("Failed to add comment. Please try again.")}catch(D){console.error("Error submitting comment:",D),alert("An error occurred while adding your comment.")}finally{I(!1)}}},A=async B=>{if(!(!i||!u||!De.currentUser)&&confirm("Are you sure you want to delete this comment?"))try{if(await KB(i,B,De.currentUser.uid)){const k=await Zm(i);k&&s(k)}else alert("Failed to delete comment. You may not have permission.")}catch(D){console.error("Error deleting comment:",D),alert("An error occurred while deleting the comment.")}};if(o)return x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsx("p",{className:"text-white text-lg",children:"Loading..."})});if(!t)return null;const S=[...t.comments||[]].sort((B,D)=>new Date(D.timestamp).getTime()-new Date(B.timestamp).getTime());return x.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("button",{onClick:()=>e("/blog"),className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[x.jsx(fb,{size:20}),"Back to Blog"]}),x.jsxs("article",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 overflow-hidden mb-8",children:[x.jsxs("div",{className:"p-8 md:p-12",children:[x.jsx("div",{className:"flex items-center gap-3 mb-6",children:x.jsx("span",{className:"bg-white/20 text-white/90 text-sm font-semibold px-4 py-2 rounded-full",children:t.category})}),x.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-6 leading-tight",children:t.title}),x.jsx("p",{className:"text-xl text-white/80 mb-8 leading-relaxed",children:t.excerpt}),x.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-white/60 text-sm mb-8 pb-8 border-b border-white/10",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(ed,{size:18}),x.jsx("span",{children:t.author})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(mb,{size:18}),x.jsx("span",{children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(vC,{size:18}),x.jsxs("span",{children:[t.readTime," min read"]})]})]}),t.tags&&t.tags.length>0&&x.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:t.tags.map(B=>x.jsxs("span",{className:"flex items-center gap-1 bg-white/10 text-white/80 px-3 py-1 rounded-full text-sm border border-white/20",children:[x.jsx(qC,{size:14}),B]},B))}),x.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:x.jsx("div",{className:"text-white/90 leading-relaxed whitespace-pre-wrap",children:t.content})})]}),x.jsx("div",{className:"bg-white/5 border-t border-white/10 p-6 md:p-8",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("button",{onClick:L,disabled:!De.currentUser,className:`flex items-center gap-2 transition-all duration-200 group ${g?"text-red-400":"text-white/70 hover:text-red-400"} ${De.currentUser?"":"opacity-50 cursor-not-allowed"}`,title:De.currentUser?"":"Login to like",children:[x.jsx(Hc,{size:24,fill:g?"currentColor":"none",className:`transition-all duration-200 ${g?"scale-110 animate-pulse":"group-hover:scale-110"}`}),x.jsxs("span",{className:"text-lg font-medium",children:[t.likedBy?.length||0," ",(t.likedBy?.length||0)===1?"Like":"Likes"]})]}),x.jsxs("button",{onClick:z,className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white px-6 py-3 rounded-full transition-all duration-200 border border-white/20 hover:scale-105 active:scale-95",children:[x.jsx(vb,{size:20}),x.jsx("span",{className:"font-medium",children:"Share"})]})]})})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 p-6 md:p-8",children:[x.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[x.jsx(Pp,{size:24}),"Comments (",S.length,")"]}),De.currentUser?x.jsxs("form",{onSubmit:q,className:"mb-8 p-6 bg-white/5 rounded-2xl border border-white/10",children:[x.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Leave a Comment"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Name"}),x.jsx("input",{type:"text",value:b,disabled:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all opacity-75"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Email"}),x.jsx("input",{type:"email",value:N,disabled:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all opacity-75"})]})]}),x.jsxs("div",{className:"mb-4",children:[x.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2",children:["Comment ",x.jsx("span",{className:"text-red-400",children:"*"})]}),x.jsx("textarea",{value:T,onChange:B=>P(B.target.value),rows:4,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Share your thoughts...",required:!0})]}),x.jsxs("button",{type:"submit",disabled:C,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[x.jsx(LC,{size:18}),C?"Posting...":"Post Comment"]})]}):x.jsxs("div",{className:"mb-8 p-6 bg-white/5 rounded-2xl border border-white/10 text-center",children:[x.jsx("p",{className:"text-white/70 mb-4",children:"Please log in to leave a comment"}),x.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg",children:"Log In"})]}),x.jsx("div",{className:"space-y-4",children:S.length===0?x.jsx("p",{className:"text-white/60 text-center py-8",children:"No comments yet. Be the first to comment!"}):S.map(B=>x.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10 hover:bg-white/10 transition-all",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:B.author.charAt(0).toUpperCase()}),x.jsxs("div",{children:[x.jsx("p",{className:"text-white font-semibold",children:B.author}),x.jsx("p",{className:"text-white/50 text-xs",children:new Date(B.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),De.currentUser&&(B.userId===De.currentUser.uid||y)&&x.jsx("button",{onClick:()=>A(B.id),className:"text-white/50 hover:text-red-400 transition-colors",title:"Delete comment",children:x.jsx(YC,{size:18})})]}),x.jsx("p",{className:"text-white/90 leading-relaxed",children:B.content})]},B.id))})]})]})})}var ZB="1.3.15";function uT(i,e,t){return Math.max(i,Math.min(e,t))}function JB(i,e,t){return(1-t)*i+t*e}function eO(i,e,t,s){return JB(i,e,1-Math.exp(-t*s))}function tO(i,e){return(i%e+e)%e}var nO=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(i){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=i;const t=uT(0,this.currentTime/this.duration,1);e=t>=1;const s=e?1:this.easing(t);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=eO(this.value,this.to,this.lerp*60,i),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(i,e,{lerp:t,duration:s,easing:o,onStart:l,onUpdate:u}){this.from=this.value=i,this.to=e,this.lerp=t,this.duration=s,this.easing=o,this.currentTime=0,this.isRunning=!0,l?.(),this.onUpdate=u}};function iO(i,e){let t;return function(...s){let o=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,i.apply(o,s)},e)}}var rO=class{constructor(i,e,{autoResize:t=!0,debounce:s=250}={}){this.wrapper=i,this.content=e,t&&(this.debouncedResize=iO(this.resize,s),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},hT=class{events={};emit(i,...e){let t=this.events[i]||[];for(let s=0,o=t.length;s<o;s++)t[s]?.(...e)}on(i,e){return this.events[i]?.push(e)||(this.events[i]=[e]),()=>{this.events[i]=this.events[i]?.filter(t=>e!==t)}}off(i,e){this.events[i]=this.events[i]?.filter(t=>e!==t)}destroy(){this.events={}}},cb=100/6,Is={passive:!1},sO=class{constructor(i,e={wheelMultiplier:1,touchMultiplier:1}){this.element=i,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Is),this.element.addEventListener("touchstart",this.onTouchStart,Is),this.element.addEventListener("touchmove",this.onTouchMove,Is),this.element.addEventListener("touchend",this.onTouchEnd,Is)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new hT;on(i,e){return this.emitter.on(i,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Is),this.element.removeEventListener("touchstart",this.onTouchStart,Is),this.element.removeEventListener("touchmove",this.onTouchMove,Is),this.element.removeEventListener("touchend",this.onTouchEnd,Is)}onTouchStart=i=>{const{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:i})};onTouchMove=i=>{const{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i,s=-(e-this.touchStart.x)*this.options.touchMultiplier,o=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:s,y:o},this.emitter.emit("scroll",{deltaX:s,deltaY:o,event:i})};onTouchEnd=i=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:i})};onWheel=i=>{let{deltaX:e,deltaY:t,deltaMode:s}=i;const o=s===1?cb:s===2?this.window.width:1,l=s===1?cb:s===2?this.window.height:1;e*=o,t*=l,e*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:t,event:i})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},ub=i=>Math.min(1,1.001-Math.pow(2,-10*i)),aO=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new nO;emitter=new hT;dimensions;virtualScroll;constructor({wrapper:i=window,content:e=document.documentElement,eventsTarget:t=i,smoothWheel:s=!0,syncTouch:o=!1,syncTouchLerp:l=.075,touchInertiaExponent:u=1.7,duration:m,easing:g,lerp:d=.1,infinite:y=!1,orientation:_="vertical",gestureOrientation:b=_==="horizontal"?"both":"vertical",touchMultiplier:R=1,wheelMultiplier:N=1,autoResize:O=!0,prevent:T,virtualScroll:P,overscroll:C=!0,autoRaf:I=!1,anchors:L=!1,autoToggle:z=!1,allowNestedScroll:q=!1,__experimental__naiveDimensions:A=!1}={}){window.lenisVersion=ZB,(!i||i===document.documentElement)&&(i=window),typeof m=="number"&&typeof g!="function"?g=ub:typeof g=="function"&&typeof m!="number"&&(m=1),this.options={wrapper:i,content:e,eventsTarget:t,smoothWheel:s,syncTouch:o,syncTouchLerp:l,touchInertiaExponent:u,duration:m,easing:g,lerp:d,infinite:y,gestureOrientation:b,orientation:_,touchMultiplier:R,wheelMultiplier:N,autoResize:O,prevent:T,virtualScroll:P,overscroll:C,autoRaf:I,anchors:L,autoToggle:z,allowNestedScroll:q,__experimental__naiveDimensions:A},this.dimensions=new rO(i,e,{autoResize:O}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new sO(t,{touchMultiplier:R,wheelMultiplier:N}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(i,e){return this.emitter.on(i,e)}off(i,e){return this.emitter.off(i,e)}onScrollEnd=i=>{i instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&i.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};onTransitionEnd=i=>{if(i.propertyName.includes("overflow")){const e=this.isHorizontal?"overflow-x":"overflow-y",t=getComputedStyle(this.rootElement)[e];["hidden","clip"].includes(t)?this.internalStop():this.internalStart()}};setScroll(i){this.isHorizontal?this.options.wrapper.scrollTo({left:i,behavior:"instant"}):this.options.wrapper.scrollTo({top:i,behavior:"instant"})}onClick=i=>{const t=i.composedPath().find(s=>s instanceof HTMLAnchorElement&&s.getAttribute("href")?.includes("#"));if(t){const s=t.getAttribute("href");if(s){const o=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,l=`#${s.split("#")[1]}`;this.scrollTo(l,o)}}};onPointerDown=i=>{i.button===1&&this.reset()};onVirtualScroll=i=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(i)===!1)return;const{deltaX:e,deltaY:t,event:s}=i;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:t,event:s}),s.ctrlKey||s.lenisStopPropagation)return;const o=s.type.includes("touch"),l=s.type.includes("wheel");this.isTouching=s.type==="touchstart"||s.type==="touchmove";const u=e===0&&t===0;if(this.options.syncTouch&&o&&s.type==="touchstart"&&u&&!this.isStopped&&!this.isLocked){this.reset();return}const g=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&e===0;if(u||g)return;let d=s.composedPath();d=d.slice(0,d.indexOf(this.rootElement));const y=this.options.prevent;if(d.find(T=>T instanceof HTMLElement&&(typeof y=="function"&&y?.(T)||T.hasAttribute?.("data-lenis-prevent")||o&&T.hasAttribute?.("data-lenis-prevent-touch")||l&&T.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(T,{deltaX:e,deltaY:t}))))return;if(this.isStopped||this.isLocked){s.cancelable&&s.preventDefault();return}if(!(this.options.syncTouch&&o||this.options.smoothWheel&&l)){this.isScrolling="native",this.animate.stop(),s.lenisStopPropagation=!0;return}let b=t;this.options.gestureOrientation==="both"?b=Math.abs(t)>Math.abs(e)?t:e:this.options.gestureOrientation==="horizontal"&&(b=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(s.lenisStopPropagation=!0),s.cancelable&&s.preventDefault();const R=o&&this.options.syncTouch,O=o&&s.type==="touchend";O&&(b=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+b,{programmatic:!1,...R?{lerp:O?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const i=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-i,this.direction=Math.sign(this.animatedScroll-i),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=i=>{const e=i-(this.time||i);this.time=i,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(i,{offset:e=0,immediate:t=!1,lock:s=!1,duration:o=this.options.duration,easing:l=this.options.easing,lerp:u=this.options.lerp,onStart:m,onComplete:g,force:d=!1,programmatic:y=!0,userData:_}={}){if(!((this.isStopped||this.isLocked)&&!d)){if(typeof i=="string"&&["top","left","start","#"].includes(i))i=0;else if(typeof i=="string"&&["bottom","right","end"].includes(i))i=this.limit;else{let b;if(typeof i=="string"?(b=document.querySelector(i),b||(i==="#top"?i=0:console.warn("Lenis: Target not found",i))):i instanceof HTMLElement&&i?.nodeType&&(b=i),b){if(this.options.wrapper!==window){const N=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?N.left:N.top}const R=b.getBoundingClientRect();i=(this.isHorizontal?R.left:R.top)+this.animatedScroll}}if(typeof i=="number"){if(i+=e,i=Math.round(i),this.options.infinite){if(y){this.targetScroll=this.animatedScroll=this.scroll;const b=i-this.animatedScroll;b>this.limit/2?i=i-this.limit:b<-this.limit/2&&(i=i+this.limit)}}else i=uT(0,i,this.limit);if(i===this.targetScroll){m?.(this),g?.(this);return}if(this.userData=_??{},t){this.animatedScroll=this.targetScroll=i,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),g?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}y||(this.targetScroll=i),typeof o=="number"&&typeof l!="function"?l=ub:typeof l=="function"&&typeof o!="number"&&(o=1),this.animate.fromTo(this.animatedScroll,i,{duration:o,easing:l,lerp:u,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling="smooth",m?.(this)},onUpdate:(b,R)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=b-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=b,this.setScroll(this.scroll),y&&(this.targetScroll=b),R||this.emit(),R&&(this.reset(),this.emit(),g?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(i,{deltaX:e,deltaY:t}){const s=Date.now(),o=i._lenis??={};let l,u,m,g,d,y,_,b;const R=this.options.gestureOrientation;if(s-(o.time??0)>2e3){o.time=Date.now();const z=window.getComputedStyle(i);o.computedStyle=z;const q=z.overflowX,A=z.overflowY;if(l=["auto","overlay","scroll"].includes(q),u=["auto","overlay","scroll"].includes(A),o.hasOverflowX=l,o.hasOverflowY=u,!l&&!u||R==="vertical"&&!u||R==="horizontal"&&!l)return!1;d=i.scrollWidth,y=i.scrollHeight,_=i.clientWidth,b=i.clientHeight,m=d>_,g=y>b,o.isScrollableX=m,o.isScrollableY=g,o.scrollWidth=d,o.scrollHeight=y,o.clientWidth=_,o.clientHeight=b}else m=o.isScrollableX,g=o.isScrollableY,l=o.hasOverflowX,u=o.hasOverflowY,d=o.scrollWidth,y=o.scrollHeight,_=o.clientWidth,b=o.clientHeight;if(!l&&!u||!m&&!g||R==="vertical"&&(!u||!g)||R==="horizontal"&&(!l||!m))return!1;let N;if(R==="horizontal")N="x";else if(R==="vertical")N="y";else{const z=e!==0,q=t!==0;z&&l&&m&&(N="x"),q&&u&&g&&(N="y")}if(!N)return!1;let O,T,P,C,I;if(N==="x")O=i.scrollLeft,T=d-_,P=e,C=l,I=m;else if(N==="y")O=i.scrollTop,T=y-b,P=t,C=u,I=g;else return!1;return(P>0?O<T:O>0)&&C&&I}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const i=this.options.wrapper;return this.isHorizontal?i.scrollX??i.scrollLeft:i.scrollY??i.scrollTop}get scroll(){return this.options.infinite?tO(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(i){this._isScrolling!==i&&(this._isScrolling=i,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(i){this._isStopped!==i&&(this._isStopped=i,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(i){this._isLocked!==i&&(this._isLocked=i,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let i="lenis";return this.options.autoToggle&&(i+=" lenis-autoToggle"),this.isStopped&&(i+=" lenis-stopped"),this.isLocked&&(i+=" lenis-locked"),this.isScrolling&&(i+=" lenis-scrolling"),this.isScrolling==="smooth"&&(i+=" lenis-smooth"),i}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const oO="/BPA-2025/assets/Nimbus1-DetGXIbT.png";function lO({searchQuery:i,setSearchQuery:e,isSearchOpen:t,setIsSearchOpen:s}){const[o,l]=K.useState([]),[u,m]=K.useState(!1),g=Pi();return K.useEffect(()=>{if(i.trim()){m(!0);const d=[{id:1,title:"Research Articles",content:"",loading:!0,width:"col-span-3",height:"h-72",articles:[]},{id:2,title:"Key Definitions",content:"",loading:!0,width:"col-span-2",height:"h-72",definitions:[]},{id:3,title:"Professional Support",content:"",loading:!0,width:"col-span-2",height:"h-56",counselors:[]},{id:4,title:"Relevant Forums",content:"",loading:!0,width:"col-span-3",height:"h-56",forums:[]},{id:5,title:"Helplines",content:"",loading:!0,width:"col-span-3",height:"h-64",helplines:[]},{id:6,title:"Related Topics",content:"",loading:!0,width:"col-span-2",height:"h-64",relatedTopics:[]}];l(d);const y=setTimeout(()=>{const _=async()=>{try{const P=`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=${encodeURIComponent(i+" mental health")}&retmax=5&retmode=json`,I=await(await fetch(P)).json();if(I.esearchresult?.idlist?.length>0){const z=`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&id=${I.esearchresult.idlist.join(",")}&retmode=json`,A=await(await fetch(z)).json(),S=I.esearchresult.idlist.slice(0,5).map(B=>{const D=A.result[B];return{title:D.title||"Untitled",source:D.source||D.fulljournalname||"Journal name unavailable",year:D.pubdate?D.pubdate.split(" ")[0]:"Year unavailable",summary:`This research explores ${i.toLowerCase()} in the context of mental health and well-being.`}});l(B=>B.map(D=>D.id===1?{...D,loading:!1,articles:S,content:""}:D))}else l(L=>L.map(z=>z.id===1?{...z,loading:!1,content:"No research articles found for this topic.",articles:[]}:z))}catch(P){console.error("Error fetching PubMed articles:",P),l(C=>C.map(I=>I.id===1?{...I,loading:!1,content:"Unable to load articles at this time.",articles:[]}:I))}},b=async()=>{try{const P=["the","a","an","and","or","but","in","on","at","to","for","of","with","is","are","was","were","been","be","have","has","had","do","does","did","will","would","should","could","may","might","can","about","how","what","when","where","who","why","i","my","me"],C=i.toLowerCase().split(/\s+/).filter(z=>z.length>3&&!P.includes(z));if(C.length===0){l(z=>z.map(q=>q.id===2?{...q,loading:!1,content:"No key terms found to define.",definitions:[]}:q));return}const I=C.slice(0,3).map(async z=>{try{const q=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${z}`);if(!q.ok)return null;const A=await q.json();if(A&&A[0]&&A[0].meanings&&A[0].meanings[0]){const S=A[0].meanings[0];return{word:z,partOfSpeech:S.partOfSpeech||"",definition:S.definitions[0]?.definition||"Definition unavailable"}}return null}catch{return null}}),L=(await Promise.all(I)).filter(z=>z!==null);L.length>0?l(z=>z.map(q=>q.id===2?{...q,loading:!1,definitions:L,content:""}:q)):l(z=>z.map(q=>q.id===2?{...q,loading:!1,content:"Could not find definitions for these terms.",definitions:[]}:q))}catch(P){console.error("Error fetching definitions:",P),l(C=>C.map(I=>I.id===2?{...I,loading:!1,content:"Unable to load definitions at this time.",definitions:[]}:I))}};_(),b(),(()=>{setTimeout(()=>{const P=[{title:`Coping with ${i}`,category:"Support Groups",replies:Math.floor(Math.random()*100)+10,lastActive:"2 hours ago"},{title:`${i} - Share Your Experience`,category:"Discussion",replies:Math.floor(Math.random()*50)+5,lastActive:"5 hours ago"},{title:`Understanding ${i}`,category:"Education",replies:Math.floor(Math.random()*80)+15,lastActive:"1 day ago"}];l(C=>C.map(I=>I.id===4?{...I,loading:!1,forums:P,content:""}:I))},1200)})(),(()=>{setTimeout(()=>{const P=[{name:"Dr. Sarah Mitchell",specialty:"Anxiety & Stress Management",availability:"Available today",description:`Specializes in helping clients manage ${i.toLowerCase()} through evidence-based therapies.`},{name:"Dr. James Chen",specialty:"Cognitive Behavioral Therapy",availability:"Next available: Tomorrow",description:`Expert in treating ${i.toLowerCase()} with proven CBT techniques.`}];l(C=>C.map(I=>I.id===3?{...I,loading:!1,counselors:P,content:""}:I))},1e3)})(),(()=>{setTimeout(()=>{const C=i.toLowerCase().split(/\s+/)[0]||i,I=[{topic:`${i} treatment options`,query:`${i} treatment options`},{topic:`${i} coping strategies`,query:`${i} coping strategies`},{topic:`${i} symptoms`,query:`${i} symptoms`},{topic:`${C} therapy`,query:`${C} therapy`},{topic:`managing ${i}`,query:`managing ${i}`},{topic:`${i} prevention`,query:`${i} prevention`}];l(L=>L.map(z=>z.id===6?{...z,loading:!1,relatedTopics:I,content:""}:z))},1500)})(),(()=>{setTimeout(()=>{const P=i.toLowerCase(),C=[];(P.includes("suicid")||P.includes("crisis")||P.includes("self harm")||P.includes("self-harm"))&&(C.push({name:"National Suicide Prevention Lifeline",number:"988",description:"24/7 free and confidential support for people in distress.",availability:"24/7"}),C.push({name:"Crisis Text Line",number:"Text HOME to 741741",description:"Free, 24/7 support for those in crisis via text message.",availability:"24/7"})),(P.includes("drug")||P.includes("alcohol")||P.includes("substance")||P.includes("addiction"))&&C.push({name:"SAMHSA National Helpline",number:"1-800-662-4357",description:"Treatment referral and information service for substance abuse.",availability:"24/7"}),(P.includes("abuse")||P.includes("domestic")||P.includes("violence"))&&C.push({name:"National Domestic Violence Hotline",number:"1-800-799-7233",description:"Support for victims and survivors of domestic violence.",availability:"24/7"}),(P.includes("eating")||P.includes("anorexia")||P.includes("bulimia"))&&C.push({name:"NEDA Helpline",number:"1-800-931-2237",description:"National Eating Disorders Association support line.",availability:"Mon-Thu 9am-9pm ET, Fri 9am-5pm ET"}),(P.includes("veteran")||P.includes("military")||P.includes("ptsd"))&&C.push({name:"Veterans Crisis Line",number:"988 then Press 1",description:"Confidential support for Veterans and their families.",availability:"24/7"}),C.length===0&&C.push({name:"National Suicide Prevention Lifeline",number:"988",description:"24/7 free and confidential support for people in distress.",availability:"24/7"}),C.push({name:"NAMI HelpLine",number:"1-800-950-6264",description:"Information, resource referrals and support for mental health.",availability:"Mon-Fri 10am-10pm ET"});const I=C.slice(0,4);l(L=>L.map(z=>z.id===5?{...z,loading:!1,helplines:I,content:""}:z))},900)})(),d.slice(2).forEach(P=>{if(P.id===3||P.id===4||P.id===5||P.id===6)return;const C=Math.random()*2e3+1e3;setTimeout(()=>{l(I=>I.map(L=>L.id===P.id?{...L,loading:!1,content:`Information about ${L.title.toLowerCase()} based on your search: "${i}"`}:L))},C)})},800);return()=>clearTimeout(y)}else m(!1),l([])},[i]),t?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[998] animate-in fade-in duration-200",onClick:()=>{s(!1),e("")}}),x.jsxs("div",{className:`fixed left-1/2 -translate-x-1/2 w-[95%] max-w-7xl z-[999] transition-all duration-700 ease-out ${u?"top-[10%]":"top-[40%]"}`,children:[x.jsxs("div",{className:"relative overflow-hidden bg-white/15 backdrop-blur-2xl border border-white/30 rounded-3xl shadow-2xl mb-6 animate-in zoom-in-95 fade-in duration-200 mx-auto max-w-4xl",children:[x.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-50 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff60,#7ed6ff45,#ffffff20,#abc6ff60,#ffffff60)] animate-[spin_20s_linear_infinite]","aria-hidden":!0}),x.jsxs("div",{className:"relative flex items-center px-6 py-5",children:[x.jsx("svg",{className:"h-6 w-6 text-white/70 mr-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),x.jsx("input",{type:"text",placeholder:"Ask Nimbus anything about mental health...",value:i,onChange:d=>e(d.target.value),className:"flex-1 bg-transparent text-white text-lg placeholder-white/50 focus:outline-none font-medium",autoFocus:!0}),x.jsx("button",{onClick:()=>{s(!1),e("")},className:"text-white/70 hover:text-white focus:outline-none transition-all duration-200 ml-4 px-3 py-1 bg-white/10 rounded-lg text-sm font-semibold",children:"ESC"})]})]}),u&&o.length>0&&x.jsx("div",{className:"grid grid-cols-5 gap-4 auto-rows-auto",children:o.map(d=>x.jsx("div",{className:`${d.width} ${d.height}`,children:x.jsxs("div",{className:"relative h-full overflow-hidden bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 shadow-2xl p-6 hover:bg-white/15 hover:scale-[1.02] transition-all duration-300",children:[x.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-40 mix-blend-screen blur-xl bg-[conic-gradient(at_30%_30%,#ffffff40,#7ed6ff35,#ffffff20,#abc6ff40,#ffffff40)] animate-[spin_25s_linear_infinite]","aria-hidden":!0}),x.jsxs("div",{className:"relative h-full flex flex-col",children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:d.title}),d.loading?x.jsx("div",{className:"flex-1 flex items-center justify-center",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce"}),x.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce animation-delay-200"}),x.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce animation-delay-400"})]})}):d.articles&&d.articles.length>0?x.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:d.articles.map((y,_)=>x.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0",children:[x.jsx("h4",{className:"text-sm font-semibold text-white leading-tight mb-1",children:y.title}),x.jsxs("p",{className:"text-xs text-white/60 mb-1",children:[y.source,"  ",y.year]}),x.jsx("p",{className:"text-xs text-white/70 leading-relaxed",children:y.summary})]},_))}):d.definitions&&d.definitions.length>0?x.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:d.definitions.map((y,_)=>x.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0",children:[x.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[x.jsx("h4",{className:"text-base font-bold text-white capitalize",children:y.word}),x.jsx("span",{className:"text-xs text-white/50 italic",children:y.partOfSpeech})]}),x.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:y.definition})]},_))}):d.forums&&d.forums.length>0?x.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:d.forums.map((y,_)=>x.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0 hover:bg-white/5 transition-colors rounded-lg p-2 -m-2",children:[x.jsx("h4",{className:"text-sm font-semibold text-white leading-tight mb-1",children:y.title}),x.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[x.jsx("span",{className:"bg-white/10 px-2 py-0.5 rounded-full",children:y.category}),x.jsxs("span",{children:[y.replies," replies"]}),x.jsx("span",{children:""}),x.jsx("span",{children:y.lastActive})]})]},_))}):d.counselors&&d.counselors.length>0?x.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:d.counselors.map((y,_)=>x.jsxs("div",{className:"border border-white/20 rounded-2xl p-4 hover:bg-white/10 transition-all duration-300",children:[x.jsx("h4",{className:"text-base font-bold text-white mb-1",children:y.name}),x.jsx("p",{className:"text-xs text-white/70 mb-2",children:y.specialty}),x.jsx("p",{className:"text-xs text-white/60 mb-3",children:y.description}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-xs text-green-300",children:y.availability}),x.jsx("button",{onClick:()=>{s(!1),e(""),g("/counseling",{state:{counselor:y,searchQuery:i}})},className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-semibold text-white transition-all duration-200",children:"Book Session"})]})]},_))}):d.relatedTopics&&d.relatedTopics.length>0?x.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:d.relatedTopics.map((y,_)=>x.jsx("button",{onClick:()=>e(y.query),className:"w-full text-left px-4 py-2.5 bg-white/10 hover:bg-white/20 rounded-xl border border-white/10 hover:border-white/30 transition-all duration-200 group",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("svg",{className:"h-4 w-4 text-white/50 group-hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),x.jsx("span",{className:"text-sm text-white/80 group-hover:text-white font-medium transition-colors",children:y.topic})]})},_))}):d.helplines&&d.helplines.length>0?x.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:d.helplines.map((y,_)=>x.jsxs("div",{className:"bg-white/5 border border-white/20 rounded-2xl p-4 hover:bg-white/10 transition-all duration-300",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h4",{className:"text-base font-bold text-white leading-tight flex-1",children:y.name}),x.jsx("span",{className:"text-xs text-green-300 bg-green-900/30 px-2 py-1 rounded-full ml-2 whitespace-nowrap",children:y.availability})]}),x.jsx("a",{href:`tel:${y.number.replace(/[^0-9]/g,"")}`,className:"text-lg font-bold text-blue-300 hover:text-blue-200 transition-colors mb-2 block",children:y.number}),x.jsx("p",{className:"text-xs text-white/70 leading-relaxed",children:y.description})]},_))}):x.jsx("p",{className:"text-white/80 text-sm leading-relaxed animate-in fade-in duration-500",children:d.content})]})]})},d.id))})]})]}):null}function cO(){const[i,e]=K.useState(!1),[t,s]=K.useState(!1),[o,l]=K.useState(null),[u,m]=K.useState(null),[g,d]=K.useState(!1),[y,_]=K.useState(""),b=Qs(),R=Pi();K.useEffect(()=>{const T=De.onAuthStateChanged(async P=>{if(l(P),P){const C=await lT();m(C)}else m(null)});return()=>T()},[]),K.useEffect(()=>{const T=P=>{P.key==="Escape"&&g&&(d(!1),_(""))};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[g]),K.useEffect(()=>{const T=P=>{P.target.closest("[data-profile-dropdown]")||s(!1)};if(t)return document.addEventListener("click",T),()=>document.removeEventListener("click",T)},[t]);const N=async()=>{try{await $E(De),l(null),m(null),s(!1),R("/")}catch(T){console.error("Error signing out:",T)}},O=()=>u?.displayName?u.displayName.split(" ")[0]:o?.email?.split("@")[0]||"User";return x.jsxs("nav",{className:"fixed top-4 left-0 right-0 z-50",children:[x.jsx("button",{onClick:()=>d(!0),className:"fixed top-4 left-4 z-[60] overflow-hidden bg-white/10 backdrop-blur-xl border border-white/20 rounded-full p-3 shadow-2xl text-white/90 hover:text-white transition-all duration-300 hover:bg-white/20 hover:scale-110","aria-label":"Open search",children:x.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),x.jsx(lO,{searchQuery:y,setSearchQuery:_,isSearchOpen:g,setIsSearchOpen:d}),x.jsxs("div",{className:"relative flex items-center justify-center px-4 max-w-full",children:[x.jsxs("div",{className:"relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full px-2 py-1.5 border border-white/20 shadow-2xl",children:[x.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),x.jsxs("div",{className:"relative flex items-center gap-1",children:[x.jsx(Rn,{to:"/blog",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/blog"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Blogs"}),x.jsx(Rn,{to:"/counseling",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/counseling"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Counseling"}),x.jsx(Rn,{to:"/",className:"group px-2",children:x.jsx("img",{src:oO,alt:"Nimbus",className:"h-8 w-8 transition-transform duration-300 ease-out group-hover:scale-125 drop-shadow-lg"})}),x.jsx(Rn,{to:"/forum",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/forum"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Forums"}),x.jsx(Rn,{to:"/resources",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/resources"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Resources"})]})]}),x.jsx("div",{className:"hidden md:flex absolute right-4",children:x.jsxs("div",{className:"relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full border border-white/20 shadow-2xl",children:[x.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),o?x.jsxs("button",{onClick:()=>s(!t),className:"relative flex items-center gap-2 px-4 py-2 text-white font-semibold transition-all duration-300 hover:bg-white/10 rounded-full","data-profile-dropdown":!0,children:[u?.profileImageUrl?x.jsx("img",{src:u.profileImageUrl,alt:"Profile",className:"w-6 h-6 rounded-full object-cover"}):x.jsx("div",{className:"w-6 h-6 rounded-full bg-white/30 flex items-center justify-center",children:x.jsx(ed,{size:16})}),x.jsx("span",{className:"text-sm",children:O()})]}):x.jsx(Rn,{to:"/signin",className:"relative block px-5 py-2 text-white font-semibold text-sm transition-all duration-300 hover:bg-white/10 rounded-full",children:"Sign In"})]})}),x.jsxs("div",{className:"md:hidden absolute right-4 relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full p-2 border border-white/20 shadow-2xl",children:[x.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),x.jsx("button",{onClick:()=>e(!i),className:"relative text-white/90 hover:text-white focus:outline-none","aria-label":"Toggle menu",children:x.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i?x.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):x.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),t&&o&&x.jsxs("div",{className:"absolute right-6 top-20 w-48 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl overflow-hidden",style:{zIndex:1e3},children:[x.jsx(Rn,{to:"/profile",className:"block w-full px-4 py-3 text-white hover:bg-white/10 transition-colors text-center font-semibold border-b border-white/10",onClick:()=>s(!1),children:"View Profile"}),x.jsxs("button",{onClick:N,className:"w-full px-4 py-3 text-white hover:bg-white/10 transition-colors flex items-center justify-center gap-2 font-semibold",children:[x.jsx(gb,{size:18}),"Sign Out"]})]}),i&&x.jsx("div",{className:"md:hidden mt-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-2xl shadow-black/20",children:x.jsxs("div",{className:"px-4 pt-3 pb-3 space-y-1",children:[x.jsx(Rn,{to:"/nimbus",className:`block px-3 py-2 font-bold rounded-2xl transition-all duration-200 ${b.pathname==="/nimbus"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Nimbus"}),x.jsx(Rn,{to:"/counseling",className:`block px-3 py-2 font-bold rounded-2xl transition-all duration-200 ${b.pathname==="/counseling"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Counseling"}),x.jsx(Rn,{to:"/forum",className:`block px-3 py-2 font-bold rounded-2xl transition-all duration-200 ${b.pathname==="/forum"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Forums"}),o?x.jsxs(x.Fragment,{children:[x.jsx(Rn,{to:"/profile",className:"block w-full px-3 py-2 font-bold rounded-2xl transition-all duration-200 text-white/90 hover:text-white hover:bg-white/10 text-center",onClick:()=>e(!1),children:"View Profile"}),x.jsx("button",{onClick:()=>{N(),e(!1)},className:"w-full mt-2 px-6 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg",children:"Sign Out"})]}):x.jsx(Rn,{to:"/signin",className:"w-full mt-2 px-6 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg block text-center",onClick:()=>e(!1),children:"Sign In"})]})})]})}const uO=()=>{const[i,e]=K.useState(!1);K.useEffect(()=>{e(!0)},[]);const t=()=>{e(!1)};return i?x.jsx("div",{className:"fixed inset-0 bg-black/40 z-[9999] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 max-w-sm w-full p-6",children:[x.jsxs("div",{className:"flex items-start justify-between mb-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold text-white drop-shadow-lg",children:"Need Immediate Help?"}),x.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Crisis support available 24/7"})]}),x.jsx("button",{onClick:t,className:"text-white/90 hover:text-white hover:bg-white/10 p-1 rounded-lg transition-all duration-200","aria-label":"Close popup",children:x.jsx(ep,{size:20})})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(Lp,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"988 Suicide & Crisis Lifeline"}),x.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Call or text 988"})]})]})}),x.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(Pp,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"Crisis Text Line"}),x.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Text HOME to 741741"})]})]})}),x.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(Zf,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"SAMHSA Helpline"}),x.jsx("p",{className:"text-white/70 text-sm font-medium",children:"1-800-662-4357 (free, 24/7)"})]})]})}),x.jsx("button",{onClick:t,className:"w-full bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold py-2 px-4 rounded-2xl transition-all duration-300 border border-white/30 shadow-lg mt-4 drop-shadow-md",children:"Close"})]})]})}):null};function hO(){return K.useEffect(()=>{const i=new aO({duration:1.2,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t))});function e(t){i.raf(t),requestAnimationFrame(e)}return requestAnimationFrame(e),()=>{i.destroy()}},[]),x.jsxs(x.Fragment,{children:[x.jsx(cO,{}),x.jsx(uO,{}),x.jsxs(YS,{children:[x.jsx(xn,{path:"/",element:x.jsx(eC,{})}),x.jsx(xn,{path:"/education",element:x.jsx(tC,{})}),x.jsx(xn,{path:"/help",element:x.jsx(nC,{})}),x.jsx(xn,{path:"/counseling",element:x.jsx(iC,{})}),x.jsx(xn,{path:"/forum",element:x.jsx(_7,{})}),x.jsx(xn,{path:"/forum/create",element:x.jsx(E7,{})}),x.jsx(xn,{path:"/testimonials",element:x.jsx(w7,{})}),x.jsx(xn,{path:"/signin",element:x.jsx(FB,{})}),x.jsx(xn,{path:"/accountsetup",element:x.jsx(zB,{})}),x.jsx(xn,{path:"/profile",element:x.jsx(HB,{})}),x.jsx(xn,{path:"/blog",element:x.jsx(YB,{})}),x.jsx(xn,{path:"/resources",element:x.jsx(XB,{})}),x.jsx(xn,{path:"/add-blog",element:x.jsx(QB,{})}),x.jsx(xn,{path:"/blog/:postId",element:x.jsx(WB,{})})]})]})}function fO(){return x.jsx(x6,{children:x.jsx(hO,{})})}J4.createRoot(document.getElementById("root")).render(x.jsx(K.StrictMode,{children:x.jsx(fO,{})}));
