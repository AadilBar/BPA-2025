(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eC(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function tC(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var o=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return i[r]}})}),t}var Lm={exports:{}},wc={};var Ov;function nC(){if(Ov)return wc;Ov=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var p in o)p!=="key"&&(l[p]=o[p])}else l=o;return o=l.ref,{$$typeof:i,type:r,key:u,ref:o!==void 0?o:null,props:l}}return wc.Fragment=e,wc.jsx=t,wc.jsxs=t,wc}var Mv;function iC(){return Mv||(Mv=1,Lm.exports=nC()),Lm.exports}var d=iC(),Fm={exports:{}},Ie={};var Pv;function rC(){if(Pv)return Ie;Pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function C(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,I={};function P(F,K,W){this.props=F,this.context=K,this.refs=I,this.updater=W||N}P.prototype.isReactComponent={},P.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},P.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=P.prototype;function j(F,K,W){this.props=F,this.context=K,this.refs=I,this.updater=W||N}var L=j.prototype=new k;L.constructor=j,B(L,P.prototype),L.isPureReactComponent=!0;var z=Array.isArray;function q(){}var T={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function S(F,K,W){var Z=W.ref;return{$$typeof:i,type:F,key:K,ref:Z!==void 0?Z:null,props:W}}function A(F,K){return S(F.type,K,F.props)}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===i}function V(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(W){return K[W]})}var O=/\/+/g;function de(F,K){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):K.toString(36)}function ie(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(q,q):(F.status="pending",F.then(function(K){F.status==="pending"&&(F.status="fulfilled",F.value=K)},function(K){F.status==="pending"&&(F.status="rejected",F.reason=K)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function H(F,K,W,Z,xe){var ye=typeof F;(ye==="undefined"||ye==="boolean")&&(F=null);var Se=!1;if(F===null)Se=!0;else switch(ye){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(F.$$typeof){case i:case e:Se=!0;break;case y:return Se=F._init,H(Se(F._payload),K,W,Z,xe)}}if(Se)return xe=xe(F),Se=Z===""?"."+de(F,0):Z,z(xe)?(W="",Se!=null&&(W=Se.replace(O,"$&/")+"/"),H(xe,K,W,"",function(En){return En})):xe!=null&&(D(xe)&&(xe=A(xe,W+(xe.key==null||F&&F.key===xe.key?"":(""+xe.key).replace(O,"$&/")+"/")+Se)),K.push(xe)),1;Se=0;var Ee=Z===""?".":Z+":";if(z(F))for(var We=0;We<F.length;We++)Z=F[We],ye=Ee+de(Z,We),Se+=H(Z,K,W,ye,xe);else if(We=C(F),typeof We=="function")for(F=We.call(F),We=0;!(Z=F.next()).done;)Z=Z.value,ye=Ee+de(Z,We++),Se+=H(Z,K,W,ye,xe);else if(ye==="object"){if(typeof F.then=="function")return H(ie(F),K,W,Z,xe);throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(F,K,W){if(F==null)return F;var Z=[],xe=0;return H(F,Z,"","",function(ye){return K.call(W,ye,xe++)}),Z}function ae(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(W){(F._status===0||F._status===-1)&&(F._status=1,F._result=W)},function(W){(F._status===0||F._status===-1)&&(F._status=2,F._result=W)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var fe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},me={map:X,forEach:function(F,K,W){X(F,function(){K.apply(this,arguments)},W)},count:function(F){var K=0;return X(F,function(){K++}),K},toArray:function(F){return X(F,function(K){return K})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ie.Activity=v,Ie.Children=me,Ie.Component=P,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=j,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(F){return T.H.useMemoCache(F)}},Ie.cache=function(F){return function(){return F.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(F,K,W){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Z=B({},F.props),xe=F.key;if(K!=null)for(ye in K.key!==void 0&&(xe=""+K.key),K)!R.call(K,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&K.ref===void 0||(Z[ye]=K[ye]);var ye=arguments.length-2;if(ye===1)Z.children=W;else if(1<ye){for(var Se=Array(ye),Ee=0;Ee<ye;Ee++)Se[Ee]=arguments[Ee+2];Z.children=Se}return S(F.type,xe,Z)},Ie.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Ie.createElement=function(F,K,W){var Z,xe={},ye=null;if(K!=null)for(Z in K.key!==void 0&&(ye=""+K.key),K)R.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(xe[Z]=K[Z]);var Se=arguments.length-2;if(Se===1)xe.children=W;else if(1<Se){for(var Ee=Array(Se),We=0;We<Se;We++)Ee[We]=arguments[We+2];xe.children=Ee}if(F&&F.defaultProps)for(Z in Se=F.defaultProps,Se)xe[Z]===void 0&&(xe[Z]=Se[Z]);return S(F,ye,xe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(F){return{$$typeof:p,render:F}},Ie.isValidElement=D,Ie.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ae}},Ie.memo=function(F,K){return{$$typeof:m,type:F,compare:K===void 0?null:K}},Ie.startTransition=function(F){var K=T.T,W={};T.T=W;try{var Z=F(),xe=T.S;xe!==null&&xe(W,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(q,fe)}catch(ye){fe(ye)}finally{K!==null&&W.types!==null&&(K.types=W.types),T.T=K}},Ie.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ie.use=function(F){return T.H.use(F)},Ie.useActionState=function(F,K,W){return T.H.useActionState(F,K,W)},Ie.useCallback=function(F,K){return T.H.useCallback(F,K)},Ie.useContext=function(F){return T.H.useContext(F)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(F,K){return T.H.useDeferredValue(F,K)},Ie.useEffect=function(F,K){return T.H.useEffect(F,K)},Ie.useEffectEvent=function(F){return T.H.useEffectEvent(F)},Ie.useId=function(){return T.H.useId()},Ie.useImperativeHandle=function(F,K,W){return T.H.useImperativeHandle(F,K,W)},Ie.useInsertionEffect=function(F,K){return T.H.useInsertionEffect(F,K)},Ie.useLayoutEffect=function(F,K){return T.H.useLayoutEffect(F,K)},Ie.useMemo=function(F,K){return T.H.useMemo(F,K)},Ie.useOptimistic=function(F,K){return T.H.useOptimistic(F,K)},Ie.useReducer=function(F,K,W){return T.H.useReducer(F,K,W)},Ie.useRef=function(F){return T.H.useRef(F)},Ie.useState=function(F){return T.H.useState(F)},Ie.useSyncExternalStore=function(F,K,W){return T.H.useSyncExternalStore(F,K,W)},Ie.useTransition=function(){return T.H.useTransition()},Ie.version="19.2.1",Ie}var Lv;function Zp(){return Lv||(Lv=1,Fm.exports=rC()),Fm.exports}var $=Zp(),Vm={exports:{}},Ec={},Um={exports:{}},zm={};var Fv;function sC(){return Fv||(Fv=1,(function(i){function e(H,X){var ae=H.length;H.push(X);e:for(;0<ae;){var fe=ae-1>>>1,me=H[fe];if(0<o(me,X))H[fe]=X,H[ae]=me,ae=fe;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var X=H[0],ae=H.pop();if(ae!==X){H[0]=ae;e:for(var fe=0,me=H.length,F=me>>>1;fe<F;){var K=2*(fe+1)-1,W=H[K],Z=K+1,xe=H[Z];if(0>o(W,ae))Z<me&&0>o(xe,W)?(H[fe]=xe,H[Z]=ae,fe=Z):(H[fe]=W,H[K]=ae,fe=K);else if(Z<me&&0>o(xe,ae))H[fe]=xe,H[Z]=ae,fe=Z;else break e}}return X}function o(H,X){var ae=H.sortIndex-X.sortIndex;return ae!==0?ae:H.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,p=u.now();i.unstable_now=function(){return u.now()-p}}var g=[],m=[],y=1,v=null,_=3,C=!1,N=!1,B=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function L(H){for(var X=t(m);X!==null;){if(X.callback===null)r(m);else if(X.startTime<=H)r(m),X.sortIndex=X.expirationTime,e(g,X);else break;X=t(m)}}function z(H){if(B=!1,L(H),!N)if(t(g)!==null)N=!0,q||(q=!0,V());else{var X=t(m);X!==null&&ie(z,X.startTime-H)}}var q=!1,T=-1,R=5,S=-1;function A(){return I?!0:!(i.unstable_now()-S<R)}function D(){if(I=!1,q){var H=i.unstable_now();S=H;var X=!0;try{e:{N=!1,B&&(B=!1,k(T),T=-1),C=!0;var ae=_;try{t:{for(L(H),v=t(g);v!==null&&!(v.expirationTime>H&&A());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,_=v.priorityLevel;var me=fe(v.expirationTime<=H);if(H=i.unstable_now(),typeof me=="function"){v.callback=me,L(H),X=!0;break t}v===t(g)&&r(g),L(H)}else r(g);v=t(g)}if(v!==null)X=!0;else{var F=t(m);F!==null&&ie(z,F.startTime-H),X=!1}}break e}finally{v=null,_=ae,C=!1}X=void 0}}finally{X?V():q=!1}}}var V;if(typeof j=="function")V=function(){j(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,de=O.port2;O.port1.onmessage=D,V=function(){de.postMessage(null)}}else V=function(){P(D,0)};function ie(H,X){T=P(function(){H(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(H){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var ae=_;_=X;try{return H()}finally{_=ae}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=_;_=H;try{return X()}finally{_=ae}},i.unstable_scheduleCallback=function(H,X,ae){var fe=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?fe+ae:fe):ae=fe,H){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ae+me,H={id:y++,callback:X,priorityLevel:H,startTime:ae,expirationTime:me,sortIndex:-1},ae>fe?(H.sortIndex=ae,e(m,H),t(g)===null&&H===t(m)&&(B?(k(T),T=-1):B=!0,ie(z,ae-fe))):(H.sortIndex=me,e(g,H),N||C||(N=!0,q||(q=!0,V()))),H},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(H){var X=_;return function(){var ae=_;_=X;try{return H.apply(this,arguments)}finally{_=ae}}}})(zm)),zm}var Vv;function aC(){return Vv||(Vv=1,Um.exports=sC()),Um.exports}var Hm={exports:{}},cn={};var Uv;function oC(){if(Uv)return cn;Uv=1;var i=Zp();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:m,implementation:y}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,y)},cn.flushSync=function(g){var m=u.T,y=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=m,r.p=y,r.d.f()}},cn.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},cn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},cn.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,v=p(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:C}):y==="script"&&r.d.X(g,{crossOrigin:v,integrity:_,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},cn.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=p(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},cn.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=p(y,m.crossOrigin);r.d.L(g,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},cn.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=p(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},cn.requestFormReset=function(g){r.d.r(g)},cn.unstable_batchedUpdates=function(g,m){return g(m)},cn.useFormState=function(g,m,y){return u.H.useFormState(g,m,y)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.2.1",cn}var zv;function lC(){if(zv)return Hm.exports;zv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hm.exports=oC(),Hm.exports}var Hv;function cC(){if(Hv)return Ec;Hv=1;var i=aC(),e=Zp(),t=lC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(r(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,c=s;;){var f=a.return;if(f===null)break;var x=f.alternate;if(x===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===x.child){for(x=f.child;x;){if(x===a)return g(f),n;if(x===c)return g(f),s;x=x.sibling}throw Error(r(188))}if(a.return!==c.return)a=f,c=x;else{for(var w=!1,M=f.child;M;){if(M===a){w=!0,a=f,c=x;break}if(M===c){w=!0,c=f,a=x;break}M=M.sibling}if(!w){for(M=x.child;M;){if(M===a){w=!0,a=x,c=f;break}if(M===c){w=!0,c=x,a=f;break}M=M.sibling}if(!w)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),j=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function de(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case P:return"Profiler";case I:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList";case S:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case j:return n.displayName||"Context";case k:return(n._context.displayName||"Context")+".Consumer";case L:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case T:return s=n.displayName||null,s!==null?s:de(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return de(n(s))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},fe=[],me=-1;function F(n){return{current:n}}function K(n){0>me||(n.current=fe[me],fe[me]=null,me--)}function W(n,s){me++,fe[me]=n.current,n.current=s}var Z=F(null),xe=F(null),ye=F(null),Se=F(null);function Ee(n,s){switch(W(ye,s),W(xe,n),W(Z,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?rv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=rv(s),n=sv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(Z),W(Z,n)}function We(){K(Z),K(xe),K(ye)}function En(n){n.memoizedState!==null&&W(Se,n);var s=Z.current,a=sv(s,n.type);s!==a&&(W(xe,n),W(Z,a))}function Ui(n){xe.current===n&&(K(Z),K(xe)),Se.current===n&&(K(Se),yc._currentValue=ae)}var ti,Kt;function mt(n){if(ti===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ti=s&&s[1]||"",Kt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ti+n+Kt}var zi=!1;function Mn(n,s){if(!n||zi)return"";zi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(se){var ne=se}Reflect.construct(n,[],ue)}else{try{ue.call()}catch(se){ne=se}n.call(ue.prototype)}}else{try{throw Error()}catch(se){ne=se}(ue=n())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(se){if(se&&ne&&typeof se.stack=="string")return[se.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=c.DetermineComponentFrameRoot(),w=x[0],M=x[1];if(w&&M){var G=w.split(`
`),te=M.split(`
`);for(f=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;f<te.length&&!te[f].includes("DetermineComponentFrameRoot");)f++;if(c===G.length||f===te.length)for(c=G.length-1,f=te.length-1;1<=c&&0<=f&&G[c]!==te[f];)f--;for(;1<=c&&0<=f;c--,f--)if(G[c]!==te[f]){if(c!==1||f!==1)do if(c--,f--,0>f||G[c]!==te[f]){var oe=`
`+G[c].replace(" at new "," at ");return n.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",n.displayName)),oe}while(1<=c&&0<=f);break}}}finally{zi=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?mt(a):""}function Hi(n,s){switch(n.tag){case 26:case 27:case 5:return mt(n.type);case 16:return mt("Lazy");case 13:return n.child!==s&&s!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return Mn(n.type,!1);case 11:return Mn(n.type.render,!1);case 1:return Mn(n.type,!0);case 31:return mt("Activity");default:return""}}function wi(n){try{var s="",a=null;do s+=Hi(n,a),a=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var pt=Object.prototype.hasOwnProperty,ut=i.unstable_scheduleCallback,Dt=i.unstable_cancelCallback,ln=i.unstable_shouldYield,Pn=i.unstable_requestPaint,It=i.unstable_now,qi=i.unstable_getCurrentPriorityLevel,ni=i.unstable_ImmediatePriority,Ei=i.unstable_UserBlockingPriority,$i=i.unstable_NormalPriority,io=i.unstable_LowPriority,la=i.unstable_IdlePriority,Ai=i.log,Gi=i.unstable_setDisableYieldValue,Ln=null,kt=null;function gn(n){if(typeof Ai=="function"&&Gi(n),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Ln,n)}catch{}}var yt=Math.clz32?Math.clz32:so,ro=Math.log,Cr=Math.LN2;function so(n){return n>>>=0,n===0?32:31-(ro(n)/Cr|0)|0}var Fn=256,Sr=262144,vt=4194304;function ii(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ri(n,s,a){var c=n.pendingLanes;if(c===0)return 0;var f=0,x=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var M=c&134217727;return M!==0?(c=M&~x,c!==0?f=ii(c):(w&=M,w!==0?f=ii(w):a||(a=M&~n,a!==0&&(f=ii(a))))):(M=c&~x,M!==0?f=ii(M):w!==0?f=ii(w):a||(a=c&~n,a!==0&&(f=ii(a)))),f===0?0:s!==0&&s!==f&&(s&x)===0&&(x=f&-f,a=s&-s,x>=a||x===32&&(a&4194048)!==0)?s:f}function Vn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function ao(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var n=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),n}function si(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Ki(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Al(n,s,a,c,f,x){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var M=n.entanglements,G=n.expirationTimes,te=n.hiddenUpdates;for(a=w&~a;0<a;){var oe=31-yt(a),ue=1<<oe;M[oe]=0,G[oe]=-1;var ne=te[oe];if(ne!==null)for(te[oe]=null,oe=0;oe<ne.length;oe++){var se=ne[oe];se!==null&&(se.lane&=-536870913)}a&=~ue}c!==0&&Yi(n,c,0),x!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=x&~(w&~s))}function Yi(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-yt(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function qt(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-yt(a),f=1<<c;f&s|n[c]&s&&(n[c]|=s),a&=~f}}function An(n,s){var a=s&-s;return a=(a&42)!==0?1:Xi(a),(a&(n.suspendedLanes|s))!==0?0:a}function Xi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ti(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function uu(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:Nv(n.type))}function Ci(n,s){var a=X.p;try{return X.p=n,s()}finally{X.p=a}}var Si=Math.random().toString(36).slice(2),jt="__reactFiber$"+Si,Yt="__reactProps$"+Si,Qi="__reactContainer$"+Si,lo="__reactEvents$"+Si,Hf="__reactListeners$"+Si,hu="__reactHandles$"+Si,du="__reactResources$"+Si,Wi="__reactMarker$"+Si;function co(n){delete n[jt],delete n[Yt],delete n[lo],delete n[Hf],delete n[hu]}function Zi(n){var s=n[jt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Qi]||a[jt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=dv(n);n!==null;){if(a=n[jt])return a;n=dv(n)}return s}n=a,a=n.parentNode}return null}function ai(n){if(n=n[jt]||n[Qi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Un(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ji(n){var s=n[du];return s||(s=n[du]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(n){n[Wi]=!0}var Tl=new Set,Cl={};function er(n,s){tr(n,s),tr(n+"Capture",s)}function tr(n,s){for(Cl[n]=s,n=0;n<s.length;n++)Tl.add(s[n])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},Rl={};function fu(n){return pt.call(Rl,n)?!0:pt.call(Nl,n)?!1:Sl.test(n)?Rl[n]=!0:(Nl[n]=!0,!1)}function uo(n,s,a){if(fu(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function zn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Ot(n,s,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+c)}}function Xt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rs(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Dl(n,s,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,x=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){a=""+w,x.call(this,w)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Je(n){if(!n._valueTracker){var s=rs(n)?"checked":"value";n._valueTracker=Dl(n,s,""+n[s])}}function ca(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=rs(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function nr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ua=/[\n"\\]/g;function Tn(n){return n.replace(ua,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ho(n,s,a,c,f,x,w,M){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),s!=null?w==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Xt(s)):n.value!==""+Xt(s)&&(n.value=""+Xt(s)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),s!=null?Il(n,w,Xt(s)):a!=null?Il(n,w,Xt(a)):c!=null&&n.removeAttribute("value"),f==null&&x!=null&&(n.defaultChecked=!!x),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.name=""+Xt(M):n.removeAttribute("name")}function mu(n,s,a,c,f,x,w,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),s!=null||a!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){Je(n);return}a=a!=null?""+Xt(a):"",s=s!=null?""+Xt(s):a,M||s===n.value||(n.value=s),n.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=M?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),Je(n)}function Il(n,s,a){s==="number"&&nr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ss(n,s,a,c){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Xt(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function pu(n,s,a){if(s!=null&&(s=""+Xt(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Xt(a):""}function as(n,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(r(92));if(ie(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Xt(s),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),Je(n)}function Cn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(n,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,a):typeof a!="number"||a===0||gu.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function jl(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&a[f]!==c&&kl(n,f,c)}else for(var x in s)s.hasOwnProperty(x)&&kl(n,x,s[x])}function fo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(n){return os.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ni(){}var Bl=null;function oi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ls=null,ir=null;function ha(n){var s=ai(n);if(s&&(n=s.stateNode)){var a=n[Yt]||null;e:switch(n=s.stateNode,s.type){case"input":if(ho(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var f=c[Yt]||null;if(!f)throw Error(r(90));ho(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===n.form&&ca(c)}break e;case"textarea":pu(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ss(n,!!a.multiple,s,!1)}}}var po=!1;function cs(n,s,a){if(po)return n(s,a);po=!0;try{var c=n(s);return c}finally{if(po=!1,(ls!==null||ir!==null)&&(uh(),ls&&(s=ls,n=ir,ir=ls=null,ha(s),n)))for(s=0;s<n.length;s++)ha(n[s])}}function Ri(n,s){var a=n.stateNode;if(a===null)return null;var c=a[Yt]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(li)try{var it={};Object.defineProperty(it,"passive",{get:function(){da=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{da=!1}var rr=null,Ol=null,fa=null;function Ml(){if(fa)return fa;var n,s=Ol,a=s.length,c,f="value"in rr?rr.value:rr.textContent,x=f.length;for(n=0;n<a&&s[n]===f[n];n++);var w=a-n;for(c=1;c<=w&&s[a-c]===f[x-c];c++);return fa=f.slice(n,1<c?1-c:void 0)}function ma(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Nr(){return!0}function Di(){return!1}function Jt(n){function s(a,c,f,x,w){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var M in n)n.hasOwnProperty(M)&&(a=n[M],this[M]=a?a(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Nr:Di,this.isPropagationStopped=Di,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),s}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=Jt(Rr),us=v({},Rr,{view:0,detail:0}),Pl=Jt(us),hs,go,ar,xo=v({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ar&&(ar&&n.type==="mousemove"?(hs=n.screenX-ar.screenX,go=n.screenY-ar.screenY):go=hs=0,ar=n),hs)},movementY:function(n){return"movementY"in n?n.movementY:go}}),Ll=Jt(xo),pa=v({},xo,{dataTransfer:0}),yu=Jt(pa),vu=v({},us,{relatedTarget:0}),ga=Jt(vu),Fl=v({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Jt(Fl),yo=v({},Rr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_u=Jt(yo),wu=v({},Rr,{data:0}),or=Jt(wu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Tu[n])?!!s[n]:!1}function ds(){return Cu}var xn=v({},us,{key:function(n){if(n.key){var s=Eu[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ma(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Au[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(n){return n.type==="keypress"?ma(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ma(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Su=Jt(xn),Nu=v({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dr=Jt(Nu),h=v({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),b=Jt(h),E=v({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=Jt(E),J=v({},xo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),re=Jt(J),pe=v({},Rr,{newState:0,oldState:0}),Be=Jt(pe),Ct=[9,13,27,32],Xe=li&&"CompositionEvent"in window,gt=null;li&&"documentMode"in document&&(gt=document.documentMode);var ci=li&&"TextEvent"in window&&!gt,lr=li&&(!Xe||gt&&8<gt&&11>=gt),Ii=" ",ki=!1;function xa(n,s){switch(n){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bo=!1;function A4(n,s){switch(n){case"compositionend":return vo(s);case"keypress":return s.which!==32?null:(ki=!0,Ii);case"textInput":return n=s.data,n===Ii&&ki?null:n;default:return null}}function T4(n,s){if(bo)return n==="compositionend"||!Xe&&xa(n,s)?(n=Ml(),fa=Ol=rr=null,bo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return lr&&s.locale!=="ko"?null:s.data;default:return null}}var C4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!C4[n.type]:s==="textarea"}function gx(n,s,a,c){ls?ir?ir.push(c):ir=[c]:ls=c,s=xh(s,"onChange"),0<s.length&&(a=new sr("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Vl=null,Ul=null;function S4(n){Z1(n,0)}function Ru(n){var s=Un(n);if(ca(s))return n}function xx(n,s){if(n==="change")return s}var yx=!1;if(li){var qf;if(li){var $f="oninput"in document;if(!$f){var vx=document.createElement("div");vx.setAttribute("oninput","return;"),$f=typeof vx.oninput=="function"}qf=$f}else qf=!1;yx=qf&&(!document.documentMode||9<document.documentMode)}function bx(){Vl&&(Vl.detachEvent("onpropertychange",_x),Ul=Vl=null)}function _x(n){if(n.propertyName==="value"&&Ru(Ul)){var s=[];gx(s,Ul,n,oi(n)),cs(S4,s)}}function N4(n,s,a){n==="focusin"?(bx(),Vl=s,Ul=a,Vl.attachEvent("onpropertychange",_x)):n==="focusout"&&bx()}function R4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ru(Ul)}function D4(n,s){if(n==="click")return Ru(s)}function I4(n,s){if(n==="input"||n==="change")return Ru(s)}function k4(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Hn=typeof Object.is=="function"?Object.is:k4;function zl(n,s){if(Hn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!pt.call(s,f)||!Hn(n[f],s[f]))return!1}return!0}function wx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ex(n,s){var a=wx(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wx(a)}}function Ax(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ax(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Tx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=nr(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=nr(n.document)}return s}function Gf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var j4=li&&"documentMode"in document&&11>=document.documentMode,_o=null,Kf=null,Hl=null,Yf=!1;function Cx(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yf||_o==null||_o!==nr(c)||(c=_o,"selectionStart"in c&&Gf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hl&&zl(Hl,c)||(Hl=c,c=xh(Kf,"onSelect"),0<c.length&&(s=new sr("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=_o)))}function ya(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var wo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Xf={},Sx={};li&&(Sx=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function va(n){if(Xf[n])return Xf[n];if(!wo[n])return n;var s=wo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Sx)return Xf[n]=s[a];return n}var Nx=va("animationend"),Rx=va("animationiteration"),Dx=va("animationstart"),B4=va("transitionrun"),O4=va("transitionstart"),M4=va("transitioncancel"),Ix=va("transitionend"),kx=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function ji(n,s){kx.set(n,s),er(s,[n])}var Du=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ui=[],Eo=0,Wf=0;function Iu(){for(var n=Eo,s=Wf=Eo=0;s<n;){var a=ui[s];ui[s++]=null;var c=ui[s];ui[s++]=null;var f=ui[s];ui[s++]=null;var x=ui[s];if(ui[s++]=null,c!==null&&f!==null){var w=c.pending;w===null?f.next=f:(f.next=w.next,w.next=f),c.pending=f}x!==0&&jx(a,f,x)}}function ku(n,s,a,c){ui[Eo++]=n,ui[Eo++]=s,ui[Eo++]=a,ui[Eo++]=c,Wf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Zf(n,s,a,c){return ku(n,s,a,c),ju(n)}function ba(n,s){return ku(n,null,null,s),ju(n)}function jx(n,s,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var f=!1,x=n.return;x!==null;)x.childLanes|=a,c=x.alternate,c!==null&&(c.childLanes|=a),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(f=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,f&&s!==null&&(f=31-yt(a),n=x.hiddenUpdates,c=n[f],c===null?n[f]=[s]:c.push(s),s.lane=a|536870912),x):null}function ju(n){if(50<hc)throw hc=0,om=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ao={};function P4(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,s,a,c){return new P4(n,s,a,c)}function Jf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ir(n,s){var a=n.alternate;return a===null?(a=qn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Bx(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Bu(n,s,a,c,f,x){var w=0;if(c=n,typeof n=="function")Jf(n)&&(w=1);else if(typeof n=="string")w=zT(n,a,Z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case S:return n=qn(31,a,s,f),n.elementType=S,n.lanes=x,n;case B:return _a(a.children,f,x,s);case I:w=8,f|=24;break;case P:return n=qn(12,a,s,f|2),n.elementType=P,n.lanes=x,n;case z:return n=qn(13,a,s,f),n.elementType=z,n.lanes=x,n;case q:return n=qn(19,a,s,f),n.elementType=q,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:w=10;break e;case k:w=9;break e;case L:w=11;break e;case T:w=14;break e;case R:w=16,c=null;break e}w=29,a=Error(r(130,n===null?"null":typeof n,"")),c=null}return s=qn(w,a,s,f),s.elementType=n,s.type=c,s.lanes=x,s}function _a(n,s,a,c){return n=qn(7,n,c,s),n.lanes=a,n}function e0(n,s,a){return n=qn(6,n,null,s),n.lanes=a,n}function Ox(n){var s=qn(18,null,null,0);return s.stateNode=n,s}function t0(n,s,a){return s=qn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Mx=new WeakMap;function hi(n,s){if(typeof n=="object"&&n!==null){var a=Mx.get(n);return a!==void 0?a:(s={value:n,source:s,stack:wi(s)},Mx.set(n,s),s)}return{value:n,source:s,stack:wi(s)}}var To=[],Co=0,Ou=null,ql=0,di=[],fi=0,fs=null,cr=1,ur="";function kr(n,s){To[Co++]=ql,To[Co++]=Ou,Ou=n,ql=s}function Px(n,s,a){di[fi++]=cr,di[fi++]=ur,di[fi++]=fs,fs=n;var c=cr;n=ur;var f=32-yt(c)-1;c&=~(1<<f),a+=1;var x=32-yt(s)+f;if(30<x){var w=f-f%5;x=(c&(1<<w)-1).toString(32),c>>=w,f-=w,cr=1<<32-yt(s)+f|a<<f|c,ur=x+n}else cr=1<<x|a<<f|c,ur=n}function n0(n){n.return!==null&&(kr(n,1),Px(n,1,0))}function i0(n){for(;n===Ou;)Ou=To[--Co],To[Co]=null,ql=To[--Co],To[Co]=null;for(;n===fs;)fs=di[--fi],di[fi]=null,ur=di[--fi],di[fi]=null,cr=di[--fi],di[fi]=null}function Lx(n,s){di[fi++]=cr,di[fi++]=ur,di[fi++]=fs,cr=s.id,ur=s.overflow,fs=n}var en=null,ht=null,qe=!1,ms=null,mi=!1,r0=Error(r(519));function ps(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(hi(s,n)),r0}function Fx(n){var s=n.stateNode,a=n.type,c=n.memoizedProps;switch(s[jt]=n,s[Yt]=c,a){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(a=0;a<fc.length;a++)Le(fc[a],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),mu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),as(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||nv(s.textContent,a)?(c.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),c.onScroll!=null&&Le("scroll",s),c.onScrollEnd!=null&&Le("scrollend",s),c.onClick!=null&&(s.onclick=Ni),s=!0):s=!1,s||ps(n,!0)}function Vx(n){for(en=n.return;en;)switch(en.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:en=en.return}}function So(n){if(n!==en)return!1;if(!qe)return Vx(n),qe=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||wm(n.type,n.memoizedProps)),a=!a),a&&ht&&ps(n),Vx(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ht=hv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ht=hv(n)}else s===27?(s=ht,Rs(n.type)?(n=Sm,Sm=null,ht=n):ht=s):ht=en?gi(n.stateNode.nextSibling):null;return!0}function wa(){ht=en=null,qe=!1}function s0(){var n=ms;return n!==null&&(Dn===null?Dn=n:Dn.push.apply(Dn,n),ms=null),n}function $l(n){ms===null?ms=[n]:ms.push(n)}var a0=F(null),Ea=null,jr=null;function gs(n,s,a){W(a0,s._currentValue),s._currentValue=a}function Br(n){n._currentValue=a0.current,K(a0)}function o0(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function l0(n,s,a,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var x=f.dependencies;if(x!==null){var w=f.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=f;for(var G=0;G<s.length;G++)if(M.context===s[G]){x.lanes|=a,M=x.alternate,M!==null&&(M.lanes|=a),o0(x.return,a,n),c||(w=null);break e}x=M.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(r(341));w.lanes|=a,x=w.alternate,x!==null&&(x.lanes|=a),o0(w,a,n),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===n){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function No(n,s,a,c){n=null;for(var f=s,x=!1;f!==null;){if(!x){if((f.flags&524288)!==0)x=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var M=f.type;Hn(f.pendingProps.value,w.value)||(n!==null?n.push(M):n=[M])}}else if(f===Se.current){if(w=f.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(yc):n=[yc])}f=f.return}n!==null&&l0(s,n,a,c),s.flags|=262144}function Mu(n){for(n=n.firstContext;n!==null;){if(!Hn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Aa(n){Ea=n,jr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return Ux(Ea,n)}function Pu(n,s){return Ea===null&&Aa(n),Ux(n,s)}function Ux(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},jr===null){if(n===null)throw Error(r(308));jr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else jr=jr.next=s;return a}var L4=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},F4=i.unstable_scheduleCallback,V4=i.unstable_NormalPriority,Mt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function c0(){return{controller:new L4,data:new Map,refCount:0}}function Gl(n){n.refCount--,n.refCount===0&&F4(V4,function(){n.controller.abort()})}var Kl=null,u0=0,Ro=0,Do=null;function U4(n,s){if(Kl===null){var a=Kl=[];u0=0,Ro=fm(),Do={status:"pending",value:void 0,then:function(c){a.push(c)}}}return u0++,s.then(zx,zx),s}function zx(){if(--u0===0&&Kl!==null){Do!==null&&(Do.status="fulfilled");var n=Kl;Kl=null,Ro=0,Do=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function z4(n,s){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var Hx=H.S;H.S=function(n,s){C1=It(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&U4(n,s),Hx!==null&&Hx(n,s)};var Ta=F(null);function h0(){var n=Ta.current;return n!==null?n:ot.pooledCache}function Lu(n,s){s===null?W(Ta,Ta.current):W(Ta,s.pool)}function qx(){var n=h0();return n===null?null:{parent:Mt._currentValue,pool:n}}var Io=Error(r(460)),d0=Error(r(474)),Fu=Error(r(542)),Vu={then:function(){}};function $x(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Gx(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Ni,Ni),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Yx(n),n;default:if(typeof s.status=="string")s.then(Ni,Ni);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Yx(n),n}throw Sa=s,Io}}function Ca(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Sa=a,Io):a}}var Sa=null;function Kx(){if(Sa===null)throw Error(r(459));var n=Sa;return Sa=null,n}function Yx(n){if(n===Io||n===Fu)throw Error(r(483))}var ko=null,Yl=0;function Uu(n){var s=Yl;return Yl+=1,ko===null&&(ko=[]),Gx(ko,n,s)}function Xl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function zu(n,s){throw s.$$typeof===_?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Xx(n){function s(Q,Y){if(n){var ee=Q.deletions;ee===null?(Q.deletions=[Y],Q.flags|=16):ee.push(Y)}}function a(Q,Y){if(!n)return null;for(;Y!==null;)s(Q,Y),Y=Y.sibling;return null}function c(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function f(Q,Y){return Q=Ir(Q,Y),Q.index=0,Q.sibling=null,Q}function x(Q,Y,ee){return Q.index=ee,n?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<Y?(Q.flags|=67108866,Y):ee):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function w(Q){return n&&Q.alternate===null&&(Q.flags|=67108866),Q}function M(Q,Y,ee,le){return Y===null||Y.tag!==6?(Y=e0(ee,Q.mode,le),Y.return=Q,Y):(Y=f(Y,ee),Y.return=Q,Y)}function G(Q,Y,ee,le){var Ae=ee.type;return Ae===B?oe(Q,Y,ee.props.children,le,ee.key):Y!==null&&(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Ca(Ae)===Y.type)?(Y=f(Y,ee.props),Xl(Y,ee),Y.return=Q,Y):(Y=Bu(ee.type,ee.key,ee.props,null,Q.mode,le),Xl(Y,ee),Y.return=Q,Y)}function te(Q,Y,ee,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=t0(ee,Q.mode,le),Y.return=Q,Y):(Y=f(Y,ee.children||[]),Y.return=Q,Y)}function oe(Q,Y,ee,le,Ae){return Y===null||Y.tag!==7?(Y=_a(ee,Q.mode,le,Ae),Y.return=Q,Y):(Y=f(Y,ee),Y.return=Q,Y)}function ue(Q,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=e0(""+Y,Q.mode,ee),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return ee=Bu(Y.type,Y.key,Y.props,null,Q.mode,ee),Xl(ee,Y),ee.return=Q,ee;case N:return Y=t0(Y,Q.mode,ee),Y.return=Q,Y;case R:return Y=Ca(Y),ue(Q,Y,ee)}if(ie(Y)||V(Y))return Y=_a(Y,Q.mode,ee,null),Y.return=Q,Y;if(typeof Y.then=="function")return ue(Q,Uu(Y),ee);if(Y.$$typeof===j)return ue(Q,Pu(Q,Y),ee);zu(Q,Y)}return null}function ne(Q,Y,ee,le){var Ae=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ae!==null?null:M(Q,Y,""+ee,le);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return ee.key===Ae?G(Q,Y,ee,le):null;case N:return ee.key===Ae?te(Q,Y,ee,le):null;case R:return ee=Ca(ee),ne(Q,Y,ee,le)}if(ie(ee)||V(ee))return Ae!==null?null:oe(Q,Y,ee,le,null);if(typeof ee.then=="function")return ne(Q,Y,Uu(ee),le);if(ee.$$typeof===j)return ne(Q,Y,Pu(Q,ee),le);zu(Q,ee)}return null}function se(Q,Y,ee,le,Ae){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Q=Q.get(ee)||null,M(Y,Q,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return Q=Q.get(le.key===null?ee:le.key)||null,G(Y,Q,le,Ae);case N:return Q=Q.get(le.key===null?ee:le.key)||null,te(Y,Q,le,Ae);case R:return le=Ca(le),se(Q,Y,ee,le,Ae)}if(ie(le)||V(le))return Q=Q.get(ee)||null,oe(Y,Q,le,Ae,null);if(typeof le.then=="function")return se(Q,Y,ee,Uu(le),Ae);if(le.$$typeof===j)return se(Q,Y,ee,Pu(Y,le),Ae);zu(Y,le)}return null}function be(Q,Y,ee,le){for(var Ae=null,Ke=null,we=Y,Me=Y=0,Ve=null;we!==null&&Me<ee.length;Me++){we.index>Me?(Ve=we,we=null):Ve=we.sibling;var Ye=ne(Q,we,ee[Me],le);if(Ye===null){we===null&&(we=Ve);break}n&&we&&Ye.alternate===null&&s(Q,we),Y=x(Ye,Y,Me),Ke===null?Ae=Ye:Ke.sibling=Ye,Ke=Ye,we=Ve}if(Me===ee.length)return a(Q,we),qe&&kr(Q,Me),Ae;if(we===null){for(;Me<ee.length;Me++)we=ue(Q,ee[Me],le),we!==null&&(Y=x(we,Y,Me),Ke===null?Ae=we:Ke.sibling=we,Ke=we);return qe&&kr(Q,Me),Ae}for(we=c(we);Me<ee.length;Me++)Ve=se(we,Q,Me,ee[Me],le),Ve!==null&&(n&&Ve.alternate!==null&&we.delete(Ve.key===null?Me:Ve.key),Y=x(Ve,Y,Me),Ke===null?Ae=Ve:Ke.sibling=Ve,Ke=Ve);return n&&we.forEach(function(Bs){return s(Q,Bs)}),qe&&kr(Q,Me),Ae}function Ce(Q,Y,ee,le){if(ee==null)throw Error(r(151));for(var Ae=null,Ke=null,we=Y,Me=Y=0,Ve=null,Ye=ee.next();we!==null&&!Ye.done;Me++,Ye=ee.next()){we.index>Me?(Ve=we,we=null):Ve=we.sibling;var Bs=ne(Q,we,Ye.value,le);if(Bs===null){we===null&&(we=Ve);break}n&&we&&Bs.alternate===null&&s(Q,we),Y=x(Bs,Y,Me),Ke===null?Ae=Bs:Ke.sibling=Bs,Ke=Bs,we=Ve}if(Ye.done)return a(Q,we),qe&&kr(Q,Me),Ae;if(we===null){for(;!Ye.done;Me++,Ye=ee.next())Ye=ue(Q,Ye.value,le),Ye!==null&&(Y=x(Ye,Y,Me),Ke===null?Ae=Ye:Ke.sibling=Ye,Ke=Ye);return qe&&kr(Q,Me),Ae}for(we=c(we);!Ye.done;Me++,Ye=ee.next())Ye=se(we,Q,Me,Ye.value,le),Ye!==null&&(n&&Ye.alternate!==null&&we.delete(Ye.key===null?Me:Ye.key),Y=x(Ye,Y,Me),Ke===null?Ae=Ye:Ke.sibling=Ye,Ke=Ye);return n&&we.forEach(function(JT){return s(Q,JT)}),qe&&kr(Q,Me),Ae}function at(Q,Y,ee,le){if(typeof ee=="object"&&ee!==null&&ee.type===B&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:e:{for(var Ae=ee.key;Y!==null;){if(Y.key===Ae){if(Ae=ee.type,Ae===B){if(Y.tag===7){a(Q,Y.sibling),le=f(Y,ee.props.children),le.return=Q,Q=le;break e}}else if(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Ca(Ae)===Y.type){a(Q,Y.sibling),le=f(Y,ee.props),Xl(le,ee),le.return=Q,Q=le;break e}a(Q,Y);break}else s(Q,Y);Y=Y.sibling}ee.type===B?(le=_a(ee.props.children,Q.mode,le,ee.key),le.return=Q,Q=le):(le=Bu(ee.type,ee.key,ee.props,null,Q.mode,le),Xl(le,ee),le.return=Q,Q=le)}return w(Q);case N:e:{for(Ae=ee.key;Y!==null;){if(Y.key===Ae)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){a(Q,Y.sibling),le=f(Y,ee.children||[]),le.return=Q,Q=le;break e}else{a(Q,Y);break}else s(Q,Y);Y=Y.sibling}le=t0(ee,Q.mode,le),le.return=Q,Q=le}return w(Q);case R:return ee=Ca(ee),at(Q,Y,ee,le)}if(ie(ee))return be(Q,Y,ee,le);if(V(ee)){if(Ae=V(ee),typeof Ae!="function")throw Error(r(150));return ee=Ae.call(ee),Ce(Q,Y,ee,le)}if(typeof ee.then=="function")return at(Q,Y,Uu(ee),le);if(ee.$$typeof===j)return at(Q,Y,Pu(Q,ee),le);zu(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(a(Q,Y.sibling),le=f(Y,ee),le.return=Q,Q=le):(a(Q,Y),le=e0(ee,Q.mode,le),le.return=Q,Q=le),w(Q)):a(Q,Y)}return function(Q,Y,ee,le){try{Yl=0;var Ae=at(Q,Y,ee,le);return ko=null,Ae}catch(we){if(we===Io||we===Fu)throw we;var Ke=qn(29,we,null,Q.mode);return Ke.lanes=le,Ke.return=Q,Ke}finally{}}}var Na=Xx(!0),Qx=Xx(!1),xs=!1;function f0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function m0(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ys(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function vs(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=ju(n),jx(n,null,a),s}return ku(n,c,s,a),ju(n)}function Ql(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,qt(n,a)}}function p0(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};x===null?f=x=w:x=x.next=w,a=a.next}while(a!==null);x===null?f=x=s:x=x.next=s}else f=x=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:x,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var g0=!1;function Wl(){if(g0){var n=Do;if(n!==null)throw n}}function Zl(n,s,a,c){g0=!1;var f=n.updateQueue;xs=!1;var x=f.firstBaseUpdate,w=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var G=M,te=G.next;G.next=null,w===null?x=te:w.next=te,w=G;var oe=n.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==w&&(M===null?oe.firstBaseUpdate=te:M.next=te,oe.lastBaseUpdate=G))}if(x!==null){var ue=f.baseState;w=0,oe=te=G=null,M=x;do{var ne=M.lane&-536870913,se=ne!==M.lane;if(se?(Fe&ne)===ne:(c&ne)===ne){ne!==0&&ne===Ro&&(g0=!0),oe!==null&&(oe=oe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var be=n,Ce=M;ne=s;var at=a;switch(Ce.tag){case 1:if(be=Ce.payload,typeof be=="function"){ue=be.call(at,ue,ne);break e}ue=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ce.payload,ne=typeof be=="function"?be.call(at,ue,ne):be,ne==null)break e;ue=v({},ue,ne);break e;case 2:xs=!0}}ne=M.callback,ne!==null&&(n.flags|=64,se&&(n.flags|=8192),se=f.callbacks,se===null?f.callbacks=[ne]:se.push(ne))}else se={lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(te=oe=se,G=ue):oe=oe.next=se,w|=ne;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;se=M,M=se.next,se.next=null,f.lastBaseUpdate=se,f.shared.pending=null}}while(!0);oe===null&&(G=ue),f.baseState=G,f.firstBaseUpdate=te,f.lastBaseUpdate=oe,x===null&&(f.shared.lanes=0),As|=w,n.lanes=w,n.memoizedState=ue}}function Wx(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Zx(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Wx(a[n],s)}var jo=F(null),Hu=F(0);function Jx(n,s){n=Hr,W(Hu,n),W(jo,s),Hr=n|s.baseLanes}function x0(){W(Hu,Hr),W(jo,jo.current)}function y0(){Hr=Hu.current,K(jo),K(Hu)}var $n=F(null),pi=null;function bs(n){var s=n.alternate;W(St,St.current&1),W($n,n),pi===null&&(s===null||jo.current!==null||s.memoizedState!==null)&&(pi=n)}function v0(n){W(St,St.current),W($n,n),pi===null&&(pi=n)}function ey(n){n.tag===22?(W(St,St.current),W($n,n),pi===null&&(pi=n)):_s()}function _s(){W(St,St.current),W($n,$n.current)}function Gn(n){K($n),pi===n&&(pi=null),K(St)}var St=F(0);function qu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Tm(a)||Cm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Or=0,Oe=null,rt=null,Pt=null,$u=!1,Bo=!1,Ra=!1,Gu=0,Jl=0,Oo=null,H4=0;function wt(){throw Error(r(321))}function b0(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Hn(n[a],s[a]))return!1;return!0}function _0(n,s,a,c,f,x){return Or=x,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=n===null||n.memoizedState===null?Py:M0,Ra=!1,x=a(c,f),Ra=!1,Bo&&(x=ny(s,a,c,f)),ty(n),x}function ty(n){H.H=nc;var s=rt!==null&&rt.next!==null;if(Or=0,Pt=rt=Oe=null,$u=!1,Jl=0,Oo=null,s)throw Error(r(300));n===null||Lt||(n=n.dependencies,n!==null&&Mu(n)&&(Lt=!0))}function ny(n,s,a,c){Oe=n;var f=0;do{if(Bo&&(Oo=null),Jl=0,Bo=!1,25<=f)throw Error(r(301));if(f+=1,Pt=rt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}H.H=Ly,x=s(a,c)}while(Bo);return x}function q4(){var n=H.H,s=n.useState()[0];return s=typeof s.then=="function"?ec(s):s,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(Oe.flags|=1024),s}function w0(){var n=Gu!==0;return Gu=0,n}function E0(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function A0(n){if($u){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$u=!1}Or=0,Pt=rt=Oe=null,Bo=!1,Jl=Gu=0,Oo=null}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Oe.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function Nt(){if(rt===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var s=Pt===null?Oe.memoizedState:Pt.next;if(s!==null)Pt=s,rt=n;else{if(n===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Pt===null?Oe.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(n){var s=Jl;return Jl+=1,Oo===null&&(Oo=[]),n=Gx(Oo,n,s),s=Oe,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?Py:M0),n}function Yu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ec(n);if(n.$$typeof===j)return tn(n)}throw Error(r(438,String(n)))}function T0(n){var s=null,a=Oe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Ku(),Oe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),c=0;c<n;c++)a[c]=A;return s.index++,a}function Mr(n,s){return typeof s=="function"?s(n):s}function Xu(n){var s=Nt();return C0(s,rt,n)}function C0(n,s,a){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var f=n.baseQueue,x=c.pending;if(x!==null){if(f!==null){var w=f.next;f.next=x.next,x.next=w}s.baseQueue=f=x,c.pending=null}if(x=n.baseState,f===null)n.memoizedState=x;else{s=f.next;var M=w=null,G=null,te=s,oe=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(Fe&ue)===ue:(Or&ue)===ue){var ne=te.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===Ro&&(oe=!0);else if((Or&ne)===ne){te=te.next,ne===Ro&&(oe=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(M=G=ue,w=x):G=G.next=ue,Oe.lanes|=ne,As|=ne;ue=te.action,Ra&&a(x,ue),x=te.hasEagerState?te.eagerState:a(x,ue)}else ne={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(M=G=ne,w=x):G=G.next=ne,Oe.lanes|=ue,As|=ue;te=te.next}while(te!==null&&te!==s);if(G===null?w=x:G.next=M,!Hn(x,n.memoizedState)&&(Lt=!0,oe&&(a=Do,a!==null)))throw a;n.memoizedState=x,n.baseState=w,n.baseQueue=G,c.lastRenderedState=x}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function S0(n){var s=Nt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,x=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do x=n(x,w.action),w=w.next;while(w!==f);Hn(x,s.memoizedState)||(Lt=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),a.lastRenderedState=x}return[x,c]}function iy(n,s,a){var c=Oe,f=Nt(),x=qe;if(x){if(a===void 0)throw Error(r(407));a=a()}else a=s();var w=!Hn((rt||f).memoizedState,a);if(w&&(f.memoizedState=a,Lt=!0),f=f.queue,D0(ay.bind(null,c,f,n),[n]),f.getSnapshot!==s||w||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,Mo(9,{destroy:void 0},sy.bind(null,c,f,a,s),null),ot===null)throw Error(r(349));x||(Or&127)!==0||ry(c,s,a)}return a}function ry(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Oe.updateQueue,s===null?(s=Ku(),Oe.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function sy(n,s,a,c){s.value=a,s.getSnapshot=c,oy(s)&&ly(n)}function ay(n,s,a){return a(function(){oy(s)&&ly(n)})}function oy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Hn(n,a)}catch{return!0}}function ly(n){var s=ba(n,2);s!==null&&In(s,n,2)}function N0(n){var s=yn();if(typeof n=="function"){var a=n;if(n=a(),Ra){gn(!0);try{a()}finally{gn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:n},s}function cy(n,s,a,c){return n.baseState=a,C0(n,rt,typeof c=="function"?c:Mr)}function $4(n,s,a,c,f){if(Zu(n))throw Error(r(485));if(n=s.action,n!==null){var x={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){x.listeners.push(w)}};H.T!==null?a(!0):x.isTransition=!1,c(x),a=s.pending,a===null?(x.next=s.pending=x,uy(s,x)):(x.next=a.next,s.pending=a.next=x)}}function uy(n,s){var a=s.action,c=s.payload,f=n.state;if(s.isTransition){var x=H.T,w={};H.T=w;try{var M=a(f,c),G=H.S;G!==null&&G(w,M),hy(n,s,M)}catch(te){R0(n,s,te)}finally{x!==null&&w.types!==null&&(x.types=w.types),H.T=x}}else try{x=a(f,c),hy(n,s,x)}catch(te){R0(n,s,te)}}function hy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){dy(n,s,c)},function(c){return R0(n,s,c)}):dy(n,s,a)}function dy(n,s,a){s.status="fulfilled",s.value=a,fy(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,uy(n,a)))}function R0(n,s,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,fy(s),s=s.next;while(s!==c)}n.action=null}function fy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function my(n,s){return s}function py(n,s){if(qe){var a=ot.formState;if(a!==null){e:{var c=Oe;if(qe){if(ht){t:{for(var f=ht,x=mi;f.nodeType!==8;){if(!x){f=null;break t}if(f=gi(f.nextSibling),f===null){f=null;break t}}x=f.data,f=x==="F!"||x==="F"?f:null}if(f){ht=gi(f.nextSibling),c=f.data==="F!";break e}}ps(c)}c=!1}c&&(s=a[0])}}return a=yn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:s},a.queue=c,a=By.bind(null,Oe,c),c.dispatch=a,c=N0(!1),x=O0.bind(null,Oe,!1,c.queue),c=yn(),f={state:s,dispatch:null,action:n,pending:null},c.queue=f,a=$4.bind(null,Oe,f,x,a),f.dispatch=a,c.memoizedState=n,[s,a,!1]}function gy(n){var s=Nt();return xy(s,rt,n)}function xy(n,s,a){if(s=C0(n,s,my)[0],n=Xu(Mr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ec(s)}catch(w){throw w===Io?Fu:w}else c=s;s=Nt();var f=s.queue,x=f.dispatch;return a!==s.memoizedState&&(Oe.flags|=2048,Mo(9,{destroy:void 0},G4.bind(null,f,a),null)),[c,x,n]}function G4(n,s){n.action=s}function yy(n){var s=Nt(),a=rt;if(a!==null)return xy(s,a,n);Nt(),s=s.memoizedState,a=Nt();var c=a.queue.dispatch;return a.memoizedState=n,[s,c,!1]}function Mo(n,s,a,c){return n={tag:n,create:a,deps:c,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=Ku(),Oe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n),n}function vy(){return Nt().memoizedState}function Qu(n,s,a,c){var f=yn();Oe.flags|=n,f.memoizedState=Mo(1|s,{destroy:void 0},a,c===void 0?null:c)}function Wu(n,s,a,c){var f=Nt();c=c===void 0?null:c;var x=f.memoizedState.inst;rt!==null&&c!==null&&b0(c,rt.memoizedState.deps)?f.memoizedState=Mo(s,x,a,c):(Oe.flags|=n,f.memoizedState=Mo(1|s,x,a,c))}function by(n,s){Qu(8390656,8,n,s)}function D0(n,s){Wu(2048,8,n,s)}function K4(n){Oe.flags|=4;var s=Oe.updateQueue;if(s===null)s=Ku(),Oe.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function _y(n){var s=Nt().memoizedState;return K4({ref:s,nextImpl:n}),function(){if((Qe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function wy(n,s){return Wu(4,2,n,s)}function Ey(n,s){return Wu(4,4,n,s)}function Ay(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Ty(n,s,a){a=a!=null?a.concat([n]):null,Wu(4,4,Ay.bind(null,s,n),a)}function I0(){}function Cy(n,s){var a=Nt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&b0(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Sy(n,s){var a=Nt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&b0(s,c[1]))return c[0];if(c=n(),Ra){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[c,s],c}function k0(n,s,a){return a===void 0||(Or&1073741824)!==0&&(Fe&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=N1(),Oe.lanes|=n,As|=n,a)}function Ny(n,s,a,c){return Hn(a,s)?a:jo.current!==null?(n=k0(n,a,c),Hn(n,s)||(Lt=!0),n):(Or&42)===0||(Or&1073741824)!==0&&(Fe&261930)===0?(Lt=!0,n.memoizedState=a):(n=N1(),Oe.lanes|=n,As|=n,s)}function Ry(n,s,a,c,f){var x=X.p;X.p=x!==0&&8>x?x:8;var w=H.T,M={};H.T=M,O0(n,!1,s,a);try{var G=f(),te=H.S;if(te!==null&&te(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var oe=z4(G,c);tc(n,s,oe,Xn(n))}else tc(n,s,c,Xn(n))}catch(ue){tc(n,s,{then:function(){},status:"rejected",reason:ue},Xn())}finally{X.p=x,w!==null&&M.types!==null&&(w.types=M.types),H.T=w}}function Y4(){}function j0(n,s,a,c){if(n.tag!==5)throw Error(r(476));var f=Dy(n).queue;Ry(n,f,s,ae,a===null?Y4:function(){return Iy(n),a(c)})}function Dy(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Iy(n){var s=Dy(n);s.next===null&&(s=n.alternate.memoizedState),tc(n,s.next.queue,{},Xn())}function B0(){return tn(yc)}function ky(){return Nt().memoizedState}function jy(){return Nt().memoizedState}function X4(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Xn();n=ys(a);var c=vs(s,n,a);c!==null&&(In(c,s,a),Ql(c,s,a)),s={cache:c0()},n.payload=s;return}s=s.return}}function Q4(n,s,a){var c=Xn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(n)?Oy(s,a):(a=Zf(n,s,a,c),a!==null&&(In(a,n,c),My(a,s,c)))}function By(n,s,a){var c=Xn();tc(n,s,a,c)}function tc(n,s,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(n))Oy(s,f);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var w=s.lastRenderedState,M=x(w,a);if(f.hasEagerState=!0,f.eagerState=M,Hn(M,w))return ku(n,s,f,0),ot===null&&Iu(),!1}catch{}finally{}if(a=Zf(n,s,f,c),a!==null)return In(a,n,c),My(a,s,c),!0}return!1}function O0(n,s,a,c){if(c={lane:2,revertLane:fm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Zu(n)){if(s)throw Error(r(479))}else s=Zf(n,a,c,2),s!==null&&In(s,n,2)}function Zu(n){var s=n.alternate;return n===Oe||s!==null&&s===Oe}function Oy(n,s){Bo=$u=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function My(n,s,a){if((a&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,qt(n,a)}}var nc={readContext:tn,use:Yu,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};nc.useEffectEvent=wt;var Py={readContext:tn,use:Yu,useCallback:function(n,s){return yn().memoizedState=[n,s===void 0?null:s],n},useContext:tn,useEffect:by,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Qu(4194308,4,Ay.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Qu(4194308,4,n,s)},useInsertionEffect:function(n,s){Qu(4,2,n,s)},useMemo:function(n,s){var a=yn();s=s===void 0?null:s;var c=n();if(Ra){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[c,s],c},useReducer:function(n,s,a){var c=yn();if(a!==void 0){var f=a(s);if(Ra){gn(!0);try{a(s)}finally{gn(!1)}}}else f=s;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=Q4.bind(null,Oe,n),[c.memoizedState,n]},useRef:function(n){var s=yn();return n={current:n},s.memoizedState=n},useState:function(n){n=N0(n);var s=n.queue,a=By.bind(null,Oe,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:I0,useDeferredValue:function(n,s){var a=yn();return k0(a,n,s)},useTransition:function(){var n=N0(!1);return n=Ry.bind(null,Oe,n.queue,!0,!1),yn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var c=Oe,f=yn();if(qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ot===null)throw Error(r(349));(Fe&127)!==0||ry(c,s,a)}f.memoizedState=a;var x={value:a,getSnapshot:s};return f.queue=x,by(ay.bind(null,c,x,n),[n]),c.flags|=2048,Mo(9,{destroy:void 0},sy.bind(null,c,x,a,s),null),a},useId:function(){var n=yn(),s=ot.identifierPrefix;if(qe){var a=ur,c=cr;a=(c&~(1<<32-yt(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Gu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=H4++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:B0,useFormState:py,useActionState:py,useOptimistic:function(n){var s=yn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=O0.bind(null,Oe,!0,a),a.dispatch=s,[n,s]},useMemoCache:T0,useCacheRefresh:function(){return yn().memoizedState=X4.bind(null,Oe)},useEffectEvent:function(n){var s=yn(),a={impl:n};return s.memoizedState=a,function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},M0={readContext:tn,use:Yu,useCallback:Cy,useContext:tn,useEffect:D0,useImperativeHandle:Ty,useInsertionEffect:wy,useLayoutEffect:Ey,useMemo:Sy,useReducer:Xu,useRef:vy,useState:function(){return Xu(Mr)},useDebugValue:I0,useDeferredValue:function(n,s){var a=Nt();return Ny(a,rt.memoizedState,n,s)},useTransition:function(){var n=Xu(Mr)[0],s=Nt().memoizedState;return[typeof n=="boolean"?n:ec(n),s]},useSyncExternalStore:iy,useId:ky,useHostTransitionStatus:B0,useFormState:gy,useActionState:gy,useOptimistic:function(n,s){var a=Nt();return cy(a,rt,n,s)},useMemoCache:T0,useCacheRefresh:jy};M0.useEffectEvent=_y;var Ly={readContext:tn,use:Yu,useCallback:Cy,useContext:tn,useEffect:D0,useImperativeHandle:Ty,useInsertionEffect:wy,useLayoutEffect:Ey,useMemo:Sy,useReducer:S0,useRef:vy,useState:function(){return S0(Mr)},useDebugValue:I0,useDeferredValue:function(n,s){var a=Nt();return rt===null?k0(a,n,s):Ny(a,rt.memoizedState,n,s)},useTransition:function(){var n=S0(Mr)[0],s=Nt().memoizedState;return[typeof n=="boolean"?n:ec(n),s]},useSyncExternalStore:iy,useId:ky,useHostTransitionStatus:B0,useFormState:yy,useActionState:yy,useOptimistic:function(n,s){var a=Nt();return rt!==null?cy(a,rt,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:T0,useCacheRefresh:jy};Ly.useEffectEvent=_y;function P0(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var L0={enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Xn(),f=ys(c);f.payload=s,a!=null&&(f.callback=a),s=vs(n,f,c),s!==null&&(In(s,n,c),Ql(s,n,c))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Xn(),f=ys(c);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=vs(n,f,c),s!==null&&(In(s,n,c),Ql(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Xn(),c=ys(a);c.tag=2,s!=null&&(c.callback=s),s=vs(n,c,a),s!==null&&(In(s,n,a),Ql(s,n,a))}};function Fy(n,s,a,c,f,x,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,x,w):s.prototype&&s.prototype.isPureReactComponent?!zl(a,c)||!zl(f,x):!0}function Vy(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&L0.enqueueReplaceState(s,s.state,null)}function Da(n,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Uy(n){Du(n)}function zy(n){console.error(n)}function Hy(n){Du(n)}function Ju(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function qy(n,s,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function F0(n,s,a){return a=ys(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(n,s)},a}function $y(n){return n=ys(n),n.tag=3,n}function Gy(n,s,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var x=c.value;n.payload=function(){return f(x)},n.callback=function(){qy(s,a,c)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){qy(s,a,c),typeof f!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function W4(n,s,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&No(s,a,f,!0),a=$n.current,a!==null){switch(a.tag){case 31:case 13:return pi===null?hh():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===Vu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),um(n,c,f)),!1;case 22:return a.flags|=65536,c===Vu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),um(n,c,f)),!1}throw Error(r(435,a.tag))}return um(n,c,f),hh(),!1}if(qe)return s=$n.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==r0&&(n=Error(r(422),{cause:c}),$l(hi(n,a)))):(c!==r0&&(s=Error(r(423),{cause:c}),$l(hi(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=hi(c,a),f=F0(n.stateNode,c,f),p0(n,f),Et!==4&&(Et=2)),!1;var x=Error(r(520),{cause:c});if(x=hi(x,a),uc===null?uc=[x]:uc.push(x),Et!==4&&(Et=2),s===null)return!0;c=hi(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=F0(a.stateNode,c,n),p0(a,n),!1;case 1:if(s=a.type,x=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ts===null||!Ts.has(x))))return a.flags|=65536,f&=-f,a.lanes|=f,f=$y(f),Gy(f,n,a,c),p0(a,f),!1}a=a.return}while(a!==null);return!1}var V0=Error(r(461)),Lt=!1;function nn(n,s,a,c){s.child=n===null?Qx(s,null,a,c):Na(s,n.child,a,c)}function Ky(n,s,a,c,f){a=a.render;var x=s.ref;if("ref"in c){var w={};for(var M in c)M!=="ref"&&(w[M]=c[M])}else w=c;return Aa(s),c=_0(n,s,a,w,x,f),M=w0(),n!==null&&!Lt?(E0(n,s,f),Pr(n,s,f)):(qe&&M&&n0(s),s.flags|=1,nn(n,s,c,f),s.child)}function Yy(n,s,a,c,f){if(n===null){var x=a.type;return typeof x=="function"&&!Jf(x)&&x.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=x,Xy(n,s,x,c,f)):(n=Bu(a.type,null,c,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,!Y0(n,f)){var w=x.memoizedProps;if(a=a.compare,a=a!==null?a:zl,a(w,c)&&n.ref===s.ref)return Pr(n,s,f)}return s.flags|=1,n=Ir(x,c),n.ref=s.ref,n.return=s,s.child=n}function Xy(n,s,a,c,f){if(n!==null){var x=n.memoizedProps;if(zl(x,c)&&n.ref===s.ref)if(Lt=!1,s.pendingProps=c=x,Y0(n,f))(n.flags&131072)!==0&&(Lt=!0);else return s.lanes=n.lanes,Pr(n,s,f)}return U0(n,s,a,c,f)}function Qy(n,s,a,c){var f=c.children,x=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|a:a,n!==null){for(c=s.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~x}else c=0,s.child=null;return Wy(n,s,x,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Lu(s,x!==null?x.cachePool:null),x!==null?Jx(s,x):x0(),ey(s);else return c=s.lanes=536870912,Wy(n,s,x!==null?x.baseLanes|a:a,a,c)}else x!==null?(Lu(s,x.cachePool),Jx(s,x),_s(),s.memoizedState=null):(n!==null&&Lu(s,null),x0(),_s());return nn(n,s,f,a),s.child}function ic(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Wy(n,s,a,c,f){var x=h0();return x=x===null?null:{parent:Mt._currentValue,pool:x},s.memoizedState={baseLanes:a,cachePool:x},n!==null&&Lu(s,null),x0(),ey(s),n!==null&&No(n,s,c,!0),s.childLanes=f,null}function eh(n,s){return s=nh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Zy(n,s,a){return Na(s,n.child,null,a),n=eh(s,s.pendingProps),n.flags|=2,Gn(s),s.memoizedState=null,n}function Z4(n,s,a){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(qe){if(c.mode==="hidden")return n=eh(s,c),s.lanes=536870912,ic(null,n);if(v0(s),(n=ht)?(n=uv(n,mi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:fs!==null?{id:cr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},a=Ox(n),a.return=s,s.child=a,en=s,ht=null)):n=null,n===null)throw ps(s);return s.lanes=536870912,null}return eh(s,c)}var x=n.memoizedState;if(x!==null){var w=x.dehydrated;if(v0(s),f)if(s.flags&256)s.flags&=-257,s=Zy(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Lt||No(n,s,a,!1),f=(a&n.childLanes)!==0,Lt||f){if(c=ot,c!==null&&(w=An(c,a),w!==0&&w!==x.retryLane))throw x.retryLane=w,ba(n,w),In(c,n,w),V0;hh(),s=Zy(n,s,a)}else n=x.treeContext,ht=gi(w.nextSibling),en=s,qe=!0,ms=null,mi=!1,n!==null&&Lx(s,n),s=eh(s,c),s.flags|=4096;return s}return n=Ir(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function th(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function U0(n,s,a,c,f){return Aa(s),a=_0(n,s,a,c,void 0,f),c=w0(),n!==null&&!Lt?(E0(n,s,f),Pr(n,s,f)):(qe&&c&&n0(s),s.flags|=1,nn(n,s,a,f),s.child)}function Jy(n,s,a,c,f,x){return Aa(s),s.updateQueue=null,a=ny(s,c,a,f),ty(n),c=w0(),n!==null&&!Lt?(E0(n,s,x),Pr(n,s,x)):(qe&&c&&n0(s),s.flags|=1,nn(n,s,a,x),s.child)}function e1(n,s,a,c,f){if(Aa(s),s.stateNode===null){var x=Ao,w=a.contextType;typeof w=="object"&&w!==null&&(x=tn(w)),x=new a(c,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=L0,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=c,x.state=s.memoizedState,x.refs={},f0(s),w=a.contextType,x.context=typeof w=="object"&&w!==null?tn(w):Ao,x.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(P0(s,a,w,c),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(w=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),w!==x.state&&L0.enqueueReplaceState(x,x.state,null),Zl(s,c,x,f),Wl(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){x=s.stateNode;var M=s.memoizedProps,G=Da(a,M);x.props=G;var te=x.context,oe=a.contextType;w=Ao,typeof oe=="object"&&oe!==null&&(w=tn(oe));var ue=a.getDerivedStateFromProps;oe=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||te!==w)&&Vy(s,x,c,w),xs=!1;var ne=s.memoizedState;x.state=ne,Zl(s,c,x,f),Wl(),te=s.memoizedState,M||ne!==te||xs?(typeof ue=="function"&&(P0(s,a,ue,c),te=s.memoizedState),(G=xs||Fy(s,a,G,c,ne,te,w))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=te),x.props=c,x.state=te,x.context=w,c=G):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{x=s.stateNode,m0(n,s),w=s.memoizedProps,oe=Da(a,w),x.props=oe,ue=s.pendingProps,ne=x.context,te=a.contextType,G=Ao,typeof te=="object"&&te!==null&&(G=tn(te)),M=a.getDerivedStateFromProps,(te=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==ue||ne!==G)&&Vy(s,x,c,G),xs=!1,ne=s.memoizedState,x.state=ne,Zl(s,c,x,f),Wl();var se=s.memoizedState;w!==ue||ne!==se||xs||n!==null&&n.dependencies!==null&&Mu(n.dependencies)?(typeof M=="function"&&(P0(s,a,M,c),se=s.memoizedState),(oe=xs||Fy(s,a,oe,c,ne,se,G)||n!==null&&n.dependencies!==null&&Mu(n.dependencies))?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,se,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,se,G)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===n.memoizedProps&&ne===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ne===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=se),x.props=c,x.state=se,x.context=G,c=oe):(typeof x.componentDidUpdate!="function"||w===n.memoizedProps&&ne===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ne===n.memoizedState||(s.flags|=1024),c=!1)}return x=c,th(n,s),c=(s.flags&128)!==0,x||c?(x=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,n!==null&&c?(s.child=Na(s,n.child,null,f),s.child=Na(s,null,a,f)):nn(n,s,a,f),s.memoizedState=x.state,n=s.child):n=Pr(n,s,f),n}function t1(n,s,a,c){return wa(),s.flags|=256,nn(n,s,a,c),s.child}var z0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function H0(n){return{baseLanes:n,cachePool:qx()}}function q0(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Yn),n}function n1(n,s,a){var c=s.pendingProps,f=!1,x=(s.flags&128)!==0,w;if((w=x)||(w=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),w&&(f=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,n===null){if(qe){if(f?bs(s):_s(),(n=ht)?(n=uv(n,mi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:fs!==null?{id:cr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},a=Ox(n),a.return=s,s.child=a,en=s,ht=null)):n=null,n===null)throw ps(s);return Cm(n)?s.lanes=32:s.lanes=536870912,null}var M=c.children;return c=c.fallback,f?(_s(),f=s.mode,M=nh({mode:"hidden",children:M},f),c=_a(c,f,a,null),M.return=s,c.return=s,M.sibling=c,s.child=M,c=s.child,c.memoizedState=H0(a),c.childLanes=q0(n,w,a),s.memoizedState=z0,ic(null,c)):(bs(s),$0(s,M))}var G=n.memoizedState;if(G!==null&&(M=G.dehydrated,M!==null)){if(x)s.flags&256?(bs(s),s.flags&=-257,s=G0(n,s,a)):s.memoizedState!==null?(_s(),s.child=n.child,s.flags|=128,s=null):(_s(),M=c.fallback,f=s.mode,c=nh({mode:"visible",children:c.children},f),M=_a(M,f,a,null),M.flags|=2,c.return=s,M.return=s,c.sibling=M,s.child=c,Na(s,n.child,null,a),c=s.child,c.memoizedState=H0(a),c.childLanes=q0(n,w,a),s.memoizedState=z0,s=ic(null,c));else if(bs(s),Cm(M)){if(w=M.nextSibling&&M.nextSibling.dataset,w)var te=w.dgst;w=te,c=Error(r(419)),c.stack="",c.digest=w,$l({value:c,source:null,stack:null}),s=G0(n,s,a)}else if(Lt||No(n,s,a,!1),w=(a&n.childLanes)!==0,Lt||w){if(w=ot,w!==null&&(c=An(w,a),c!==0&&c!==G.retryLane))throw G.retryLane=c,ba(n,c),In(w,n,c),V0;Tm(M)||hh(),s=G0(n,s,a)}else Tm(M)?(s.flags|=192,s.child=n.child,s=null):(n=G.treeContext,ht=gi(M.nextSibling),en=s,qe=!0,ms=null,mi=!1,n!==null&&Lx(s,n),s=$0(s,c.children),s.flags|=4096);return s}return f?(_s(),M=c.fallback,f=s.mode,G=n.child,te=G.sibling,c=Ir(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,te!==null?M=Ir(te,M):(M=_a(M,f,a,null),M.flags|=2),M.return=s,c.return=s,c.sibling=M,s.child=c,ic(null,c),c=s.child,M=n.child.memoizedState,M===null?M=H0(a):(f=M.cachePool,f!==null?(G=Mt._currentValue,f=f.parent!==G?{parent:G,pool:G}:f):f=qx(),M={baseLanes:M.baseLanes|a,cachePool:f}),c.memoizedState=M,c.childLanes=q0(n,w,a),s.memoizedState=z0,ic(n.child,c)):(bs(s),a=n.child,n=a.sibling,a=Ir(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,n!==null&&(w=s.deletions,w===null?(s.deletions=[n],s.flags|=16):w.push(n)),s.child=a,s.memoizedState=null,a)}function $0(n,s){return s=nh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function nh(n,s){return n=qn(22,n,null,s),n.lanes=0,n}function G0(n,s,a){return Na(s,n.child,null,a),n=$0(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function i1(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),o0(n.return,s,a)}function K0(n,s,a,c,f,x){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:x}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=a,w.tailMode=f,w.treeForkCount=x)}function r1(n,s,a){var c=s.pendingProps,f=c.revealOrder,x=c.tail;c=c.children;var w=St.current,M=(w&2)!==0;if(M?(w=w&1|2,s.flags|=128):w&=1,W(St,w),nn(n,s,c,a),c=qe?ql:0,!M&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&i1(n,a,s);else if(n.tag===19)i1(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&qu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),K0(s,!1,f,a,x,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&qu(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}K0(s,!0,a,null,x,c);break;case"together":K0(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Pr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),As|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(No(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Ir(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Ir(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Y0(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Mu(n)))}function J4(n,s,a){switch(s.tag){case 3:Ee(s,s.stateNode.containerInfo),gs(s,Mt,n.memoizedState.cache),wa();break;case 27:case 5:En(s);break;case 4:Ee(s,s.stateNode.containerInfo);break;case 10:gs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,v0(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(bs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?n1(n,s,a):(bs(s),n=Pr(n,s,a),n!==null?n.sibling:null);bs(s);break;case 19:var f=(n.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(No(n,s,a,!1),c=(a&s.childLanes)!==0),f){if(c)return r1(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(St,St.current),c)break;return null;case 22:return s.lanes=0,Qy(n,s,a,s.pendingProps);case 24:gs(s,Mt,n.memoizedState.cache)}return Pr(n,s,a)}function s1(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Lt=!0;else{if(!Y0(n,a)&&(s.flags&128)===0)return Lt=!1,J4(n,s,a);Lt=(n.flags&131072)!==0}else Lt=!1,qe&&(s.flags&1048576)!==0&&Px(s,ql,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=Ca(s.elementType),s.type=n,typeof n=="function")Jf(n)?(c=Da(n,c),s.tag=1,s=e1(null,s,n,c,a)):(s.tag=0,s=U0(null,s,n,c,a));else{if(n!=null){var f=n.$$typeof;if(f===L){s.tag=11,s=Ky(null,s,n,c,a);break e}else if(f===T){s.tag=14,s=Yy(null,s,n,c,a);break e}}throw s=de(n)||n,Error(r(306,s,""))}}return s;case 0:return U0(n,s,s.type,s.pendingProps,a);case 1:return c=s.type,f=Da(c,s.pendingProps),e1(n,s,c,f,a);case 3:e:{if(Ee(s,s.stateNode.containerInfo),n===null)throw Error(r(387));c=s.pendingProps;var x=s.memoizedState;f=x.element,m0(n,s),Zl(s,c,null,a);var w=s.memoizedState;if(c=w.cache,gs(s,Mt,c),c!==x.cache&&l0(s,[Mt],a,!0),Wl(),c=w.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=t1(n,s,c,a);break e}else if(c!==f){f=hi(Error(r(424)),s),$l(f),s=t1(n,s,c,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=gi(n.firstChild),en=s,qe=!0,ms=null,mi=!0,a=Qx(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wa(),c===f){s=Pr(n,s,a);break e}nn(n,s,c,a)}s=s.child}return s;case 26:return th(n,s),n===null?(a=gv(s.type,null,s.pendingProps,null))?s.memoizedState=a:qe||(a=s.type,n=s.pendingProps,c=yh(ye.current).createElement(a),c[jt]=s,c[Yt]=n,rn(c,a,n),Bt(c),s.stateNode=c):s.memoizedState=gv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return En(s),n===null&&qe&&(c=s.stateNode=fv(s.type,s.pendingProps,ye.current),en=s,mi=!0,f=ht,Rs(s.type)?(Sm=f,ht=gi(c.firstChild)):ht=f),nn(n,s,s.pendingProps.children,a),th(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&qe&&((f=c=ht)&&(c=RT(c,s.type,s.pendingProps,mi),c!==null?(s.stateNode=c,en=s,ht=gi(c.firstChild),mi=!1,f=!0):f=!1),f||ps(s)),En(s),f=s.type,x=s.pendingProps,w=n!==null?n.memoizedProps:null,c=x.children,wm(f,x)?c=null:w!==null&&wm(f,w)&&(s.flags|=32),s.memoizedState!==null&&(f=_0(n,s,q4,null,null,a),yc._currentValue=f),th(n,s),nn(n,s,c,a),s.child;case 6:return n===null&&qe&&((n=a=ht)&&(a=DT(a,s.pendingProps,mi),a!==null?(s.stateNode=a,en=s,ht=null,n=!0):n=!1),n||ps(s)),null;case 13:return n1(n,s,a);case 4:return Ee(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Na(s,null,c,a):nn(n,s,c,a),s.child;case 11:return Ky(n,s,s.type,s.pendingProps,a);case 7:return nn(n,s,s.pendingProps,a),s.child;case 8:return nn(n,s,s.pendingProps.children,a),s.child;case 12:return nn(n,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,gs(s,s.type,c.value),nn(n,s,c.children,a),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,Aa(s),f=tn(f),c=c(f),s.flags|=1,nn(n,s,c,a),s.child;case 14:return Yy(n,s,s.type,s.pendingProps,a);case 15:return Xy(n,s,s.type,s.pendingProps,a);case 19:return r1(n,s,a);case 31:return Z4(n,s,a);case 22:return Qy(n,s,a,s.pendingProps);case 24:return Aa(s),c=tn(Mt),n===null?(f=h0(),f===null&&(f=ot,x=c0(),f.pooledCache=x,x.refCount++,x!==null&&(f.pooledCacheLanes|=a),f=x),s.memoizedState={parent:c,cache:f},f0(s),gs(s,Mt,f)):((n.lanes&a)!==0&&(m0(n,s),Zl(s,null,null,a),Wl()),f=n.memoizedState,x=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),gs(s,Mt,c)):(c=x.cache,gs(s,Mt,c),c!==f.cache&&l0(s,[Mt],a,!0))),nn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Lr(n){n.flags|=4}function X0(n,s,a,c,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(k1())n.flags|=8192;else throw Sa=Vu,d0}else n.flags&=-16777217}function a1(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!_v(s))if(k1())n.flags|=8192;else throw Sa=Vu,d0}function ih(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?oo():536870912,n.lanes|=s,Vo|=s)}function rc(n,s){if(!qe)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function dt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function eT(n,s,a){var c=s.pendingProps;switch(i0(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return dt(s),null;case 3:return a=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Br(Mt),We(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(So(s)?Lr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,s0())),dt(s),null;case 26:var f=s.type,x=s.memoizedState;return n===null?(Lr(s),x!==null?(dt(s),a1(s,x)):(dt(s),X0(s,f,null,c,a))):x?x!==n.memoizedState?(Lr(s),dt(s),a1(s,x)):(dt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&Lr(s),dt(s),X0(s,f,n,c,a)),null;case 27:if(Ui(s),a=ye.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Lr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return dt(s),null}n=Z.current,So(s)?Fx(s):(n=fv(f,c,a),s.stateNode=n,Lr(s))}return dt(s),null;case 5:if(Ui(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Lr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return dt(s),null}if(x=Z.current,So(s))Fx(s);else{var w=yh(ye.current);switch(x){case 1:x=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:x=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":x=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":x=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":x=w.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?x.multiple=!0:c.size&&(x.size=c.size);break;default:x=typeof c.is=="string"?w.createElement(f,{is:c.is}):w.createElement(f)}}x[jt]=s,x[Yt]=c;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)x.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=x;e:switch(rn(x,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Lr(s)}}return dt(s),X0(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&Lr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(n=ye.current,So(s)){if(n=s.stateNode,a=s.memoizedProps,c=null,f=en,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[jt]=s,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||nv(n.nodeValue,a)),n||ps(s,!0)}else n=yh(n).createTextNode(c),n[jt]=s,s.stateNode=n}return dt(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(c=So(s),a!==null){if(n===null){if(!c)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[jt]=s}else wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),n=!1}else a=s0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Gn(s),s):(Gn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return dt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=So(s),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[jt]=s}else wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),f=!1}else f=s0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Gn(s),s):(Gn(s),null)}return Gn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==f&&(c.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),ih(s,s.updateQueue),dt(s),null);case 4:return We(),n===null&&xm(s.stateNode.containerInfo),dt(s),null;case 10:return Br(s.type),dt(s),null;case 19:if(K(St),c=s.memoizedState,c===null)return dt(s),null;if(f=(s.flags&128)!==0,x=c.rendering,x===null)if(f)rc(c,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=qu(n),x!==null){for(s.flags|=128,rc(c,!1),n=x.updateQueue,s.updateQueue=n,ih(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Bx(a,n),a=a.sibling;return W(St,St.current&1|2),qe&&kr(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&It()>lh&&(s.flags|=128,f=!0,rc(c,!1),s.lanes=4194304)}else{if(!f)if(n=qu(x),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,ih(s,n),rc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!x.alternate&&!qe)return dt(s),null}else 2*It()-c.renderingStartTime>lh&&a!==536870912&&(s.flags|=128,f=!0,rc(c,!1),s.lanes=4194304);c.isBackwards?(x.sibling=s.child,s.child=x):(n=c.last,n!==null?n.sibling=x:s.child=x,c.last=x)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=It(),n.sibling=null,a=St.current,W(St,f?a&1|2:a&1),qe&&kr(s,c.treeForkCount),n):(dt(s),null);case 22:case 23:return Gn(s),y0(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),a=s.updateQueue,a!==null&&ih(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),n!==null&&K(Ta),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Br(Mt),dt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function tT(n,s){switch(i0(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Br(Mt),We(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ui(s),null;case 31:if(s.memoizedState!==null){if(Gn(s),s.alternate===null)throw Error(r(340));wa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Gn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));wa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return K(St),null;case 4:return We(),null;case 10:return Br(s.type),null;case 22:case 23:return Gn(s),y0(),n!==null&&K(Ta),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Br(Mt),null;case 25:return null;default:return null}}function o1(n,s){switch(i0(s),s.tag){case 3:Br(Mt),We();break;case 26:case 27:case 5:Ui(s);break;case 4:We();break;case 31:s.memoizedState!==null&&Gn(s);break;case 13:Gn(s);break;case 19:K(St);break;case 10:Br(s.type);break;case 22:case 23:Gn(s),y0(),n!==null&&K(Ta);break;case 24:Br(Mt)}}function sc(n,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&n)===n){c=void 0;var x=a.create,w=a.inst;c=x(),w.destroy=c}a=a.next}while(a!==f)}}catch(M){tt(s,s.return,M)}}function ws(n,s,a){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var x=f.next;c=x;do{if((c.tag&n)===n){var w=c.inst,M=w.destroy;if(M!==void 0){w.destroy=void 0,f=s;var G=a,te=M;try{te()}catch(oe){tt(f,G,oe)}}}c=c.next}while(c!==x)}}catch(oe){tt(s,s.return,oe)}}function l1(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Zx(s,a)}catch(c){tt(n,n.return,c)}}}function c1(n,s,a){a.props=Da(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){tt(n,s,c)}}function ac(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(f){tt(n,s,f)}}function hr(n,s){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){tt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(n,s,f)}else a.current=null}function u1(n){var s=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){tt(n,n.return,f)}}function Q0(n,s,a){try{var c=n.stateNode;ET(c,n.type,a,s),c[Yt]=s}catch(f){tt(n,n.return,f)}}function h1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Rs(n.type)||n.tag===4}function W0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||h1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Rs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Z0(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ni));else if(c!==4&&(c===27&&Rs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Z0(n,s,a),n=n.sibling;n!==null;)Z0(n,s,a),n=n.sibling}function rh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(c===27&&Rs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(rh(n,s,a),n=n.sibling;n!==null;)rh(n,s,a),n=n.sibling}function d1(n){var s=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,c,a),s[jt]=n,s[Yt]=a}catch(x){tt(n,n.return,x)}}var Fr=!1,Ft=!1,J0=!1,f1=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function nT(n,s){if(n=n.containerInfo,bm=Th,n=Tx(n),Gf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var w=0,M=-1,G=-1,te=0,oe=0,ue=n,ne=null;t:for(;;){for(var se;ue!==a||f!==0&&ue.nodeType!==3||(M=w+f),ue!==x||c!==0&&ue.nodeType!==3||(G=w+c),ue.nodeType===3&&(w+=ue.nodeValue.length),(se=ue.firstChild)!==null;)ne=ue,ue=se;for(;;){if(ue===n)break t;if(ne===a&&++te===f&&(M=w),ne===x&&++oe===c&&(G=w),(se=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=se}a=M===-1||G===-1?null:{start:M,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:n,selectionRange:a},Th=!1,Qt=s;Qt!==null;)if(s=Qt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Qt=n;else for(;Qt!==null;){switch(s=Qt,x=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,a=s,f=x.memoizedProps,x=x.memoizedState,c=a.stateNode;try{var be=Da(a.type,f);n=c.getSnapshotBeforeUpdate(be,x),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ce){tt(a,a.return,Ce)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Am(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Am(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Qt=n;break}Qt=s.return}}function m1(n,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Ur(n,a),c&4&&sc(5,a);break;case 1:if(Ur(n,a),c&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(w){tt(a,a.return,w)}else{var f=Da(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(w){tt(a,a.return,w)}}c&64&&l1(a),c&512&&ac(a,a.return);break;case 3:if(Ur(n,a),c&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Zx(n,s)}catch(w){tt(a,a.return,w)}}break;case 27:s===null&&c&4&&d1(a);case 26:case 5:Ur(n,a),s===null&&c&4&&u1(a),c&512&&ac(a,a.return);break;case 12:Ur(n,a);break;case 31:Ur(n,a),c&4&&x1(n,a);break;case 13:Ur(n,a),c&4&&y1(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=hT.bind(null,a),IT(n,a))));break;case 22:if(c=a.memoizedState!==null||Fr,!c){s=s!==null&&s.memoizedState!==null||Ft,f=Fr;var x=Ft;Fr=c,(Ft=s)&&!x?zr(n,a,(a.subtreeFlags&8772)!==0):Ur(n,a),Fr=f,Ft=x}break;case 30:break;default:Ur(n,a)}}function p1(n){var s=n.alternate;s!==null&&(n.alternate=null,p1(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&co(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,Sn=!1;function Vr(n,s,a){for(a=a.child;a!==null;)g1(n,s,a),a=a.sibling}function g1(n,s,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:Ft||hr(a,s),Vr(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||hr(a,s);var c=xt,f=Sn;Rs(a.type)&&(xt=a.stateNode,Sn=!1),Vr(n,s,a),pc(a.stateNode),xt=c,Sn=f;break;case 5:Ft||hr(a,s);case 6:if(c=xt,f=Sn,xt=null,Vr(n,s,a),xt=c,Sn=f,xt!==null)if(Sn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(a.stateNode)}catch(x){tt(a,s,x)}else try{xt.removeChild(a.stateNode)}catch(x){tt(a,s,x)}break;case 18:xt!==null&&(Sn?(n=xt,lv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Yo(n)):lv(xt,a.stateNode));break;case 4:c=xt,f=Sn,xt=a.stateNode.containerInfo,Sn=!0,Vr(n,s,a),xt=c,Sn=f;break;case 0:case 11:case 14:case 15:ws(2,a,s),Ft||ws(4,a,s),Vr(n,s,a);break;case 1:Ft||(hr(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&c1(a,s,c)),Vr(n,s,a);break;case 21:Vr(n,s,a);break;case 22:Ft=(c=Ft)||a.memoizedState!==null,Vr(n,s,a),Ft=c;break;default:Vr(n,s,a)}}function x1(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Yo(n)}catch(a){tt(s,s.return,a)}}}function y1(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yo(n)}catch(a){tt(s,s.return,a)}}function iT(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new f1),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new f1),s;default:throw Error(r(435,n.tag))}}function sh(n,s){var a=iT(n);s.forEach(function(c){if(!a.has(c)){a.add(c);var f=dT.bind(null,n,c);c.then(f,f)}})}function Nn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],x=n,w=s,M=w;e:for(;M!==null;){switch(M.tag){case 27:if(Rs(M.type)){xt=M.stateNode,Sn=!1;break e}break;case 5:xt=M.stateNode,Sn=!1;break e;case 3:case 4:xt=M.stateNode.containerInfo,Sn=!0;break e}M=M.return}if(xt===null)throw Error(r(160));g1(x,w,f),xt=null,Sn=!1,x=f.alternate,x!==null&&(x.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)v1(s,n),s=s.sibling}var Bi=null;function v1(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(s,n),Rn(n),c&4&&(ws(3,n,n.return),sc(3,n),ws(5,n,n.return));break;case 1:Nn(s,n),Rn(n),c&512&&(Ft||a===null||hr(a,a.return)),c&64&&Fr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=Bi;if(Nn(s,n),Rn(n),c&512&&(Ft||a===null||hr(a,a.return)),c&4){var x=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":x=f.getElementsByTagName("title")[0],(!x||x[Wi]||x[jt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=f.createElement(c),f.head.insertBefore(x,f.querySelector("head > title"))),rn(x,c,a),x[jt]=n,Bt(x),c=x;break e;case"link":var w=vv("link","href",f).get(c+(a.href||""));if(w){for(var M=0;M<w.length;M++)if(x=w[M],x.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&x.getAttribute("rel")===(a.rel==null?null:a.rel)&&x.getAttribute("title")===(a.title==null?null:a.title)&&x.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(M,1);break t}}x=f.createElement(c),rn(x,c,a),f.head.appendChild(x);break;case"meta":if(w=vv("meta","content",f).get(c+(a.content||""))){for(M=0;M<w.length;M++)if(x=w[M],x.getAttribute("content")===(a.content==null?null:""+a.content)&&x.getAttribute("name")===(a.name==null?null:a.name)&&x.getAttribute("property")===(a.property==null?null:a.property)&&x.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&x.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(M,1);break t}}x=f.createElement(c),rn(x,c,a),f.head.appendChild(x);break;default:throw Error(r(468,c))}x[jt]=n,Bt(x),c=x}n.stateNode=c}else bv(f,n.type,n.stateNode);else n.stateNode=yv(f,c,n.memoizedProps);else x!==c?(x===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):x.count--,c===null?bv(f,n.type,n.stateNode):yv(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Q0(n,n.memoizedProps,a.memoizedProps)}break;case 27:Nn(s,n),Rn(n),c&512&&(Ft||a===null||hr(a,a.return)),a!==null&&c&4&&Q0(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Nn(s,n),Rn(n),c&512&&(Ft||a===null||hr(a,a.return)),n.flags&32){f=n.stateNode;try{Cn(f,"")}catch(be){tt(n,n.return,be)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,Q0(n,f,a!==null?a.memoizedProps:f)),c&1024&&(J0=!0);break;case 6:if(Nn(s,n),Rn(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(be){tt(n,n.return,be)}}break;case 3:if(_h=null,f=Bi,Bi=vh(s.containerInfo),Nn(s,n),Bi=f,Rn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Yo(s.containerInfo)}catch(be){tt(n,n.return,be)}J0&&(J0=!1,b1(n));break;case 4:c=Bi,Bi=vh(n.stateNode.containerInfo),Nn(s,n),Rn(n),Bi=c;break;case 12:Nn(s,n),Rn(n);break;case 31:Nn(s,n),Rn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,sh(n,c)));break;case 13:Nn(s,n),Rn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oh=It()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,sh(n,c)));break;case 22:f=n.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,te=Fr,oe=Ft;if(Fr=te||f,Ft=oe||G,Nn(s,n),Ft=oe,Fr=te,Rn(n),c&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||G||Fr||Ft||Ia(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){G=a=s;try{if(x=G.stateNode,f)w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{M=G.stateNode;var ue=G.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;M.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(be){tt(G,G.return,be)}}}else if(s.tag===6){if(a===null){G=s;try{G.stateNode.nodeValue=f?"":G.memoizedProps}catch(be){tt(G,G.return,be)}}}else if(s.tag===18){if(a===null){G=s;try{var se=G.stateNode;f?cv(se,!0):cv(G.stateNode,!1)}catch(be){tt(G,G.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,sh(n,a))));break;case 19:Nn(s,n),Rn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,sh(n,c)));break;case 30:break;case 21:break;default:Nn(s,n),Rn(n)}}function Rn(n){var s=n.flags;if(s&2){try{for(var a,c=n.return;c!==null;){if(h1(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,x=W0(n);rh(n,x,f);break;case 5:var w=a.stateNode;a.flags&32&&(Cn(w,""),a.flags&=-33);var M=W0(n);rh(n,M,w);break;case 3:case 4:var G=a.stateNode.containerInfo,te=W0(n);Z0(n,te,G);break;default:throw Error(r(161))}}catch(oe){tt(n,n.return,oe)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function b1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;b1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ur(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)m1(n,s.alternate,s),s=s.sibling}function Ia(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ws(4,s,s.return),Ia(s);break;case 1:hr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&c1(s,s.return,a),Ia(s);break;case 27:pc(s.stateNode);case 26:case 5:hr(s,s.return),Ia(s);break;case 22:s.memoizedState===null&&Ia(s);break;case 30:Ia(s);break;default:Ia(s)}n=n.sibling}}function zr(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=n,x=s,w=x.flags;switch(x.tag){case 0:case 11:case 15:zr(f,x,a),sc(4,x);break;case 1:if(zr(f,x,a),c=x,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(te){tt(c,c.return,te)}if(c=x,f=c.updateQueue,f!==null){var M=c.stateNode;try{var G=f.shared.hiddenCallbacks;if(G!==null)for(f.shared.hiddenCallbacks=null,f=0;f<G.length;f++)Wx(G[f],M)}catch(te){tt(c,c.return,te)}}a&&w&64&&l1(x),ac(x,x.return);break;case 27:d1(x);case 26:case 5:zr(f,x,a),a&&c===null&&w&4&&u1(x),ac(x,x.return);break;case 12:zr(f,x,a);break;case 31:zr(f,x,a),a&&w&4&&x1(f,x);break;case 13:zr(f,x,a),a&&w&4&&y1(f,x);break;case 22:x.memoizedState===null&&zr(f,x,a),ac(x,x.return);break;case 30:break;default:zr(f,x,a)}s=s.sibling}}function em(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Gl(a))}function tm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Gl(n))}function Oi(n,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_1(n,s,a,c),s=s.sibling}function _1(n,s,a,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Oi(n,s,a,c),f&2048&&sc(9,s);break;case 1:Oi(n,s,a,c);break;case 3:Oi(n,s,a,c),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Gl(n)));break;case 12:if(f&2048){Oi(n,s,a,c),n=s.stateNode;try{var x=s.memoizedProps,w=x.id,M=x.onPostCommit;typeof M=="function"&&M(w,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(G){tt(s,s.return,G)}}else Oi(n,s,a,c);break;case 31:Oi(n,s,a,c);break;case 13:Oi(n,s,a,c);break;case 23:break;case 22:x=s.stateNode,w=s.alternate,s.memoizedState!==null?x._visibility&2?Oi(n,s,a,c):oc(n,s):x._visibility&2?Oi(n,s,a,c):(x._visibility|=2,Po(n,s,a,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&em(w,s);break;case 24:Oi(n,s,a,c),f&2048&&tm(s.alternate,s);break;default:Oi(n,s,a,c)}}function Po(n,s,a,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=n,w=s,M=a,G=c,te=w.flags;switch(w.tag){case 0:case 11:case 15:Po(x,w,M,G,f),sc(8,w);break;case 23:break;case 22:var oe=w.stateNode;w.memoizedState!==null?oe._visibility&2?Po(x,w,M,G,f):oc(x,w):(oe._visibility|=2,Po(x,w,M,G,f)),f&&te&2048&&em(w.alternate,w);break;case 24:Po(x,w,M,G,f),f&&te&2048&&tm(w.alternate,w);break;default:Po(x,w,M,G,f)}s=s.sibling}}function oc(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,c=s,f=c.flags;switch(c.tag){case 22:oc(a,c),f&2048&&em(c.alternate,c);break;case 24:oc(a,c),f&2048&&tm(c.alternate,c);break;default:oc(a,c)}s=s.sibling}}var lc=8192;function Lo(n,s,a){if(n.subtreeFlags&lc)for(n=n.child;n!==null;)w1(n,s,a),n=n.sibling}function w1(n,s,a){switch(n.tag){case 26:Lo(n,s,a),n.flags&lc&&n.memoizedState!==null&&HT(a,Bi,n.memoizedState,n.memoizedProps);break;case 5:Lo(n,s,a);break;case 3:case 4:var c=Bi;Bi=vh(n.stateNode.containerInfo),Lo(n,s,a),Bi=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=lc,lc=16777216,Lo(n,s,a),lc=c):Lo(n,s,a));break;default:Lo(n,s,a)}}function E1(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function cc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Qt=c,T1(c,n)}E1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)A1(n),n=n.sibling}function A1(n){switch(n.tag){case 0:case 11:case 15:cc(n),n.flags&2048&&ws(9,n,n.return);break;case 3:cc(n);break;case 12:cc(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,ah(n)):cc(n);break;default:cc(n)}}function ah(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Qt=c,T1(c,n)}E1(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ws(8,s,s.return),ah(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ah(s));break;default:ah(s)}n=n.sibling}}function T1(n,s){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:ws(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Gl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Qt=c;else e:for(a=n;Qt!==null;){c=Qt;var f=c.sibling,x=c.return;if(p1(c),c===a){Qt=null;break e}if(f!==null){f.return=x,Qt=f;break e}Qt=x}}}var rT={getCacheForType:function(n){var s=tn(Mt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return tn(Mt).controller.signal}},sT=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ot=null,Pe=null,Fe=0,et=0,Kn=null,Es=!1,Fo=!1,nm=!1,Hr=0,Et=0,As=0,ka=0,im=0,Yn=0,Vo=0,uc=null,Dn=null,rm=!1,oh=0,C1=0,lh=1/0,ch=null,Ts=null,$t=0,Cs=null,Uo=null,qr=0,sm=0,am=null,S1=null,hc=0,om=null;function Xn(){return(Qe&2)!==0&&Fe!==0?Fe&-Fe:H.T!==null?fm():uu()}function N1(){if(Yn===0)if((Fe&536870912)===0||qe){var n=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Yn=n}else Yn=536870912;return n=$n.current,n!==null&&(n.flags|=32),Yn}function In(n,s,a){(n===ot&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(zo(n,0),Ss(n,Fe,Yn,!1)),Ki(n,a),((Qe&2)===0||n!==ot)&&(n===ot&&((Qe&2)===0&&(ka|=a),Et===4&&Ss(n,Fe,Yn,!1)),dr(n))}function R1(n,s,a){if((Qe&6)!==0)throw Error(r(327));var c=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Vn(n,s),f=c?lT(n,s):cm(n,s,!0),x=c;do{if(f===0){Fo&&!c&&Ss(n,s,0,!1);break}else{if(a=n.current.alternate,x&&!aT(a)){f=cm(n,s,!1),x=!1;continue}if(f===2){if(x=s,n.errorRecoveryDisabledLanes&x)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var M=n;f=uc;var G=M.current.memoizedState.isDehydrated;if(G&&(zo(M,w).flags|=256),w=cm(M,w,!1),w!==2){if(nm&&!G){M.errorRecoveryDisabledLanes|=x,ka|=x,f=4;break e}x=Dn,Dn=f,x!==null&&(Dn===null?Dn=x:Dn.push.apply(Dn,x))}f=w}if(x=!1,f!==2)continue}}if(f===1){zo(n,0),Ss(n,s,0,!0);break}e:{switch(c=n,x=f,x){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ss(c,s,Yn,!Es);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=oh+300-It(),10<f)){if(Ss(c,s,Yn,!Es),ri(c,0,!0)!==0)break e;qr=s,c.timeoutHandle=av(D1.bind(null,c,a,Dn,ch,rm,s,Yn,ka,Vo,Es,x,"Throttled",-0,0),f);break e}D1(c,a,Dn,ch,rm,s,Yn,ka,Vo,Es,x,null,-0,0)}}break}while(!0);dr(n)}function D1(n,s,a,c,f,x,w,M,G,te,oe,ue,ne,se){if(n.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ni},w1(s,x,ue);var be=(x&62914560)===x?oh-It():(x&4194048)===x?C1-It():0;if(be=qT(ue,be),be!==null){qr=x,n.cancelPendingCommit=be(L1.bind(null,n,s,x,a,c,f,w,M,G,oe,ue,null,ne,se)),Ss(n,x,w,!te);return}}L1(n,s,x,a,c,f,w,M,G)}function aT(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],x=f.getSnapshot;f=f.value;try{if(!Hn(x(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ss(n,s,a,c){s&=~im,s&=~ka,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var f=s;0<f;){var x=31-yt(f),w=1<<x;c[x]=-1,f&=~w}a!==0&&Yi(n,a,s)}function uh(){return(Qe&6)===0?(dc(0),!1):!0}function lm(){if(Pe!==null){if(et===0)var n=Pe.return;else n=Pe,jr=Ea=null,A0(n),ko=null,Yl=0,n=Pe;for(;n!==null;)o1(n.alternate,n),n=n.return;Pe=null}}function zo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,CT(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),qr=0,lm(),ot=n,Pe=a=Ir(n.current,null),Fe=s,et=0,Kn=null,Es=!1,Fo=Vn(n,s),nm=!1,Vo=Yn=im=ka=As=Et=0,Dn=uc=null,rm=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var f=31-yt(c),x=1<<f;s|=n[f],c&=~x}return Hr=s,Iu(),a}function I1(n,s){Oe=null,H.H=nc,s===Io||s===Fu?(s=Kx(),et=3):s===d0?(s=Kx(),et=4):et=s===V0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,Pe===null&&(Et=1,Ju(n,hi(s,n.current)))}function k1(){var n=$n.current;return n===null?!0:(Fe&4194048)===Fe?pi===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?n===pi:!1}function j1(){var n=H.H;return H.H=nc,n===null?nc:n}function B1(){var n=H.A;return H.A=rT,n}function hh(){Et=4,Es||(Fe&4194048)!==Fe&&$n.current!==null||(Fo=!0),(As&134217727)===0&&(ka&134217727)===0||ot===null||Ss(ot,Fe,Yn,!1)}function cm(n,s,a){var c=Qe;Qe|=2;var f=j1(),x=B1();(ot!==n||Fe!==s)&&(ch=null,zo(n,s)),s=!1;var w=Et;e:do try{if(et!==0&&Pe!==null){var M=Pe,G=Kn;switch(et){case 8:lm(),w=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(s=!0);var te=et;if(et=0,Kn=null,Ho(n,M,G,te),a&&Fo){w=0;break e}break;default:te=et,et=0,Kn=null,Ho(n,M,G,te)}}oT(),w=Et;break}catch(oe){I1(n,oe)}while(!0);return s&&n.shellSuspendCounter++,jr=Ea=null,Qe=c,H.H=f,H.A=x,Pe===null&&(ot=null,Fe=0,Iu()),w}function oT(){for(;Pe!==null;)O1(Pe)}function lT(n,s){var a=Qe;Qe|=2;var c=j1(),f=B1();ot!==n||Fe!==s?(ch=null,lh=It()+500,zo(n,s)):Fo=Vn(n,s);e:do try{if(et!==0&&Pe!==null){s=Pe;var x=Kn;t:switch(et){case 1:et=0,Kn=null,Ho(n,s,x,1);break;case 2:case 9:if($x(x)){et=0,Kn=null,M1(s);break}s=function(){et!==2&&et!==9||ot!==n||(et=7),dr(n)},x.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:$x(x)?(et=0,Kn=null,M1(s)):(et=0,Kn=null,Ho(n,s,x,7));break;case 5:var w=null;switch(Pe.tag){case 26:w=Pe.memoizedState;case 5:case 27:var M=Pe;if(w?_v(w):M.stateNode.complete){et=0,Kn=null;var G=M.sibling;if(G!==null)Pe=G;else{var te=M.return;te!==null?(Pe=te,dh(te)):Pe=null}break t}}et=0,Kn=null,Ho(n,s,x,5);break;case 6:et=0,Kn=null,Ho(n,s,x,6);break;case 8:lm(),Et=6;break e;default:throw Error(r(462))}}cT();break}catch(oe){I1(n,oe)}while(!0);return jr=Ea=null,H.H=c,H.A=f,Qe=a,Pe!==null?0:(ot=null,Fe=0,Iu(),Et)}function cT(){for(;Pe!==null&&!ln();)O1(Pe)}function O1(n){var s=s1(n.alternate,n,Hr);n.memoizedProps=n.pendingProps,s===null?dh(n):Pe=s}function M1(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Jy(a,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=Jy(a,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:A0(s);default:o1(a,s),s=Pe=Bx(s,Hr),s=s1(a,s,Hr)}n.memoizedProps=n.pendingProps,s===null?dh(n):Pe=s}function Ho(n,s,a,c){jr=Ea=null,A0(s),ko=null,Yl=0;var f=s.return;try{if(W4(n,f,s,a,Fe)){Et=1,Ju(n,hi(a,n.current)),Pe=null;return}}catch(x){if(f!==null)throw Pe=f,x;Et=1,Ju(n,hi(a,n.current)),Pe=null;return}s.flags&32768?(qe||c===1?n=!0:Fo||(Fe&536870912)!==0?n=!1:(Es=n=!0,(c===2||c===9||c===3||c===6)&&(c=$n.current,c!==null&&c.tag===13&&(c.flags|=16384))),P1(s,n)):dh(s)}function dh(n){var s=n;do{if((s.flags&32768)!==0){P1(s,Es);return}n=s.return;var a=eT(s.alternate,s,Hr);if(a!==null){Pe=a;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=n}while(s!==null);Et===0&&(Et=5)}function P1(n,s){do{var a=tT(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);Et=6,Pe=null}function L1(n,s,a,c,f,x,w,M,G){n.cancelPendingCommit=null;do fh();while($t!==0);if((Qe&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(x=s.lanes|s.childLanes,x|=Wf,Al(n,a,x,w,M,G),n===ot&&(Pe=ot=null,Fe=0),Uo=s,Cs=n,qr=a,sm=x,am=f,S1=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,fT($i,function(){return H1(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,f=X.p,X.p=2,w=Qe,Qe|=4;try{nT(n,s,a)}finally{Qe=w,X.p=f,H.T=c}}$t=1,F1(),V1(),U1()}}function F1(){if($t===1){$t=0;var n=Cs,s=Uo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var c=X.p;X.p=2;var f=Qe;Qe|=4;try{v1(s,n);var x=_m,w=Tx(n.containerInfo),M=x.focusedElem,G=x.selectionRange;if(w!==M&&M&&M.ownerDocument&&Ax(M.ownerDocument.documentElement,M)){if(G!==null&&Gf(M)){var te=G.start,oe=G.end;if(oe===void 0&&(oe=te),"selectionStart"in M)M.selectionStart=te,M.selectionEnd=Math.min(oe,M.value.length);else{var ue=M.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var se=ne.getSelection(),be=M.textContent.length,Ce=Math.min(G.start,be),at=G.end===void 0?Ce:Math.min(G.end,be);!se.extend&&Ce>at&&(w=at,at=Ce,Ce=w);var Q=Ex(M,Ce),Y=Ex(M,at);if(Q&&Y&&(se.rangeCount!==1||se.anchorNode!==Q.node||se.anchorOffset!==Q.offset||se.focusNode!==Y.node||se.focusOffset!==Y.offset)){var ee=ue.createRange();ee.setStart(Q.node,Q.offset),se.removeAllRanges(),Ce>at?(se.addRange(ee),se.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),se.addRange(ee))}}}}for(ue=[],se=M;se=se.parentNode;)se.nodeType===1&&ue.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ue.length;M++){var le=ue[M];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Th=!!bm,_m=bm=null}finally{Qe=f,X.p=c,H.T=a}}n.current=s,$t=2}}function V1(){if($t===2){$t=0;var n=Cs,s=Uo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var c=X.p;X.p=2;var f=Qe;Qe|=4;try{m1(n,s.alternate,s)}finally{Qe=f,X.p=c,H.T=a}}$t=3}}function U1(){if($t===4||$t===3){$t=0,Pn();var n=Cs,s=Uo,a=qr,c=S1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$t=5:($t=0,Uo=Cs=null,z1(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ts=null),Ti(a),s=s.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Ln,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=H.T,f=X.p,X.p=2,H.T=null;try{for(var x=n.onRecoverableError,w=0;w<c.length;w++){var M=c[w];x(M.value,{componentStack:M.stack})}}finally{H.T=s,X.p=f}}(qr&3)!==0&&fh(),dr(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===om?hc++:(hc=0,om=n):hc=0,dc(0)}}function z1(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Gl(s)))}function fh(){return F1(),V1(),U1(),H1()}function H1(){if($t!==5)return!1;var n=Cs,s=sm;sm=0;var a=Ti(qr),c=H.T,f=X.p;try{X.p=32>a?32:a,H.T=null,a=am,am=null;var x=Cs,w=qr;if($t=0,Uo=Cs=null,qr=0,(Qe&6)!==0)throw Error(r(331));var M=Qe;if(Qe|=4,A1(x.current),_1(x,x.current,w,a),Qe=M,dc(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Ln,x)}catch{}return!0}finally{X.p=f,H.T=c,z1(n,s)}}function q1(n,s,a){s=hi(a,s),s=F0(n.stateNode,s,2),n=vs(n,s,2),n!==null&&(Ki(n,2),dr(n))}function tt(n,s,a){if(n.tag===3)q1(n,n,a);else for(;s!==null;){if(s.tag===3){q1(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ts===null||!Ts.has(c))){n=hi(a,n),a=$y(2),c=vs(s,a,2),c!==null&&(Gy(a,c,s,n),Ki(c,2),dr(c));break}}s=s.return}}function um(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new sT;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(nm=!0,f.add(a),n=uT.bind(null,n,s,a),s.then(n,n))}function uT(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ot===n&&(Fe&a)===a&&(Et===4||Et===3&&(Fe&62914560)===Fe&&300>It()-oh?(Qe&2)===0&&zo(n,0):im|=a,Vo===Fe&&(Vo=0)),dr(n)}function $1(n,s){s===0&&(s=oo()),n=ba(n,s),n!==null&&(Ki(n,s),dr(n))}function hT(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),$1(n,a)}function dT(n,s){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),$1(n,a)}function fT(n,s){return ut(n,s)}var mh=null,qo=null,hm=!1,ph=!1,dm=!1,Ns=0;function dr(n){n!==qo&&n.next===null&&(qo===null?mh=qo=n:qo=qo.next=n),ph=!0,hm||(hm=!0,pT())}function dc(n,s){if(!dm&&ph){dm=!0;do for(var a=!1,c=mh;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var x=0;else{var w=c.suspendedLanes,M=c.pingedLanes;x=(1<<31-yt(42|n)+1)-1,x&=f&~(w&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(a=!0,X1(c,x))}else x=Fe,x=ri(c,c===ot?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(x&3)===0||Vn(c,x)||(a=!0,X1(c,x));c=c.next}while(a);dm=!1}}function mT(){G1()}function G1(){ph=hm=!1;var n=0;Ns!==0&&TT()&&(n=Ns);for(var s=It(),a=null,c=mh;c!==null;){var f=c.next,x=K1(c,s);x===0?(c.next=null,a===null?mh=f:a.next=f,f===null&&(qo=a)):(a=c,(n!==0||(x&3)!==0)&&(ph=!0)),c=f}$t!==0&&$t!==5||dc(n),Ns!==0&&(Ns=0)}function K1(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var w=31-yt(x),M=1<<w,G=f[w];G===-1?((M&a)===0||(M&c)!==0)&&(f[w]=ao(M,s)):G<=s&&(n.expiredLanes|=M),x&=~M}if(s=ot,a=Fe,a=ri(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Dt(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Vn(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(c!==null&&Dt(c),Ti(a)){case 2:case 8:a=Ei;break;case 32:a=$i;break;case 268435456:a=la;break;default:a=$i}return c=Y1.bind(null,n),a=ut(a,c),n.callbackPriority=s,n.callbackNode=a,s}return c!==null&&c!==null&&Dt(c),n.callbackPriority=2,n.callbackNode=null,2}function Y1(n,s){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(fh()&&n.callbackNode!==a)return null;var c=Fe;return c=ri(n,n===ot?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(R1(n,c,s),K1(n,It()),n.callbackNode!=null&&n.callbackNode===a?Y1.bind(null,n):null)}function X1(n,s){if(fh())return null;R1(n,s,!0)}function pT(){ST(function(){(Qe&6)!==0?ut(ni,mT):G1()})}function fm(){if(Ns===0){var n=Ro;n===0&&(n=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),Ns=n}return Ns}function Q1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:mo(""+n)}function W1(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function gT(n,s,a,c,f){if(s==="submit"&&a&&a.stateNode===f){var x=Q1((f[Yt]||null).action),w=c.submitter;w&&(s=(s=w[Yt]||null)?Q1(s.formAction):w.getAttribute("formAction"),s!==null&&(x=s,w=null));var M=new sr("action","action",null,c,f);n.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ns!==0){var G=w?W1(f,w):new FormData(f);j0(a,{pending:!0,data:G,method:f.method,action:x},null,G)}}else typeof x=="function"&&(M.preventDefault(),G=w?W1(f,w):new FormData(f),j0(a,{pending:!0,data:G,method:f.method,action:x},x,G))},currentTarget:f}]})}}for(var mm=0;mm<Qf.length;mm++){var pm=Qf[mm],xT=pm.toLowerCase(),yT=pm[0].toUpperCase()+pm.slice(1);ji(xT,"on"+yT)}ji(Nx,"onAnimationEnd"),ji(Rx,"onAnimationIteration"),ji(Dx,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(B4,"onTransitionRun"),ji(O4,"onTransitionStart"),ji(M4,"onTransitionCancel"),ji(Ix,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function Z1(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var x=void 0;if(s)for(var w=c.length-1;0<=w;w--){var M=c[w],G=M.instance,te=M.currentTarget;if(M=M.listener,G!==x&&f.isPropagationStopped())break e;x=M,f.currentTarget=te;try{x(f)}catch(oe){Du(oe)}f.currentTarget=null,x=G}else for(w=0;w<c.length;w++){if(M=c[w],G=M.instance,te=M.currentTarget,M=M.listener,G!==x&&f.isPropagationStopped())break e;x=M,f.currentTarget=te;try{x(f)}catch(oe){Du(oe)}f.currentTarget=null,x=G}}}}function Le(n,s){var a=s[lo];a===void 0&&(a=s[lo]=new Set);var c=n+"__bubble";a.has(c)||(J1(s,n,2,!1),a.add(c))}function gm(n,s,a){var c=0;s&&(c|=4),J1(a,n,c,s)}var gh="_reactListening"+Math.random().toString(36).slice(2);function xm(n){if(!n[gh]){n[gh]=!0,Tl.forEach(function(a){a!=="selectionchange"&&(vT.has(a)||gm(a,!1,n),gm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[gh]||(s[gh]=!0,gm("selectionchange",!1,s))}}function J1(n,s,a,c){switch(Nv(s)){case 2:var f=KT;break;case 8:f=YT;break;default:f=km}a=f.bind(null,s,a,n),f=void 0,!da||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function ym(n,s,a,c,f){var x=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var M=c.stateNode.containerInfo;if(M===f)break;if(w===4)for(w=c.return;w!==null;){var G=w.tag;if((G===3||G===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;M!==null;){if(w=Zi(M),w===null)return;if(G=w.tag,G===5||G===6||G===26||G===27){c=x=w;continue e}M=M.parentNode}}c=c.return}cs(function(){var te=x,oe=oi(a),ue=[];e:{var ne=kx.get(n);if(ne!==void 0){var se=sr,be=n;switch(n){case"keypress":if(ma(a)===0)break e;case"keydown":case"keyup":se=Su;break;case"focusin":be="focus",se=ga;break;case"focusout":be="blur",se=ga;break;case"beforeblur":case"afterblur":se=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=b;break;case Nx:case Rx:case Dx:se=bu;break;case Ix:se=U;break;case"scroll":case"scrollend":se=Pl;break;case"wheel":se=re;break;case"copy":case"cut":case"paste":se=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Dr;break;case"toggle":case"beforetoggle":se=Be}var Ce=(s&4)!==0,at=!Ce&&(n==="scroll"||n==="scrollend"),Q=Ce?ne!==null?ne+"Capture":null:ne;Ce=[];for(var Y=te,ee;Y!==null;){var le=Y;if(ee=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||ee===null||Q===null||(le=Ri(Y,Q),le!=null&&Ce.push(mc(Y,le,ee))),at)break;Y=Y.return}0<Ce.length&&(ne=new se(ne,be,null,a,oe),ue.push({event:ne,listeners:Ce}))}}if((s&7)===0){e:{if(ne=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",ne&&a!==Bl&&(be=a.relatedTarget||a.fromElement)&&(Zi(be)||be[Qi]))break e;if((se||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,se?(be=a.relatedTarget||a.toElement,se=te,be=be?Zi(be):null,be!==null&&(at=l(be),Ce=be.tag,be!==at||Ce!==5&&Ce!==27&&Ce!==6)&&(be=null)):(se=null,be=te),se!==be)){if(Ce=Ll,le="onMouseLeave",Q="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=Dr,le="onPointerLeave",Q="onPointerEnter",Y="pointer"),at=se==null?ne:Un(se),ee=be==null?ne:Un(be),ne=new Ce(le,Y+"leave",se,a,oe),ne.target=at,ne.relatedTarget=ee,le=null,Zi(oe)===te&&(Ce=new Ce(Q,Y+"enter",be,a,oe),Ce.target=ee,Ce.relatedTarget=at,le=Ce),at=le,se&&be)t:{for(Ce=bT,Q=se,Y=be,ee=0,le=Q;le;le=Ce(le))ee++;le=0;for(var Ae=Y;Ae;Ae=Ce(Ae))le++;for(;0<ee-le;)Q=Ce(Q),ee--;for(;0<le-ee;)Y=Ce(Y),le--;for(;ee--;){if(Q===Y||Y!==null&&Q===Y.alternate){Ce=Q;break t}Q=Ce(Q),Y=Ce(Y)}Ce=null}else Ce=null;se!==null&&ev(ue,ne,se,Ce,!1),be!==null&&at!==null&&ev(ue,at,be,Ce,!0)}}e:{if(ne=te?Un(te):window,se=ne.nodeName&&ne.nodeName.toLowerCase(),se==="select"||se==="input"&&ne.type==="file")var Ke=xx;else if(px(ne))if(yx)Ke=I4;else{Ke=R4;var we=N4}else se=ne.nodeName,!se||se.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&fo(te.elementType)&&(Ke=xx):Ke=D4;if(Ke&&(Ke=Ke(n,te))){gx(ue,Ke,a,oe);break e}we&&we(n,ne,te),n==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Il(ne,"number",ne.value)}switch(we=te?Un(te):window,n){case"focusin":(px(we)||we.contentEditable==="true")&&(_o=we,Kf=te,Hl=null);break;case"focusout":Hl=Kf=_o=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,Cx(ue,a,oe);break;case"selectionchange":if(j4)break;case"keydown":case"keyup":Cx(ue,a,oe)}var Me;if(Xe)e:{switch(n){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else bo?xa(n,a)&&(Ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(lr&&a.locale!=="ko"&&(bo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&bo&&(Me=Ml()):(rr=oe,Ol="value"in rr?rr.value:rr.textContent,bo=!0)),we=xh(te,Ve),0<we.length&&(Ve=new or(Ve,n,null,a,oe),ue.push({event:Ve,listeners:we}),Me?Ve.data=Me:(Me=vo(a),Me!==null&&(Ve.data=Me)))),(Me=ci?A4(n,a):T4(n,a))&&(Ve=xh(te,"onBeforeInput"),0<Ve.length&&(we=new or("onBeforeInput","beforeinput",null,a,oe),ue.push({event:we,listeners:Ve}),we.data=Me)),gT(ue,n,te,a,oe)}Z1(ue,s)})}function mc(n,s,a){return{instance:n,listener:s,currentTarget:a}}function xh(n,s){for(var a=s+"Capture",c=[];n!==null;){var f=n,x=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||x===null||(f=Ri(n,a),f!=null&&c.unshift(mc(n,f,x)),f=Ri(n,s),f!=null&&c.push(mc(n,f,x))),n.tag===3)return c;n=n.return}return[]}function bT(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function ev(n,s,a,c,f){for(var x=s._reactName,w=[];a!==null&&a!==c;){var M=a,G=M.alternate,te=M.stateNode;if(M=M.tag,G!==null&&G===c)break;M!==5&&M!==26&&M!==27||te===null||(G=te,f?(te=Ri(a,x),te!=null&&w.unshift(mc(a,te,G))):f||(te=Ri(a,x),te!=null&&w.push(mc(a,te,G)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var _T=/\r\n?/g,wT=/\u0000|\uFFFD/g;function tv(n){return(typeof n=="string"?n:""+n).replace(_T,`
`).replace(wT,"")}function nv(n,s){return s=tv(s),tv(n)===s}function st(n,s,a,c,f,x){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Cn(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Cn(n,""+c);break;case"className":zn(n,"class",c);break;case"tabIndex":zn(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(n,a,c);break;case"style":jl(n,c,x);break;case"data":if(s!=="object"){zn(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=mo(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(a==="formAction"?(s!=="input"&&st(n,s,"name",f.name,f,null),st(n,s,"formEncType",f.formEncType,f,null),st(n,s,"formMethod",f.formMethod,f,null),st(n,s,"formTarget",f.formTarget,f,null)):(st(n,s,"encType",f.encType,f,null),st(n,s,"method",f.method,f,null),st(n,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=mo(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=Ni);break;case"onScroll":c!=null&&Le("scroll",n);break;case"onScrollEnd":c!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=mo(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Le("beforetoggle",n),Le("toggle",n),uo(n,"popover",c);break;case"xlinkActuate":Ot(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ot(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ot(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ot(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ot(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ot(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":uo(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xu.get(a)||a,uo(n,a,c))}}function vm(n,s,a,c,f,x){switch(a){case"style":jl(n,c,x);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof c=="string"?Cn(n,c):(typeof c=="number"||typeof c=="bigint")&&Cn(n,""+c);break;case"onScroll":c!=null&&Le("scroll",n);break;case"onScrollEnd":c!=null&&Le("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),x=n[Yt]||null,x=x!=null?x[a]:null,typeof x=="function"&&n.removeEventListener(s,x,f),typeof c=="function")){typeof x!="function"&&x!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,c,f);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):uo(n,a,c)}}}function rn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var c=!1,f=!1,x;for(x in a)if(a.hasOwnProperty(x)){var w=a[x];if(w!=null)switch(x){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(n,s,x,w,a,null)}}f&&st(n,s,"srcSet",a.srcSet,a,null),c&&st(n,s,"src",a.src,a,null);return;case"input":Le("invalid",n);var M=x=w=f=null,G=null,te=null;for(c in a)if(a.hasOwnProperty(c)){var oe=a[c];if(oe!=null)switch(c){case"name":f=oe;break;case"type":w=oe;break;case"checked":G=oe;break;case"defaultChecked":te=oe;break;case"value":x=oe;break;case"defaultValue":M=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:st(n,s,c,oe,a,null)}}mu(n,x,M,G,te,w,f,!1);return;case"select":Le("invalid",n),c=w=x=null;for(f in a)if(a.hasOwnProperty(f)&&(M=a[f],M!=null))switch(f){case"value":x=M;break;case"defaultValue":w=M;break;case"multiple":c=M;default:st(n,s,f,M,a,null)}s=x,a=w,n.multiple=!!c,s!=null?ss(n,!!c,s,!1):a!=null&&ss(n,!!c,a,!0);return;case"textarea":Le("invalid",n),x=f=c=null;for(w in a)if(a.hasOwnProperty(w)&&(M=a[w],M!=null))switch(w){case"value":c=M;break;case"defaultValue":f=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:st(n,s,w,M,a,null)}as(n,c,f,x);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(c=a[G],c!=null))switch(G){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:st(n,s,G,c,a,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(c=0;c<fc.length;c++)Le(fc[c],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in a)if(a.hasOwnProperty(te)&&(c=a[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(n,s,te,c,a,null)}return;default:if(fo(s)){for(oe in a)a.hasOwnProperty(oe)&&(c=a[oe],c!==void 0&&vm(n,s,oe,c,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(c=a[M],c!=null&&st(n,s,M,c,a,null))}function ET(n,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,x=null,w=null,M=null,G=null,te=null,oe=null;for(se in a){var ue=a[se];if(a.hasOwnProperty(se)&&ue!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":G=ue;default:c.hasOwnProperty(se)||st(n,s,se,null,c,ue)}}for(var ne in c){var se=c[ne];if(ue=a[ne],c.hasOwnProperty(ne)&&(se!=null||ue!=null))switch(ne){case"type":x=se;break;case"name":f=se;break;case"checked":te=se;break;case"defaultChecked":oe=se;break;case"value":w=se;break;case"defaultValue":M=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,s));break;default:se!==ue&&st(n,s,ne,se,c,ue)}}ho(n,w,M,G,te,oe,x,f);return;case"select":se=w=M=ne=null;for(x in a)if(G=a[x],a.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":se=G;default:c.hasOwnProperty(x)||st(n,s,x,null,c,G)}for(f in c)if(x=c[f],G=a[f],c.hasOwnProperty(f)&&(x!=null||G!=null))switch(f){case"value":ne=x;break;case"defaultValue":M=x;break;case"multiple":w=x;default:x!==G&&st(n,s,f,x,c,G)}s=M,a=w,c=se,ne!=null?ss(n,!!a,ne,!1):!!c!=!!a&&(s!=null?ss(n,!!a,s,!0):ss(n,!!a,a?[]:"",!1));return;case"textarea":se=ne=null;for(M in a)if(f=a[M],a.hasOwnProperty(M)&&f!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:st(n,s,M,null,c,f)}for(w in c)if(f=c[w],x=a[w],c.hasOwnProperty(w)&&(f!=null||x!=null))switch(w){case"value":ne=f;break;case"defaultValue":se=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==x&&st(n,s,w,f,c,x)}pu(n,ne,se);return;case"option":for(var be in a)if(ne=a[be],a.hasOwnProperty(be)&&ne!=null&&!c.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:st(n,s,be,null,c,ne)}for(G in c)if(ne=c[G],se=a[G],c.hasOwnProperty(G)&&ne!==se&&(ne!=null||se!=null))switch(G){case"selected":n.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:st(n,s,G,ne,c,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)ne=a[Ce],a.hasOwnProperty(Ce)&&ne!=null&&!c.hasOwnProperty(Ce)&&st(n,s,Ce,null,c,ne);for(te in c)if(ne=c[te],se=a[te],c.hasOwnProperty(te)&&ne!==se&&(ne!=null||se!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:st(n,s,te,ne,c,se)}return;default:if(fo(s)){for(var at in a)ne=a[at],a.hasOwnProperty(at)&&ne!==void 0&&!c.hasOwnProperty(at)&&vm(n,s,at,void 0,c,ne);for(oe in c)ne=c[oe],se=a[oe],!c.hasOwnProperty(oe)||ne===se||ne===void 0&&se===void 0||vm(n,s,oe,ne,c,se);return}}for(var Q in a)ne=a[Q],a.hasOwnProperty(Q)&&ne!=null&&!c.hasOwnProperty(Q)&&st(n,s,Q,null,c,ne);for(ue in c)ne=c[ue],se=a[ue],!c.hasOwnProperty(ue)||ne===se||ne==null&&se==null||st(n,s,ue,ne,c,se)}function iv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AT(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],x=f.transferSize,w=f.initiatorType,M=f.duration;if(x&&M&&iv(w)){for(w=0,M=f.responseEnd,c+=1;c<a.length;c++){var G=a[c],te=G.startTime;if(te>M)break;var oe=G.transferSize,ue=G.initiatorType;oe&&iv(ue)&&(G=G.responseEnd,w+=oe*(G<M?1:(M-te)/(G-te)))}if(--c,s+=8*(x+w)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var bm=null,_m=null;function yh(n){return n.nodeType===9?n:n.ownerDocument}function rv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function wm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Em=null;function TT(){var n=window.event;return n&&n.type==="popstate"?n===Em?!1:(Em=n,!0):(Em=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(n){return ov.resolve(null).then(n).catch(NT)}:av;function NT(n){setTimeout(function(){throw n})}function Rs(n){return n==="head"}function lv(n,s){var a=s,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(f),Yo(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")pc(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,pc(a);for(var x=a.firstChild;x;){var w=x.nextSibling,M=x.nodeName;x[Wi]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=w}}else a==="body"&&pc(n.ownerDocument.body);a=f}while(a);Yo(s)}function cv(n,s){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function Am(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Am(a),co(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function RT(n,s,a,c){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Wi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var x=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=gi(n.nextSibling),n===null)break}return null}function DT(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=gi(n.nextSibling),n===null))return null;return n}function uv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=gi(n.nextSibling),n===null))return null;return n}function Tm(n){return n.data==="$?"||n.data==="$~"}function Cm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function IT(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function gi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Sm=null;function hv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return gi(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function dv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function fv(n,s,a){switch(s=yh(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function pc(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);co(n)}var xi=new Map,mv=new Set;function vh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var $r=X.d;X.d={f:kT,r:jT,D:BT,C:OT,L:MT,m:PT,X:FT,S:LT,M:VT};function kT(){var n=$r.f(),s=uh();return n||s}function jT(n){var s=ai(n);s!==null&&s.tag===5&&s.type==="form"?Iy(s):$r.r(n)}var $o=typeof document>"u"?null:document;function pv(n,s,a){var c=$o;if(c&&typeof s=="string"&&s){var f=Tn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),mv.has(f)||(mv.add(f),n={rel:n,crossOrigin:a,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),rn(s,"link",n),Bt(s),c.head.appendChild(s)))}}function BT(n){$r.D(n),pv("dns-prefetch",n,null)}function OT(n,s){$r.C(n,s),pv("preconnect",n,s)}function MT(n,s,a){$r.L(n,s,a);var c=$o;if(c&&n&&s){var f='link[rel="preload"][as="'+Tn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Tn(a.imageSizes)+'"]')):f+='[href="'+Tn(n)+'"]';var x=f;switch(s){case"style":x=Go(n);break;case"script":x=Ko(n)}xi.has(x)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),xi.set(x,n),c.querySelector(f)!==null||s==="style"&&c.querySelector(gc(x))||s==="script"&&c.querySelector(xc(x))||(s=c.createElement("link"),rn(s,"link",n),Bt(s),c.head.appendChild(s)))}}function PT(n,s){$r.m(n,s);var a=$o;if(a&&n){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Tn(c)+'"][href="'+Tn(n)+'"]',x=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ko(n)}if(!xi.has(x)&&(n=v({rel:"modulepreload",href:n},s),xi.set(x,n),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xc(x)))return}c=a.createElement("link"),rn(c,"link",n),Bt(c),a.head.appendChild(c)}}}function LT(n,s,a){$r.S(n,s,a);var c=$o;if(c&&n){var f=Ji(c).hoistableStyles,x=Go(n);s=s||"default";var w=f.get(x);if(!w){var M={loading:0,preload:null};if(w=c.querySelector(gc(x)))M.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=xi.get(x))&&Nm(n,a);var G=w=c.createElement("link");Bt(G),rn(G,"link",n),G._p=new Promise(function(te,oe){G.onload=te,G.onerror=oe}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,bh(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:M},f.set(x,w)}}}function FT(n,s){$r.X(n,s);var a=$o;if(a&&n){var c=Ji(a).hoistableScripts,f=Ko(n),x=c.get(f);x||(x=a.querySelector(xc(f)),x||(n=v({src:n,async:!0},s),(s=xi.get(f))&&Rm(n,s),x=a.createElement("script"),Bt(x),rn(x,"link",n),a.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(f,x))}}function VT(n,s){$r.M(n,s);var a=$o;if(a&&n){var c=Ji(a).hoistableScripts,f=Ko(n),x=c.get(f);x||(x=a.querySelector(xc(f)),x||(n=v({src:n,async:!0,type:"module"},s),(s=xi.get(f))&&Rm(n,s),x=a.createElement("script"),Bt(x),rn(x,"link",n),a.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(f,x))}}function gv(n,s,a,c){var f=(f=ye.current)?vh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Go(a.href),a=Ji(f).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Go(a.href);var x=Ji(f).hoistableStyles,w=x.get(n);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,w),(x=f.querySelector(gc(n)))&&!x._p&&(w.instance=x,w.state.loading=5),xi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xi.set(n,a),x||UT(f,n,a,w.state))),s&&c===null)throw Error(r(528,""));return w}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ko(a),a=Ji(f).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Go(n){return'href="'+Tn(n)+'"'}function gc(n){return'link[rel="stylesheet"]['+n+"]"}function xv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function UT(n,s,a,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),rn(s,"link",a),Bt(s),n.head.appendChild(s))}function Ko(n){return'[src="'+Tn(n)+'"]'}function xc(n){return"script[async]"+n}function yv(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+Tn(a.href)+'"]');if(c)return s.instance=c,Bt(c),c;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Bt(c),rn(c,"style",f),bh(c,a.precedence,n),s.instance=c;case"stylesheet":f=Go(a.href);var x=n.querySelector(gc(f));if(x)return s.state.loading|=4,s.instance=x,Bt(x),x;c=xv(a),(f=xi.get(f))&&Nm(c,f),x=(n.ownerDocument||n).createElement("link"),Bt(x);var w=x;return w._p=new Promise(function(M,G){w.onload=M,w.onerror=G}),rn(x,"link",c),s.state.loading|=4,bh(x,a.precedence,n),s.instance=x;case"script":return x=Ko(a.src),(f=n.querySelector(xc(x)))?(s.instance=f,Bt(f),f):(c=a,(f=xi.get(x))&&(c=v({},a),Rm(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),Bt(f),rn(f,"link",c),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,bh(c,a.precedence,n));return s.instance}function bh(n,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,x=f,w=0;w<c.length;w++){var M=c[w];if(M.dataset.precedence===s)x=M;else if(x!==f)break}x?x.parentNode.insertBefore(n,x.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Nm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Rm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var _h=null;function vv(n,s,a){if(_h===null){var c=new Map,f=_h=new Map;f.set(a,c)}else f=_h,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var x=a[f];if(!(x[Wi]||x[jt]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var w=x.getAttribute(s)||"";w=n+w;var M=c.get(w);M?M.push(x):c.set(w,[x])}}return c}function bv(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function zT(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _v(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function HT(n,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Go(c.href),x=s.querySelector(gc(f));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=wh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=x,Bt(x);return}x=s.ownerDocument||s,c=xv(c),(f=xi.get(f))&&Nm(c,f),x=x.createElement("link"),Bt(x);var w=x;w._p=new Promise(function(M,G){w.onload=M,w.onerror=G}),rn(x,"link",c),a.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=wh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Dm=0;function qT(n,s){return n.stylesheets&&n.count===0&&Ah(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&Ah(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+s);0<n.imgBytes&&Dm===0&&(Dm=62500*AT());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ah(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>Dm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ah(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Eh=null;function Ah(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Eh=new Map,s.forEach($T,n),Eh=null,wh.call(n))}function $T(n,s){if(!(s.state.loading&4)){var a=Eh.get(n);if(a)var c=a.get(null);else{a=new Map,Eh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<f.length;x++){var w=f[x];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),c=w)}c&&a.set(null,c)}f=s.instance,w=f.getAttribute("data-precedence"),x=a.get(w)||c,x===c&&a.set(null,f),a.set(w,f),this.count++,c=wh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),x?x.parentNode.insertBefore(f,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var yc={$$typeof:j,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function GT(n,s,a,c,f,x,w,M,G){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=x,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function wv(n,s,a,c,f,x,w,M,G,te,oe,ue){return n=new GT(n,s,a,w,G,te,oe,ue,M),s=1,x===!0&&(s|=24),x=qn(3,null,null,s),n.current=x,x.stateNode=n,s=c0(),s.refCount++,n.pooledCache=s,s.refCount++,x.memoizedState={element:c,isDehydrated:a,cache:s},f0(x),n}function Ev(n){return n?(n=Ao,n):Ao}function Av(n,s,a,c,f,x){f=Ev(f),c.context===null?c.context=f:c.pendingContext=f,c=ys(s),c.payload={element:a},x=x===void 0?null:x,x!==null&&(c.callback=x),a=vs(n,c,s),a!==null&&(In(a,n,s),Ql(a,n,s))}function Tv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Im(n,s){Tv(n,s),(n=n.alternate)&&Tv(n,s)}function Cv(n){if(n.tag===13||n.tag===31){var s=ba(n,67108864);s!==null&&In(s,n,67108864),Im(n,67108864)}}function Sv(n){if(n.tag===13||n.tag===31){var s=Xn();s=Xi(s);var a=ba(n,s);a!==null&&In(a,n,s),Im(n,s)}}var Th=!0;function KT(n,s,a,c){var f=H.T;H.T=null;var x=X.p;try{X.p=2,km(n,s,a,c)}finally{X.p=x,H.T=f}}function YT(n,s,a,c){var f=H.T;H.T=null;var x=X.p;try{X.p=8,km(n,s,a,c)}finally{X.p=x,H.T=f}}function km(n,s,a,c){if(Th){var f=jm(c);if(f===null)ym(n,s,c,Ch,a),Rv(n,c);else if(QT(f,n,s,a,c))c.stopPropagation();else if(Rv(n,c),s&4&&-1<XT.indexOf(n)){for(;f!==null;){var x=ai(f);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var w=ii(x.pendingLanes);if(w!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;w;){var G=1<<31-yt(w);M.entanglements[1]|=G,w&=~G}dr(x),(Qe&6)===0&&(lh=It()+500,dc(0))}}break;case 31:case 13:M=ba(x,2),M!==null&&In(M,x,2),uh(),Im(x,2)}if(x=jm(c),x===null&&ym(n,s,c,Ch,a),x===f)break;f=x}f!==null&&c.stopPropagation()}else ym(n,s,c,null,a)}}function jm(n){return n=oi(n),Bm(n)}var Ch=null;function Bm(n){if(Ch=null,n=Zi(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=p(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Ch=n,null}function Nv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case ni:return 2;case Ei:return 8;case $i:case io:return 32;case la:return 268435456;default:return 32}default:return 32}}var Om=!1,Ds=null,Is=null,ks=null,vc=new Map,bc=new Map,js=[],XT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(n,s){switch(n){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":vc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(s.pointerId)}}function _c(n,s,a,c,f,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:x,targetContainers:[f]},s!==null&&(s=ai(s),s!==null&&Cv(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function QT(n,s,a,c,f){switch(s){case"focusin":return Ds=_c(Ds,n,s,a,c,f),!0;case"dragenter":return Is=_c(Is,n,s,a,c,f),!0;case"mouseover":return ks=_c(ks,n,s,a,c,f),!0;case"pointerover":var x=f.pointerId;return vc.set(x,_c(vc.get(x)||null,n,s,a,c,f)),!0;case"gotpointercapture":return x=f.pointerId,bc.set(x,_c(bc.get(x)||null,n,s,a,c,f)),!0}return!1}function Dv(n){var s=Zi(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,Ci(n.priority,function(){Sv(a)});return}}else if(s===31){if(s=p(a),s!==null){n.blockedOn=s,Ci(n.priority,function(){Sv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Sh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=jm(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Bl=c,a.target.dispatchEvent(c),Bl=null}else return s=ai(a),s!==null&&Cv(s),n.blockedOn=a,!1;s.shift()}return!0}function Iv(n,s,a){Sh(n)&&a.delete(s)}function WT(){Om=!1,Ds!==null&&Sh(Ds)&&(Ds=null),Is!==null&&Sh(Is)&&(Is=null),ks!==null&&Sh(ks)&&(ks=null),vc.forEach(Iv),bc.forEach(Iv)}function Nh(n,s){n.blockedOn===s&&(n.blockedOn=null,Om||(Om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,WT)))}var Rh=null;function kv(n){Rh!==n&&(Rh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Rh===n&&(Rh=null);for(var s=0;s<n.length;s+=3){var a=n[s],c=n[s+1],f=n[s+2];if(typeof c!="function"){if(Bm(c||a)===null)continue;break}var x=ai(a);x!==null&&(n.splice(s,3),s-=3,j0(x,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Yo(n){function s(G){return Nh(G,n)}Ds!==null&&Nh(Ds,n),Is!==null&&Nh(Is,n),ks!==null&&Nh(ks,n),vc.forEach(s),bc.forEach(s);for(var a=0;a<js.length;a++){var c=js[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<js.length&&(a=js[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&js.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],x=a[c+1],w=f[Yt]||null;if(typeof x=="function")w||kv(a);else if(w){var M=null;if(x&&x.hasAttribute("formAction")){if(f=x,w=x[Yt]||null)M=w.formAction;else if(Bm(f)!==null)continue}else M=w.action;typeof M=="function"?a[c+1]=M:(a.splice(c,3),c-=3),kv(a)}}}function jv(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(w){return f=w})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Mm(n){this._internalRoot=n}Dh.prototype.render=Mm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,c=Xn();Av(a,c,n,s,null,null)},Dh.prototype.unmount=Mm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Av(n.current,2,null,n,null,null),uh(),s[Qi]=null}};function Dh(n){this._internalRoot=n}Dh.prototype.unstable_scheduleHydration=function(n){if(n){var s=uu();n={blockedOn:null,target:n,priority:s};for(var a=0;a<js.length&&s!==0&&s<js[a].priority;a++);js.splice(a,0,n),a===0&&Dv(n)}};var Bv=e.version;if(Bv!=="19.2.1")throw Error(r(527,Bv,"19.2.1"));X.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var ZT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{Ln=Ih.inject(ZT),kt=Ih}catch{}}return Ec.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,c="",f=Uy,x=zy,w=Hy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=wv(n,1,!1,null,null,a,c,null,f,x,w,jv),n[Qi]=s.current,xm(n),new Mm(s)},Ec.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var c=!1,f="",x=Uy,w=zy,M=Hy,G=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(x=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(G=a.formState)),s=wv(n,1,!0,s,a??null,c,f,G,x,w,M,jv),s.context=Ev(null),a=s.current,c=Xn(),c=Xi(c),f=ys(c),f.callback=null,vs(a,f,c),a=c,s.current.lanes=a,Ki(s,a),dr(s),n[Qi]=s.current,xm(n),new Dh(s)},Ec.version="19.2.1",Ec}var qv;function uC(){if(qv)return Vm.exports;qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vm.exports=cC(),Vm.exports}var hC=uC();var $v="popstate";function dC(i={}){function e(o,l){let{pathname:u="/",search:p="",hash:g=""}=Ga(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),mp("",{pathname:u,search:p,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let u=o.document.querySelector("base"),p="";if(u&&u.getAttribute("href")){let g=o.location.href,m=g.indexOf("#");p=m===-1?g:g.slice(0,m)}return p+"#"+(typeof l=="string"?l:Fc(l))}function r(o,l){vi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return mC(e,t,r,i)}function bt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function vi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fC(){return Math.random().toString(36).substring(2,10)}function Gv(i,e){return{usr:i.state,key:i.key,idx:e}}function mp(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ga(e):e,state:t,key:e&&e.key||r||fC()}}function Fc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ga(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function mC(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,u=o.history,p="POP",g=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function v(){p="POP";let I=y(),P=I==null?null:I-m;m=I,g&&g({action:p,location:B.location,delta:P})}function _(I,P){p="PUSH";let k=mp(B.location,I,P);t&&t(k,I),m=y()+1;let j=Gv(k,m),L=B.createHref(k);try{u.pushState(j,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(L)}l&&g&&g({action:p,location:B.location,delta:1})}function C(I,P){p="REPLACE";let k=mp(B.location,I,P);t&&t(k,I),m=y();let j=Gv(k,m),L=B.createHref(k);u.replaceState(j,"",L),l&&g&&g({action:p,location:B.location,delta:0})}function N(I){return pC(I)}let B={get action(){return p},get location(){return i(o,u)},listen(I){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener($v,v),g=I,()=>{o.removeEventListener($v,v),g=null}},createHref(I){return e(o,I)},createURL:N,encodeLocation(I){let P=N(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:_,replace:C,go(I){return u.go(I)}};return B}function pC(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),bt(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Fc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function N2(i,e,t="/"){return gC(i,e,t,!1)}function gC(i,e,t,r){let o=typeof e=="string"?Ga(e):e,l=Wr(o.pathname||"/",t);if(l==null)return null;let u=R2(i);xC(u);let p=null;for(let g=0;p==null&&g<u.length;++g){let m=NC(l);p=CC(u[g],m,r)}return p}function R2(i,e=[],t=[],r="",o=!1){let l=(u,p,g=o,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&g)return;bt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=Yr([r,y.relativePath]),_=t.concat(y);u.children&&u.children.length>0&&(bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),R2(u.children,e,_,v,g)),!(u.path==null&&!u.index)&&e.push({path:v,score:AC(v,u.index),routesMeta:_})};return i.forEach((u,p)=>{if(u.path===""||!u.path?.includes("?"))l(u,p);else for(let g of D2(u.path))l(u,p,!0,g)}),e}function D2(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let u=D2(r.join("/")),p=[];return p.push(...u.map(g=>g===""?l:[l,g].join("/"))),o&&p.push(...u),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function xC(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:TC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var yC=/^:[\w-]+$/,vC=3,bC=2,_C=1,wC=10,EC=-2,Kv=i=>i==="*";function AC(i,e){let t=i.split("/"),r=t.length;return t.some(Kv)&&(r+=EC),e&&(r+=bC),t.filter(o=>!Kv(o)).reduce((o,l)=>o+(yC.test(l)?vC:l===""?_C:wC),r)}function TC(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function CC(i,e,t=!1){let{routesMeta:r}=i,o={},l="/",u=[];for(let p=0;p<r.length;++p){let g=r[p],m=p===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Od({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},y),_=g.route;if(!v&&m&&t&&!r[r.length-1].route.index&&(v=Od({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Yr([l,v.pathname]),pathnameBase:jC(Yr([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=Yr([l,v.pathnameBase]))}return u}function Od(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=SC(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:v},_)=>{if(y==="*"){let N=p[_]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const C=p[_];return v&&!C?m[y]=void 0:m[y]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:i}}function SC(i,e=!1,t=!0){vi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function NC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Wr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}var RC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DC=i=>RC.test(i);function IC(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?Ga(i):i,l;if(t)if(DC(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=Yv(t.substring(1),"/"):l=Yv(t,e)}else l=e;return{pathname:l,search:BC(r),hash:OC(o)}}function Yv(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function qm(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kC(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function I2(i){let e=kC(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function k2(i,e,t,r=!1){let o;typeof i=="string"?o=Ga(i):(o={...i},bt(!o.pathname||!o.pathname.includes("?"),qm("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),qm("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),qm("#","search","hash",o)));let l=i===""||o.pathname==="",u=l?"/":o.pathname,p;if(u==null)p=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;o.pathname=_.join("/")}p=v>=0?e[v]:"/"}let g=IC(o,p),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(m||y)&&(g.pathname+="/"),g}var Yr=i=>i.join("/").replace(/\/\/+/g,"/"),jC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),BC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,OC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function MC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function PC(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j2=["POST","PUT","PATCH","DELETE"];new Set(j2);var LC=["GET",...j2];new Set(LC);var xl=$.createContext(null);xl.displayName="DataRouter";var sf=$.createContext(null);sf.displayName="DataRouterState";$.createContext(!1);var B2=$.createContext({isTransitioning:!1});B2.displayName="ViewTransition";var FC=$.createContext(new Map);FC.displayName="Fetchers";var VC=$.createContext(null);VC.displayName="Await";var Vi=$.createContext(null);Vi.displayName="Navigation";var Qc=$.createContext(null);Qc.displayName="Location";var Tr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var Jp=$.createContext(null);Jp.displayName="RouteError";function UC(i,{relative:e}={}){bt(Wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(Vi),{hash:o,pathname:l,search:u}=Zc(i,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Yr([t,l])),r.createHref({pathname:p,search:u,hash:o})}function Wc(){return $.useContext(Qc)!=null}function ta(){return bt(Wc(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Qc).location}var O2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M2(i){$.useContext(Vi).static||$.useLayoutEffect(i)}function ei(){let{isDataRoute:i}=$.useContext(Tr);return i?eS():zC()}function zC(){bt(Wc(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(xl),{basename:e,navigator:t}=$.useContext(Vi),{matches:r}=$.useContext(Tr),{pathname:o}=ta(),l=JSON.stringify(I2(r)),u=$.useRef(!1);return M2(()=>{u.current=!0}),$.useCallback((g,m={})=>{if(vi(u.current,O2),!u.current)return;if(typeof g=="number"){t.go(g);return}let y=k2(g,JSON.parse(l),o,m.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Yr([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,o,i])}$.createContext(null);function P2(){let{matches:i}=$.useContext(Tr),e=i[i.length-1];return e?e.params:{}}function Zc(i,{relative:e}={}){let{matches:t}=$.useContext(Tr),{pathname:r}=ta(),o=JSON.stringify(I2(t));return $.useMemo(()=>k2(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function HC(i,e){return L2(i,e)}function L2(i,e,t,r,o){bt(Wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=$.useContext(Vi),{matches:u}=$.useContext(Tr),p=u[u.length-1],g=p?p.params:{},m=p?p.pathname:"/",y=p?p.pathnameBase:"/",v=p&&p.route;{let k=v&&v.path||"";F2(m,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let _=ta(),C;if(e){let k=typeof e=="string"?Ga(e):e;bt(y==="/"||k.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${k.pathname}" was given in the \`location\` prop.`),C=k}else C=_;let N=C.pathname||"/",B=N;if(y!=="/"){let k=y.replace(/^\//,"").split("/");B="/"+N.replace(/^\//,"").split("/").slice(k.length).join("/")}let I=N2(i,{pathname:B});vi(v||I!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),vi(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=YC(I&&I.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:Yr([y,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?y:Yr([y,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,t,r,o);return e&&P?$.createElement(Qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},P):P}function qC(){let i=JC(),e=MC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,u)}var $C=$.createElement(qC,null),GC=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?$.createElement(Tr.Provider,{value:this.props.routeContext},$.createElement(Jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KC({routeContext:i,match:e,children:t}){let r=$.useContext(xl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Tr.Provider,{value:i},t)}function YC(i,e=[],t=null,r=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,u=t?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);bt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let p=!1,g=-1;if(t)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:_,errors:C}=t,N=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||N){p=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let m=t&&r?(y,v)=>{r(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:PC(t.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,_)=>{let C,N=!1,B=null,I=null;t&&(C=u&&v.route.id?u[v.route.id]:void 0,B=v.route.errorElement||$C,p&&(g<0&&_===0?(F2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,I=null):g===_&&(N=!0,I=v.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,_+1)),k=()=>{let j;return C?j=B:N?j=I:v.route.Component?j=$.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=y,$.createElement(KC,{match:v,routeContext:{outlet:y,matches:P,isDataRoute:t!=null},children:j})};return t&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?$.createElement(GC,{location:t.location,revalidation:t.revalidation,component:B,error:C,children:k(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:m}):k()},null)}function eg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XC(i){let e=$.useContext(xl);return bt(e,eg(i)),e}function QC(i){let e=$.useContext(sf);return bt(e,eg(i)),e}function WC(i){let e=$.useContext(Tr);return bt(e,eg(i)),e}function tg(i){let e=WC(i),t=e.matches[e.matches.length-1];return bt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function ZC(){return tg("useRouteId")}function JC(){let i=$.useContext(Jp),e=QC("useRouteError"),t=tg("useRouteError");return i!==void 0?i:e.errors?.[t]}function eS(){let{router:i}=XC("useNavigate"),e=tg("useNavigate"),t=$.useRef(!1);return M2(()=>{t.current=!0}),$.useCallback(async(o,l={})=>{vi(t.current,O2),t.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var Xv={};function F2(i,e,t){!e&&!Xv[i]&&(Xv[i]=!0,vi(!1,t))}$.memo(tS);function tS({routes:i,future:e,state:t,unstable_onError:r}){return L2(i,void 0,t,r,e)}function hn(i){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nS({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){bt(!Wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=$.useMemo(()=>({basename:p,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[p,o,l,u]);typeof t=="string"&&(t=Ga(t));let{pathname:m="/",search:y="",hash:v="",state:_=null,key:C="default"}=t,N=$.useMemo(()=>{let B=Wr(m,p);return B==null?null:{location:{pathname:B,search:y,hash:v,state:_,key:C},navigationType:r}},[p,m,y,v,_,C,r]);return vi(N!=null,`<Router basename="${p}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:$.createElement(Vi.Provider,{value:g},$.createElement(Qc.Provider,{children:e,value:N}))}function iS({children:i,location:e}){return HC(pp(i),e)}function pp(i,e=[]){let t=[];return $.Children.forEach(i,(r,o)=>{if(!$.isValidElement(r))return;let l=[...e,o];if(r.type===$.Fragment){t.push.apply(t,pp(r.props.children,l));return}bt(r.type===hn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=pp(r.props.children,l)),t.push(u)}),t}var Uh="get",zh="application/x-www-form-urlencoded";function af(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function rS(i){return af(i)&&i.tagName.toLowerCase()==="button"}function sS(i){return af(i)&&i.tagName.toLowerCase()==="form"}function aS(i){return af(i)&&i.tagName.toLowerCase()==="input"}function oS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function lS(i,e){return i.button===0&&(!e||e==="_self")&&!oS(i)}var kh=null;function cS(){if(kh===null)try{new FormData(document.createElement("form"),0),kh=!1}catch{kh=!0}return kh}var uS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(i){return i!=null&&!uS.has(i)?(vi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zh}"`),null):i}function hS(i,e){let t,r,o,l,u;if(sS(i)){let p=i.getAttribute("action");r=p?Wr(p,e):null,t=i.getAttribute("method")||Uh,o=$m(i.getAttribute("enctype"))||zh,l=new FormData(i)}else if(rS(i)||aS(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(r=g?Wr(g,e):null,t=i.getAttribute("formmethod")||p.getAttribute("method")||Uh,o=$m(i.getAttribute("formenctype"))||$m(p.getAttribute("enctype"))||zh,l=new FormData(p,i),!cS()){let{name:m,type:y,value:v}=i;if(y==="image"){let _=m?`${m}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else m&&l.append(m,v)}}else{if(af(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Uh,r=null,o=zh,u=i}return l&&o==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ng(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function dS(i,e,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Wr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function fS(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function pS(i,e,t){let r=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await fS(l,t);return u.links?u.links():[]}return[]}));return vS(r.flat(1).filter(mS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qv(i,e,t,r,o,l){let u=(g,m)=>t[m]?g.route.id!==t[m].route.id:!0,p=(g,m)=>t[m].pathname!==g.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,m)=>u(g,m)||p(g,m)):l==="data"?e.filter((g,m)=>{let y=r.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(u(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function gS(i,e,{includeHydrateFallback:t}={}){return xS(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function xS(i){return[...new Set(i)]}function yS(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function vS(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let l=JSON.stringify(yS(o));return t.has(l)||(t.add(l),r.push({key:l,link:o})),r},[])}function V2(){let i=$.useContext(xl);return ng(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function bS(){let i=$.useContext(sf);return ng(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ig=$.createContext(void 0);ig.displayName="FrameworkContext";function U2(){let i=$.useContext(ig);return ng(i,"You must render this element inside a <HydratedRouter> element"),i}function _S(i,e){let t=$.useContext(ig),[r,o]=$.useState(!1),[l,u]=$.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,_=$.useRef(null);$.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let B=P=>{P.forEach(k=>{u(k.isIntersecting)})},I=new IntersectionObserver(B,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[i]),$.useEffect(()=>{if(r){let B=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(B)}}},[r]);let C=()=>{o(!0)},N=()=>{o(!1),u(!1)};return t?i!=="intent"?[l,_,{}]:[l,_,{onFocus:Ac(p,C),onBlur:Ac(g,N),onMouseEnter:Ac(m,C),onMouseLeave:Ac(y,N),onTouchStart:Ac(v,C)}]:[!1,_,{}]}function Ac(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function wS({page:i,...e}){let{router:t}=V2(),r=$.useMemo(()=>N2(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?$.createElement(AS,{page:i,matches:r,...e}):null}function ES(i){let{manifest:e,routeModules:t}=U2(),[r,o]=$.useState([]);return $.useEffect(()=>{let l=!1;return pS(i,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[i,e,t]),r}function AS({page:i,matches:e,...t}){let r=ta(),{manifest:o,routeModules:l}=U2(),{basename:u}=V2(),{loaderData:p,matches:g}=bS(),m=$.useMemo(()=>Qv(i,e,g,o,r,"data"),[i,e,g,o,r]),y=$.useMemo(()=>Qv(i,e,g,o,r,"assets"),[i,e,g,o,r]),v=$.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let N=new Set,B=!1;if(e.forEach(P=>{let k=o.routes[P.route.id];!k||!k.hasLoader||(!m.some(j=>j.route.id===P.route.id)&&P.route.id in p&&l[P.route.id]?.shouldRevalidate||k.hasClientLoader?B=!0:N.add(P.route.id))}),N.size===0)return[];let I=dS(i,u,"data");return B&&N.size>0&&I.searchParams.set("_routes",e.filter(P=>N.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[u,p,r,o,m,e,i,l]),_=$.useMemo(()=>gS(y,o),[y,o]),C=ES(y);return $.createElement($.Fragment,null,v.map(N=>$.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),_.map(N=>$.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),C.map(({key:N,link:B})=>$.createElement("link",{key:N,nonce:t.nonce,...B})))}function TS(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var z2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z2&&(window.__reactRouterVersion="7.10.1")}catch{}function CS({basename:i,children:e,unstable_useTransitions:t,window:r}){let o=$.useRef();o.current==null&&(o.current=dC({window:r,v5Compat:!0}));let l=o.current,[u,p]=$.useState({action:l.action,location:l.location}),g=$.useCallback(m=>{t===!1?p(m):$.startTransition(()=>p(m))},[t]);return $.useLayoutEffect(()=>l.listen(g),[l,g]),$.createElement(nS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t===!0})}var H2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kn=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:l,replace:u,state:p,target:g,to:m,preventScrollReset:y,viewTransition:v,..._},C){let{basename:N,unstable_useTransitions:B}=$.useContext(Vi),I=typeof m=="string"&&H2.test(m),P,k=!1;if(typeof m=="string"&&I&&(P=m,z2))try{let A=new URL(window.location.href),D=m.startsWith("//")?new URL(A.protocol+m):new URL(m),V=Wr(D.pathname,N);D.origin===A.origin&&V!=null?m=V+D.search+D.hash:k=!0}catch{vi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=UC(m,{relative:o}),[L,z,q]=_S(r,_),T=DS(m,{replace:u,state:p,target:g,preventScrollReset:y,relative:o,viewTransition:v,unstable_useTransitions:B});function R(A){e&&e(A),A.defaultPrevented||T(A)}let S=$.createElement("a",{..._,...q,href:P||j,onClick:k||l?e:R,ref:TS(C,z),target:g,"data-discover":!I&&t==="render"?"true":void 0});return L&&!I?$.createElement($.Fragment,null,S,$.createElement(wS,{page:j})):S});kn.displayName="Link";var SS=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:l,to:u,viewTransition:p,children:g,...m},y){let v=Zc(u,{relative:m.relative}),_=ta(),C=$.useContext(sf),{navigator:N,basename:B}=$.useContext(Vi),I=C!=null&&OS(v)&&p===!0,P=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,k=_.pathname,j=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(k=k.toLowerCase(),j=j?j.toLowerCase():null,P=P.toLowerCase()),j&&B&&(j=Wr(j,B)||j);const L=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let z=k===P||!o&&k.startsWith(P)&&k.charAt(L)==="/",q=j!=null&&(j===P||!o&&j.startsWith(P)&&j.charAt(P.length)==="/"),T={isActive:z,isPending:q,isTransitioning:I},R=z?e:void 0,S;typeof r=="function"?S=r(T):S=[r,z?"active":null,q?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(T):l;return $.createElement(kn,{...m,"aria-current":R,className:S,ref:y,style:A,to:u,viewTransition:p},typeof g=="function"?g(T):g)});SS.displayName="NavLink";var NS=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:l,method:u=Uh,action:p,onSubmit:g,relative:m,preventScrollReset:y,viewTransition:v,..._},C)=>{let{unstable_useTransitions:N}=$.useContext(Vi),B=jS(),I=BS(p,{relative:m}),P=u.toLowerCase()==="get"?"get":"post",k=typeof p=="string"&&H2.test(p),j=L=>{if(g&&g(L),L.defaultPrevented)return;L.preventDefault();let z=L.nativeEvent.submitter,q=z?.getAttribute("formmethod")||u,T=()=>B(z||L.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:o,state:l,relative:m,preventScrollReset:y,viewTransition:v});N&&t!==!1?$.startTransition(()=>T()):T()};return $.createElement("form",{ref:C,method:P,action:I,onSubmit:r?g:j,..._,"data-discover":!k&&i==="render"?"true":void 0})});NS.displayName="Form";function RS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q2(i){let e=$.useContext(xl);return bt(e,RS(i)),e}function DS(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:l,viewTransition:u,unstable_useTransitions:p}={}){let g=ei(),m=ta(),y=Zc(i,{relative:l});return $.useCallback(v=>{if(lS(v,e)){v.preventDefault();let _=t!==void 0?t:Fc(m)===Fc(y),C=()=>g(i,{replace:_,state:r,preventScrollReset:o,relative:l,viewTransition:u});p?$.startTransition(()=>C()):C()}},[m,g,y,t,r,e,i,o,l,u,p])}var IS=0,kS=()=>`__${String(++IS)}__`;function jS(){let{router:i}=q2("useSubmit"),{basename:e}=$.useContext(Vi),t=ZC(),r=i.fetch,o=i.navigate;return $.useCallback(async(l,u={})=>{let{action:p,method:g,encType:m,formData:y,body:v}=hS(l,e);if(u.navigate===!1){let _=u.fetcherKey||kS();await r(_,t,u.action||p,{preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||g,formEncType:u.encType||m,flushSync:u.flushSync})}else await o(u.action||p,{preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||g,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,t])}function BS(i,{relative:e}={}){let{basename:t}=$.useContext(Vi),r=$.useContext(Tr);bt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Zc(i||".",{relative:e})},u=ta();if(i==null){l.search=u.search;let p=new URLSearchParams(l.search),g=p.getAll("index");if(g.some(y=>y==="")){p.delete("index"),g.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();l.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Yr([t,l.pathname])),Fc(l)}function OS(i,{relative:e}={}){let t=$.useContext(B2);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q2("useViewTransitionState"),o=Zc(i,{relative:e});if(!t.isTransitioning)return!1;let l=Wr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Wr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Od(o.pathname,u)!=null||Od(o.pathname,l)!=null}function Gm({category:i,title:e,description:t,profileImageUrl:r,authorName:o,timestamp:l,commentsCount:u}){return d.jsxs("div",{className:"border border-white/30 px-4 py-4 rounded-3xl bg-white/10 backdrop-blur-xl shadow-2xl shadow-black/20 flex flex-col hover:bg-white/15 transition-all duration-300",children:[d.jsx("div",{className:"border border-white/30 rounded-full w-fit px-3 py-1.5 bg-white/20 backdrop-blur-md",children:d.jsx("h2",{className:"text-white/90 text-sm font-bold drop-shadow-md",children:i})}),d.jsxs("div",{className:"mt-4",children:[d.jsx("h3",{className:"text-white font-bold text-[20px]",children:e}),d.jsx("p",{className:"leading-tight text-gray-300",children:t})]}),d.jsxs("div",{className:"text-white mt-4 flex items-center gap-4 text-gray-400 text-sm",children:[d.jsx("img",{src:r,alt:`${o}'s profile`,className:"w-8 h-8 object-cover rounded-full"}),d.jsx("span",{children:o}),l&&d.jsx("span",{children:l}),u!==void 0&&d.jsxs("span",{children:[u," comments"]})]})]})}const MS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Wv=i=>{const e=PS(i);return e.charAt(0).toUpperCase()+e.slice(1)},$2=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),LS=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VS=$.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:u,...p},g)=>$.createElement("svg",{ref:g,...FS,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:$2("lucide",o),...!l&&!LS(p)&&{"aria-hidden":"true"},...p},[...u.map(([m,y])=>$.createElement(m,y)),...Array.isArray(l)?l:[l]]));const je=(i,e)=>{const t=$.forwardRef(({className:r,...o},l)=>$.createElement(VS,{ref:l,iconNode:e,className:$2(`lucide-${MS(Wv(i))}`,`lucide-${i}`,r),...o}));return t.displayName=Wv(i),t};const US=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rg=je("arrow-left",US);const zS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],HS=je("arrow-right",zS);const qS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$S=je("award",qS);const GS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],KS=je("book-open",GS);const YS=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],G2=je("cake",YS);const XS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sg=je("calendar",XS);const QS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],WS=je("check",QS);const ZS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JS=je("chevron-down",ZS);const e6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],t6=je("chevron-left",e6);const n6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],i6=je("chevron-right",n6);const r6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],of=je("circle-alert",r6);const s6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],K2=je("circle-check-big",s6);const a6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Y2=je("clock",a6);const o6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],l6=je("external-link",o6);const c6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],u6=je("eye-off",c6);const h6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ag=je("eye",h6);const d6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gp=je("file-text",d6);const f6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],m6=je("funnel",f6);const p6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],lf=je("heart",p6);const g6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Zv=je("lock",g6);const x6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],X2=je("log-out",x6);const y6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Q2=je("mail",y6);const v6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Km=je("map-pin",v6);const b6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],cf=je("message-circle",b6);const _6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],uf=je("phone",_6);const w6=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],E6=je("pin",w6);const A6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hf=je("plus",A6);const T6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],og=je("search",T6);const C6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xp=je("send",C6);const S6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],W2=je("share-2",S6);const N6=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Z2=je("sparkles",N6);const R6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],D6=je("square-pen",R6);const I6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],k6=je("star",I6);const j6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],B6=je("tag",j6);const O6=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],yp=je("thumbs-up",O6);const M6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],P6=je("trash-2",M6);const L6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],J2=je("trending-up",L6);const F6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V6=je("triangle-alert",F6);const U6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],z6=je("upload",U6);const H6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],df=je("user",H6);const q6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$6=je("users",q6);const G6=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ym=je("video",G6);const K6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vp=je("x",K6),Y6=()=>{const[i,e]=$.useState(!1),[t,r]=$.useState(!1);$.useEffect(()=>{const l=setTimeout(()=>{e(!0),setTimeout(()=>r(!0),50)},100);return()=>clearTimeout(l)},[]);const o=()=>{r(!1),setTimeout(()=>{e(!1),sessionStorage.setItem("hasSeenPopup","true")},300)};return i?d.jsx("div",{className:`fixed inset-0 bg-black/40 z-[9999] flex items-center justify-center p-4 transition-opacity duration-500 ${t?"opacity-100":"opacity-0"}`,children:d.jsxs("div",{className:`bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 max-w-sm w-full p-6 transition-all duration-500 ${t?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white drop-shadow-lg",children:"Need Immediate Help?"}),d.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Crisis support available 24/7"})]}),d.jsx("button",{onClick:o,className:"text-white/90 hover:text-white hover:bg-white/10 p-1 rounded-lg transition-all duration-200","aria-label":"Close popup",children:d.jsx(vp,{size:20})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(uf,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"988 Suicide & Crisis Lifeline"}),d.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Call or text 988"})]})]})}),d.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(cf,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"Crisis Text Line"}),d.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Text HOME to 741741"})]})]})}),d.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(of,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"SAMHSA Helpline"}),d.jsx("p",{className:"text-white/70 text-sm font-medium",children:"1-800-662-4357 (free, 24/7)"})]})]})}),d.jsx("button",{onClick:o,className:"w-full bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold py-2 px-4 rounded-2xl transition-all duration-300 border border-white/30 shadow-lg mt-4 drop-shadow-md",children:"Close"})]})]})}):null},Jv="/BPA-2025/assets/tsplanding-BdYZ5Q6_.png",X6="/BPA-2025/assets/pexels-creationhill-1681010-BvCsMv-_.jpg",Q6="/BPA-2025/assets/pexels-olly-733872-BJ7-d401.jpg",W6="/BPA-2025/assets/pexels-olly-774095-BrmVMZ_7.jpg";function Z6(){const i=ei(),[e,t]=$.useState(!1),[r,o]=$.useState(!1),[l,u]=$.useState(!1),[p,g]=$.useState(!1),[m,y]=$.useState(!1),v=!sessionStorage.getItem("hasVisitedHome"),_=sessionStorage.getItem("hasSeenPopup");$.useEffect(()=>{if(g(!0),v||o(!0),!_){const B=setTimeout(()=>{y(!0)},2e3);return()=>clearTimeout(B)}},[]);const C=()=>{e||r||(t(!0),setTimeout(()=>{o(!0),t(!1),sessionStorage.setItem("hasVisitedHome","true")},400))},N=()=>{if(!r)C();else{const B=document.getElementById("main-content");B&&B.scrollIntoView({behavior:"smooth",block:"start"})}};return $.useEffect(()=>{const B=P=>{!r&&!e&&(P.preventDefault(),window.scrollTo(0,0),l||(u(!0),C()))},I=P=>{!r&&!e&&(P.preventDefault(),l||(u(!0),C()))};return r||(window.addEventListener("scroll",B,{passive:!1}),window.addEventListener("wheel",I,{passive:!1})),()=>{window.removeEventListener("scroll",B),window.removeEventListener("wheel",I)}},[r,e,l]),$.useEffect(()=>{r&&window.scrollTo({top:window.innerHeight,behavior:"smooth"})},[r]),$.useEffect(()=>(r?document.body.style.overflow="auto":document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[r]),d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:`
                    radial-gradient(circle at 15% 20%, rgba(56, 189, 248, 0.5) 0%, transparent 40%),
                    radial-gradient(circle at 85% 25%, rgba(14, 165, 233, 0.45) 0%, transparent 35%),
                    radial-gradient(circle at 35% 65%, rgba(125, 211, 252, 0.4) 0%, transparent 45%),
                    radial-gradient(circle at 75% 75%, rgba(2, 132, 199, 0.5) 0%, transparent 50%),
                    radial-gradient(circle at 50% 45%, rgba(96, 165, 250, 0.35) 0%, transparent 55%),
                    radial-gradient(circle at 5% 85%, rgba(3, 105, 161, 0.4) 0%, transparent 40%),
                    radial-gradient(circle at 90% 10%, rgba(186, 230, 253, 0.3) 0%, transparent 35%),
                    radial-gradient(circle at 60% 90%, rgba(7, 89, 133, 0.35) 0%, transparent 40%),
                    linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #38bdf8 100%)
                `,opacity:p?1:0,transition:"opacity 800ms ease-out"},children:[d.jsxs("section",{className:"min-h-screen flex items-center justify-center overflow-hidden",style:{position:"relative",backgroundImage:`url(${Jv})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:e?0:1,transition:"opacity 1000ms cubic-bezier(0.4, 0.0, 0.2, 1)"},children:[d.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${Jv})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",transform:e?"scale(3)":"scale(1)",transformOrigin:"center center",transition:"transform 600ms cubic-bezier(0.4, 0.0, 0.2, 1)"}}),d.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(12, 74, 110, 0.8) 0%, rgba(3, 105, 161, 0.7) 50%, rgba(56, 189, 248, 0.6) 100%)",opacity:e?1:0,transition:"opacity 600ms cubic-bezier(0.4, 0.0, 0.2, 1)"}}),d.jsx("div",{className:"absolute inset-0",style:{background:"rgba(0, 0, 0, 0.3)",opacity:e?0:1,transition:"opacity 1000ms cubic-bezier(0.4, 0.0, 0.2, 1)"}}),d.jsxs("div",{className:"z-10 px-8 md:px-16 lg:px-24 text-center max-w-5xl",style:{opacity:e?0:1,transform:e?"scale(0.9)":"scale(1)",transition:"all 900ms cubic-bezier(0.4, 0.0, 0.2, 1)"},children:[d.jsx("h1",{className:"text-7xl md:text-8xl lg:text-9xl font-black text-white mb-8 leading-tight drop-shadow-2xl tracking-tight",children:"#RiseAbove"}),d.jsx("p",{className:"text-2xl md:text-3xl lg:text-4xl text-white/95 mb-16 leading-relaxed font-semibold",children:"Join thousands of others who have overcome their fears"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[d.jsx("button",{onClick:()=>i("/counseling"),className:"px-10 py-5 bg-white/25 hover:bg-white/35 backdrop-blur-xl text-white font-bold text-lg rounded-full border border-white/40 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg hover:scale-105",children:"Get Support"}),d.jsx("button",{onClick:N,className:"px-10 py-5 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-semibold text-lg rounded-full border border-white/30 shadow-xl transition-all duration-300 hover:scale-105",children:"View The Change"})]})]}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-48 z-20 -mb-8",children:d.jsxs("svg",{viewBox:"0 0 1200 200",preserveAspectRatio:"none",className:"w-full h-full",children:[d.jsx("path",{d:"M0,100 C200,140 300,80 450,110 C600,140 750,90 900,120 C1050,150 1150,100 1200,130 L1200,200 L0,200 Z",fill:"url(#soft-blue1)",opacity:"0.4"}),d.jsx("path",{d:"M0,85 C150,55 350,105 500,75 C650,45 800,95 950,65 C1100,35 1180,75 1200,85 L1200,200 L0,200 Z",fill:"url(#soft-blue2)",opacity:"0.35"}),d.jsx("path",{d:"M0,70 C100,100 250,50 400,80 C550,110 700,60 850,90 C1000,120 1120,70 1200,100 L1200,200 L0,200 Z",fill:"url(#soft-white1)",opacity:"0.3"}),d.jsx("path",{d:"M0,60 C180,80 320,40 520,70 C720,100 880,50 1050,80 C1150,95 1180,60 1200,75 L1200,200 L0,200 Z",fill:"url(#soft-blue3)",opacity:"0.25"}),d.jsx("path",{d:"M0,50 C220,70 380,30 580,60 C780,90 920,40 1100,65 C1170,75 1190,45 1200,60 L1200,200 L0,200 Z",fill:"url(#soft-white2)",opacity:"0.2"}),d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"soft-blue1",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"#bfdbfe",stopOpacity:"0.6"}),d.jsx("stop",{offset:"50%",stopColor:"#dbeafe",stopOpacity:"0.7"}),d.jsx("stop",{offset:"100%",stopColor:"#eff6ff",stopOpacity:"0.3"})]}),d.jsxs("linearGradient",{id:"soft-blue2",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"#93c5fd",stopOpacity:"0.5"}),d.jsx("stop",{offset:"50%",stopColor:"#bfdbfe",stopOpacity:"0.6"}),d.jsx("stop",{offset:"100%",stopColor:"#dbeafe",stopOpacity:"0.2"})]}),d.jsxs("linearGradient",{id:"soft-white1",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.5"}),d.jsx("stop",{offset:"50%",stopColor:"#f0f9ff",stopOpacity:"0.4"}),d.jsx("stop",{offset:"100%",stopColor:"#e0f2fe",stopOpacity:"0.1"})]}),d.jsxs("linearGradient",{id:"soft-blue3",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"#7dd3fc",stopOpacity:"0.4"}),d.jsx("stop",{offset:"50%",stopColor:"#bae6fd",stopOpacity:"0.3"}),d.jsx("stop",{offset:"100%",stopColor:"#e0f2fe",stopOpacity:"0.1"})]}),d.jsxs("linearGradient",{id:"soft-white2",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.4"}),d.jsx("stop",{offset:"50%",stopColor:"#f0f9ff",stopOpacity:"0.3"}),d.jsx("stop",{offset:"100%",stopColor:"#dbeafe",stopOpacity:"0"})]})]})]})})]}),d.jsxs("section",{id:"main-content",className:"relative flex flex-col items-center pb-32",style:{background:"radial-gradient(ellipse at 20% 10%, #0A0F2A 0%, #6A1E55 35%, #D76F86 65%, #FFA54C 95%), linear-gradient(155deg, #0A0F2A 0%, #5A1648 40%, #C86080 70%, #FF954A 100%)",opacity:r?1:0,transform:r?"translateY(0)":"translateY(20px)",transition:"all 800ms cubic-bezier(0.4, 0.0, 0.2, 1)",pointerEvents:r?"auto":"none"},children:[d.jsxs("div",{className:"w-full py-24 relative space-y-40",children:[d.jsx("div",{className:"w-full px-8 md:px-16 lg:px-24",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center max-w-[1600px] mx-auto",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-400/20 to-blue-500/20 rounded-full blur-3xl"}),d.jsx("img",{src:X6,alt:"Sarah's Journey",className:"relative z-10 w-full h-[600px] object-cover rounded-3xl shadow-2xl"})]}),d.jsxs("div",{className:"relative space-y-6",children:[d.jsx("div",{className:"absolute -top-6 -left-6 text-white/10 text-[120px] font-serif leading-none",children:'"'}),d.jsx("h3",{className:"text-4xl font-bold text-white mb-2 relative z-10",children:"Mike's Journey"}),d.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-sky-400 to-blue-500 rounded-full mb-6"}),d.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"For years, I battled with depression that felt like an endless darkness. Some days, getting out of bed seemed impossible. I felt completely alone in my struggle."}),d.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Finding Nimbus changed everything. The community welcomed me with open arms, and through their support and the professional counseling I found here, I slowly began to see light again."}),d.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Today, I'm not just survivingI'm thriving. I've learned to manage my mental health, and I'm passionate about helping others who are going through what I experienced. Recovery is possible."}),d.jsxs("p",{className:"text-white/70 text-lg font-semibold mt-8 italic flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Sarah M., 2 years on her journey"]})]})]})}),d.jsx("div",{className:"w-full px-8 md:px-16 lg:px-24",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center max-w-[1600px] mx-auto",children:[d.jsxs("div",{className:"relative order-2 lg:order-1 space-y-6",children:[d.jsx("div",{className:"absolute -top-6 -right-6 text-white/10 text-[120px] font-serif leading-none",children:'"'}),d.jsx("h3",{className:"text-4xl font-bold text-white mb-2 relative z-10",children:"Sarah's Recovery"}),d.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-blue-400 to-sky-500 rounded-full mb-6"}),d.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"My addiction to substances nearly cost me everythingmy family, my career, my life. I hit rock bottom and didn't know if I could ever climb back up."}),d.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Through Nimbus, I connected with others who understood my pain without judgment. The resources here pointed me toward professional treatment, and the community kept me accountable during my darkest moments."}),d.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"I've been clean for 18 months now. I've rebuilt relationships with my family and found purpose in mentoring others in recovery. Every day is a choice, and Nimbus helps me make the right one."}),d.jsxs("p",{className:"text-white/70 text-lg font-semibold mt-8 italic flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Michael R., 18 months sober"]})]}),d.jsxs("div",{className:"relative order-1 lg:order-2",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-bl from-blue-400/20 to-sky-500/20 rounded-full blur-3xl"}),d.jsx("img",{src:Q6,alt:"Michael's Recovery",className:"relative z-10 w-full h-[600px] object-cover rounded-3xl shadow-2xl"})]})]})}),d.jsx("div",{className:"w-full px-8 md:px-16 lg:px-24",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center max-w-[1600px] mx-auto",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-300/20 to-blue-600/20 rounded-full blur-3xl"}),d.jsx("img",{src:W6,alt:"Jessica's Transformation",className:"relative z-10 w-full h-[600px] object-cover rounded-3xl shadow-2xl"})]}),d.jsxs("div",{className:"relative space-y-6",children:[d.jsx("div",{className:"absolute -top-6 -left-6 text-white/10 text-[120px] font-serif leading-none",children:'"'}),d.jsx("h3",{className:"text-4xl font-bold text-white mb-2 relative z-10",children:"Jessica's Transformation"}),d.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-sky-300 to-blue-600 rounded-full mb-6"}),d.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Anxiety controlled my life for so long. Panic attacks would strike without warning, keeping me isolated and afraid to leave my home. I felt trapped in my own mind."}),d.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Nimbus gave me the courage to seek help. The forum discussions taught me I wasn't alone, and the professional counselors here gave me tools to manage my anxiety effectively."}),d.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Now I'm living life on my terms. I travel, I've made new friends, and I even started my own business. The anxiety hasn't disappeared, but I've learned to live alongside it rather than letting it control me."}),d.jsxs("p",{className:"text-white/70 text-lg font-semibold mt-8 italic flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Jessica L., reclaiming her life"]})]})]})})]}),d.jsx("div",{className:"w-full py-20 px-8 md:px-16 lg:px-24",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsx("h2",{className:"text-5xl font-bold text-white",children:"Latest Discussions"}),d.jsxs("div",{className:"space-y-6",children:[d.jsx(Gm,{category:"Mental Health",title:"How to manage anxiety?",description:"Looking for tips and strategies to cope with anxiety.",profileImageUrl:"home/person1.jpg",authorName:"John Doe",timestamp:"2 hours ago",commentsCount:5}),d.jsx(Gm,{category:"Support",title:"Dealing with stress at work",description:"Anyone else struggling with work-life balance?",profileImageUrl:"home/person2.jpg",authorName:"Jane Smith",timestamp:"5 hours ago",commentsCount:12}),d.jsx(Gm,{category:"Wellness",title:"Meditation tips for beginners",description:"Starting my mindfulness journey, any advice?",profileImageUrl:"home/person3.jpg",authorName:"Mike Johnson",timestamp:"1 day ago",commentsCount:8})]}),d.jsx("button",{onClick:()=>i("/forum"),className:"px-10 py-4 bg-white/15 hover:bg-white/25 backdrop-blur-xl text-white font-bold text-lg rounded-full border border-white/30 shadow-xl transition-all duration-300 hover:scale-105",children:"View More Discussions"})]}),d.jsx("div",{className:"lg:sticky lg:top-24",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-12 border border-white/20 shadow-2xl h-full flex flex-col justify-center items-center text-center space-y-6",children:[d.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),d.jsx("h2",{className:"text-4xl font-bold text-white",children:"Still need more help?"}),d.jsx("p",{className:"text-white/80 text-lg",children:"Connect with a professional counselor who can provide personalized support"}),d.jsx("button",{onClick:()=>i("/counseling"),className:"px-12 py-5 bg-white/20 hover:bg-white/30 backdrop-blur-xl text-white font-bold text-lg rounded-full border border-white/40 shadow-2xl shadow-black/20 transition-all duration-300 hover:scale-105",children:"Book an appointment now"})]})})]})})]})]}),m&&d.jsx(Y6,{})]})}function J6(){return d.jsx("div",{className:"min-h-screen pt-32 px-4",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Education"}),d.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:d.jsx("p",{className:"text-white/80 text-lg",children:"Education page coming soon..."})})]})})}function e3(){return d.jsx("div",{className:"min-h-screen pt-32 px-4",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Get Help"}),d.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:d.jsx("p",{className:"text-white/80 text-lg",children:"Help page coming soon..."})})]})})}const t3=()=>{};var eb={};const ew=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},n3=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],u=i[t++],p=i[t++],g=((o&7)<<18|(l&63)<<12|(u&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],u=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const l=i[o],u=o+1<i.length,p=u?i[o+1]:0,g=o+2<i.length,m=g?i[o+2]:0,y=l>>2,v=(l&3)<<4|p>>4;let _=(p&15)<<2|m>>6,C=m&63;g||(C=64,u||(_=64)),r.push(t[y],t[v],t[_],t[C])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ew(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):n3(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const m=o<i.length?t[i.charAt(o)]:64;++o;const v=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||p==null||m==null||v==null)throw new i3;const _=l<<2|p>>4;if(r.push(_),m!==64){const C=p<<4&240|m>>2;if(r.push(C),v!==64){const N=m<<6&192|v;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class i3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r3=function(i){const e=ew(i);return tw.encodeByteArray(e,!0)},Md=function(i){return r3(i).replace(/\./g,"")},nw=function(i){try{return tw.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function s3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const a3=()=>s3().__FIREBASE_DEFAULTS__,o3=()=>{if(typeof process>"u"||typeof eb>"u")return;const i=eb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},l3=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&nw(i[1]);return e&&JSON.parse(e)},ff=()=>{try{return t3()||a3()||o3()||l3()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},iw=i=>ff()?.emulatorHosts?.[i],rw=i=>{const e=iw(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},sw=()=>ff()?.config,aw=i=>ff()?.[`_${i}`];class c3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function na(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lg(i){return(await fetch(i,{credentials:"include"})).ok}function ow(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Md(JSON.stringify(t)),Md(JSON.stringify(u)),""].join(".")}const kc={};function u3(){const i={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?i.emulator.push(e):i.prod.push(e);return i}function h3(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let tb=!1;function cg(i,e){if(typeof window>"u"||typeof document>"u"||!na(window.location.host)||kc[i]===e||kc[i]||tb)return;kc[i]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",l=u3().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function p(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function g(_,C){_.setAttribute("width","24"),_.setAttribute("id",C),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{tb=!0,u()},_}function y(_,C){_.setAttribute("id",C),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=h3(r),C=t("text"),N=document.getElementById(C)||document.createElement("span"),B=t("learnmore"),I=document.getElementById(B)||document.createElement("a"),P=t("preprendIcon"),k=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const j=_.element;p(j),y(I,B);const L=m();g(k,P),j.append(k,N,I,L),document.body.appendChild(j)}l?(N.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function f3(){const i=ff()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function p3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g3(){const i=pn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function x3(){return!f3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cw(){try{return typeof indexedDB=="object"}catch{return!1}}function uw(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function y3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const v3="FirebaseError";class _i extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=v3,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ka.prototype.create)}}class Ka{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?b3(l,r):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new _i(o,p,r)}}function b3(i,e){return i.replace(_3,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const _3=/\{\$([^}]+)}/g;function w3(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Er(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const l=i[o],u=e[o];if(nb(l)&&nb(u)){if(!Er(l,u))return!1}else if(l!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function nb(i){return i!==null&&typeof i=="object"}function Jc(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Sc(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function E3(i,e){const t=new A3(i,e);return t.subscribe.bind(t)}class A3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");T3(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Xm),o.error===void 0&&(o.error=Xm),o.complete===void 0&&(o.complete=Xm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T3(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Xm(){}const C3=1e3,S3=2,N3=14400*1e3,R3=.5;function ib(i,e=C3,t=S3){const r=e*Math.pow(t,i),o=Math.round(R3*r*(Math.random()-.5)*2);return Math.min(N3,r+o)}function ct(i){return i&&i._delegate?i._delegate:i}class bi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ba="[DEFAULT]";class D3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new c3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k3(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);r===p&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I3(i){return i===Ba?void 0:i}function k3(i){return i.instantiationMode==="EAGER"}class j3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const B3={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},O3=Ue.INFO,M3={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},P3=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=M3[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mf{constructor(e){this.name=e,this._logLevel=O3,this._logHandler=P3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const L3=(i,e)=>e.some(t=>i instanceof t);let rb,sb;function F3(){return rb||(rb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V3(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hw=new WeakMap,bp=new WeakMap,dw=new WeakMap,Qm=new WeakMap,ug=new WeakMap;function U3(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",u)},l=()=>{t(Hs(i.result)),o()},u=()=>{r(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&hw.set(t,i)}).catch(()=>{}),ug.set(e,i),e}function z3(i){if(bp.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",u),i.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",u),i.addEventListener("abort",u)});bp.set(i,e)}let _p={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return bp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||dw.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function H3(i){_p=i(_p)}function q3(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Wm(this),e,...t);return dw.set(r,e.sort?e.sort():[e]),Hs(r)}:V3().includes(i)?function(...e){return i.apply(Wm(this),e),Hs(hw.get(this))}:function(...e){return Hs(i.apply(Wm(this),e))}}function $3(i){return typeof i=="function"?q3(i):(i instanceof IDBTransaction&&z3(i),L3(i,F3())?new Proxy(i,_p):i)}function Hs(i){if(i instanceof IDBRequest)return U3(i);if(Qm.has(i))return Qm.get(i);const e=$3(i);return e!==i&&(Qm.set(i,e),ug.set(e,i)),e}const Wm=i=>ug.get(i);function fw(i,e,{blocked:t,upgrade:r,blocking:o,terminated:l}={}){const u=indexedDB.open(i,e),p=Hs(u);return r&&u.addEventListener("upgradeneeded",g=>{r(Hs(u.result),g.oldVersion,g.newVersion,Hs(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const G3=["get","getKey","getAll","getAllKeys","count"],K3=["put","add","delete","clear"],Zm=new Map;function ab(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=K3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||G3.includes(t)))return;const l=async function(u,...p){const g=this.transaction(u,o?"readwrite":"readonly");let m=g.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[t](...p),o&&g.done]))[0]};return Zm.set(e,l),l}H3(i=>({...i,get:(e,t,r)=>ab(e,t)||i.get(e,t,r),has:(e,t)=>!!ab(e,t)||i.has(e,t)}));class Y3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(X3(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function X3(i){return i.getComponent()?.type==="VERSION"}const wp="@firebase/app",ob="0.14.6";const Zr=new mf("@firebase/app"),Q3="@firebase/app-compat",W3="@firebase/analytics-compat",Z3="@firebase/analytics",J3="@firebase/app-check-compat",e5="@firebase/app-check",t5="@firebase/auth",n5="@firebase/auth-compat",i5="@firebase/database",r5="@firebase/data-connect",s5="@firebase/database-compat",a5="@firebase/functions",o5="@firebase/functions-compat",l5="@firebase/installations",c5="@firebase/installations-compat",u5="@firebase/messaging",h5="@firebase/messaging-compat",d5="@firebase/performance",f5="@firebase/performance-compat",m5="@firebase/remote-config",p5="@firebase/remote-config-compat",g5="@firebase/storage",x5="@firebase/storage-compat",y5="@firebase/firestore",v5="@firebase/ai",b5="@firebase/firestore-compat",_5="firebase",w5="12.6.0";const Ep="[DEFAULT]",E5={[wp]:"fire-core",[Q3]:"fire-core-compat",[Z3]:"fire-analytics",[W3]:"fire-analytics-compat",[e5]:"fire-app-check",[J3]:"fire-app-check-compat",[t5]:"fire-auth",[n5]:"fire-auth-compat",[i5]:"fire-rtdb",[r5]:"fire-data-connect",[s5]:"fire-rtdb-compat",[a5]:"fire-fn",[o5]:"fire-fn-compat",[l5]:"fire-iid",[c5]:"fire-iid-compat",[u5]:"fire-fcm",[h5]:"fire-fcm-compat",[d5]:"fire-perf",[f5]:"fire-perf-compat",[m5]:"fire-rc",[p5]:"fire-rc-compat",[g5]:"fire-gcs",[x5]:"fire-gcs-compat",[y5]:"fire-fst",[b5]:"fire-fst-compat",[v5]:"fire-vertex","fire-js":"fire-js",[_5]:"fire-js-all"};const Pd=new Map,A5=new Map,Ap=new Map;function lb(i,e){try{i.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Pi(i){const e=i.name;if(Ap.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,i);for(const t of Pd.values())lb(t,i);for(const t of A5.values())lb(t,i);return!0}function ia(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Qn(i){return i==null?!1:i.settings!==void 0}const T5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Ka("app","Firebase",T5);class C5{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const Ya=w5;function mw(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:Ep,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw qs.create("bad-app-name",{appName:String(o)});if(t||(t=sw()),!t)throw qs.create("no-options");const l=Pd.get(o);if(l){if(Er(t,l.options)&&Er(r,l.config))return l;throw qs.create("duplicate-app",{appName:o})}const u=new j3(o);for(const g of Ap.values())u.addComponent(g);const p=new C5(t,r,u);return Pd.set(o,p),p}function pf(i=Ep){const e=Pd.get(i);if(!e&&i===Ep&&sw())return mw();if(!e)throw qs.create("no-app",{appName:i});return e}function On(i,e,t){let r=E5[i]??i;t&&(r+=`-${t}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(u.join(" "));return}Pi(new bi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const S5="firebase-heartbeat-database",N5=1,Vc="firebase-heartbeat-store";let Jm=null;function pw(){return Jm||(Jm=fw(S5,N5,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Vc)}catch(t){console.warn(t)}}}}).catch(i=>{throw qs.create("idb-open",{originalErrorMessage:i.message})})),Jm}async function R5(i){try{const t=(await pw()).transaction(Vc),r=await t.objectStore(Vc).get(gw(i));return await t.done,r}catch(e){if(e instanceof _i)Zr.warn(e.message);else{const t=qs.create("idb-get",{originalErrorMessage:e?.message});Zr.warn(t.message)}}}async function cb(i,e){try{const r=(await pw()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,gw(i)),await r.done}catch(t){if(t instanceof _i)Zr.warn(t.message);else{const r=qs.create("idb-set",{originalErrorMessage:t?.message});Zr.warn(r.message)}}}function gw(i){return`${i.name}!${i.options.appId}`}const D5=1024,I5=30;class k5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new B5(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ub();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>I5){const o=O5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ub(),{heartbeatsToSend:t,unsentEntries:r}=j5(this._heartbeatsCache.heartbeats),o=Md(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Zr.warn(e),""}}}function ub(){return new Date().toISOString().substring(0,10)}function j5(i,e=D5){const t=[];let r=i.slice();for(const o of i){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),hb(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class B5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cw()?uw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await R5(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hb(i){return Md(JSON.stringify({version:2,heartbeats:i})).length}function O5(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}function M5(i){Pi(new bi("platform-logger",e=>new Y3(e),"PRIVATE")),Pi(new bi("heartbeat",e=>new k5(e),"PRIVATE")),On(wp,ob,i),On(wp,ob,"esm2020"),On("fire-js","")}M5("");var P5="firebase",L5="12.6.0";On(P5,L5,"app");const xw="@firebase/installations",hg="0.6.19";const yw=1e4,vw=`w:${hg}`,bw="FIS_v2",F5="https://firebaseinstallations.googleapis.com/v1",V5=3600*1e3,U5="installations",z5="Installations";const H5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fa=new Ka(U5,z5,H5);function _w(i){return i instanceof _i&&i.code.includes("request-failed")}function ww({projectId:i}){return`${F5}/projects/${i}/installations`}function Ew(i){return{token:i.token,requestStatus:2,expiresIn:$5(i.expiresIn),creationTime:Date.now()}}async function Aw(i,e){const r=(await e.json()).error;return Fa.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Tw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function q5(i,{refreshToken:e}){const t=Tw(i);return t.append("Authorization",G5(e)),t}async function Cw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function $5(i){return Number(i.replace("s","000"))}function G5(i){return`${bw} ${i}`}async function K5({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const r=ww(i),o=Tw(i),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:bw,appId:i.appId,sdkVersion:vw},p={method:"POST",headers:o,body:JSON.stringify(u)},g=await Cw(()=>fetch(r,p));if(g.ok){const m=await g.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:Ew(m.authToken)}}else throw await Aw("Create Installation",g)}function Sw(i){return new Promise(e=>{setTimeout(e,i)})}function Y5(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const X5=/^[cdef][\w-]{21}$/,Tp="";function Q5(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=W5(i);return X5.test(t)?t:Tp}catch{return Tp}}function W5(i){return Y5(i).substr(0,22)}function gf(i){return`${i.appName}!${i.appId}`}const Nw=new Map;function Rw(i,e){const t=gf(i);Dw(t,e),Z5(t,e)}function Dw(i,e){const t=Nw.get(i);if(t)for(const r of t)r(e)}function Z5(i,e){const t=J5();t&&t.postMessage({key:i,fid:e}),eN()}let Oa=null;function J5(){return!Oa&&"BroadcastChannel"in self&&(Oa=new BroadcastChannel("[Firebase] FID Change"),Oa.onmessage=i=>{Dw(i.data.key,i.data.fid)}),Oa}function eN(){Nw.size===0&&Oa&&(Oa.close(),Oa=null)}const tN="firebase-installations-database",nN=1,Va="firebase-installations-store";let ep=null;function dg(){return ep||(ep=fw(tN,nN,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Va)}}})),ep}async function Ld(i,e){const t=gf(i),o=(await dg()).transaction(Va,"readwrite"),l=o.objectStore(Va),u=await l.get(t);return await l.put(e,t),await o.done,(!u||u.fid!==e.fid)&&Rw(i,e.fid),e}async function Iw(i){const e=gf(i),r=(await dg()).transaction(Va,"readwrite");await r.objectStore(Va).delete(e),await r.done}async function xf(i,e){const t=gf(i),o=(await dg()).transaction(Va,"readwrite"),l=o.objectStore(Va),u=await l.get(t),p=e(u);return p===void 0?await l.delete(t):await l.put(p,t),await o.done,p&&(!u||u.fid!==p.fid)&&Rw(i,p.fid),p}async function fg(i){let e;const t=await xf(i.appConfig,r=>{const o=iN(r),l=rN(i,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Tp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function iN(i){const e=i||{fid:Q5(),registrationStatus:0};return kw(e)}function rN(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Fa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=sN(i,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:aN(i)}:{installationEntry:e}}async function sN(i,e){try{const t=await K5(i,e);return Ld(i.appConfig,t)}catch(t){throw _w(t)&&t.customData.serverCode===409?await Iw(i.appConfig):await Ld(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function aN(i){let e=await db(i.appConfig);for(;e.registrationStatus===1;)await Sw(100),e=await db(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await fg(i);return r||t}return e}function db(i){return xf(i,e=>{if(!e)throw Fa.create("installation-not-found");return kw(e)})}function kw(i){return oN(i)?{fid:i.fid,registrationStatus:0}:i}function oN(i){return i.registrationStatus===1&&i.registrationTime+yw<Date.now()}async function lN({appConfig:i,heartbeatServiceProvider:e},t){const r=cN(i,t),o=q5(i,t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:vw,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(u)},g=await Cw(()=>fetch(r,p));if(g.ok){const m=await g.json();return Ew(m)}else throw await Aw("Generate Auth Token",g)}function cN(i,{fid:e}){return`${ww(i)}/${e}/authTokens:generate`}async function mg(i,e=!1){let t;const r=await xf(i.appConfig,l=>{if(!jw(l))throw Fa.create("not-registered");const u=l.authToken;if(!e&&dN(u))return l;if(u.requestStatus===1)return t=uN(i,e),l;{if(!navigator.onLine)throw Fa.create("app-offline");const p=mN(l);return t=hN(i,p),p}});return t?await t:r.authToken}async function uN(i,e){let t=await fb(i.appConfig);for(;t.authToken.requestStatus===1;)await Sw(100),t=await fb(i.appConfig);const r=t.authToken;return r.requestStatus===0?mg(i,e):r}function fb(i){return xf(i,e=>{if(!jw(e))throw Fa.create("not-registered");const t=e.authToken;return pN(t)?{...e,authToken:{requestStatus:0}}:e})}async function hN(i,e){try{const t=await lN(i,e),r={...e,authToken:t};return await Ld(i.appConfig,r),t}catch(t){if(_w(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Iw(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ld(i.appConfig,r)}throw t}}function jw(i){return i!==void 0&&i.registrationStatus===2}function dN(i){return i.requestStatus===2&&!fN(i)}function fN(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+V5}function mN(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function pN(i){return i.requestStatus===1&&i.requestTime+yw<Date.now()}async function gN(i){const e=i,{installationEntry:t,registrationPromise:r}=await fg(e);return r?r.catch(console.error):mg(e).catch(console.error),t.fid}async function xN(i,e=!1){const t=i;return await yN(t),(await mg(t,e)).token}async function yN(i){const{registrationPromise:e}=await fg(i);e&&await e}function vN(i){if(!i||!i.options)throw tp("App Configuration");if(!i.name)throw tp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw tp(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function tp(i){return Fa.create("missing-app-config-values",{valueName:i})}const Bw="installations",bN="installations-internal",_N=i=>{const e=i.getProvider("app").getImmediate(),t=vN(e),r=ia(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wN=i=>{const e=i.getProvider("app").getImmediate(),t=ia(e,Bw).getImmediate();return{getId:()=>gN(t),getToken:o=>xN(t,o)}};function EN(){Pi(new bi(Bw,_N,"PUBLIC")),Pi(new bi(bN,wN,"PRIVATE"))}EN();On(xw,hg);On(xw,hg,"esm2020");const Fd="analytics",AN="firebase_id",TN="origin",CN=60*1e3,SN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pg="https://www.googletagmanager.com/gtag/js";const wn=new mf("@firebase/analytics");const NN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jn=new Ka("analytics","Analytics",NN);function RN(i){if(!i.startsWith(pg)){const e=Jn.create("invalid-gtag-resource",{gtagURL:i});return wn.warn(e.message),""}return i}function Ow(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function DN(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function IN(i,e){const t=DN("firebase-js-sdk-policy",{createScriptURL:RN}),r=document.createElement("script"),o=`${pg}?l=${i}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function kN(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function jN(i,e,t,r,o,l){const u=r[o];try{if(u)await e[u];else{const g=(await Ow(t)).find(m=>m.measurementId===o);g&&await e[g.appId]}}catch(p){wn.error(p)}i("config",o,l)}async function BN(i,e,t,r,o){try{let l=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const p=await Ow(t);for(const g of u){const m=p.find(v=>v.measurementId===g),y=m&&e[m.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",r,o||{})}catch(l){wn.error(l)}}function ON(i,e,t,r){async function o(l,...u){try{if(l==="event"){const[p,g]=u;await BN(i,e,t,p,g)}else if(l==="config"){const[p,g]=u;await jN(i,e,t,r,p,g)}else if(l==="consent"){const[p,g]=u;i("consent",p,g)}else if(l==="get"){const[p,g,m]=u;i("get",p,g,m)}else if(l==="set"){const[p]=u;i("set",p)}else i(l,...u)}catch(p){wn.error(p)}}return o}function MN(i,e,t,r,o){let l=function(...u){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=ON(l,i,e,t),{gtagCore:l,wrappedGtag:window[o]}}function PN(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(pg)&&t.src.includes(i))return t;return null}const LN=30,FN=1e3;class VN{constructor(e={},t=FN){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Mw=new VN;function UN(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function zN(i){const{appId:e,apiKey:t}=i,r={method:"GET",headers:UN(t)},o=SN.replace("{app-id}",e),l=await fetch(o,r);if(l.status!==200&&l.status!==304){let u="";try{const p=await l.json();p.error?.message&&(u=p.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function HN(i,e=Mw,t){const{appId:r,apiKey:o,measurementId:l}=i.options;if(!r)throw Jn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:r};throw Jn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new GN;return setTimeout(async()=>{p.abort()},CN),Pw({appId:r,apiKey:o,measurementId:l},u,p,e)}async function Pw(i,{throttleEndTimeMillis:e,backoffCount:t},r,o=Mw){const{appId:l,measurementId:u}=i;try{await qN(r,e)}catch(p){if(u)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:u};throw p}try{const p=await zN(i);return o.deleteThrottleMetadata(l),p}catch(p){const g=p;if(!$N(g)){if(o.deleteThrottleMetadata(l),u)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:u};throw p}const m=Number(g?.customData?.httpStatus)===503?ib(t,o.intervalMillis,LN):ib(t,o.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return o.setThrottleMetadata(l,y),wn.debug(`Calling attemptFetch again in ${m} millis`),Pw(i,y,r,o)}}function qN(i,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(l),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $N(i){if(!(i instanceof _i)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class GN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KN(i,e,t,r,o){if(o&&o.global){i("event",t,r);return}else{const l=await e,u={...r,send_to:l};i("event",t,u)}}async function YN(i,e,t,r){if(r&&r.global){const o={};for(const l of Object.keys(t))o[`user_properties.${l}`]=t[l];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:t})}}async function XN(){if(cw())try{await uw()}catch(i){return wn.warn(Jn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return wn.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function QN(i,e,t,r,o,l,u){const p=HN(i);p.then(_=>{t[_.measurementId]=_.appId,i.options.measurementId&&_.measurementId!==i.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>wn.error(_)),e.push(p);const g=XN().then(_=>{if(_)return r.getId()}),[m,y]=await Promise.all([p,g]);PN(l)||IN(l,m.measurementId),o("js",new Date);const v=u?.config??{};return v[TN]="firebase",v.update=!0,y!=null&&(v[AN]=y),o("config",m.measurementId,v),m.measurementId}class WN{constructor(e){this.app=e}_delete(){return delete el[this.app.options.appId],Promise.resolve()}}let el={},mb=[];const pb={};let np="dataLayer",ZN="gtag",gb,gg,xb=!1;function JN(){const i=[];if(lw()&&i.push("This is a browser extension environment."),y3()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=Jn.create("invalid-analytics-context",{errorInfo:e});wn.warn(t.message)}}function e8(i,e,t){JN();const r=i.options.appId;if(!r)throw Jn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jn.create("no-api-key");if(el[r]!=null)throw Jn.create("already-exists",{id:r});if(!xb){kN(np);const{wrappedGtag:l,gtagCore:u}=MN(el,mb,pb,np,ZN);gg=l,gb=u,xb=!0}return el[r]=QN(i,mb,pb,e,gb,np,t),new WN(i)}function t8(i=pf()){i=ct(i);const e=ia(i,Fd);return e.isInitialized()?e.getImmediate():n8(i)}function n8(i,e={}){const t=ia(i,Fd);if(t.isInitialized()){const o=t.getImmediate();if(Er(e,t.getOptions()))return o;throw Jn.create("already-initialized")}return t.initialize({options:e})}function i8(i,e,t){i=ct(i),YN(gg,el[i.app.options.appId],e,t).catch(r=>wn.error(r))}function r8(i,e,t,r){i=ct(i),KN(gg,el[i.app.options.appId],e,t,r).catch(o=>wn.error(o))}const yb="@firebase/analytics",vb="0.10.19";function s8(){Pi(new bi(Fd,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return e8(r,o,t)},"PUBLIC")),Pi(new bi("analytics-internal",i,"PRIVATE")),On(yb,vb),On(yb,vb,"esm2020");function i(e){try{const t=e.getProvider(Fd).getImmediate();return{logEvent:(r,o,l)=>r8(t,r,o,l),setUserProperties:(r,o)=>i8(t,r,o)}}catch(t){throw Jn.create("interop-component-reg-failed",{reason:t})}}}s8();function Lw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a8=Lw,Fw=new Ka("auth","Firebase",Lw());const Vd=new mf("@firebase/auth");function o8(i,...e){Vd.logLevel<=Ue.WARN&&Vd.warn(`Auth (${Ya}): ${i}`,...e)}function Hh(i,...e){Vd.logLevel<=Ue.ERROR&&Vd.error(`Auth (${Ya}): ${i}`,...e)}function Li(i,...e){throw xg(i,...e)}function gr(i,...e){return xg(i,...e)}function Vw(i,e,t){const r={...a8(),[e]:t};return new Ka("auth","Firebase",r).create(e,{appName:i.name})}function Xr(i){return Vw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return Fw.create(i,...e)}function Ne(i,e,...t){if(!i)throw xg(e,...t)}function Gr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Hh(e),new Error(e)}function Jr(i,e){i||Gr(e)}function Cp(){return typeof self<"u"&&self.location?.href||""}function l8(){return bb()==="http:"||bb()==="https:"}function bb(){return typeof self<"u"&&self.location?.protocol||null}function c8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l8()||lw()||"connection"in navigator)?navigator.onLine:!0}function u8(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jr(t>e,"Short delay should be less than long delay!"),this.isMobile=d3()||p3()}get(){return c8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yg(i,e){Jr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Uw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const d8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f8=new eu(3e4,6e4);function ra(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function is(i,e,t,r,o={}){return zw(i,o,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const p=Jc({key:i.config.apiKey,...u}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const m={method:e,headers:g,...l};return m3()||(m.referrerPolicy="no-referrer"),i.emulatorConfig&&na(i.emulatorConfig.host)&&(m.credentials="include"),Uw.fetch()(await Hw(i,i.config.apiHost,t,p),m)})}async function zw(i,e,t){i._canInitEmulator=!1;const r={...h8,...e};try{const o=new p8(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw jh(i,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const p=l.ok?u.errorMessage:u.error.message,[g,m]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(i,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw jh(i,"email-already-in-use",u);if(g==="USER_DISABLED")throw jh(i,"user-disabled",u);const y=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Vw(i,y,m);Li(i,y)}}catch(o){if(o instanceof _i)throw o;Li(i,"network-request-failed",{message:String(o)})}}async function tu(i,e,t,r,o={}){const l=await is(i,e,t,r,o);return"mfaPendingCredential"in l&&Li(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function Hw(i,e,t,r){const o=`${e}${t}?${r}`,l=i,u=l.config.emulator?yg(i.config,o):`${i.config.apiScheme}://${o}`;return d8.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function m8(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class p8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),f8.get())})}}function jh(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=gr(i,e,r);return o.customData._tokenResponse=t,o}function _b(i){return i!==void 0&&i.enterprise!==void 0}class g8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return m8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x8(i,e){return is(i,"GET","/v2/recaptchaConfig",ra(i,e))}async function y8(i,e){return is(i,"POST","/v1/accounts:delete",e)}async function Ud(i,e){return is(i,"POST","/v1/accounts:lookup",e)}function jc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v8(i,e=!1){const t=ct(i),r=await t.getIdToken(e),o=vg(r);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:r,authTime:jc(ip(o.auth_time)),issuedAtTime:jc(ip(o.iat)),expirationTime:jc(ip(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ip(i){return Number(i)*1e3}function vg(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=nw(t);return o?JSON.parse(o):(Hh("Failed to decode base64 JWT payload"),null)}catch(o){return Hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wb(i){const e=vg(i);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ol(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof _i&&b8(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function b8({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class _8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zd(i){const e=i.auth,t=await i.getIdToken(),r=await ol(i,Ud(e,{idToken:t}));Ne(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?qw(o.providerUserInfo):[],u=E8(i.providerData,l),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!u?.length,m=p?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(i,y)}async function w8(i){const e=ct(i);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E8(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function qw(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function A8(i,e){const t=await zw(i,{},async()=>{const r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,u=await Hw(i,o,"/v1/token",`key=${l}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return i.emulatorConfig&&na(i.emulatorConfig.host)&&(g.credentials="include"),Uw.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function T8(i,e){return is(i,"POST","/v2/accounts:revokeToken",ra(i,e))}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=wb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:l}=await A8(e,t);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:l}=t,u=new tl;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Ne(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function Os(i,e){Ne(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Mi{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new _8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ol(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return v8(this,e)}reload(){return w8(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await ol(this,y8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:C,providerData:N,stsTokenManager:B}=t;Ne(v&&B,e,"internal-error");const I=tl.fromJSON(this.name,B);Ne(typeof v=="string",e,"internal-error"),Os(r,e.name),Os(o,e.name),Ne(typeof _=="boolean",e,"internal-error"),Ne(typeof C=="boolean",e,"internal-error"),Os(l,e.name),Os(u,e.name),Os(p,e.name),Os(g,e.name),Os(m,e.name),Os(y,e.name);const P=new Mi({uid:v,auth:e,email:o,emailVerified:_,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:p,stsTokenManager:I,createdAt:m,lastLoginAt:y});return N&&Array.isArray(N)&&(P.providerData=N.map(k=>({...k}))),g&&(P._redirectEventId=g),P}static async _fromIdTokenResponse(e,t,r=!1){const o=new tl;o.updateFromServerResponse(t);const l=new Mi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await zd(l),l}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?qw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,p=new tl;p.updateFromIdToken(r);const g=new Mi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,m),g}}const Eb=new Map;function Kr(i){Jr(i instanceof Function,"Expected a class definition");let e=Eb.get(i);return e?(Jr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Eb.set(i,e),e)}class $w{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$w.type="NONE";const Ab=$w;function qh(i,e,t){return`firebase:${i}:${e}:${t}`}class nl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=qh(this.userKey,o.apiKey,l),this.fullPersistenceKey=qh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ud(this.auth,{idToken:e}).catch(()=>{});return t?Mi._fromGetAccountInfoResponse(this.auth,t,e):null}return Mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new nl(Kr(Ab),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||Kr(Ab);const u=qh(r,e.config.apiKey,e.name);let p=null;for(const m of t)try{const y=await m._get(u);if(y){let v;if(typeof y=="string"){const _=await Ud(e,{idToken:y}).catch(()=>{});if(!_)break;v=await Mi._fromGetAccountInfoResponse(e,_,y)}else v=Mi._fromJSON(e,y);m!==l&&(p=v),l=m;break}}catch{}const g=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new nl(l,e,r):(l=g[0],p&&await l._set(u,p.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new nl(l,e,r))}}function Tb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ww(e))return"Blackberry";if(Zw(e))return"Webos";if(Kw(e))return"Safari";if((e.includes("chrome/")||Yw(e))&&!e.includes("edge/"))return"Chrome";if(Qw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if(r?.length===2)return r[1]}return"Other"}function Gw(i=pn()){return/firefox\//i.test(i)}function Kw(i=pn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yw(i=pn()){return/crios\//i.test(i)}function Xw(i=pn()){return/iemobile/i.test(i)}function Qw(i=pn()){return/android/i.test(i)}function Ww(i=pn()){return/blackberry/i.test(i)}function Zw(i=pn()){return/webos/i.test(i)}function bg(i=pn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function C8(i=pn()){return bg(i)&&!!window.navigator?.standalone}function S8(){return g3()&&document.documentMode===10}function Jw(i=pn()){return bg(i)||Qw(i)||Zw(i)||Ww(i)||/windows phone/i.test(i)||Xw(i)}function eE(i,e=[]){let t;switch(i){case"Browser":t=Tb(pn());break;case"Worker":t=`${Tb(pn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ya}/${r}`}class N8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,p)=>{try{const g=e(l);u(g)}catch(g){p(g)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function R8(i,e={}){return is(i,"GET","/v2/passwordPolicy",ra(i,e))}const D8=6;class I8{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??D8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class k8{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cb(this),this.idTokenSubscription=new Cb(this),this.beforeStateQueue=new N8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ud(this,{idToken:e}),r=await Mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===u)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Xr(this));const t=e?ct(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R8(this),t=new I8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ka("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await T8(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kr(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(p,this,"internal-error"),p.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,o);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&o8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xa(i){return ct(i)}class Cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=E3(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j8(i){yf=i}function tE(i){return yf.loadJS(i)}function B8(){return yf.recaptchaEnterpriseScript}function O8(){return yf.gapiScript}function M8(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class P8{constructor(){this.enterprise=new L8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class L8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const F8="recaptcha-enterprise",nE="NO_RECAPTCHA";class V8{constructor(e){this.type=F8,this.auth=Xa(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,p)=>{x8(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new g8(g);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(g=>{p(g)})})}function o(l,u,p){const g=window.grecaptcha;_b(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(nE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new P8().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(p=>{if(!t&&_b(window.grecaptcha))o(p,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=B8();g.length!==0&&(g+=p),tE(g).then(()=>{o(p,l,u)}).catch(m=>{u(m)})}}).catch(p=>{u(p)})})}}async function Sb(i,e,t,r=!1,o=!1){const l=new V8(i);let u;if(o)u=nE;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Np(i,e,t,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Sb(i,e,t,t==="getOobCode");return r(i,l)}else return r(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Sb(i,e,t,t==="getOobCode");return r(i,u)}else return Promise.reject(l)})}function U8(i,e){const t=ia(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Er(l,e??{}))return o;Li(o,"already-initialized")}return t.initialize({options:e})}function z8(i,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Kr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function H8(i,e,t){const r=Xa(i);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=iE(e),{host:u,port:p}=q8(e),g=p===null?"":`:${p}`,m={url:`${l}//${u}${g}/`},y=Object.freeze({host:u,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(Er(m,r.config.emulator)&&Er(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,na(u)?(lg(`${l}//${u}${g}`),cg("Auth",!0)):$8()}function iE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function q8(i){const e=iE(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:Nb(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:Nb(u)}}}function Nb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function $8(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class _g{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function G8(i,e){return is(i,"POST","/v1/accounts:signUp",e)}async function K8(i,e){return tu(i,"POST","/v1/accounts:signInWithPassword",ra(i,e))}async function Y8(i,e){return tu(i,"POST","/v1/accounts:signInWithEmailLink",ra(i,e))}async function X8(i,e){return tu(i,"POST","/v1/accounts:signInWithEmailLink",ra(i,e))}class Uc extends _g{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Uc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Uc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,t,"signInWithPassword",K8);case"emailLink":return Y8(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,r,"signUpPassword",G8);case"emailLink":return X8(e,{idToken:t,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function il(i,e){return tu(i,"POST","/v1/accounts:signInWithIdp",ra(i,e))}const Q8="http://localhost";class Ua extends _g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...l}=t;if(!r||!o)return null;const u=new Ua(r,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return il(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,il(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,il(e,t)}buildRequest(){const e={requestUri:Q8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jc(t)}return e}}function W8(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z8(i){const e=Cc(Sc(i)).link,t=e?Cc(Sc(e)).deep_link_id:null,r=Cc(Sc(i)).deep_link_id;return(r?Cc(Sc(r)).link:null)||r||t||e||i}class wg{constructor(e){const t=Cc(Sc(e)),r=t.apiKey??null,o=t.oobCode??null,l=W8(t.mode??null);Ne(r&&o&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Z8(e);try{return new wg(t)}catch{return null}}}class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,t){return Uc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wg.parseLink(t);return Ne(r,"argument-error"),Uc._fromEmailAndCode(e,r.code,r.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class rE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nu extends rE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ps extends nu{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class Ls extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ua._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ls.credential(t,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Fs extends nu{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Vs extends nu{constructor(){super("twitter.com")}static credential(e,t){return Ua._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Vs.credential(t,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";async function J8(i,e){return tu(i,"POST","/v1/accounts:signUp",ra(i,e))}class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const l=await Mi._fromIdTokenResponse(e,r,o),u=Rb(r);return new za({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Rb(r);return new za({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Rb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Hd extends _i{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Hd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Hd(e,t,r,o)}}function sE(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Hd._fromErrorAndOperation(i,l,e,r):l})}async function eR(i,e,t=!1){const r=await ol(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return za._forOperation(i,"link",r)}async function tR(i,e,t=!1){const{auth:r}=i;if(Qn(r.app))return Promise.reject(Xr(r));const o="reauthenticate";try{const l=await ol(i,sE(r,o,e,i),t);Ne(l.idToken,r,"internal-error");const u=vg(l.idToken);Ne(u,r,"internal-error");const{sub:p}=u;return Ne(i.uid===p,r,"user-mismatch"),za._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Li(r,"user-mismatch"),l}}async function aE(i,e,t=!1){if(Qn(i.app))return Promise.reject(Xr(i));const r="signIn",o=await sE(i,r,e),l=await za._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(l.user),l}async function nR(i,e){return aE(Xa(i),e)}async function oE(i){const e=Xa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iR(i,e,t){if(Qn(i.app))return Promise.reject(Xr(i));const r=Xa(i),u=await Np(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J8).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&oE(i),g}),p=await za._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(p.user),p}function rR(i,e,t){return Qn(i.app)?Promise.reject(Xr(i)):nR(ct(i),yl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oE(i),r})}async function sR(i,e){return is(i,"POST","/v1/accounts:update",e)}async function aR(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ct(i),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await ol(r,sR(r.auth,l));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function oR(i,e,t,r){return ct(i).onIdTokenChanged(e,t,r)}function lR(i,e,t){return ct(i).beforeAuthStateChanged(e,t)}function vf(i,e,t,r){return ct(i).onAuthStateChanged(e,t,r)}function lE(i){return ct(i).signOut()}const qd="__sak";class cE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cR=1e3,uR=10;class uE extends cE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,g)=>{this.notifyListeners(u,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);S8()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uR):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},cR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uE.type="LOCAL";const hR=uE;class hE extends cE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hE.type="SESSION";const dE=hE;function dR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(u).map(async m=>m(t.origin,l)),g=await dR(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];function Eg(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}class fR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((p,g)=>{const m=Eg("",20);o.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(v){const _=v;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(_.data.response);break;default:clearTimeout(y),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function xr(){return window}function mR(i){xr().location.href=i}function fE(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function pR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gR(){return navigator?.serviceWorker?.controller||null}function xR(){return fE()?self:null}const mE="firebaseLocalStorageDb",yR=1,$d="firebaseLocalStorage",pE="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _f(i,e){return i.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function vR(){const i=indexedDB.deleteDatabase(mE);return new iu(i).toPromise()}function Rp(){const i=indexedDB.open(mE,yR);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore($d,{keyPath:pE})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains($d)?e(r):(r.close(),await vR(),e(await Rp()))})})}async function Db(i,e,t){const r=_f(i,!0).put({[pE]:e,value:t});return new iu(r).toPromise()}async function bR(i,e){const t=_f(i,!1).get(e),r=await new iu(t).toPromise();return r===void 0?null:r.value}function Ib(i,e){const t=_f(i,!0).delete(e);return new iu(t).toPromise()}const _R=800,wR=3;class gE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>wR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(xR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pR(),!this.activeServiceWorker)return;this.sender=new fR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rp();return await Db(e,qd,"1"),await Ib(e,qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Db(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>bR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ib(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=_f(o,!1).getAll();return new iu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gE.type="LOCAL";const ER=gE;new eu(3e4,6e4);function AR(i,e){return e?Kr(e):(Ne(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Ag extends _g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,t){return il(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function TR(i){return aE(i.auth,new Ag(i),i.bypassAuthState)}function CR(i){const{auth:e,user:t}=i;return Ne(t,e,"internal-error"),tR(t,new Ag(i),i.bypassAuthState)}async function SR(i){const{auth:e,user:t}=i;return Ne(t,e,"internal-error"),eR(t,new Ag(i),i.bypassAuthState)}class xE{constructor(e,t,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:l,error:u,type:p}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TR;case"linkViaPopup":case"linkViaRedirect":return SR;case"reauthViaPopup":case"reauthViaRedirect":return CR;default:Li(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NR=new eu(2e3,1e4);class Jo extends xE{constructor(e,t,r,o,l){super(e,t,o,l),this.provider=r,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NR.get())};e()}}Jo.currentPopupAction=null;const RR="pendingRedirect",$h=new Map;class DR extends xE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=$h.get(this.auth._key());if(!e){try{const r=await IR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$h.set(this.auth._key(),e)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IR(i,e){const t=BR(e),r=jR(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function kR(i,e){$h.set(i._key(),e)}function jR(i){return Kr(i._redirectPersistence)}function BR(i){return qh(RR,i.config.apiKey,i.name)}async function OR(i,e,t=!1){if(Qn(i.app))return Promise.reject(Xr(i));const r=Xa(i),o=AR(r,e),u=await new DR(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const MR=600*1e3;class PR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!yE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(gr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MR&&this.cachedEventUids.clear(),this.cachedEventUids.has(kb(e))}saveEventToCache(e){this.cachedEventUids.add(kb(e)),this.lastProcessedEventTime=Date.now()}}function kb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function yE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function LR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yE(i);default:return!1}}async function FR(i,e={}){return is(i,"GET","/v1/projects",e)}const VR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UR=/^https?/;async function zR(i){if(i.config.emulator)return;const{authorizedDomains:e}=await FR(i);for(const t of e)try{if(HR(t))return}catch{}Li(i,"unauthorized-domain")}function HR(i){const e=Cp(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!UR.test(t))return!1;if(VR.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const qR=new eu(3e4,6e4);function jb(){const i=xr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function $R(i){return new Promise((e,t)=>{function r(){jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jb(),t(gr(i,"network-request-failed"))},timeout:qR.get()})}if(xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xr().gapi?.load)r();else{const o=M8("iframefcb");return xr()[o]=()=>{gapi.load?r():t(gr(i,"network-request-failed"))},tE(`${O8()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Gh=null,e})}let Gh=null;function GR(i){return Gh=Gh||$R(i),Gh}const KR=new eu(5e3,15e3),YR="__/auth/iframe",XR="emulator/auth/iframe",QR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZR(i){const e=i.config;Ne(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?yg(e,XR):`https://${i.config.authDomain}/${YR}`,r={apiKey:e.apiKey,appName:i.name,v:Ya},o=WR.get(i.config.apiHost);o&&(r.eid=o);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Jc(r).slice(1)}`}async function JR(i){const e=await GR(i),t=xr().gapi;return Ne(t,i,"internal-error"),e.open({where:document.body,url:ZR(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QR,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const u=gr(i,"network-request-failed"),p=xr().setTimeout(()=>{l(u)},KR.get());function g(){xr().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{l(u)})}))}const eD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tD=500,nD=600,iD="_blank",rD="http://localhost";class Bb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sD(i,e,t,r=tD,o=nD){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...eD,width:r.toString(),height:o.toString(),top:l,left:u},m=pn().toLowerCase();t&&(p=Yw(m)?iD:t),Gw(m)&&(e=e||rD,g.scrollbars="yes");const y=Object.entries(g).reduce((_,[C,N])=>`${_}${C}=${N},`,"");if(C8(m)&&p!=="_self")return aD(e||"",p),new Bb(null);const v=window.open(e||"",p,y);Ne(v,i,"popup-blocked");try{v.focus()}catch{}return new Bb(v)}function aD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const oD="__/auth/handler",lD="emulator/auth/handler",cD=encodeURIComponent("fac");async function Ob(i,e,t,r,o,l){Ne(i.config.authDomain,i,"auth-domain-config-required"),Ne(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:Ya,eventId:o};if(e instanceof rE){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",w3(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof nu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}i.tenantId&&(u.tid=i.tenantId);const p=u;for(const y of Object.keys(p))p[y]===void 0&&delete p[y];const g=await i._getAppCheckToken(),m=g?`#${cD}=${encodeURIComponent(g)}`:"";return`${uD(i)}?${Jc(p).slice(1)}${m}`}function uD({config:i}){return i.emulator?yg(i,lD):`https://${i.authDomain}/${oD}`}const rp="webStorageSupport";class hD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=OR,this._overrideRedirectResult=kR}async _openPopup(e,t,r,o){Jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Ob(e,t,r,Cp(),o);return sD(e,l,Eg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const l=await Ob(e,t,r,Cp(),o);return mR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Jr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await JR(e),r=new PR(e);return t.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rp,{type:rp},o=>{const l=o?.[0]?.[rp];l!==void 0&&t(!!l),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Jw()||Kw()||bg()}}const dD=hD;var Mb="@firebase/auth",Pb="1.11.1";class fD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pD(i){Pi(new bi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=r.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:u,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(i)},m=new k8(r,o,l,g);return z8(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pi(new bi("auth-internal",e=>{const t=Xa(e.getProvider("auth").getImmediate());return(r=>new fD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(Mb,Pb,mD(i)),On(Mb,Pb,"esm2020")}const gD=300,xD=aw("authIdTokenMaxAge")||gD;let Lb=null;const yD=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>xD)return;const o=t?.token;Lb!==o&&(Lb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vD(i=pf()){const e=ia(i,"auth");if(e.isInitialized())return e.getImmediate();const t=U8(i,{popupRedirectResolver:dD,persistence:[ER,hR,dE]}),r=aw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=yD(l.toString());lR(t,u,()=>u(t.currentUser)),oR(t,p=>u(p))}}const o=iw("auth");return o&&H8(t,`http://${o}`),t}function bD(){return document.getElementsByTagName("head")?.[0]??document}j8({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const l=gr("internal-error");l.customData=o,t(l)},r.type="text/javascript",r.charset="UTF-8",bD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pD("Browser");var Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $s,vE;(function(){var i;function e(T,R){function S(){}S.prototype=R.prototype,T.F=R.prototype,T.prototype=new S,T.prototype.constructor=T,T.D=function(A,D,V){for(var O=Array(arguments.length-2),de=2;de<arguments.length;de++)O[de-2]=arguments[de];return R.prototype[D].apply(A,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(T,R,S){S||(S=0);const A=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)A[D]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(D=0;D<16;++D)A[D]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=T.g[0],S=T.g[1],D=T.g[2];let V=T.g[3],O;O=R+(V^S&(D^V))+A[0]+3614090360&4294967295,R=S+(O<<7&4294967295|O>>>25),O=V+(D^R&(S^D))+A[1]+3905402710&4294967295,V=R+(O<<12&4294967295|O>>>20),O=D+(S^V&(R^S))+A[2]+606105819&4294967295,D=V+(O<<17&4294967295|O>>>15),O=S+(R^D&(V^R))+A[3]+3250441966&4294967295,S=D+(O<<22&4294967295|O>>>10),O=R+(V^S&(D^V))+A[4]+4118548399&4294967295,R=S+(O<<7&4294967295|O>>>25),O=V+(D^R&(S^D))+A[5]+1200080426&4294967295,V=R+(O<<12&4294967295|O>>>20),O=D+(S^V&(R^S))+A[6]+2821735955&4294967295,D=V+(O<<17&4294967295|O>>>15),O=S+(R^D&(V^R))+A[7]+4249261313&4294967295,S=D+(O<<22&4294967295|O>>>10),O=R+(V^S&(D^V))+A[8]+1770035416&4294967295,R=S+(O<<7&4294967295|O>>>25),O=V+(D^R&(S^D))+A[9]+2336552879&4294967295,V=R+(O<<12&4294967295|O>>>20),O=D+(S^V&(R^S))+A[10]+4294925233&4294967295,D=V+(O<<17&4294967295|O>>>15),O=S+(R^D&(V^R))+A[11]+2304563134&4294967295,S=D+(O<<22&4294967295|O>>>10),O=R+(V^S&(D^V))+A[12]+1804603682&4294967295,R=S+(O<<7&4294967295|O>>>25),O=V+(D^R&(S^D))+A[13]+4254626195&4294967295,V=R+(O<<12&4294967295|O>>>20),O=D+(S^V&(R^S))+A[14]+2792965006&4294967295,D=V+(O<<17&4294967295|O>>>15),O=S+(R^D&(V^R))+A[15]+1236535329&4294967295,S=D+(O<<22&4294967295|O>>>10),O=R+(D^V&(S^D))+A[1]+4129170786&4294967295,R=S+(O<<5&4294967295|O>>>27),O=V+(S^D&(R^S))+A[6]+3225465664&4294967295,V=R+(O<<9&4294967295|O>>>23),O=D+(R^S&(V^R))+A[11]+643717713&4294967295,D=V+(O<<14&4294967295|O>>>18),O=S+(V^R&(D^V))+A[0]+3921069994&4294967295,S=D+(O<<20&4294967295|O>>>12),O=R+(D^V&(S^D))+A[5]+3593408605&4294967295,R=S+(O<<5&4294967295|O>>>27),O=V+(S^D&(R^S))+A[10]+38016083&4294967295,V=R+(O<<9&4294967295|O>>>23),O=D+(R^S&(V^R))+A[15]+3634488961&4294967295,D=V+(O<<14&4294967295|O>>>18),O=S+(V^R&(D^V))+A[4]+3889429448&4294967295,S=D+(O<<20&4294967295|O>>>12),O=R+(D^V&(S^D))+A[9]+568446438&4294967295,R=S+(O<<5&4294967295|O>>>27),O=V+(S^D&(R^S))+A[14]+3275163606&4294967295,V=R+(O<<9&4294967295|O>>>23),O=D+(R^S&(V^R))+A[3]+4107603335&4294967295,D=V+(O<<14&4294967295|O>>>18),O=S+(V^R&(D^V))+A[8]+1163531501&4294967295,S=D+(O<<20&4294967295|O>>>12),O=R+(D^V&(S^D))+A[13]+2850285829&4294967295,R=S+(O<<5&4294967295|O>>>27),O=V+(S^D&(R^S))+A[2]+4243563512&4294967295,V=R+(O<<9&4294967295|O>>>23),O=D+(R^S&(V^R))+A[7]+1735328473&4294967295,D=V+(O<<14&4294967295|O>>>18),O=S+(V^R&(D^V))+A[12]+2368359562&4294967295,S=D+(O<<20&4294967295|O>>>12),O=R+(S^D^V)+A[5]+4294588738&4294967295,R=S+(O<<4&4294967295|O>>>28),O=V+(R^S^D)+A[8]+2272392833&4294967295,V=R+(O<<11&4294967295|O>>>21),O=D+(V^R^S)+A[11]+1839030562&4294967295,D=V+(O<<16&4294967295|O>>>16),O=S+(D^V^R)+A[14]+4259657740&4294967295,S=D+(O<<23&4294967295|O>>>9),O=R+(S^D^V)+A[1]+2763975236&4294967295,R=S+(O<<4&4294967295|O>>>28),O=V+(R^S^D)+A[4]+1272893353&4294967295,V=R+(O<<11&4294967295|O>>>21),O=D+(V^R^S)+A[7]+4139469664&4294967295,D=V+(O<<16&4294967295|O>>>16),O=S+(D^V^R)+A[10]+3200236656&4294967295,S=D+(O<<23&4294967295|O>>>9),O=R+(S^D^V)+A[13]+681279174&4294967295,R=S+(O<<4&4294967295|O>>>28),O=V+(R^S^D)+A[0]+3936430074&4294967295,V=R+(O<<11&4294967295|O>>>21),O=D+(V^R^S)+A[3]+3572445317&4294967295,D=V+(O<<16&4294967295|O>>>16),O=S+(D^V^R)+A[6]+76029189&4294967295,S=D+(O<<23&4294967295|O>>>9),O=R+(S^D^V)+A[9]+3654602809&4294967295,R=S+(O<<4&4294967295|O>>>28),O=V+(R^S^D)+A[12]+3873151461&4294967295,V=R+(O<<11&4294967295|O>>>21),O=D+(V^R^S)+A[15]+530742520&4294967295,D=V+(O<<16&4294967295|O>>>16),O=S+(D^V^R)+A[2]+3299628645&4294967295,S=D+(O<<23&4294967295|O>>>9),O=R+(D^(S|~V))+A[0]+4096336452&4294967295,R=S+(O<<6&4294967295|O>>>26),O=V+(S^(R|~D))+A[7]+1126891415&4294967295,V=R+(O<<10&4294967295|O>>>22),O=D+(R^(V|~S))+A[14]+2878612391&4294967295,D=V+(O<<15&4294967295|O>>>17),O=S+(V^(D|~R))+A[5]+4237533241&4294967295,S=D+(O<<21&4294967295|O>>>11),O=R+(D^(S|~V))+A[12]+1700485571&4294967295,R=S+(O<<6&4294967295|O>>>26),O=V+(S^(R|~D))+A[3]+2399980690&4294967295,V=R+(O<<10&4294967295|O>>>22),O=D+(R^(V|~S))+A[10]+4293915773&4294967295,D=V+(O<<15&4294967295|O>>>17),O=S+(V^(D|~R))+A[1]+2240044497&4294967295,S=D+(O<<21&4294967295|O>>>11),O=R+(D^(S|~V))+A[8]+1873313359&4294967295,R=S+(O<<6&4294967295|O>>>26),O=V+(S^(R|~D))+A[15]+4264355552&4294967295,V=R+(O<<10&4294967295|O>>>22),O=D+(R^(V|~S))+A[6]+2734768916&4294967295,D=V+(O<<15&4294967295|O>>>17),O=S+(V^(D|~R))+A[13]+1309151649&4294967295,S=D+(O<<21&4294967295|O>>>11),O=R+(D^(S|~V))+A[4]+4149444226&4294967295,R=S+(O<<6&4294967295|O>>>26),O=V+(S^(R|~D))+A[11]+3174756917&4294967295,V=R+(O<<10&4294967295|O>>>22),O=D+(R^(V|~S))+A[2]+718787259&4294967295,D=V+(O<<15&4294967295|O>>>17),O=S+(V^(D|~R))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+R&4294967295,T.g[1]=T.g[1]+(D+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+V&4294967295}r.prototype.v=function(T,R){R===void 0&&(R=T.length);const S=R-this.blockSize,A=this.C;let D=this.h,V=0;for(;V<R;){if(D==0)for(;V<=S;)o(this,T,V),V+=this.blockSize;if(typeof T=="string"){for(;V<R;)if(A[D++]=T.charCodeAt(V++),D==this.blockSize){o(this,A),D=0;break}}else for(;V<R;)if(A[D++]=T[V++],D==this.blockSize){o(this,A),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var R=1;R<T.length-8;++R)T[R]=0;R=this.o*8;for(var S=T.length-8;S<T.length;++S)T[S]=R&255,R/=256;for(this.v(T),T=Array(16),R=0,S=0;S<4;++S)for(let A=0;A<32;A+=8)T[R++]=this.g[S]>>>A&255;return T};function l(T,R){var S=p;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=R(T)}function u(T,R){this.h=R;const S=[];let A=!0;for(let D=T.length-1;D>=0;D--){const V=T[D]|0;A&&V==R||(S[D]=V,A=!1)}this.g=S}var p={};function g(T){return-128<=T&&T<128?l(T,function(R){return new u([R|0],R<0?-1:0)}):new u([T|0],T<0?-1:0)}function m(T){if(isNaN(T)||!isFinite(T))return v;if(T<0)return I(m(-T));const R=[];let S=1;for(let A=0;T>=S;A++)R[A]=T/S|0,S*=4294967296;return new u(R,0)}function y(T,R){if(T.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(T.charAt(0)=="-")return I(y(T.substring(1),R));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=m(Math.pow(R,8));let A=v;for(let V=0;V<T.length;V+=8){var D=Math.min(8,T.length-V);const O=parseInt(T.substring(V,V+D),R);D<8?(D=m(Math.pow(R,D)),A=A.j(D).add(m(O))):(A=A.j(S),A=A.add(m(O)))}return A}var v=g(0),_=g(1),C=g(16777216);i=u.prototype,i.m=function(){if(B(this))return-I(this).m();let T=0,R=1;for(let S=0;S<this.g.length;S++){const A=this.i(S);T+=(A>=0?A:4294967296+A)*R,R*=4294967296}return T},i.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(N(this))return"0";if(B(this))return"-"+I(this).toString(T);const R=m(Math.pow(T,6));var S=this;let A="";for(;;){const D=L(S,R).g;S=P(S,D.j(R));let V=((S.g.length>0?S.g[0]:S.h)>>>0).toString(T);if(S=D,N(S))return V+A;for(;V.length<6;)V="0"+V;A=V+A}},i.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function N(T){if(T.h!=0)return!1;for(let R=0;R<T.g.length;R++)if(T.g[R]!=0)return!1;return!0}function B(T){return T.h==-1}i.l=function(T){return T=P(this,T),B(T)?-1:N(T)?0:1};function I(T){const R=T.g.length,S=[];for(let A=0;A<R;A++)S[A]=~T.g[A];return new u(S,~T.h).add(_)}i.abs=function(){return B(this)?I(this):this},i.add=function(T){const R=Math.max(this.g.length,T.g.length),S=[];let A=0;for(let D=0;D<=R;D++){let V=A+(this.i(D)&65535)+(T.i(D)&65535),O=(V>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);A=O>>>16,V&=65535,O&=65535,S[D]=O<<16|V}return new u(S,S[S.length-1]&-2147483648?-1:0)};function P(T,R){return T.add(I(R))}i.j=function(T){if(N(this)||N(T))return v;if(B(this))return B(T)?I(this).j(I(T)):I(I(this).j(T));if(B(T))return I(this.j(I(T)));if(this.l(C)<0&&T.l(C)<0)return m(this.m()*T.m());const R=this.g.length+T.g.length,S=[];for(var A=0;A<2*R;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(let D=0;D<T.g.length;D++){const V=this.i(A)>>>16,O=this.i(A)&65535,de=T.i(D)>>>16,ie=T.i(D)&65535;S[2*A+2*D]+=O*ie,k(S,2*A+2*D),S[2*A+2*D+1]+=V*ie,k(S,2*A+2*D+1),S[2*A+2*D+1]+=O*de,k(S,2*A+2*D+1),S[2*A+2*D+2]+=V*de,k(S,2*A+2*D+2)}for(T=0;T<R;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=R;T<2*R;T++)S[T]=0;return new u(S,0)};function k(T,R){for(;(T[R]&65535)!=T[R];)T[R+1]+=T[R]>>>16,T[R]&=65535,R++}function j(T,R){this.g=T,this.h=R}function L(T,R){if(N(R))throw Error("division by zero");if(N(T))return new j(v,v);if(B(T))return R=L(I(T),R),new j(I(R.g),I(R.h));if(B(R))return R=L(T,I(R)),new j(I(R.g),R.h);if(T.g.length>30){if(B(T)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var S=_,A=R;A.l(T)<=0;)S=z(S),A=z(A);var D=q(S,1),V=q(A,1);for(A=q(A,2),S=q(S,2);!N(A);){var O=V.add(A);O.l(T)<=0&&(D=D.add(S),V=O),A=q(A,1),S=q(S,1)}return R=P(T,D.j(R)),new j(D,R)}for(D=v;T.l(R)>=0;){for(S=Math.max(1,Math.floor(T.m()/R.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),V=m(S),O=V.j(R);B(O)||O.l(T)>0;)S-=A,V=m(S),O=V.j(R);N(V)&&(V=_),D=D.add(V),T=P(T,O)}return new j(D,T)}i.B=function(T){return L(this,T).h},i.and=function(T){const R=Math.max(this.g.length,T.g.length),S=[];for(let A=0;A<R;A++)S[A]=this.i(A)&T.i(A);return new u(S,this.h&T.h)},i.or=function(T){const R=Math.max(this.g.length,T.g.length),S=[];for(let A=0;A<R;A++)S[A]=this.i(A)|T.i(A);return new u(S,this.h|T.h)},i.xor=function(T){const R=Math.max(this.g.length,T.g.length),S=[];for(let A=0;A<R;A++)S[A]=this.i(A)^T.i(A);return new u(S,this.h^T.h)};function z(T){const R=T.g.length+1,S=[];for(let A=0;A<R;A++)S[A]=T.i(A)<<1|T.i(A-1)>>>31;return new u(S,T.h)}function q(T,R){const S=R>>5;R%=32;const A=T.g.length-S,D=[];for(let V=0;V<A;V++)D[V]=R>0?T.i(V+S)>>>R|T.i(V+S+1)<<32-R:T.i(V+S);return new u(D,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,$s=u}).apply(typeof Fb<"u"?Fb:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bE,Nc,_E,Kh,Dp,wE,EE,AE;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(h,b){if(b)e:{var E=r;h=h.split(".");for(var U=0;U<h.length-1;U++){var J=h[U];if(!(J in E))break e;E=E[J]}h=h[h.length-1],U=E[h],b=b(U),b!=U&&b!=null&&e(E,h,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(b){var E=[],U;for(U in b)Object.prototype.hasOwnProperty.call(b,U)&&E.push([U,b[U]]);return E}});var l=l||{},u=this||self;function p(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function g(h,b,E){return h.call.apply(h.bind,arguments)}function m(h,b,E){return m=g,m.apply(null,arguments)}function y(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var U=E.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function v(h,b){function E(){}E.prototype=b.prototype,h.Z=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(U,J,re){for(var pe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)pe[Be-2]=arguments[Be];return b.prototype[J].apply(U,pe)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const b=h.length;if(b>0){const E=Array(b);for(let U=0;U<b;U++)E[U]=h[U];return E}return[]}function N(h,b){for(let U=1;U<arguments.length;U++){const J=arguments[U];var E=typeof J;if(E=E!="object"?E:J?Array.isArray(J)?"array":E:"null",E=="array"||E=="object"&&typeof J.length=="number"){E=h.length||0;const re=J.length||0;h.length=E+re;for(let pe=0;pe<re;pe++)h[E+pe]=J[pe]}else h.push(J)}}class B{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function I(h){u.setTimeout(()=>{throw h},0)}function P(){var h=T;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class k{constructor(){this.h=this.g=null}add(b,E){const U=j.get();U.set(b,E),this.h?this.h.next=U:this.g=U,this.h=U}}var j=new B(()=>new L,h=>h.reset());class L{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let z,q=!1,T=new k,R=()=>{const h=Promise.resolve(void 0);z=()=>{h.then(S)}};function S(){for(var h;h=P();){try{h.h.call(h.g)}catch(E){I(E)}var b=j;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}q=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,b),u.removeEventListener("test",E,b)}catch{}return h})();function O(h){return/^[\s\xa0]*$/.test(h)}function de(h,b){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}v(de,D),de.prototype.init=function(h,b){const E=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),H=0;function X(h,b,E,U,J){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!U,this.ha=J,this.key=++H,this.da=this.fa=!1}function ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fe(h,b,E){for(const U in h)b.call(E,h[U],U,h)}function me(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function F(h){const b={};for(const E in h)b[E]=h[E];return b}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(h,b){let E,U;for(let J=1;J<arguments.length;J++){U=arguments[J];for(E in U)h[E]=U[E];for(let re=0;re<K.length;re++)E=K[re],Object.prototype.hasOwnProperty.call(U,E)&&(h[E]=U[E])}}function Z(h){this.src=h,this.g={},this.h=0}Z.prototype.add=function(h,b,E,U,J){const re=h.toString();h=this.g[re],h||(h=this.g[re]=[],this.h++);const pe=ye(h,b,U,J);return pe>-1?(b=h[pe],E||(b.fa=!1)):(b=new X(b,this.src,re,!!U,J),b.fa=E,h.push(b)),b};function xe(h,b){const E=b.type;if(E in h.g){var U=h.g[E],J=Array.prototype.indexOf.call(U,b,void 0),re;(re=J>=0)&&Array.prototype.splice.call(U,J,1),re&&(ae(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ye(h,b,E,U){for(let J=0;J<h.length;++J){const re=h[J];if(!re.da&&re.listener==b&&re.capture==!!E&&re.ha==U)return J}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Ee={};function We(h,b,E,U,J){if(Array.isArray(b)){for(let re=0;re<b.length;re++)We(h,b[re],E,U,J);return null}return E=wi(E),h&&h[ie]?h.J(b,E,p(U)?!!U.capture:!1,J):En(h,b,E,!1,U,J)}function En(h,b,E,U,J,re){if(!b)throw Error("Invalid event type");const pe=p(J)?!!J.capture:!!J;let Be=Mn(h);if(Be||(h[Se]=Be=new Z(h)),E=Be.add(b,E,U,pe,re),E.proxy)return E;if(U=Ui(),E.proxy=U,U.src=h,U.listener=E,h.addEventListener)V||(J=pe),J===void 0&&(J=!1),h.addEventListener(b.toString(),U,J);else if(h.attachEvent)h.attachEvent(mt(b.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ui(){function h(E){return b.call(h.src,h.listener,E)}const b=zi;return h}function ti(h,b,E,U,J){if(Array.isArray(b))for(var re=0;re<b.length;re++)ti(h,b[re],E,U,J);else U=p(U)?!!U.capture:!!U,E=wi(E),h&&h[ie]?(h=h.i,re=String(b).toString(),re in h.g&&(b=h.g[re],E=ye(b,E,U,J),E>-1&&(ae(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete h.g[re],h.h--)))):h&&(h=Mn(h))&&(b=h.g[b.toString()],h=-1,b&&(h=ye(b,E,U,J)),(E=h>-1?b[h]:null)&&Kt(E))}function Kt(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[ie])xe(b.i,h);else{var E=h.type,U=h.proxy;b.removeEventListener?b.removeEventListener(E,U,h.capture):b.detachEvent?b.detachEvent(mt(E),U):b.addListener&&b.removeListener&&b.removeListener(U),(E=Mn(b))?(xe(E,h),E.h==0&&(E.src=null,b[Se]=null)):ae(h)}}}function mt(h){return h in Ee?Ee[h]:Ee[h]="on"+h}function zi(h,b){if(h.da)h=!0;else{b=new de(b,this);const E=h.listener,U=h.ha||h.src;h.fa&&Kt(h),h=E.call(U,b)}return h}function Mn(h){return h=h[Se],h instanceof Z?h:null}var Hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function wi(h){return typeof h=="function"?h:(h[Hi]||(h[Hi]=function(b){return h.handleEvent(b)}),h[Hi])}function pt(){A.call(this),this.i=new Z(this),this.M=this,this.G=null}v(pt,A),pt.prototype[ie]=!0,pt.prototype.removeEventListener=function(h,b,E,U){ti(this,h,b,E,U)};function ut(h,b){var E,U=h.G;if(U)for(E=[];U;U=U.G)E.push(U);if(h=h.M,U=b.type||b,typeof b=="string")b=new D(b,h);else if(b instanceof D)b.target=b.target||h;else{var J=b;b=new D(U,h),W(b,J)}J=!0;let re,pe;if(E)for(pe=E.length-1;pe>=0;pe--)re=b.g=E[pe],J=Dt(re,U,!0,b)&&J;if(re=b.g=h,J=Dt(re,U,!0,b)&&J,J=Dt(re,U,!1,b)&&J,E)for(pe=0;pe<E.length;pe++)re=b.g=E[pe],J=Dt(re,U,!1,b)&&J}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const E=h.g[b];for(let U=0;U<E.length;U++)ae(E[U]);delete h.g[b],h.h--}}this.G=null},pt.prototype.J=function(h,b,E,U){return this.i.add(String(h),b,!1,E,U)},pt.prototype.K=function(h,b,E,U){return this.i.add(String(h),b,!0,E,U)};function Dt(h,b,E,U){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let J=!0;for(let re=0;re<b.length;++re){const pe=b[re];if(pe&&!pe.da&&pe.capture==E){const Be=pe.listener,Ct=pe.ha||pe.src;pe.fa&&xe(h.i,pe),J=Be.call(Ct,U)!==!1&&J}}return J&&!U.defaultPrevented}function ln(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(h,b||0)}function Pn(h){h.g=ln(()=>{h.g=null,h.i&&(h.i=!1,Pn(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class It extends A{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(h){A.call(this),this.h=h,this.g={}}v(qi,A);var ni=[];function Ei(h){fe(h.g,function(b,E){this.g.hasOwnProperty(E)&&Kt(b)},h),h.g={}}qi.prototype.N=function(){qi.Z.N.call(this),Ei(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=u.JSON.stringify,io=u.JSON.parse,la=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Ai(){}function Gi(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){D.call(this,"d")}v(kt,D);function gn(){D.call(this,"c")}v(gn,D);var yt={},ro=null;function Cr(){return ro=ro||new pt}yt.Ia="serverreachability";function so(h){D.call(this,yt.Ia,h)}v(so,D);function Fn(h){const b=Cr();ut(b,new so(b))}yt.STAT_EVENT="statevent";function Sr(h,b){D.call(this,yt.STAT_EVENT,h),this.stat=b}v(Sr,D);function vt(h){const b=Cr();ut(b,new Sr(b,h))}yt.Ja="timingevent";function ii(h,b){D.call(this,yt.Ja,h),this.size=b}v(ii,D);function ri(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},b)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function ao(h,b,E,U,J,re){h.info(function(){if(h.g)if(re){var pe="",Be=re.split("&");for(let Xe=0;Xe<Be.length;Xe++){var Ct=Be[Xe].split("=");if(Ct.length>1){const gt=Ct[0];Ct=Ct[1];const ci=gt.split("_");pe=ci.length>=2&&ci[1]=="type"?pe+(gt+"="+Ct+"&"):pe+(gt+"=redacted&")}}}else pe=null;else pe=re;return"XMLHTTP REQ ("+U+") [attempt "+J+"]: "+b+`
`+E+`
`+pe})}function oo(h,b,E,U,J,re,pe){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+J+"]: "+b+`
`+E+`
`+re+" "+pe})}function si(h,b,E,U){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Al(h,E)+(U?" "+U:"")})}function Ki(h,b){h.info(function(){return"TIMEOUT: "+b})}Vn.prototype.info=function(){};function Al(h,b){if(!h.g)return b;if(!b)return null;try{const re=JSON.parse(b);if(re){for(h=0;h<re.length;h++)if(Array.isArray(re[h])){var E=re[h];if(!(E.length<2)){var U=E[1];if(Array.isArray(U)&&!(U.length<1)){var J=U[0];if(J!="noop"&&J!="stop"&&J!="close")for(let pe=1;pe<U.length;pe++)U[pe]=""}}}}return $i(re)}catch{return b}}var Yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},An;function Xi(){}v(Xi,Ai),Xi.prototype.g=function(){return new XMLHttpRequest},An=new Xi;function Ti(h){return encodeURIComponent(String(h))}function uu(h){var b=1;h=h.split(":");const E=[];for(;b>0&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function Ci(h,b,E,U){this.j=h,this.i=b,this.l=E,this.S=U||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}var jt={},Yt={};function Qi(h,b,E){h.M=1,h.A=ca(Ot(b)),h.u=E,h.R=!0,lo(h,null)}function lo(h,b){h.F=Date.now(),Wi(h),h.B=Ot(h.A);var E=h.B,U=h.S;Array.isArray(U)||(U=[String(U)]),fo(E.i,"t",U),h.C=0,E=h.j.L,h.h=new Si,h.g=Tu(h.j,E?b:null,!h.u),h.P>0&&(h.O=new It(m(h.Y,h,h.g),h.P)),b=h.V,E=h.g,U=h.ba;var J="readystatechange";Array.isArray(J)||(J&&(ni[0]=J.toString()),J=ni);for(let re=0;re<J.length;re++){const pe=We(E,J[re],U||b.handleEvent,!1,b.h||b);if(!pe)break;b.g[pe.key]=pe}b=h.J?F(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),Fn(),ao(h.i,h.v,h.B,h.l,h.S,h.u)}Ci.prototype.ba=function(h){h=h.target;const b=this.O;b&&Di(h)==3?b.j():this.Y(h)},Ci.prototype.Y=function(h){try{if(h==this.g)e:{const Be=Di(this.g),Ct=this.g.ya(),Xe=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Be!=4||Ct==7||(Ct==8||Xe<=0?Fn(3):Fn(2)),Zi(this);var b=this.g.ca();this.X=b;var E=Hf(this);if(this.o=b==200,oo(this.i,this.v,this.B,this.l,this.S,Be,b),this.o){if(this.U&&!this.L){t:{if(this.g){var U,J=this.g;if((U=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(U)){var re=U;break t}}re=null}if(h=re)si(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ji(this,h);else{this.o=!1,this.m=3,vt(12),Un(this),ai(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<E.length;)if(gt=du(this,E),gt==Yt){Be==4&&(this.m=4,vt(14),h=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==jt){this.m=4,vt(15),si(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else si(this.i,this.l,gt,null),Ji(this,gt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||E.length!=0||this.h.h||(this.m=1,vt(16),h=!1),this.o=this.o&&h,!h)si(this.i,this.l,E,"[Invalid Chunked Response]"),Un(this),ai(this);else if(E.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Fl(pe),pe.P=!0,vt(11))}}else si(this.i,this.l,E,null),Ji(this,E);Be==4&&Un(this),this.o&&!this.K&&(Be==4?_u(this.j,this):(this.o=!1,Wi(this)))}else Rr(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Un(this),ai(this)}}}catch{}finally{}};function Hf(h){if(!hu(h))return h.g.la();const b=Jt(h.g);if(b==="")return"";let E="";const U=b.length,J=Di(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Un(h),ai(h),"";h.h.i=new u.TextDecoder}for(let re=0;re<U;re++)h.h.h=!0,E+=h.h.i.decode(b[re],{stream:!(J&&re==U-1)});return b.length=0,h.h.g+=E,h.C=0,h.h.g}function hu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function du(h,b){var E=h.C,U=b.indexOf(`
`,E);return U==-1?Yt:(E=Number(b.substring(E,U)),isNaN(E)?jt:(U+=1,U+E>b.length?Yt:(b=b.slice(U,U+E),h.C=U+E,b)))}Ci.prototype.cancel=function(){this.K=!0,Un(this)};function Wi(h){h.T=Date.now()+h.H,co(h,h.H)}function co(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ri(m(h.aa,h),b)}function Zi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Ci.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ki(this.i,this.B),this.M!=2&&(Fn(),vt(17)),Un(this),this.m=2,ai(this)):co(this,this.T-h)};function ai(h){h.j.I==0||h.K||_u(h.j,h)}function Un(h){Zi(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Ei(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Ji(h,b){try{var E=h.j;if(E.I!=0&&(E.g==h||tr(E.h,h))){if(!h.L&&tr(E.h,h)&&E.I==3){try{var U=E.Ba.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var J=U;if(J[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)yo(E),hs(E);else break e;ga(E),vt(18)}}else E.xa=J[1],0<E.xa-E.K&&J[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ri(m(E.Va,E),6e3));er(E.h)<=1&&E.ta&&(E.ta=void 0)}else or(E,11)}else if((h.L||E.g==h)&&yo(E),!O(b))for(J=E.Ba.g.parse(b),b=0;b<J.length;b++){let Xe=J[b];const gt=Xe[0];if(!(gt<=E.K))if(E.K=gt,Xe=Xe[1],E.I==2)if(Xe[0]=="c"){E.M=Xe[1],E.ba=Xe[2];const ci=Xe[3];ci!=null&&(E.ka=ci,E.j.info("VER="+E.ka));const lr=Xe[4];lr!=null&&(E.za=lr,E.j.info("SVER="+E.za));const Ii=Xe[5];Ii!=null&&typeof Ii=="number"&&Ii>0&&(U=1.5*Ii,E.O=U,E.j.info("backChannelRequestTimeoutMs_="+U)),U=E;const ki=h.g;if(ki){const xa=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var re=U.h;re.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Sl(re,re.h),re.h=null))}if(U.G){const vo=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(U.wa=vo,Je(U.J,U.G,vo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),U=E;var pe=h;if(U.na=Au(U,U.L?U.ba:null,U.W),pe.L){Nl(U.h,pe);var Be=pe,Ct=U.O;Ct&&(Be.H=Ct),Be.D&&(Zi(Be),Wi(Be)),U.g=pe}else vu(U);E.i.length>0&&ar(E)}else Xe[0]!="stop"&&Xe[0]!="close"||or(E,7);else E.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?or(E,7):Pl(E):Xe[0]!="noop"&&E.l&&E.l.qa(Xe),E.A=0)}}Fn(4)}catch{}}var Bt=class{constructor(h,b){this.g=h,this.map=b}};function Tl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function er(h){return h.h?1:h.g?h.g.size:0}function tr(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Sl(h,b){h.g?h.g.add(b):h.h=b}function Nl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Tl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.G);return b}return C(h.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(h,b){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const U=h[E].indexOf("=");let J,re=null;U>=0?(J=h[E].substring(0,U),re=h[E].substring(U+1)):J=h[E],b(J,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function zn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof zn?(this.l=h.l,Xt(this,h.j),this.o=h.o,this.g=h.g,rs(this,h.u),this.h=h.h,Dl(this,xu(h.i)),this.m=h.m):h&&(b=String(h).match(fu))?(this.l=!1,Xt(this,b[1]||"",!0),this.o=nr(b[2]||""),this.g=nr(b[3]||"",!0),rs(this,b[4]),this.h=nr(b[5]||"",!0),Dl(this,b[6]||"",!0),this.m=nr(b[7]||"")):(this.l=!1,this.i=new as(null,this.l))}zn.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(ua(b,ho,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(ua(b,ho,!0),"@"),h.push(Ti(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ua(E,E.charAt(0)=="/"?Il:mu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ua(E,pu)),h.join("")},zn.prototype.resolve=function(h){const b=Ot(this);let E=!!h.j;E?Xt(b,h.j):E=!!h.o,E?b.o=h.o:E=!!h.g,E?b.g=h.g:E=h.u!=null;var U=h.h;if(E)rs(b,h.u);else if(E=!!h.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var J=b.h.lastIndexOf("/");J!=-1&&(U=b.h.slice(0,J+1)+U)}if(J=U,J==".."||J==".")U="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){U=J.lastIndexOf("/",0)==0,J=J.split("/");const re=[];for(let pe=0;pe<J.length;){const Be=J[pe++];Be=="."?U&&pe==J.length&&re.push(""):Be==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),U&&pe==J.length&&re.push("")):(re.push(Be),U=!0)}U=re.join("/")}else U=J}return E?b.h=U:E=h.i.toString()!=="",E?Dl(b,xu(h.i)):E=!!h.m,E&&(b.m=h.m),b};function Ot(h){return new zn(h)}function Xt(h,b,E){h.j=E?nr(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function rs(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Dl(h,b,E){b instanceof as?(h.i=b,mo(h.i,h.l)):(E||(b=ua(b,ss)),h.i=new as(b,h.l))}function Je(h,b,E){h.i.set(b,E)}function ca(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function nr(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ua(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,Tn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ho=/[#\/\?@]/g,mu=/[#\?:]/g,Il=/[#\?]/g,ss=/[#\?@]/g,pu=/#/g;function as(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Cn(h){h.g||(h.g=new Map,h.h=0,h.i&&uo(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}i=as.prototype,i.add=function(h,b){Cn(this),this.i=null,h=os(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function gu(h,b){Cn(h),b=os(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function kl(h,b){return Cn(h),b=os(h,b),h.g.has(b)}i.forEach=function(h,b){Cn(this),this.g.forEach(function(E,U){E.forEach(function(J){h.call(b,J,U,this)},this)},this)};function jl(h,b){Cn(h);let E=[];if(typeof b=="string")kl(h,b)&&(E=E.concat(h.g.get(os(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)E=E.concat(h[b]);return E}i.set=function(h,b){return Cn(this),this.i=null,h=os(this,h),kl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},i.get=function(h,b){return h?(h=jl(this,h),h.length>0?String(h[0]):b):b};function fo(h,b,E){gu(h,b),E.length>0&&(h.i=null,h.g.set(os(h,b),C(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let U=0;U<b.length;U++){var E=b[U];const J=Ti(E);E=jl(this,E);for(let re=0;re<E.length;re++){let pe=J;E[re]!==""&&(pe+="="+Ti(E[re])),h.push(pe)}}return this.i=h.join("&")};function xu(h){const b=new as;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function os(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function mo(h,b){b&&!h.j&&(Cn(h),h.i=null,h.g.forEach(function(E,U){const J=U.toLowerCase();U!=J&&(gu(this,U),fo(this,J,E))},h)),h.j=b}function Ni(h,b){const E=new Vn;if(u.Image){const U=new Image;U.onload=y(oi,E,"TestLoadImage: loaded",!0,b,U),U.onerror=y(oi,E,"TestLoadImage: error",!1,b,U),U.onabort=y(oi,E,"TestLoadImage: abort",!1,b,U),U.ontimeout=y(oi,E,"TestLoadImage: timeout",!1,b,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else b(!1)}function Bl(h,b){const E=new Vn,U=new AbortController,J=setTimeout(()=>{U.abort(),oi(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:U.signal}).then(re=>{clearTimeout(J),re.ok?oi(E,"TestPingServer: ok",!0,b):oi(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(J),oi(E,"TestPingServer: error",!1,b)})}function oi(h,b,E,U,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),U(E)}catch{}}function ls(){this.g=new la}function ir(h){this.i=h.Sb||null,this.h=h.ab||!1}v(ir,Ai),ir.prototype.g=function(){return new ha(this.i,this.h)};function ha(h,b){pt.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ha,pt),i=ha.prototype,i.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,Ri(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;po(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function po(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?cs(this):Ri(this),this.readyState==3&&po(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,cs(this))},i.Na=function(h){this.g&&(this.response=h,cs(this))},i.ga=function(){this.g&&cs(this)};function cs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ri(h)}i.setRequestHeader=function(h,b){this.A.append(h,b)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function Ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function li(h){let b="";return fe(h,function(E,U){b+=U,b+=":",b+=E,b+=`\r
`}),b}function da(h,b,E){e:{for(U in E){var U=!1;break e}U=!0}U||(E=li(E),typeof h=="string"?E!=null&&Ti(E):Je(h,b,E))}function it(h){pt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(it,pt);var rr=/^https?$/i,Ol=["POST","PUT"];i=it.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,b,E,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():An.g(),this.g.onreadystatechange=_(m(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(re){fa(this,re);return}if(h=E||"",E=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var J in U)E.set(J,U[J]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const re of U.keys())E.set(re,U.get(re));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(E.keys()).find(re=>re.toLowerCase()=="content-type"),J=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Ol,b,void 0)>=0)||U||J||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,pe]of E)this.g.setRequestHeader(re,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(re){fa(this,re)}};function fa(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Ml(h),Nr(h)}function Ml(h){h.A||(h.A=!0,ut(h,"complete"),ut(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ut(this,"complete"),ut(this,"abort"),Nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),it.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ma(this):this.Xa())},i.Xa=function(){ma(this)};function ma(h){if(h.h&&typeof l<"u"){if(h.v&&Di(h)==4)setTimeout(h.Ca.bind(h),0);else if(ut(h,"readystatechange"),Di(h)==4){h.h=!1;try{const re=h.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var U;if(U=re===0){let pe=String(h.D).match(fu)[1]||null;!pe&&u.self&&u.self.location&&(pe=u.self.location.protocol.slice(0,-1)),U=!rr.test(pe?pe.toLowerCase():"")}E=U}if(E)ut(h,"complete"),ut(h,"success");else{h.o=6;try{var J=Di(h)>2?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.ca()+"]",Ml(h)}}finally{Nr(h)}}}}function Nr(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,b||ut(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Di(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Di(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),io(b)}};function Jt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Rr(h){const b={};h=(h.g&&Di(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(O(h[U]))continue;var E=uu(h[U]);const J=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const re=b[J]||[];b[J]=re,re.push(E)}me(b,function(U){return U.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function us(h){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=sr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=sr("baseRetryDelayMs",5e3,h),this.Za=sr("retryDelaySeedMs",1e4,h),this.Ta=sr("forwardChannelMaxRetries",2,h),this.va=sr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(h&&h.concurrentRequestLimit),this.Ba=new ls,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=us.prototype,i.ka=8,i.I=1,i.connect=function(h,b,E,U){vt(0),this.W=h,this.H=b||{},E&&U!==void 0&&(this.H.OSID=E,this.H.OAID=U),this.F=this.X,this.J=Au(this,null,this.W),ar(this)};function Pl(h){if(go(h),h.I==3){var b=h.V++,E=Ot(h.J);if(Je(E,"SID",h.M),Je(E,"RID",b),Je(E,"TYPE","terminate"),pa(h,E),b=new Ci(h,h.j,b),b.M=2,b.A=ca(Ot(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=b.A,E=!0),E||(b.g=Tu(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Wi(b)}Eu(h)}function hs(h){h.g&&(Fl(h),h.g.cancel(),h.g=null)}function go(h){hs(h),h.v&&(u.clearTimeout(h.v),h.v=null),yo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ar(h){if(!Cl(h.h)&&!h.m){h.m=!0;var b=h.Ea;z||R(),q||(z(),q=!0),T.add(b,h),h.D=0}}function xo(h,b){return er(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ri(m(h.Ea,h,b),wu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const J=new Ci(this,this.j,h);let re=this.o;if(this.U&&(re?(re=F(re),W(re,this.U)):re=this.U),this.u!==null||this.R||(J.J=re,re=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var U=this.i[E];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=yu(this,J,b),E=Ot(this.J),Je(E,"RID",h),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),pa(this,E),re&&(this.R?b="headers="+Ti(li(re))+"&"+b:this.u&&da(E,this.u,re)),Sl(this.h,J),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",b),Je(E,"SID","null"),J.U=!0,Qi(J,E,null)):Qi(J,E,b),this.I=2}}else this.I==3&&(h?Ll(this,h):this.i.length==0||Cl(this.h)||Ll(this))};function Ll(h,b){var E;b?E=b.l:E=h.V++;const U=Ot(h.J);Je(U,"SID",h.M),Je(U,"RID",E),Je(U,"AID",h.K),pa(h,U),h.u&&h.o&&da(U,h.u,h.o),E=new Ci(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),b&&(h.i=b.G.concat(h.i)),b=yu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Sl(h.h,E),Qi(E,U,b)}function pa(h,b){h.H&&fe(h.H,function(E,U){Je(b,U,E)}),h.l&&fe({},function(E,U){Je(b,U,E)})}function yu(h,b,E){E=Math.min(h.i.length,E);const U=h.l?m(h.l.Ka,h.l,h):null;e:{var J=h.i;let Be=-1;for(;;){const Ct=["count="+E];Be==-1?E>0?(Be=J[0].g,Ct.push("ofs="+Be)):Be=0:Ct.push("ofs="+Be);let Xe=!0;for(let gt=0;gt<E;gt++){var re=J[gt].g;const ci=J[gt].map;if(re-=Be,re<0)Be=Math.max(0,J[gt].g-100),Xe=!1;else try{re="req"+re+"_"||"";try{var pe=ci instanceof Map?ci:Object.entries(ci);for(const[lr,Ii]of pe){let ki=Ii;p(Ii)&&(ki=$i(Ii)),Ct.push(re+lr+"="+encodeURIComponent(ki))}}catch(lr){throw Ct.push(re+"type="+encodeURIComponent("_badmap")),lr}}catch{U&&U(ci)}}if(Xe){pe=Ct.join("&");break e}}pe=void 0}return h=h.i.splice(0,E),b.G=h,pe}function vu(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;z||R(),q||(z(),q=!0),T.add(b,h),h.A=0}}function ga(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ri(m(h.Da,h),wu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ri(m(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),hs(this),bu(this))};function Fl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function bu(h){h.g=new Ci(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Ot(h.na);Je(b,"RID","rpc"),Je(b,"SID",h.M),Je(b,"AID",h.K),Je(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(b,"TO",h.ia),Je(b,"TYPE","xmlhttp"),pa(h,b),h.u&&h.o&&da(b,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ca(Ot(b)),E.u=null,E.R=!0,lo(E,h)}i.Va=function(){this.C!=null&&(this.C=null,hs(this),ga(this),vt(19))};function yo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function _u(h,b){var E=null;if(h.g==b){yo(h),Fl(h),h.g=null;var U=2}else if(tr(h.h,b))E=b.G,Nl(h.h,b),U=1;else return;if(h.I!=0){if(b.o)if(U==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var J=h.D;U=Cr(),ut(U,new ii(U,E)),ar(h)}else vu(h);else if(J=b.m,J==3||J==0&&b.X>0||!(U==1&&xo(h,b)||U==2&&ga(h)))switch(E&&E.length>0&&(b=h.h,b.i=b.i.concat(E)),J){case 1:or(h,5);break;case 4:or(h,10);break;case 3:or(h,6);break;default:or(h,2)}}}function wu(h,b){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*b}function or(h,b){if(h.j.info("Error code "+b),b==2){var E=m(h.bb,h),U=h.Ua;const J=!U;U=new zn(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xt(U,"https"),ca(U),J?Ni(U.toString(),E):Bl(U.toString(),E)}else vt(2);h.I=0,h.l&&h.l.pa(b),Eu(h),go(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Eu(h){if(h.I=0,h.ja=[],h.l){const b=Rl(h.h);(b.length!=0||h.i.length!=0)&&(N(h.ja,b),N(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Au(h,b,E){var U=E instanceof zn?Ot(E):new zn(E);if(U.g!="")b&&(U.g=b+"."+U.g),rs(U,U.u);else{var J=u.location;U=J.protocol,b=b?b+"."+J.hostname:J.hostname,J=+J.port;const re=new zn(null);U&&Xt(re,U),b&&(re.g=b),J&&rs(re,J),E&&(re.h=E),U=re}return E=h.G,b=h.wa,E&&b&&Je(U,E,b),Je(U,"VER",h.ka),pa(h,U),U}function Tu(h,b,E){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new it(new ir({ab:E})):new it(h.ma),b.Fa(h.L),b}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}i=Cu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ds(){}ds.prototype.g=function(h,b){return new xn(h,b)};function xn(h,b){pt.call(this),this.g=new us(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!O(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!O(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Dr(this)}v(xn,pt),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Pl(this.g)},xn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=$i(h),h=E);b.i.push(new Bt(b.Ya++,h)),b.I==3&&ar(b)},xn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,xn.Z.N.call(this)};function Su(h){kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const E in b){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}v(Su,kt);function Nu(){gn.call(this),this.status=1}v(Nu,gn);function Dr(h){this.g=h}v(Dr,Cu),Dr.prototype.ra=function(){ut(this.g,"a")},Dr.prototype.qa=function(h){ut(this.g,new Su(h))},Dr.prototype.pa=function(h){ut(this.g,new Nu)},Dr.prototype.oa=function(){ut(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,AE=function(){return new ds},EE=function(){return Cr()},wE=yt,Dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Kh=Yi,qt.COMPLETE="complete",_E=qt,Gi.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Nc=Gi,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,bE=it}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const Vb="@firebase/firestore",Ub="4.9.2";class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let vl="12.3.0";const Ha=new mf("@firebase/firestore");function Xo(){return Ha.logLevel}function ve(i,...e){if(Ha.logLevel<=Ue.DEBUG){const t=e.map(Tg);Ha.debug(`Firestore (${vl}): ${i}`,...t)}}function es(i,...e){if(Ha.logLevel<=Ue.ERROR){const t=e.map(Tg);Ha.error(`Firestore (${vl}): ${i}`,...t)}}function ll(i,...e){if(Ha.logLevel<=Ue.WARN){const t=e.map(Tg);Ha.warn(`Firestore (${vl}): ${i}`,...t)}}function Tg(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Re(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,TE(i,r,t)}function TE(i,e,t){let r=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw es(r),new Error(r)}function Ze(i,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,i||TE(e,o,r)}function ke(i,e){return i}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends _i{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class CE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _D{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(fn.UNAUTHENTICATED)))}shutdown(){}}class wD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ED{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let l=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new CE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class AD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new AD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const r=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}class Cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=SD(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%62))}return r}}function ze(i,e){return i<e?-1:i>e?1:0}function Ip(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const o=i.charAt(r),l=e.charAt(r);if(o!==l)return sp(o)===sp(l)?ze(o,l):sp(o)?1:-1}return ze(i.length,e.length)}const ND=55296,RD=57343;function sp(i){const e=i.charCodeAt(0);return e>=ND&&e<=RD}function cl(i,e,t){return i.length===e.length&&i.every(((r,o)=>t(r,e[o])))}const Hb="__name__";class fr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Re(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=fr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const r=fr.isNumericId(e),o=fr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?fr.extractNumericId(e).compare(fr.extractNumericId(t)):Ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class lt extends fr{construct(e,t,r){return new lt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const DD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends fr{construct(e,t,r){return new an(e,t,r)}static isValidIdentifier(e){return DD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hb}static keyField(){return new an([Hb])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(r.length===0)throw new ge(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ge(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(r+=p,o++):(l(),o++)}if(l(),u)throw new ge(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(lt.fromString(e))}static fromName(e){return new Te(lt.fromString(e).popFirst(5))}static empty(){return new Te(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new lt(e.slice()))}}function SE(i,e,t){if(!t)throw new ge(ce.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ID(i,e,t,r){if(e===!0&&r===!0)throw new ge(ce.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function qb(i){if(!Te.isDocumentKey(i))throw new ge(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $b(i){if(Te.isDocumentKey(i))throw new ge(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function NE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function wf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function Ks(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(i);throw new ge(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function zt(i,e){const t={typeString:i};return e&&(t.value=e),t}function ru(i,e){if(!NE(i))throw new ge(ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const u=i[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ge(ce.INVALID_ARGUMENT,t);return!0}const Gb=-62135596800,Kb=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Kb);return new ft(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gb)throw new ge(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kb}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:zt("string",ft._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new ft(0,0))}static max(){return new De(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zc=-1;function kD(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=De.fromTimestamp(r===1e9?new ft(t+1,0):new ft(t,r));return new Ys(o,Te.empty(),e)}function jD(i){return new Ys(i.readTime,i.key,zc)}class Ys{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ys(De.min(),Te.empty(),zc)}static max(){return new Ys(De.max(),Te.empty(),zc)}}function BD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:ze(i.largestBatchId,e.largestBatchId))}const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bl(i){if(i.code!==ce.FAILED_PRECONDITION||i.message!==OD)throw i;ve("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):he.reject(t)}static resolve(e){return new he(((t,r)=>{t(e)}))}static reject(e){return new he(((t,r)=>{r(e)}))}static waitFor(e){return new he(((t,r)=>{let o=0,l=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++l,u&&l===o&&t()}),(g=>r(g)))})),u=!0,l===o&&t()}))}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next((o=>o?he.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,l)=>{r.push(t.call(this,o,l))})),this.waitFor(r)}static mapArray(e,t){return new he(((r,o)=>{const l=e.length,u=new Array(l);let p=0;for(let g=0;g<l;g++){const m=g;t(e[m]).next((y=>{u[m]=y,++p,p===l&&r(u)}),(y=>o(y)))}}))}static doWhile(e,t){return new he(((r,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):r()};l()}))}}function PD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _l(i){return i.name==="IndexedDbTransactionError"}class Ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ef.ce=-1;const Sg=-1;function Af(i){return i==null}function Gd(i){return i===0&&1/i==-1/0}function LD(i){return typeof i=="number"&&Number.isInteger(i)&&!Gd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const RE="";function FD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Yb(e)),e=VD(i.get(t),e);return Yb(e)}function VD(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case RE:t+="";break;default:t+=l}}return t}function Yb(i){return i+RE+""}function Xb(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function sa(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function DE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class _t{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??sn.RED,this.left=o??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new sn(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,r,o,l){return this}insert(e,t,r){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qb(this.data.getIterator())}getIteratorFrom(e){return new Qb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class Qb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new Gt(an.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new IE("Invalid base64 string: "+l):l}})(e);return new on(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const UD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(i){if(Ze(!!i,39018),typeof i=="string"){let e=0;const t=UD.exec(i);if(Ze(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(i.seconds),nanos:Rt(i.nanos)}}function Rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qs(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}const kE="server_timestamp",jE="__type__",BE="__previous_value__",OE="__local_write_time__";function Ng(i){return(i?.mapValue?.fields||{})[jE]?.stringValue===kE}function Tf(i){const e=i.mapValue.fields[BE];return Ng(e)?Tf(e):e}function Hc(i){const e=Xs(i.mapValue.fields[OE].timestampValue);return new ft(e.seconds,e.nanos)}class zD{constructor(e,t,r,o,l,u,p,g,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=y}}const Kd="(default)";class qc{constructor(e,t){this.projectId=e,this.database=t||Kd}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}const ME="__type__",HD="__max__",Mh={mapValue:{}},PE="__vector__",Yd="value";function Ws(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ng(i)?4:$D(i)?9007199254740991:qD(i)?10:11:Re(28295,{value:i})}function Ar(i,e){if(i===e)return!0;const t=Ws(i);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Hc(i).isEqual(Hc(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Xs(o.timestampValue),p=Xs(l.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return Qs(o.bytesValue).isEqual(Qs(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return Rt(o.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Rt(o.integerValue)===Rt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Rt(o.doubleValue),p=Rt(l.doubleValue);return u===p?Gd(u)===Gd(p):isNaN(u)&&isNaN(p)}return!1})(i,e);case 9:return cl(i.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},p=l.mapValue.fields||{};if(Xb(u)!==Xb(p))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(p[g]===void 0||!Ar(u[g],p[g])))return!1;return!0})(i,e);default:return Re(52216,{left:i})}}function $c(i,e){return(i.values||[]).find((t=>Ar(t,e)))!==void 0}function ul(i,e){if(i===e)return 0;const t=Ws(i),r=Ws(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return(function(l,u){const p=Rt(l.integerValue||l.doubleValue),g=Rt(u.integerValue||u.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return Wb(i.timestampValue,e.timestampValue);case 4:return Wb(Hc(i),Hc(e));case 5:return Ip(i.stringValue,e.stringValue);case 6:return(function(l,u){const p=Qs(l),g=Qs(u);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(l,u){const p=l.split("/"),g=u.split("/");for(let m=0;m<p.length&&m<g.length;m++){const y=ze(p[m],g[m]);if(y!==0)return y}return ze(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,u){const p=ze(Rt(l.latitude),Rt(u.latitude));return p!==0?p:ze(Rt(l.longitude),Rt(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Zb(i.arrayValue,e.arrayValue);case 10:return(function(l,u){const p=l.fields||{},g=u.fields||{},m=p[Yd]?.arrayValue,y=g[Yd]?.arrayValue,v=ze(m?.values?.length||0,y?.values?.length||0);return v!==0?v:Zb(m,y)})(i.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Mh.mapValue&&u===Mh.mapValue)return 0;if(l===Mh.mapValue)return 1;if(u===Mh.mapValue)return-1;const p=l.fields||{},g=Object.keys(p),m=u.fields||{},y=Object.keys(m);g.sort(),y.sort();for(let v=0;v<g.length&&v<y.length;++v){const _=Ip(g[v],y[v]);if(_!==0)return _;const C=ul(p[g[v]],m[y[v]]);if(C!==0)return C}return ze(g.length,y.length)})(i.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function Wb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const t=Xs(i),r=Xs(e),o=ze(t.seconds,r.seconds);return o!==0?o:ze(t.nanos,r.nanos)}function Zb(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const l=ul(t[o],r[o]);if(l)return l}return ze(t.length,r.length)}function hl(i){return kp(i)}function kp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=Xs(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Qs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Te.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",o=!0;for(const l of t.values||[])o?o=!1:r+=",",r+=kp(l);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of r)l?l=!1:o+=",",o+=`${u}:${kp(t.fields[u])}`;return o+"}"})(i.mapValue):Re(61005,{value:i})}function Yh(i){switch(Ws(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(i);return e?16+Yh(e):16;case 5:return 2*i.stringValue.length;case 6:return Qs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,l)=>o+Yh(l)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return sa(r.fields,((l,u)=>{o+=l.length+Yh(u)})),o})(i.mapValue);default:throw Re(13486,{value:i})}}function Jb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function jp(i){return!!i&&"integerValue"in i}function Rg(i){return!!i&&"arrayValue"in i}function e_(i){return!!i&&"nullValue"in i}function t_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xh(i){return!!i&&"mapValue"in i}function qD(i){return(i?.mapValue?.fields||{})[ME]?.stringValue===PE}function Bc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return sa(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Bc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bc(i.arrayValue.values[t]);return e}return{...i}}function $D(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===HD}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=an.emptyPath(),r={},o=[];e.forEach(((u,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,r,o),r={},o=[],t=p.popLast()}u?r[p.lastSegment()]=Bc(u):o.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){sa(t,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new Bn(Bc(this.value))}}function LE(i){const e=[];return sa(i.fields,((t,r)=>{const o=new an([t]);if(Xh(r)){const l=LE(r.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new Wn(e)}class mn{constructor(e,t,r,o,l,u,p){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(e){return new mn(e,0,De.min(),De.min(),De.min(),Bn.empty(),0)}static newFoundDocument(e,t,r,o){return new mn(e,1,t,De.min(),r,o,0)}static newNoDocument(e,t){return new mn(e,2,t,De.min(),De.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,De.min(),De.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xd{constructor(e,t){this.position=e,this.inclusive=t}}function n_(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const l=e[o],u=i.position[o];if(l.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),t.key):r=ul(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function i_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ar(i.position[t],e.position[t]))return!1;return!0}class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function GD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class FE{}class Ut extends FE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new YD(e,t,r):t==="array-contains"?new WD(e,r):t==="in"?new ZD(e,r):t==="not-in"?new JD(e,r):t==="array-contains-any"?new eI(e,r):new Ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new XD(e,r):new QD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ul(t,this.value)):t!==null&&Ws(this.value)===Ws(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends FE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Fi(e,t)}matches(e){return VE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VE(i){return i.op==="and"}function UE(i){return KD(i)&&VE(i)}function KD(i){for(const e of i.filters)if(e instanceof Fi)return!1;return!0}function Bp(i){if(i instanceof Ut)return i.field.canonicalString()+i.op.toString()+hl(i.value);if(UE(i))return i.filters.map((e=>Bp(e))).join(",");{const e=i.filters.map((t=>Bp(t))).join(",");return`${i.op}(${e})`}}function zE(i,e){return i instanceof Ut?(function(r,o){return o instanceof Ut&&r.op===o.op&&r.field.isEqual(o.field)&&Ar(r.value,o.value)})(i,e):i instanceof Fi?(function(r,o){return o instanceof Fi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,u,p)=>l&&zE(u,o.filters[p])),!0):!1})(i,e):void Re(19439)}function HE(i){return i instanceof Ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${hl(t.value)}`})(i):i instanceof Fi?(function(t){return t.op.toString()+" {"+t.getFilters().map(HE).join(" ,")+"}"})(i):"Filter"}class YD extends Ut{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class XD extends Ut{constructor(e,t){super(e,"in",t),this.keys=qE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class QD extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=qE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qE(i,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class WD extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rg(t)&&$c(t.arrayValue,this.value)}}class ZD extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$c(this.value.arrayValue,t)}}class JD extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$c(this.value.arrayValue,t)}}class eI extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>$c(this.value.arrayValue,r)))}}class tI{constructor(e,t=null,r=[],o=[],l=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=u,this.endAt=p,this.Te=null}}function r_(i,e=null,t=[],r=[],o=null,l=null,u=null){return new tI(i,e,t,r,o,l,u)}function Dg(i){const e=ke(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Bp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>hl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>hl(r))).join(",")),e.Te=t}return e.Te}function Ig(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!GD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!zE(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!i_(i.startAt,e.startAt)&&i_(i.endAt,e.endAt)}function Op(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class wl{constructor(e,t=null,r=[],o=[],l=null,u="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nI(i,e,t,r,o,l,u,p){return new wl(i,e,t,r,o,l,u,p)}function kg(i){return new wl(i)}function s_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function $E(i){return i.collectionGroup!==null}function Oc(i){const e=ke(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new Gt(an.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Gc(l,r))})),t.has(an.keyField().canonicalString())||e.Ie.push(new Gc(an.keyField(),r))}return e.Ie}function yr(i){const e=ke(i);return e.Ee||(e.Ee=iI(e,Oc(i))),e.Ee}function iI(i,e){if(i.limitType==="F")return r_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Gc(o.field,l)}));const t=i.endAt?new Xd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Xd(i.startAt.position,i.startAt.inclusive):null;return r_(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Mp(i,e){const t=i.filters.concat([e]);return new wl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Pp(i,e,t){return new wl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Cf(i,e){return Ig(yr(i),yr(e))&&i.limitType===e.limitType}function GE(i){return`${Dg(yr(i))}|lt:${i.limitType}`}function Qo(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>HE(o))).join(", ")}]`),Af(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>hl(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>hl(o))).join(",")),`Target(${r})`})(yr(i))}; limitType=${i.limitType})`}function Sf(i,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Te.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(i,e)&&(function(r,o){for(const l of Oc(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(u,p,g){const m=n_(u,p,g);return u.inclusive?m<=0:m<0})(r.startAt,Oc(r),o)||r.endAt&&!(function(u,p,g){const m=n_(u,p,g);return u.inclusive?m>=0:m>0})(r.endAt,Oc(r),o))})(i,e)}function rI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function KE(i){return(e,t)=>{let r=!1;for(const o of Oc(i)){const l=sI(o,e,t);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function sI(i,e,t){const r=i.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,u,p){const g=u.data.field(l),m=p.data.field(l);return g!==null&&m!==null?ul(g,m):Re(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:i.dir})}}class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((t,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}const aI=new _t(Te.comparator);function ts(){return aI}const YE=new _t(Te.comparator);function Rc(...i){let e=YE;for(const t of i)e=e.insert(t.key,t);return e}function XE(i){let e=YE;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ma(){return Mc()}function QE(){return Mc()}function Mc(){return new Qa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const oI=new _t(Te.comparator),lI=new Gt(Te.comparator);function He(...i){let e=lI;for(const t of i)e=e.add(t);return e}const cI=new Gt(ze);function uI(){return cI}function jg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(e)?"-0":e}}function WE(i){return{integerValue:""+i}}function ZE(i,e){return LD(e)?WE(e):jg(i,e)}class Nf{constructor(){this._=void 0}}function hI(i,e,t){return i instanceof Kc?(function(o,l){const u={fields:{[jE]:{stringValue:kE},[OE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ng(l)&&(l=Tf(l)),l&&(u.fields[BE]=l),{mapValue:u}})(t,e):i instanceof dl?eA(i,e):i instanceof fl?tA(i,e):(function(o,l){const u=JE(o,l),p=a_(u)+a_(o.Ae);return jp(u)&&jp(o.Ae)?WE(p):jg(o.serializer,p)})(i,e)}function dI(i,e,t){return i instanceof dl?eA(i,e):i instanceof fl?tA(i,e):t}function JE(i,e){return i instanceof Yc?(function(r){return jp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Kc extends Nf{}class dl extends Nf{constructor(e){super(),this.elements=e}}function eA(i,e){const t=nA(e);for(const r of i.elements)t.some((o=>Ar(o,r)))||t.push(r);return{arrayValue:{values:t}}}class fl extends Nf{constructor(e){super(),this.elements=e}}function tA(i,e){let t=nA(e);for(const r of i.elements)t=t.filter((o=>!Ar(o,r)));return{arrayValue:{values:t}}}class Yc extends Nf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function a_(i){return Rt(i.integerValue||i.doubleValue)}function nA(i){return Rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Rf{constructor(e,t){this.field=e,this.transform=t}}function fI(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof dl&&o instanceof dl||r instanceof fl&&o instanceof fl?cl(r.elements,o.elements,Ar):r instanceof Yc&&o instanceof Yc?Ar(r.Ae,o.Ae):r instanceof Kc&&o instanceof Kc})(i.transform,e.transform)}class mI{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Df{}function iA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new sA(i.key,vr.none()):new su(i.key,i.data,vr.none());{const t=i.data,r=Bn.empty();let o=new Gt(an.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),o=o.add(l)}return new aa(i.key,r,new Wn(o.toArray()),vr.none())}}function pI(i,e,t){i instanceof su?(function(o,l,u){const p=o.value.clone(),g=l_(o.fieldTransforms,l,u.transformResults);p.setAll(g),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,t):i instanceof aa?(function(o,l,u){if(!Qh(o.precondition,l))return void l.convertToUnknownDocument(u.version);const p=l_(o.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(rA(o)),g.setAll(p),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(i,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Pc(i,e,t,r){return i instanceof su?(function(l,u,p,g){if(!Qh(l.precondition,u))return p;const m=l.value.clone(),y=c_(l.fieldTransforms,g,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(i,e,t,r):i instanceof aa?(function(l,u,p,g){if(!Qh(l.precondition,u))return p;const m=c_(l.fieldTransforms,g,u),y=u.data;return y.setAll(rA(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(i,e,t,r):(function(l,u,p){return Qh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(i,e,t)}function gI(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),l=JE(r.transform,o||null);l!=null&&(t===null&&(t=Bn.empty()),t.set(r.field,l))}return t||null}function o_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&cl(r,o,((l,u)=>fI(l,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class su extends Df{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class aa extends Df{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function rA(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function l_(i,e,t){const r=new Map;Ze(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const l=i[o],u=l.transform,p=e.data.field(l.field);r.set(l.field,dI(u,p,t[o]))}return r}function c_(i,e,t){const r=new Map;for(const o of i){const l=o.transform,u=t.data.field(o.field);r.set(o.field,hI(l,u,e))}return r}class sA extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xI extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yI{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&pI(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=QE();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=t.has(o.key)?null:p;const g=iA(u,p);g!==null&&r.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),He())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((t,r)=>o_(t,r)))&&cl(this.baseMutations,e.baseMutations,((t,r)=>o_(t,r)))}}class Bg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return oI})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,r[u].version);return new Bg(e,t,r,o)}}class vI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bI{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vt,Ge;function _I(i){switch(i){case ce.OK:return Re(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function aA(i){if(i===void 0)return es("GRPC error has no .code"),ce.UNKNOWN;switch(i){case Vt.OK:return ce.OK;case Vt.CANCELLED:return ce.CANCELLED;case Vt.UNKNOWN:return ce.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ce.INTERNAL;case Vt.UNAVAILABLE:return ce.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ce.NOT_FOUND;case Vt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Vt.ABORTED:return ce.ABORTED;case Vt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Vt.DATA_LOSS:return ce.DATA_LOSS;default:return Re(39323,{code:i})}}(Ge=Vt||(Vt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function wI(){return new TextEncoder}const EI=new $s([4294967295,4294967295],0);function u_(i){const e=wI().encode(i),t=new vE;return t.update(e),new Uint8Array(t.digest())}function h_(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $s([t,r],0),new $s([o,l],0)]}class Og{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Dc(`Invalid padding: ${t}`);if(r<0)throw new Dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=$s.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply($s.fromNumber(r)));return o.compare(EI)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=u_(e),[r,o]=h_(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,o,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Og(l,o,t);return r.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const t=u_(e),[r,o]=h_(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class If{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new If(De.min(),o,new _t(ze),ts(),He())}}class au{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new au(r,t,He(),He(),He())}}class Wh{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class oA{constructor(e,t){this.targetId=e,this.Ce=t}}class lA{constructor(e,t,r=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class d_{constructor(){this.ve=0,this.Fe=f_(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),r=He();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Re(38017,{changeType:l})}})),new au(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=f_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.Je=Ph(),this.He=Ph(),this.Ye=new _t(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Op(l))if(r===0){const u=new Te(l.path);this.et(t,u,mn.newNoDocument(u,De.min()))}else Ze(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const p=this.ut(e),g=p?this.ct(p,e,u):1;if(g!==0){this.it(t);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=t;let u,p;try{u=Qs(r).toUint8Array()}catch(g){if(g instanceof IE)return ll("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Og(u,o,l)}catch(g){return ll(g instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((l=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const p=this.ot(u);if(p){if(l.current&&Op(p.target)){const g=new Te(p.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,mn.newNoDocument(g,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let r=He();this.He.forEach(((l,u)=>{let p=!0;u.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new If(e,t,this.Ye,this.je,r);return this.je=ts(),this.Je=Ph(),this.He=Ph(),this.Ye=new _t(ze),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new d_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Gt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Gt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ph(){return new _t(Te.comparator)}function f_(){return new _t(Te.comparator)}const TI={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SI={and:"AND",or:"OR"};class NI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lp(i,e){return i.useProto3Json||Af(e)?e:{value:e}}function Qd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function RI(i,e){return Qd(i,e.toTimestamp())}function br(i){return Ze(!!i,49232),De.fromTimestamp((function(t){const r=Xs(t);return new ft(r.seconds,r.nanos)})(i))}function Mg(i,e){return Fp(i,e).canonicalString()}function Fp(i,e){const t=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function uA(i){const e=lt.fromString(i);return Ze(pA(e),10190,{key:e.toString()}),e}function Vp(i,e){return Mg(i.databaseId,e.path)}function ap(i,e){const t=uA(e);if(t.get(1)!==i.databaseId.projectId)throw new ge(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ge(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(dA(t))}function hA(i,e){return Mg(i.databaseId,e)}function DI(i){const e=uA(i);return e.length===4?lt.emptyPath():dA(e)}function Up(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function dA(i){return Ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function m_(i,e,t){return{name:Vp(i,e),fields:t.value.mapValue.fields}}function II(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),on.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),on.fromUint8Array(y||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(m){const y=m.code===void 0?ce.UNKNOWN:aA(m.code);return new ge(y,m.message||"")})(u);t=new lA(r,o,l,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ap(i,r.document.name),l=br(r.document.updateTime),u=r.document.createTime?br(r.document.createTime):De.min(),p=new Bn({mapValue:{fields:r.document.fields}}),g=mn.newFoundDocument(o,l,u,p),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Wh(m,y,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ap(i,r.document),l=r.readTime?br(r.readTime):De.min(),u=mn.newNoDocument(o,l),p=r.removedTargetIds||[];t=new Wh([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ap(i,r.document),l=r.removedTargetIds||[];t=new Wh([],l,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,u=new bI(o,l),p=r.targetId;t=new oA(p,u)}}return t}function kI(i,e){let t;if(e instanceof su)t={update:m_(i,e.key,e.value)};else if(e instanceof sA)t={delete:Vp(i,e.key)};else if(e instanceof aa)t={update:m_(i,e.key,e.data),updateMask:UI(e.fieldMask)};else{if(!(e instanceof xI))return Re(16599,{Vt:e.type});t={verify:Vp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const p=u.transform;if(p instanceof Kc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof dl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof fl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw Re(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:RI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(i,e.precondition)),t}function jI(i,e){return i&&i.length>0?(Ze(e!==void 0,14353),i.map((t=>(function(o,l){let u=o.updateTime?br(o.updateTime):br(l);return u.isEqual(De.min())&&(u=br(l)),new mI(u,o.transformResults||[])})(t,e)))):[]}function BI(i,e){return{documents:[hA(i,e.path)]}}function OI(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=hA(i,o);const l=(function(m){if(m.length!==0)return mA(Fi.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((y=>(function(_){return{field:Wo(_.field),direction:LI(_.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=Lp(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function MI(i){let e=DI(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ze(r===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(v){const _=fA(v);return _ instanceof Fi&&UE(_)?_.getFilters():[_]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((_=>(function(N){return new Gc(Zo(N.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(_)))})(t.orderBy));let p=null;t.limit&&(p=(function(v){let _;return _=typeof v=="object"?v.value:v,Af(_)?null:_})(t.limit));let g=null;t.startAt&&(g=(function(v){const _=!!v.before,C=v.values||[];return new Xd(C,_)})(t.startAt));let m=null;return t.endAt&&(m=(function(v){const _=!v.before,C=v.values||[];return new Xd(C,_)})(t.endAt)),nI(e,o,u,l,p,"F",g,m)}function PI(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zo(t.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Zo(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Zo(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zo(t.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ut.create(Zo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Fi.create(t.compositeFilter.filters.map((r=>fA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(i):Re(30097,{filter:i})}function LI(i){return TI[i]}function FI(i){return CI[i]}function VI(i){return SI[i]}function Wo(i){return{fieldPath:i.canonicalString()}}function Zo(i){return an.fromServerFormat(i.fieldPath)}function mA(i){return i instanceof Ut?(function(t){if(t.op==="=="){if(t_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NAN"}};if(e_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(t_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NAN"}};if(e_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(t.field),op:FI(t.op),value:t.value}}})(i):i instanceof Fi?(function(t){const r=t.getFilters().map((o=>mA(o)));return r.length===1?r[0]:{compositeFilter:{op:VI(t.op),filters:r}}})(i):Re(54877,{filter:i})}function UI(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function pA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class zs{constructor(e,t,r,o,l=De.min(),u=De.min(),p=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zI{constructor(e){this.yt=e}}function HI(i){const e=MI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Pp(e,e.limit,"L"):e}class qI{constructor(){this.Cn=new $I}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Ys.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class $I{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Gt(lt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Gt(lt.comparator)).toArray()}}const p_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gA=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(gA,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}const g_="LruGarbageCollector",GI=1048576;function x_([i,e],[t,r]){const o=ze(i,t);return o===0?ze(e,r):o}class KI{constructor(e){this.Ir=e,this.buffer=new Gt(x_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();x_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(g_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_l(t)?ve(g_,"Ignoring IndexedDB error during garbage collection: ",t):await bl(t)}await this.Vr(3e5)}))}}class XI{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Ef.ce);const r=new KI(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(p_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,l,u,p,g,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(r=v,p=Date.now(),this.removeTargets(e,r,t)))).next((v=>(l=v,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),Xo()<=Ue.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${l} targets in `+(g-p)+`ms
	Removed ${v} documents in `+(m-g)+`ms
Total Duration: ${m-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:v}))))}}function QI(i,e){return new XI(i,e)}class WI{constructor(){this.changes=new Qa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class JI{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Pc(r.mutation,o,Wn.empty(),ft.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=He()){const o=Ma();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((l=>{let u=Rc();return l.forEach(((p,g)=>{u=u.insert(p,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Ma();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,He())))}populateOverlays(e,t,r){const o=[];return r.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,p)=>{t.set(u,p)}))}))}computeViews(e,t,r,o){let l=ts();const u=Mc(),p=(function(){return Mc()})();return t.forEach(((g,m)=>{const y=r.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof aa)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Pc(y.mutation,m,y.mutation.getFieldMask(),ft.now())):u.set(m.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>p.set(m,new ZI(y,u.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,t){const r=Mc();let o=new _t(((u,p)=>u-p)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const p of u)p.keys().forEach((g=>{const m=t.get(g);if(m===null)return;let y=r.get(g)||Wn.empty();y=p.applyToLocalView(m,y),r.set(g,y);const v=(o.get(p.batchId)||He()).add(g);o=o.insert(p.batchId,v)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,y=g.value,v=QE();y.forEach((_=>{if(!l.has(_)){const C=iA(t.get(_),r.get(_));C!==null&&v.set(_,C),l=l.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return he.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$E(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):he.resolve(Ma());let p=zc,g=l;return u.next((m=>he.forEach(m,((y,v)=>(p<v.largestBatchId&&(p=v.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next((_=>{g=g.insert(y,_)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,g,m,He()))).next((y=>({batchId:p,changes:XE(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((r=>{let o=Rc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const l=t.collectionGroup;let u=Rc();return this.indexManager.getCollectionParents(e,l).next((p=>he.forEach(p,(g=>{const m=(function(v,_){return new wl(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((y=>{y.forEach(((v,_)=>{u=u.insert(v,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,o)))).next((u=>{l.forEach(((g,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,mn.newInvalidDocument(y)))}));let p=Rc();return u.forEach(((g,m)=>{const y=l.get(g);y!==void 0&&Pc(y.mutation,m,Wn.empty(),ft.now()),Sf(t,m)&&(p=p.insert(g,m))})),p}))}}class ek{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return he.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}})(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:HI(o.bundledQuery),readTime:br(o.readTime)}})(t)),he.resolve()}}class tk{constructor(){this.overlays=new _t(Te.comparator),this.qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ma();return he.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,l)=>{this.St(e,t,l)})),he.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const o=Ma(),l=t.length+1,u=new Te(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&g.largestBatchId>r&&o.set(g.getKey(),g)}return he.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new _t(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=l.get(m.largestBatchId);y===null&&(y=Ma(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const p=Ma(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,y)=>p.set(m,y))),!(p.size()>=o)););return he.resolve(p)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new vI(t,r));let l=this.qr.get(t);l===void 0&&(l=He(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class nk{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}class Pg{constructor(){this.Qr=new Gt(Wt.$r),this.Ur=new Gt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Wt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Wt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Te(new lt([])),r=new Wt(t,e),o=new Wt(t,e+1),l=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new lt([])),r=new Wt(t,e),o=new Wt(t,e+1);let l=He();return this.Ur.forEachInRange([r,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Wt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}class ik{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Wt.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new yI(l,t,r,o);this.mutationQueue.push(u);for(const p of o)this.Zr=this.Zr.add(new Wt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),l=o<0?0:o;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Sg:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wt(t,0),o=new Wt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,o],(u=>{const p=this.Xr(u.Yr);l.push(p)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gt(ze);return t.forEach((o=>{const l=new Wt(o,0),u=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(p=>{r=r.add(p.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Te.isDocumentKey(l)||(l=l.child(""));const u=new Wt(new Te(l),0);let p=new Gt(ze);return this.Zr.forEachWhile((g=>{const m=g.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Yr)),!0)}),u),he.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(t.mutations,(o=>{const l=new Wt(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Wt(t,0),o=this.Zr.firstAfterOrEqual(r);return he.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rk{constructor(e){this.ri=e,this.docs=(function(){return new _t(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let r=ts();return t.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():mn.newInvalidDocument(o))})),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=ts();const u=t.path,p=new Te(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:y}}=g.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||BD(jD(y),r)<=0||(o.has(y.key)||Sf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,r,o){Re(9500)}ii(e,t){return he.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new sk(this)}getSize(e){return he.resolve(this.size)}}class sk extends WI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),he.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class ak{constructor(e){this.persistence=e,this.si=new Qa((t=>Dg(t)),Ig),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Pg,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),he.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Pr(t),he.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.si.forEach(((u,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),he.waitFor(l).next((()=>o))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this._i.containsKey(t))}}class xA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ef(0),this.li=!1,this.li=!0,this.hi=new nk,this.referenceDelegate=e(this),this.Pi=new ak(this),this.indexManager=new qI,this.remoteDocumentCache=(function(o){return new rk(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new zI(t),this.Ii=new ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new ik(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ve("MemoryPersistence","Starting transaction:",e);const o=new ok(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class ok extends MD{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.Ri=new Pg,this.Vi=null}static mi(e){return new Lg(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const o=Te.fromPath(r);return this.gi(e,o).next((l=>{l||t.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return he.or([()=>he.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Wd{constructor(e,t){this.persistence=e,this.pi=new Qa((r=>FD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=QI(this,t)}static mi(e,t){return new Wd(e,t)}Ei(){}di(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return he.forEach(this.pi,((r,o)=>this.br(e,r,o).next((l=>l?he.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((p=>{p||(r++,l.removeEntry(u,De.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yh(e.data.value)),t}br(e,t,r){return he.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return he.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=He(),o=He();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Fg(e,t.fromCache,r,o)}}class lk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ck{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return x3()?8:PD(pn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new lk;return this.Ss(e,t,u).next((p=>{if(l.result=p,this.Vs)return this.bs(e,t,u,p.size)}))})).next((()=>l.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(Xo()<=Ue.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(Xo()<=Ue.DEBUG&&ve("QueryEngine","Query:",Qo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Xo()<=Ue.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):he.resolve())}ys(e,t){if(s_(t))return he.resolve(null);let r=yr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Pp(t,null,"F"),r=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=He(...l);return this.ps.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const m=this.Ds(t,p);return this.Cs(t,m,u,g.readTime)?this.ys(e,Pp(t,null,"F")):this.vs(e,m,t,g)}))))})))))}ws(e,t,r,o){return s_(t)||o.isEqual(De.min())?he.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,r,o)?he.resolve(null):(Xo()<=Ue.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qo(t)),this.vs(e,u,t,kD(o,zc)).next((p=>p)))}))}Ds(e,t){let r=new Gt(KE(e));return t.forEach(((o,l)=>{Sf(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,r){return Xo()<=Ue.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ys.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Vg="LocalStore",uk=3e8;class hk{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new _t(ze),this.xs=new Qa((l=>Dg(l)),Ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function dk(i,e,t,r){return new hk(i,e,t,r)}async function yA(i,e){const t=ke(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],p=[];let g=He();for(const m of o){u.push(m.batchId);for(const y of m.mutations)g=g.add(y.key)}for(const m of l){p.push(m.batchId);for(const y of m.mutations)g=g.add(y.key)}return t.localDocuments.getDocuments(r,g).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:p})))}))}))}function fk(i,e){const t=ke(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,m,y){const v=m.batch,_=v.keys();let C=he.resolve();return _.forEach((N=>{C=C.next((()=>y.getEntry(g,N))).next((B=>{const I=m.docVersions.get(N);Ze(I!==null,48541),B.version.compareTo(I)<0&&(v.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),y.addEntry(B)))}))})),C.next((()=>p.mutationQueue.removeMutationBatch(g,v)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=He();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(g=g.add(p.batch.mutations[m].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function vA(i){const e=ke(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function mk(i,e){const t=ke(i),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((y,v)=>{const _=o.get(v);if(!_)return;p.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,y.addedDocuments,v))));let C=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(on.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),o=o.insert(v,C),(function(B,I,P){return B.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=uk?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(_,C,y)&&p.push(t.Pi.updateTargetData(l,C))}));let g=ts(),m=He();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),p.push(pk(l,u,e.documentUpdates).next((y=>{g=y.ks,m=y.qs}))),!r.isEqual(De.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));p.push(y)}return he.waitFor(p).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,m))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function pk(i,e,t){let r=He(),o=He();return t.forEach((l=>r=r.add(l))),e.getEntries(i,r).next((l=>{let u=ts();return t.forEach(((p,g)=>{const m=l.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(De.min())?(e.removeEntry(p,g.readTime),u=u.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),u=u.insert(p,g)):ve(Vg,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function gk(i,e){const t=ke(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Sg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xk(i,e){const t=ke(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((l=>l?(o=l,he.resolve(o)):t.Pi.allocateTargetId(r).next((u=>(o=new zs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function zp(i,e,t){const r=ke(i),o=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!_l(u))throw u;ve(Vg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function y_(i,e,t){const r=ke(i);let o=De.min(),l=He();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,m,y){const v=ke(g),_=v.xs.get(y);return _!==void 0?he.resolve(v.Ms.get(_)):v.Pi.getTargetData(m,y)})(r,u,yr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,p.targetId).next((g=>{l=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:De.min(),t?l:He()))).next((p=>(yk(r,rI(e),p),{documents:p,Qs:l})))))}function yk(i,e,t){let r=i.Os.get(e)||De.min();t.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),i.Os.set(e,r)}class v_{constructor(){this.activeTargetIds=uI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vk{constructor(){this.Mo=new v_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bk{Oo(e){}shutdown(){}}const b_="ConnectivityMonitor";class __{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(b_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lh=null;function Hp(){return Lh===null?Lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lh++,"0x"+Lh.toString(16)}const op="RestConnection",_k={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Kd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,l){const u=Hp(),p=this.zo(e,t.toUriEncodedString());ve(op,`Sending RPC '${e}' ${u}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:m}=new URL(p),y=na(m);return this.Jo(e,p,g,r,y).then((v=>(ve(op,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw ll(op,`RPC '${e}' ${u} failed with error: `,v,"url: ",p,"request:",r),v}))}Ho(e,t,r,o,l,u){return this.Go(e,t,r,o,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),r&&r.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const r=_k[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Ek{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class Ak extends wk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,l){const u=Hp();return new Promise(((p,g)=>{const m=new bE;m.setWithCredentials(!0),m.listenOnce(_E.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Kh.NO_ERROR:const v=m.getResponseJson();ve(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),p(v);break;case Kh.TIMEOUT:ve(un,`RPC '${e}' ${u} timed out`),g(new ge(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const _=m.getStatus();if(ve(un,`RPC '${e}' ${u} failed with status:`,_,"response text:",m.getResponseText()),_>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C?.error;if(N&&N.status&&N.message){const B=(function(P){const k=P.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(k)>=0?k:ce.UNKNOWN})(N.status);g(new ge(B,N.message))}else g(new ge(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new ge(ce.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ve(un,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);ve(un,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",y,r,15)}))}T_(e,t,r){const o=Hp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=AE(),p=EE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const y=l.join("");ve(un,`Creating RPC '${e}' stream ${o}: ${y}`,g);const v=u.createWebChannel(y,g);this.I_(v);let _=!1,C=!1;const N=new Ek({Yo:I=>{C?ve(un,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(_||(ve(un,`Opening RPC '${e}' stream ${o} transport.`),v.open(),_=!0),ve(un,`RPC '${e}' stream ${o} sending:`,I),v.send(I))},Zo:()=>v.close()}),B=(I,P,k)=>{I.listen(P,(j=>{try{k(j)}catch(L){setTimeout((()=>{throw L}),0)}}))};return B(v,Nc.EventType.OPEN,(()=>{C||(ve(un,`RPC '${e}' stream ${o} transport opened.`),N.o_())})),B(v,Nc.EventType.CLOSE,(()=>{C||(C=!0,ve(un,`RPC '${e}' stream ${o} transport closed`),N.a_(),this.E_(v))})),B(v,Nc.EventType.ERROR,(I=>{C||(C=!0,ll(un,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),N.a_(new ge(ce.UNAVAILABLE,"The operation could not be completed")))})),B(v,Nc.EventType.MESSAGE,(I=>{if(!C){const P=I.data[0];Ze(!!P,16349);const k=P,j=k?.error||k[0]?.error;if(j){ve(un,`RPC '${e}' stream ${o} received error:`,j);const L=j.status;let z=(function(R){const S=Vt[R];if(S!==void 0)return aA(S)})(L),q=j.message;z===void 0&&(z=ce.INTERNAL,q="Unknown error status: "+L+" with message "+j.message),C=!0,N.a_(new ge(z,q)),v.close()}else ve(un,`RPC '${e}' stream ${o} received:`,P),N.u_(P)}})),B(p,wE.STAT_EVENT,(I=>{I.stat===Dp.PROXY?ve(un,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===Dp.NOPROXY&&ve(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function lp(){return typeof document<"u"?document:null}function kf(i){return new NI(i,!0)}class bA{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const w_="PersistentStream";class _A{constructor(e,t,r,o,l,u,p,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new ge(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Tk extends _A{constructor(e,t,r,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=II(this.serializer,e),r=(function(l){if(!("targetChange"in l))return De.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?De.min():u.readTime?br(u.readTime):De.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Up(this.serializer),t.addTarget=(function(l,u){let p;const g=u.target;if(p=Op(g)?{documents:BI(l,g)}:{query:OI(l,g).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=cA(l,u.resumeToken);const m=Lp(l,u.expectedCount);m!==null&&(p.expectedCount=m)}else if(u.snapshotVersion.compareTo(De.min())>0){p.readTime=Qd(l,u.snapshotVersion.toTimestamp());const m=Lp(l,u.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const r=PI(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Up(this.serializer),t.removeTarget=e,this.q_(t)}}class Ck extends _A{constructor(e,t,r,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=jI(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Up(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>kI(this.serializer,r)))};this.q_(t)}}class Sk{}class Nk extends Sk{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Fp(t,r),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ce.UNKNOWN,l.toString())}))}Ho(e,t,r,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.Ho(e,Fp(t,r),o,u,p,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Rk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class Dk{constructor(e,t,r,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Wa(this)&&(ve(qa,"Restarting streams for network reachability change."),await(async function(g){const m=ke(g);m.Ea.add(4),await ou(m),m.Ra.set("Unknown"),m.Ea.delete(4),await jf(m)})(this))}))})),this.Ra=new Rk(r,o)}}async function jf(i){if(Wa(i))for(const e of i.da)await e(!0)}async function ou(i){for(const e of i.da)await e(!1)}function wA(i,e){const t=ke(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),qg(t)?Hg(t):El(t).O_()&&zg(t,e))}function Ug(i,e){const t=ke(i),r=El(t);t.Ia.delete(e),r.O_()&&EA(t,e),t.Ia.size===0&&(r.O_()?r.L_():Wa(t)&&t.Ra.set("Unknown"))}function zg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}El(i).Y_(e)}function EA(i,e){i.Va.Ue(e),El(i).Z_(e)}function Hg(i){i.Va=new AI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),El(i).start(),i.Ra.ua()}function qg(i){return Wa(i)&&!El(i).x_()&&i.Ia.size>0}function Wa(i){return ke(i).Ea.size===0}function AA(i){i.Va=void 0}async function Ik(i){i.Ra.set("Online")}async function kk(i){i.Ia.forEach(((e,t)=>{zg(i,e)}))}async function jk(i,e){AA(i),qg(i)?(i.Ra.ha(e),Hg(i)):i.Ra.set("Unknown")}async function Bk(i,e,t){if(i.Ra.set("Online"),e instanceof lA&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const p of l.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){ve(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zd(i,r)}else if(e instanceof Wh?i.Va.Ze(e):e instanceof oA?i.Va.st(e):i.Va.tt(e),!t.isEqual(De.min()))try{const r=await vA(i.localStore);t.compareTo(r)>=0&&await(function(l,u){const p=l.Va.Tt(u);return p.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(g.resumeToken,u))}})),p.targetMismatches.forEach(((g,m)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(on.EMPTY_BYTE_STRING,y.snapshotVersion)),EA(l,g);const v=new zs(y.target,g,m,y.sequenceNumber);zg(l,v)})),l.remoteSyncer.applyRemoteEvent(p)})(i,t)}catch(r){ve(qa,"Failed to raise snapshot:",r),await Zd(i,r)}}async function Zd(i,e,t){if(!_l(e))throw e;i.Ea.add(1),await ou(i),i.Ra.set("Offline"),t||(t=()=>vA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ve(qa,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await jf(i)}))}function TA(i,e){return e().catch((t=>Zd(i,t,e)))}async function Bf(i){const e=ke(i),t=Zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sg;for(;Ok(e);)try{const o=await gk(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,Mk(e,o)}catch(o){await Zd(e,o)}CA(e)&&SA(e)}function Ok(i){return Wa(i)&&i.Ta.length<10}function Mk(i,e){i.Ta.push(e);const t=Zs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function CA(i){return Wa(i)&&!Zs(i).x_()&&i.Ta.length>0}function SA(i){Zs(i).start()}async function Pk(i){Zs(i).ra()}async function Lk(i){const e=Zs(i);for(const t of i.Ta)e.ea(t.mutations)}async function Fk(i,e,t){const r=i.Ta.shift(),o=Bg.from(r,e,t);await TA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Bf(i)}async function Vk(i,e){e&&Zs(i).X_&&await(async function(r,o){if((function(u){return _I(u)&&u!==ce.ABORTED})(o.code)){const l=r.Ta.shift();Zs(r).B_(),await TA(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Bf(r)}})(i,e),CA(i)&&SA(i)}async function E_(i,e){const t=ke(i);t.asyncQueue.verifyOperationInProgress(),ve(qa,"RemoteStore received new credentials");const r=Wa(t);t.Ea.add(3),await ou(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await jf(t)}async function Uk(i,e){const t=ke(i);e?(t.Ea.delete(2),await jf(t)):e||(t.Ea.add(2),await ou(t),t.Ra.set("Unknown"))}function El(i){return i.ma||(i.ma=(function(t,r,o){const l=ke(t);return l.sa(),new Tk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Ik.bind(null,i),t_:kk.bind(null,i),r_:jk.bind(null,i),H_:Bk.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),qg(i)?Hg(i):i.Ra.set("Unknown")):(await i.ma.stop(),AA(i))}))),i.ma}function Zs(i){return i.fa||(i.fa=(function(t,r,o){const l=ke(t);return l.sa(),new Ck(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Pk.bind(null,i),r_:Vk.bind(null,i),ta:Lk.bind(null,i),na:Fk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Bf(i)):(await i.fa.stop(),i.Ta.length>0&&(ve(qa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class $g{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,l){const u=Date.now()+r,p=new $g(e,t,u,o,l);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(i,e){if(es("AsyncQueue",`${e}: ${i}`),_l(i))return new ge(ce.UNAVAILABLE,`${e}: ${i}`);throw i}class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=Rc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class A_{constructor(){this.ga=new _t(Te.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class pl{constructor(e,t,r,o,l,u,p,g,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,l){const u=[];return t.forEach((p=>{u.push({type:0,doc:p})})),new pl(e,t,rl.emptySet(t),u,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class zk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Hk{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=ke(t),l=o.queries;o.queries=T_(),l.forEach(((u,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ge(ce.ABORTED,"Firestore shutting down"))}}function T_(){return new Qa((i=>GE(i)),Cf)}async function NA(i,e){const t=ke(i);let r=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(r=2):(l=new zk,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const p=Gg(u,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Kg(t)}async function RA(i,e){const t=ke(i),r=e.query;let o=3;const l=t.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function qk(i,e){const t=ke(i);let r=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const p of u.Sa)p.Fa(o)&&(r=!0);u.wa=o}}r&&Kg(t)}function $k(i,e,t){const r=ke(i),o=r.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);r.queries.delete(e)}function Kg(i){i.Ca.forEach((e=>{e.next()}))}var qp,C_;(C_=qp||(qp={})).Ma="default",C_.Cache="cache";class DA{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qp.Cache}}class IA{constructor(e){this.key=e}}class kA{constructor(e){this.key=e}}class Gk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=KE(e),this.tu=new rl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new A_,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,v)=>{const _=o.get(y),C=Sf(this.query,v)?v:null,N=!!_&&this.mutatedKeys.has(_.key),B=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let I=!1;_&&C?_.data.isEqual(C.data)?N!==B&&(r.track({type:3,doc:C}),I=!0):this.su(_,C)||(r.track({type:2,doc:C}),I=!0,(g&&this.eu(C,g)>0||m&&this.eu(C,m)<0)&&(p=!0)):!_&&C?(r.track({type:0,doc:C}),I=!0):_&&!C&&(r.track({type:1,doc:_}),I=!0,(g||m)&&(p=!0)),I&&(C?(u=u.add(C),l=B?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(C,N){const B=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:I})}};return B(C)-B(N)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,m=g!==this.Za;return this.Za=g,u.length!==0||m?{snapshot:new pl(this.query,e.tu,l,u,e.mutatedKeys,g===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new kA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new IA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yg="SyncEngine";class Kk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Yk{constructor(e){this.key=e,this.hu=!1}}class Xk{constructor(e,t,r,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Qa((p=>GE(p)),Cf),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Te.comparator),this.Au=new Map,this.Ru=new Pg,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qk(i,e,t=!0){const r=LA(i);let o;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await jA(r,e,t,!0),o}async function Wk(i,e){const t=LA(i);await jA(t,e,!0,!1)}async function jA(i,e,t,r){const o=await xk(i.localStore,yr(e)),l=o.targetId,u=i.sharedClientState.addLocalQueryTarget(l,t);let p;return r&&(p=await Zk(i,e,l,u==="current",o.resumeToken)),i.isPrimaryClient&&t&&wA(i.remoteStore,o),p}async function Zk(i,e,t,r,o){i.pu=(v,_,C)=>(async function(B,I,P,k){let j=I.view.ru(P);j.Cs&&(j=await y_(B.localStore,I.query,!1).then((({documents:T})=>I.view.ru(T,j))));const L=k&&k.targetChanges.get(I.targetId),z=k&&k.targetMismatches.get(I.targetId)!=null,q=I.view.applyChanges(j,B.isPrimaryClient,L,z);return N_(B,I.targetId,q.au),q.snapshot})(i,v,_,C);const l=await y_(i.localStore,e,!0),u=new Gk(e,l.Qs),p=u.ru(l.documents),g=au.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),m=u.applyChanges(p,i.isPrimaryClient,g);N_(i,t,m.au);const y=new Kk(e,t,u);return i.Tu.set(e,y),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),m.snapshot}async function Jk(i,e,t){const r=ke(i),o=r.Tu.get(e),l=r.Iu.get(o.targetId);if(l.length>1)return r.Iu.set(o.targetId,l.filter((u=>!Cf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await zp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Ug(r.remoteStore,o.targetId),$p(r,o.targetId)})).catch(bl)):($p(r,o.targetId),await zp(r.localStore,o.targetId,!0))}async function e9(i,e){const t=ke(i),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ug(t.remoteStore,r.targetId))}async function t9(i,e,t){const r=l9(i);try{const o=await(function(u,p){const g=ke(u),m=ft.now(),y=p.reduce(((C,N)=>C.add(N.key)),He());let v,_;return g.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let N=ts(),B=He();return g.Ns.getEntries(C,y).next((I=>{N=I,N.forEach(((P,k)=>{k.isValidDocument()||(B=B.add(P))}))})).next((()=>g.localDocuments.getOverlayedDocuments(C,N))).next((I=>{v=I;const P=[];for(const k of p){const j=gI(k,v.get(k.key).overlayedDocument);j!=null&&P.push(new aa(k.key,j,LE(j.value.mapValue),vr.exists(!0)))}return g.mutationQueue.addMutationBatch(C,m,P,p)})).next((I=>{_=I;const P=I.applyToLocalDocumentSet(v,B);return g.documentOverlayCache.saveOverlays(C,I.batchId,P)}))})).then((()=>({batchId:_.batchId,changes:XE(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,p,g){let m=u.Vu[u.currentUser.toKey()];m||(m=new _t(ze)),m=m.insert(p,g),u.Vu[u.currentUser.toKey()]=m})(r,o.batchId,t),await lu(r,o.changes),await Bf(r.remoteStore)}catch(o){const l=Gg(o,"Failed to persist write");t.reject(l)}}async function BA(i,e){const t=ke(i);try{const r=await mk(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ze(u.hu,14607):o.removedDocuments.size>0&&(Ze(u.hu,42227),u.hu=!1))})),await lu(t,r,e)}catch(r){await bl(r)}}function S_(i,e,t){const r=ke(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((l,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const g=ke(u);g.onlineState=p;let m=!1;g.queries.forEach(((y,v)=>{for(const _ of v.Sa)_.va(p)&&(m=!0)})),m&&Kg(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function n9(i,e,t){const r=ke(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),l=o&&o.key;if(l){let u=new _t(Te.comparator);u=u.insert(l,mn.newNoDocument(l,De.min()));const p=He().add(l),g=new If(De.min(),new Map,new _t(ze),u,p);await BA(r,g),r.du=r.du.remove(l),r.Au.delete(e),Xg(r)}else await zp(r.localStore,e,!1).then((()=>$p(r,e,t))).catch(bl)}async function i9(i,e){const t=ke(i),r=e.batch.batchId;try{const o=await fk(t.localStore,e);MA(t,r,null),OA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lu(t,o)}catch(o){await bl(o)}}async function r9(i,e,t){const r=ke(i);try{const o=await(function(u,p){const g=ke(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return g.mutationQueue.lookupMutationBatch(m,p).next((v=>(Ze(v!==null,37113),y=v.keys(),g.mutationQueue.removeMutationBatch(m,v)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,y,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>g.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);MA(r,e,t),OA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lu(r,o)}catch(o){await bl(o)}}function OA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function MA(i,e,t){const r=ke(i);let o=r.Vu[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function $p(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||PA(i,r)}))}function PA(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Ug(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Xg(i))}function N_(i,e,t){for(const r of t)r instanceof IA?(i.Ru.addReference(r.key,e),s9(i,r)):r instanceof kA?(ve(Yg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||PA(i,r.key)):Re(19791,{wu:r})}function s9(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Eu.has(r)||(ve(Yg,"New document in limbo: "+t),i.Eu.add(r),Xg(i))}function Xg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Te(lt.fromString(e)),r=i.fu.next();i.Au.set(r,new Yk(t)),i.du=i.du.insert(t,r),wA(i.remoteStore,new zs(yr(kg(t.path)),r,"TargetPurposeLimboResolution",Ef.ce))}}async function lu(i,e,t){const r=ke(i),o=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{u.push(r.pu(g,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(m){o.push(m);const y=Fg.As(g.targetId,m);l.push(y)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(g,m){const y=ke(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>he.forEach(m,(_=>he.forEach(_.Es,(C=>y.persistence.referenceDelegate.addReference(v,_.targetId,C))).next((()=>he.forEach(_.ds,(C=>y.persistence.referenceDelegate.removeReference(v,_.targetId,C)))))))))}catch(v){if(!_l(v))throw v;ve(Vg,"Failed to update sequence numbers: "+v)}for(const v of m){const _=v.targetId;if(!v.fromCache){const C=y.Ms.get(_),N=C.snapshotVersion,B=C.withLastLimboFreeSnapshotVersion(N);y.Ms=y.Ms.insert(_,B)}}})(r.localStore,l))}async function a9(i,e){const t=ke(i);if(!t.currentUser.isEqual(e)){ve(Yg,"User change. New user:",e.toKey());const r=await yA(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((p=>{p.forEach((g=>{g.reject(new ge(ce.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(t,r.Ls)}}function o9(i,e){const t=ke(i),r=t.Au.get(e);if(r&&r.hu)return He().add(r.key);{let o=He();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const p=t.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function LA(i){const e=ke(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=BA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n9.bind(null,e),e.Pu.H_=qk.bind(null,e.eventManager),e.Pu.yu=$k.bind(null,e.eventManager),e}function l9(i){const e=ke(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r9.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return dk(this.persistence,new ck,e.initialUser,this.serializer)}Cu(e){return new xA(Lg.mi,this.serializer)}Du(e){return new vk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class c9 extends Jd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof Wd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new xA((r=>Wd.mi(r,t)),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a9.bind(null,this.syncEngine),await Uk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Hk})()}createDatastore(e){const t=kf(e.databaseInfo.databaseId),r=(function(l){return new Ak(l)})(e.databaseInfo);return(function(l,u,p,g){return new Nk(l,u,p,g)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,l,u,p){return new Dk(r,o,l,u,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>S_(this.syncEngine,t,0)),(function(){return __.v()?new __:new bk})())}createSyncEngine(e,t){return(function(o,l,u,p,g,m,y){const v=new Xk(o,l,u,p,g,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ke(t);ve(qa,"RemoteStore shutting down."),r.Ea.add(5),await ou(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gp.provider={build:()=>new Gp};class FA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Js="FirestoreClient";class u9{constructor(e,t,r,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=Cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{ve(Js,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ve(Js,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cp(i,e){i.asyncQueue.verifyOperationInProgress(),ve(Js,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await yA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function R_(i,e){i.asyncQueue.verifyOperationInProgress();const t=await h9(i);ve(Js,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>E_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>E_(e.remoteStore,o))),i._onlineComponents=e}async function h9(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ve(Js,"Using user provided OfflineComponentProvider");try{await cp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ll("Error using user provided cache. Falling back to memory cache: "+t),await cp(i,new Jd)}}else ve(Js,"Using default OfflineComponentProvider"),await cp(i,new c9(void 0));return i._offlineComponents}async function VA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ve(Js,"Using user provided OnlineComponentProvider"),await R_(i,i._uninitializedComponentsProvider._online)):(ve(Js,"Using default OnlineComponentProvider"),await R_(i,new Gp))),i._onlineComponents}function d9(i){return VA(i).then((e=>e.syncEngine))}async function UA(i){const e=await VA(i),t=e.eventManager;return t.onListen=Qk.bind(null,e.syncEngine),t.onUnlisten=Jk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Wk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=e9.bind(null,e.syncEngine),t}function f9(i,e,t={}){const r=new Qr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,u,p,g,m){const y=new FA({next:_=>{y.Nu(),u.enqueueAndForget((()=>RA(l,v)));const C=_.docs.has(p);!C&&_.fromCache?m.reject(new ge(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&_.fromCache&&g&&g.source==="server"?m.reject(new ge(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new DA(kg(p.path),y,{includeMetadataChanges:!0,qa:!0});return NA(l,v)})(await UA(i),i.asyncQueue,e,t,r))),r.promise}function m9(i,e,t={}){const r=new Qr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,u,p,g,m){const y=new FA({next:_=>{y.Nu(),u.enqueueAndForget((()=>RA(l,v))),_.fromCache&&g.source==="server"?m.reject(new ge(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new DA(p,y,{includeMetadataChanges:!0,qa:!0});return NA(l,v)})(await UA(i),i.asyncQueue,e,t,r))),r.promise}function zA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const D_=new Map;const HA="firestore.googleapis.com",I_=!0;class k_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HA,this.ssl=I_}else this.host=e.host,this.ssl=e.ssl??I_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GI)throw new ge(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ID("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _D;switch(r.type){case"firstParty":return new TD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=D_.get(t);r&&(ve("ComponentProvider","Removing Datastore"),D_.delete(t),r.terminate())})(this),Promise.resolve()}}function p9(i,e,t,r={}){i=Ks(i,Of);const o=na(e),l=i._getSettings(),u={...l,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${t}`;o&&(lg(`https://${p}`),cg("Firestore",!0)),l.host!==HA&&l.host!==p&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:p,ssl:o,emulatorOptions:r};if(!Er(g,u)&&(i._setSettings(g),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=fn.MOCK_USER;else{m=ow(r.mockUserToken,i._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ge(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new fn(v)}i._authCredentials=new wD(new CE(m,y))}}class Za{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class Ht{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ru(t,Ht._jsonSchema))return new Ht(e,r||null,new Te(lt.fromString(t.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:zt("string",Ht._jsonSchemaVersion),referencePath:zt("string")};class Gs extends Za{constructor(e,t,r){super(e,t,kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Te(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function _n(i,e,...t){if(i=ct(i),SE("collection","path",e),i instanceof Of){const r=lt.fromString(e,...t);return $b(r),new Gs(i,null,r)}{if(!(i instanceof Ht||i instanceof Gs))throw new ge(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(lt.fromString(e,...t));return $b(r),new Gs(i.firestore,null,r)}}function bn(i,e,...t){if(i=ct(i),arguments.length===1&&(e=Cg.newId()),SE("doc","path",e),i instanceof Of){const r=lt.fromString(e,...t);return qb(r),new Ht(i,null,new Te(r))}{if(!(i instanceof Ht||i instanceof Gs))throw new ge(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(lt.fromString(e,...t));return qb(r),new Ht(i.firestore,i instanceof Gs?i.converter:null,new Te(r))}}const j_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bA(this,"async_queue_retry"),this._c=()=>{const r=lp();r&&ve(j_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;ve(j_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",O_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=$g.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function O_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class cu extends Of{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new B_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function g9(i,e){const t=typeof i=="object"?i:pf(),r=typeof i=="string"?i:Kd,o=ia(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=rw("firestore");l&&p9(o,...l)}return o}function Qg(i){if(i._terminated)throw new ge(ce.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||x9(i),i._firestoreClient}function x9(i){const e=i._freezeSettings(),t=(function(o,l,u,p){return new zD(o,l,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,zA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new u9(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(i._componentsProvider))}class yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yi(on.fromBase64String(e))}catch(t){throw new ge(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yi(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,yi._jsonSchema))return yi.fromBase64String(e.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:zt("string",yi._jsonSchemaVersion),bytes:zt("string")};class Mf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ja{constructor(e){this._methodName=e}}class _r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(ru(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:zt("string",_r._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class wr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wr(e.vectorValues);throw new ge(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:zt("string",wr._jsonSchemaVersion),vectorValues:zt("object")};const y9=/^__.*__$/;class v9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}class qA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new aa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $A(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:i})}}class Pf{constructor(e,t,r,o,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ef(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($A(this.Ac)&&y9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class b9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kf(e)}Cc(e,t,r,o=!1){return new Pf({Ac:e,methodName:t,Dc:r,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wg(i){const e=i._freezeSettings(),t=kf(i._databaseId);return new b9(i._databaseId,!!e.ignoreUndefinedProperties,t)}function _9(i,e,t,r,o,l={}){const u=i.Cc(l.merge||l.mergeFields?2:0,e,t,o);nx("Data must be an object, but it was:",u,r);const p=KA(r,u);let g,m;if(l.merge)g=new Wn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const _=Kp(e,v,t);if(!u.contains(_))throw new ge(ce.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);XA(y,_)||y.push(_)}g=new Wn(y),m=u.fieldTransforms.filter((v=>g.covers(v.field)))}else g=null,m=u.fieldTransforms;return new v9(new Bn(p),g,m)}class Lf extends Ja{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}function GA(i,e,t){return new Pf({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zg extends Ja{_toFieldTransform(e){return new Rf(e.path,new Kc)}isEqual(e){return e instanceof Zg}}class Jg extends Ja{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=GA(this,e,!0),r=this.vc.map((l=>eo(l,t))),o=new dl(r);return new Rf(e.path,o)}isEqual(e){return e instanceof Jg&&Er(this.vc,e.vc)}}class ex extends Ja{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=GA(this,e,!0),r=this.vc.map((l=>eo(l,t))),o=new fl(r);return new Rf(e.path,o)}isEqual(e){return e instanceof ex&&Er(this.vc,e.vc)}}class tx extends Ja{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Yc(e.serializer,ZE(e.serializer,this.Fc));return new Rf(e.path,t)}isEqual(e){return e instanceof tx&&this.Fc===e.Fc}}function w9(i,e,t,r){const o=i.Cc(1,e,t);nx("Data must be an object, but it was:",o,r);const l=[],u=Bn.empty();sa(r,((g,m)=>{const y=ix(e,g,t);m=ct(m);const v=o.yc(y);if(m instanceof Lf)l.push(y);else{const _=eo(m,v);_!=null&&(l.push(y),u.set(y,_))}}));const p=new Wn(l);return new qA(u,p,o.fieldTransforms)}function E9(i,e,t,r,o,l){const u=i.Cc(1,e,t),p=[Kp(e,r,t)],g=[o];if(l.length%2!=0)throw new ge(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)p.push(Kp(e,l[_])),g.push(l[_+1]);const m=[],y=Bn.empty();for(let _=p.length-1;_>=0;--_)if(!XA(m,p[_])){const C=p[_];let N=g[_];N=ct(N);const B=u.yc(C);if(N instanceof Lf)m.push(C);else{const I=eo(N,B);I!=null&&(m.push(C),y.set(C,I))}}const v=new Wn(m);return new qA(y,v,u.fieldTransforms)}function A9(i,e,t,r=!1){return eo(t,i.Cc(r?4:3,e))}function eo(i,e){if(YA(i=ct(i)))return nx("Unsupported field value:",e,i),KA(i,e);if(i instanceof Ja)return(function(r,o){if(!$A(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const l=[];let u=0;for(const p of r){let g=eo(p,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}})(i,e)}return(function(r,o){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZE(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ft.fromDate(r);return{timestampValue:Qd(o.serializer,l)}}if(r instanceof ft){const l=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(o.serializer,l)}}if(r instanceof _r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yi)return{bytesValue:cA(o.serializer,r._byteString)};if(r instanceof Ht){const l=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Mg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof wr)return(function(u,p){return{mapValue:{fields:{[ME]:{stringValue:PE},[Yd]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return jg(p.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${wf(r)}`)})(i,e)}function KA(i,e){const t={};return DE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(i,((r,o)=>{const l=eo(o,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function YA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof _r||i instanceof yi||i instanceof Ht||i instanceof Ja||i instanceof wr)}function nx(i,e,t){if(!YA(t)||!NE(t)){const r=wf(t);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Kp(i,e,t){if((e=ct(e))instanceof Mf)return e._internalPath;if(typeof e=="string")return ix(i,e);throw ef("Field path arguments must be of type string or ",i,!1,void 0,t)}const T9=new RegExp("[~\\*/\\[\\]]");function ix(i,e,t){if(e.search(T9)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Mf(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ef(i,e,t,r,o){const l=r&&!r.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${r}`),u&&(g+=` in document ${o}`),g+=")"),new ge(ce.INVALID_ARGUMENT,p+i+g)}function XA(i,e){return i.some((t=>t.isEqual(e)))}class QA{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new C9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ff("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class C9 extends QA{data(){return super.data()}}function Ff(i,e){return typeof e=="string"?ix(i,e):e instanceof Mf?e._internalPath:e._delegate._internalPath}function S9(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rx{}class WA extends rx{}function ea(i,e,...t){let r=[];e instanceof rx&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((g=>g instanceof sx)).length,p=l.filter((g=>g instanceof Vf)).length;if(u>1||u>0&&p>0)throw new ge(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Vf extends WA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Vf(e,t,r)}_apply(e){const t=this._parse(e);return ZA(e._query,t),new Za(e.firestore,e.converter,Mp(e._query,t))}_parse(e){const t=Wg(e.firestore);return(function(l,u,p,g,m,y,v){let _;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){P_(v,y);const N=[];for(const B of v)N.push(M_(g,l,B));_={arrayValue:{values:N}}}else _=M_(g,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||P_(v,y),_=A9(p,u,v,y==="in"||y==="not-in");return Ut.create(m,y,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function sl(i,e,t){const r=e,o=Ff("where",i);return Vf._create(o,r,t)}class sx extends rx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sx(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const p=l.getFlattenedFilters();for(const g of p)ZA(u,g),u=Mp(u,g)})(e._query,t),new Za(e.firestore,e.converter,Mp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ax extends WA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ax(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new ge(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(l,u)})(e._query,this._field,this._direction);return new Za(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new wl(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function tf(i,e="asc"){const t=e,r=Ff("orderBy",i);return ax._create(r,t)}function M_(i,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new ge(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$E(e)&&t.indexOf("/")!==-1)throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(lt.fromString(t));if(!Te.isDocumentKey(r))throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jb(i,new Te(r))}if(t instanceof Ht)return Jb(i,t._key);throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(t)}.`)}function P_(i,e){if(!Array.isArray(i)||i.length===0)throw new ge(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZA(i,e){const t=(function(o,l){for(const u of o)for(const p of u.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class N9{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return sa(e,((o,l)=>{r[o]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Yd].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new wr(t)}convertGeoPoint(e){return new _r(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Tf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const t=Xs(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=lt.fromString(e);Ze(pA(r),9688,{name:e});const o=new qc(r.get(1),r.get(3)),l=new Te(r.popFirst(5));return o.isEqual(t)||es(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function R9(i,e,t){let r;return r=i?i.toFirestore(e):e,r}class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends QA{constructor(e,t,r,o,l,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ff("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Pa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:zt("string",Pa._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Zh extends Pa{data(e={}){return super.data(e)}}class al{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ic(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Zh(this._firestore,this._userDataWriter,r.key,r,new Ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const g=new Zh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ic(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const g=new Zh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ic(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,y=-1;return p.type!==0&&(m=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),y=u.indexOf(p.doc.key)),{type:D9(p.type),doc:g,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function D9(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}function ox(i){i=Ks(i,Ht);const e=Ks(i.firestore,cu);return f9(Qg(e),i._key).then((t=>I9(e,i,t)))}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:zt("string",al._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class JA extends N9{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}}function ns(i){i=Ks(i,Za);const e=Ks(i.firestore,cu),t=Qg(e),r=new JA(e);return S9(i._query),m9(t,i._query).then((o=>new al(e,r,i,o)))}function dn(i,e,t,...r){i=Ks(i,Ht);const o=Ks(i.firestore,cu),l=Wg(o);let u;return u=typeof(e=ct(e))=="string"||e instanceof Mf?E9(l,"updateDoc",i._key,e,t,r):w9(l,"updateDoc",i._key,e),e4(o,[u.toMutation(i._key,vr.exists(!0))])}function gl(i,e){const t=Ks(i.firestore,cu),r=bn(i),o=R9(i.converter,e);return e4(t,[_9(Wg(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then((()=>r))}function e4(i,e){return(function(r,o){const l=new Qr;return r.asyncQueue.enqueueAndForget((async()=>t9(await d9(r),o,l))),l.promise})(Qg(i),e)}function I9(i,e,t){const r=t.docs.get(e._key),o=new JA(i);return new Pa(i,o,e._key,r,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}function Xc(){return new Zg("serverTimestamp")}function nf(...i){return new Jg("arrayUnion",i)}function rf(...i){return new ex("arrayRemove",i)}function ja(i){return new tx("increment",i)}(function(e,t=!0){(function(o){vl=o})(Ya),Pi(new bi("firestore",((r,{instanceIdentifier:o,options:l})=>{const u=r.getProvider("app").getImmediate(),p=new cu(new ED(r.getProvider("auth-internal")),new CD(u,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ge(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(m.options.projectId,y)})(u,o),u);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),On(Vb,Ub,e),On(Vb,Ub,"esm2020")})();const t4="firebasestorage.googleapis.com",n4="storageBucket",k9=120*1e3,j9=600*1e3;class Tt extends _i{constructor(e,t,r=0){super(up(e),`Firebase Storage: ${t} (${up(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function up(i){return"storage/"+i}function lx(){const i="An unknown error occurred, please check the error payload for server response.";return new Tt(At.UNKNOWN,i)}function B9(i){return new Tt(At.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function O9(i){return new Tt(At.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function M9(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(At.UNAUTHENTICATED,i)}function P9(){return new Tt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function L9(i){return new Tt(At.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function F9(){return new Tt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function V9(){return new Tt(At.CANCELED,"User canceled the upload/download.")}function U9(i){return new Tt(At.INVALID_URL,"Invalid URL '"+i+"'.")}function z9(i){return new Tt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function H9(){return new Tt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+n4+"' property when initializing the app?")}function q9(){return new Tt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $9(){return new Tt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function G9(i){return new Tt(At.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yp(i){return new Tt(At.INVALID_ARGUMENT,i)}function i4(){return new Tt(At.APP_DELETED,"The Firebase app was deleted.")}function K9(i){return new Tt(At.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lc(i,e){return new Tt(At.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Tc(i){throw new Tt(At.INTERNAL_ERROR,"Internal error: "+i)}class Zn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Zn.makeFromUrl(e,t)}catch{return new Zn(e,"")}if(r.path==="")return r;throw z9(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function l(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const u="(/(.*))?$",p=new RegExp("^gs://"+o+u,"i"),g={bucket:1,path:3};function m(L){L.path_=decodeURIComponent(L.path)}const y="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",C=new RegExp(`^https?://${v}/${y}/b/${o}/o${_}`,"i"),N={bucket:1,path:3},B=t===t4?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",P=new RegExp(`^https?://${B}/${o}/${I}`,"i"),j=[{regex:p,indices:g,postModify:l},{regex:C,indices:N,postModify:m},{regex:P,indices:{bucket:1,path:2},postModify:m}];for(let L=0;L<j.length;L++){const z=j[L],q=z.regex.exec(e);if(q){const T=q[z.indices.bucket];let R=q[z.indices.path];R||(R=""),r=new Zn(T,R),z.postModify(r);break}}if(r==null)throw U9(e);return r}}class Y9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function X9(i,e,t){let r=1,o=null,l=null,u=!1,p=0;function g(){return p===2}let m=!1;function y(...I){m||(m=!0,e.apply(null,I))}function v(I){o=setTimeout(()=>{o=null,i(C,g())},I)}function _(){l&&clearTimeout(l)}function C(I,...P){if(m){_();return}if(I){_(),y.call(null,I,...P);return}if(g()||u){_(),y.call(null,I,...P);return}r<64&&(r*=2);let j;p===1?(p=2,j=0):j=(r+Math.random())*1e3,v(j)}let N=!1;function B(I){N||(N=!0,_(),!m&&(o!==null?(I||(p=2),clearTimeout(o),v(0)):I||(p=1)))}return v(0),l=setTimeout(()=>{u=!0,B(!0)},t),B}function Q9(i){i(!1)}function W9(i){return i!==void 0}function Z9(i){return typeof i=="object"&&!Array.isArray(i)}function cx(i){return typeof i=="string"||i instanceof String}function L_(i){return ux()&&i instanceof Blob}function ux(){return typeof Blob<"u"}function F_(i,e,t,r){if(r<e)throw Yp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>t)throw Yp(`Invalid value for '${i}'. Expected ${t} or less.`)}function hx(i,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${i}`}function r4(i){const e=encodeURIComponent;let t="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var La;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(La||(La={}));function J9(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}class e7{constructor(e,t,r,o,l,u,p,g,m,y,v,_=!0,C=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=g,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,B)=>{this.resolve_=N,this.reject_=B,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Fh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=p=>{const g=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const p=l.getErrorCode()===La.NO_ERROR,g=l.getStatus();if(!p||J9(g,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===La.ABORT;r(!1,new Fh(!1,null,y));return}const m=this.successCodes_.indexOf(g)!==-1;r(!0,new Fh(m,l))})},t=(r,o)=>{const l=this.resolve_,u=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());W9(g)?l(g):l()}catch(g){u(g)}else if(p!==null){const g=lx();g.serverResponse=p.getErrorText(),this.errorCallback_?u(this.errorCallback_(p,g)):u(g)}else if(o.canceled){const g=this.appDelete_?i4():V9();u(g)}else{const g=F9();u(g)}};this.canceled_?t(!1,new Fh(!1,null,!0)):this.backoffId_=X9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Q9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function t7(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function n7(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function i7(i,e){e&&(i["X-Firebase-GMPID"]=e)}function r7(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function s7(i,e,t,r,o,l,u=!0,p=!1){const g=r4(i.urlParams),m=i.url+g,y=Object.assign({},i.headers);return i7(y,e),t7(y,t),n7(y,l),r7(y,r),new e7(m,i.method,y,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,u,p)}function a7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function o7(...i){const e=a7();if(e!==void 0){const t=new e;for(let r=0;r<i.length;r++)t.append(i[r]);return t.getBlob()}else{if(ux())return new Blob(i);throw new Tt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function l7(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function c7(i){if(typeof atob>"u")throw G9("base-64");return atob(i)}const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hp{constructor(e,t){this.data=e,this.contentType=t||null}}function u7(i,e){switch(i){case pr.RAW:return new hp(s4(e));case pr.BASE64:case pr.BASE64URL:return new hp(a4(i,e));case pr.DATA_URL:return new hp(d7(e),f7(e))}throw lx()}function s4(i){const e=[];for(let t=0;t<i.length;t++){let r=i.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,u=i.charCodeAt(++t);r=65536|(l&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function h7(i){let e;try{e=decodeURIComponent(i)}catch{throw Lc(pr.DATA_URL,"Malformed data URL.")}return s4(e)}function a4(i,e){switch(i){case pr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Lc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Lc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=c7(e)}catch(o){throw o.message.includes("polyfill")?o:Lc(i,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class o4{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Lc(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=m7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function d7(i){const e=new o4(i);return e.base64?a4(pr.BASE64,e.rest):h7(e.rest)}function f7(i){return new o4(i).contentType}function m7(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class Us{constructor(e,t){let r=0,o="";L_(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(L_(this.data_)){const r=this.data_,o=l7(r,e,t);return o===null?null:new Us(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Us(r,!0)}}static getBlob(...e){if(ux()){const t=e.map(r=>r instanceof Us?r.data_:r);return new Us(o7.apply(null,t))}else{const t=e.map(u=>cx(u)?u7(pr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let l=0;return t.forEach(u=>{for(let p=0;p<u.length;p++)o[l++]=u[p]}),new Us(o,!0)}}uploadData(){return this.data_}}function l4(i){let e;try{e=JSON.parse(i)}catch{return null}return Z9(e)?e:null}function p7(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function g7(i,e){const t=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?t:i+"/"+t}function c4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function x7(i,e){return e}class vn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||x7}}let Vh=null;function y7(i){return!cx(i)||i.length<2?i:c4(i)}function u4(){if(Vh)return Vh;const i=[];i.push(new vn("bucket")),i.push(new vn("generation")),i.push(new vn("metageneration")),i.push(new vn("name","fullPath",!0));function e(l,u){return y7(u)}const t=new vn("name");t.xform=e,i.push(t);function r(l,u){return u!==void 0?Number(u):u}const o=new vn("size");return o.xform=r,i.push(o),i.push(new vn("timeCreated")),i.push(new vn("updated")),i.push(new vn("md5Hash",null,!0)),i.push(new vn("cacheControl",null,!0)),i.push(new vn("contentDisposition",null,!0)),i.push(new vn("contentEncoding",null,!0)),i.push(new vn("contentLanguage",null,!0)),i.push(new vn("contentType",null,!0)),i.push(new vn("metadata","customMetadata",!0)),Vh=i,Vh}function v7(i,e){function t(){const r=i.bucket,o=i.fullPath,l=new Zn(r,o);return e._makeStorageReference(l)}Object.defineProperty(i,"ref",{get:t})}function b7(i,e,t){const r={};r.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];r[u.local]=u.xform(r,e[u.server])}return v7(r,i),r}function h4(i,e,t){const r=l4(e);return r===null?null:b7(i,r,t)}function _7(i,e,t,r){const o=l4(e);if(o===null||!cx(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(m=>{const y=i.bucket,v=i.fullPath,_="/b/"+u(y)+"/o/"+u(v),C=hx(_,t,r),N=r4({alt:"media",token:m});return C+N})[0]}function w7(i,e){const t={},r=e.length;for(let o=0;o<r;o++){const l=e[o];l.writable&&(t[l.server]=i[l.local])}return JSON.stringify(t)}class d4{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function f4(i){if(!i)throw lx()}function E7(i,e){function t(r,o){const l=h4(i,o,e);return f4(l!==null),l}return t}function A7(i,e){function t(r,o){const l=h4(i,o,e);return f4(l!==null),_7(l,o,i.host,i._protocol)}return t}function m4(i){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=P9():o=M9():t.getStatus()===402?o=O9(i.bucket):t.getStatus()===403?o=L9(i.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function T7(i){const e=m4(i);function t(r,o){let l=e(r,o);return r.getStatus()===404&&(l=B9(i.path)),l.serverResponse=o.serverResponse,l}return t}function C7(i,e,t){const r=e.fullServerUrl(),o=hx(r,i.host,i._protocol),l="GET",u=i.maxOperationRetryTime,p=new d4(o,l,A7(i,t),u);return p.errorHandler=T7(e),p}function S7(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function N7(i,e,t){const r=Object.assign({},t);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=S7(null,e)),r}function R7(i,e,t,r,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function p(){let j="";for(let L=0;L<2;L++)j=j+Math.random().toString().slice(2);return j}const g=p();u["Content-Type"]="multipart/related; boundary="+g;const m=N7(e,r,o),y=w7(m,t),v="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+g+`\r
Content-Type: `+m.contentType+`\r
\r
`,_=`\r
--`+g+"--",C=Us.getBlob(v,r,_);if(C===null)throw q9();const N={name:m.fullPath},B=hx(l,i.host,i._protocol),I="POST",P=i.maxUploadRetryTime,k=new d4(B,I,E7(i,t),P);return k.urlParams=N,k.headers=u,k.body=C.uploadData(),k.errorHandler=m4(e),k}class D7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=La.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=La.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=La.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,l){if(this.sent_)throw Tc("cannot .send() more than once");if(na(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class I7 extends D7{initXhr(){this.xhr_.responseType="text"}}function p4(){return new I7}class $a{constructor(e,t){this._service=e,t instanceof Zn?this._location=t:this._location=Zn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new $a(e,t)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return c4(this._location.path)}get storage(){return this._service}get parent(){const e=p7(this._location.path);if(e===null)return null;const t=new Zn(this._location.bucket,e);return new $a(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw K9(e)}}function k7(i,e,t){i._throwIfRoot("uploadBytes");const r=R7(i.storage,i._location,u4(),new Us(e,!0),t);return i.storage.makeRequestWithTokens(r,p4).then(o=>({metadata:o,ref:i}))}function j7(i){i._throwIfRoot("getDownloadURL");const e=C7(i.storage,i._location,u4());return i.storage.makeRequestWithTokens(e,p4).then(t=>{if(t===null)throw $9();return t})}function B7(i,e){const t=g7(i._location.path,e),r=new Zn(i._location.bucket,t);return new $a(i.storage,r)}function O7(i){return/^[A-Za-z]+:\/\//.test(i)}function M7(i,e){return new $a(i,e)}function g4(i,e){if(i instanceof dx){const t=i;if(t._bucket==null)throw H9();const r=new $a(t,t._bucket);return e!=null?g4(r,e):r}else return e!==void 0?B7(i,e):i}function P7(i,e){if(e&&O7(e)){if(i instanceof dx)return M7(i,e);throw Yp("To use ref(service, url), the first argument must be a Storage instance.")}else return g4(i,e)}function V_(i,e){const t=e?.[n4];return t==null?null:Zn.makeFromBucketSpec(t,i)}function L7(i,e,t,r={}){i.host=`${e}:${t}`;const o=na(e);o&&(lg(`https://${i.host}/b`),cg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:l}=r;l&&(i._overrideAuthToken=typeof l=="string"?l:ow(l,i.app.options.projectId))}class dx{constructor(e,t,r,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=t4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k9,this._maxUploadRetryTime=j9,this._requests=new Set,o!=null?this._bucket=Zn.makeFromBucketSpec(o,this._host):this._bucket=V_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=V_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $a(this,e)}_makeRequest(e,t,r,o,l=!0){if(this._deleted)return new Y9(i4());{const u=s7(e,this._appId,r,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const U_="@firebase/storage",z_="0.14.0";const x4="storage";function F7(i,e,t){return i=ct(i),k7(i,e,t)}function V7(i){return i=ct(i),j7(i)}function U7(i,e){return i=ct(i),P7(i,e)}function z7(i=pf(),e){i=ct(i);const r=ia(i,x4).getImmediate({identifier:e}),o=rw("storage");return o&&H7(r,...o),r}function H7(i,e,t,r={}){L7(i,e,t,r)}function q7(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new dx(t,r,o,e,Ya)}function $7(){Pi(new bi(x4,q7,"PUBLIC").setMultipleInstances(!0)),On(U_,z_,""),On(U_,z_,"esm2020")}$7();const y4={apiKey:"AIzaSyAvWBMxfjs90YP7ccPemiXiJtiVp2KkkcE",authDomain:"bpa-2025-b4fca.firebaseapp.com",projectId:"bpa-2025-b4fca",storageBucket:"bpa-2025-b4fca.firebasestorage.app",messagingSenderId:"608672657670",appId:"1:608672657670:web:d037bcb4fcea53f825ee87",measurementId:"G-TNPNG989TD"};y4.apiKey||console.warn("[firebase] VITE_FIREBASE_API_KEY is not set. Check your .env file or environment variables.");const Uf=mw(y4);t8(Uf);const _e=vD(Uf),nt=g9(Uf),G7=z7(Uf),K7=async()=>{try{return(await ns(_n(nt,"counselors"))).docs.map(e=>({id:e.id,...e.data()}))}catch(i){return console.error("Error fetching counselors:",i),[]}},Y7=async i=>{try{return(await gl(_n(nt,"appointments"),{...i,createdAt:new Date().toISOString()})).id}catch(e){return console.error("Error creating appointment:",e),null}},dp=async i=>{try{const e=ea(_n(nt,"appointments"),sl("userId","==",i));return(await ns(e)).docs.map(o=>({id:o.id,...o.data()})).sort((o,l)=>new Date(l.date).getTime()-new Date(o.date).getTime())}catch(e){return console.error("Error fetching user appointments:",e),[]}},X7=async(i,e)=>{try{const t=ea(_n(nt,"appointments"),sl("counselorId","==",i),sl("date","==",e),sl("status","==","scheduled"));return(await ns(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){return console.error("Error fetching counselor appointments:",t),[]}},Q7=async i=>{try{return await dn(bn(nt,"appointments",i),{status:"cancelled"}),!0}catch(e){return console.error("Error cancelling appointment:",e),!1}};function W7(){const[i,e]=$.useState(null),[t,r]=$.useState([]),[o,l]=$.useState([]),[u,p]=$.useState(null),[g,m]=$.useState(new Date),[y,v]=$.useState(""),[_,C]=$.useState("online"),[N,B]=$.useState([]),[I,P]=$.useState([]),[k,j]=$.useState(!0),[L,z]=$.useState(""),[q,T]=$.useState("All"),[R,S]=$.useState(!1),A=["All","Anxiety & Depression","Trauma & PTSD","Family & Relationships","Self-Care","EMDR"];$.useEffect(()=>vf(_e,X=>{e(X?X.uid:null)}),[]),$.useEffect(()=>{(async()=>{try{const X=await K7();if(r(X),i){const ae=await dp(i);l(ae)}}catch(X){console.error("Error loading data:",X)}finally{j(!1)}})()},[i]),$.useEffect(()=>{(async()=>{if(!u)return;const X=g.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),ae=u.availability[X]||[];B(ae);const fe=g.toISOString().split("T")[0],F=(await X7(u.id,fe)).map(K=>K.time);P(F)})()},[u,g]);const D=async()=>{if(!u||!y||!i||!_e.currentUser){alert("Please select a counselor, date, and time");return}const H={counselorId:u.id,counselorName:u.name,userId:i,userName:_e.currentUser.displayName||_e.currentUser.email?.split("@")[0]||"User",userEmail:_e.currentUser.email||"",date:g.toISOString().split("T")[0],time:y,duration:50,type:_,status:"scheduled",notes:L};try{await Y7(H)?(alert("Appointment booked successfully!"),S(!1),v(""),z(""),p(null),setTimeout(async()=>{const ae=await dp(i);console.log("Fetched appointments:",ae),l(ae)},500)):alert("Failed to book appointment. Please try again.")}catch(X){console.error("Error booking appointment:",X),alert("An error occurred while booking. Please try again.")}},V=async H=>{if(confirm("Are you sure you want to cancel this appointment?"))try{if(await Q7(H)){if(alert("Appointment cancelled successfully"),i){const ae=await dp(i);console.log("Fetched appointments after cancel:",ae),l(ae)}}else alert("Failed to cancel appointment")}catch(X){console.error("Error cancelling appointment:",X),alert("An error occurred while cancelling the appointment.")}},O=t.filter(H=>q==="All"?!0:H.tags.includes(q)),de=()=>{const H=new Date(g);H.setDate(H.getDate()+7),m(H)},ie=()=>{const H=new Date(g);H.setDate(H.getDate()-7),m(H)};return k?d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsx("p",{className:"text-white text-lg",children:"Loading..."})}):d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Book Your Session"}),d.jsx("p",{className:"text-white/70 text-lg",children:"Connect with a compassionate professional who understands"}),d.jsx("p",{className:"text-white/50 text-sm mt-2",children:"Choose a counselor, find a time that works for you. All sessions are completely confidential and designed to support your mental health journey."})]}),d.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-8 shadow-2xl shadow-black/20",children:d.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(m6,{size:20,className:"text-white/70"}),d.jsx("span",{className:"text-white/70 text-sm font-medium",children:"Specialization:"})]}),A.map(H=>d.jsx("button",{onClick:()=>T(H),className:`px-4 py-2 rounded-full font-medium text-sm transition-all duration-200 border ${q===H?"bg-white/25 text-white border-white/40 shadow-lg":"bg-white/5 text-white/80 border-white/10 hover:bg-white/10"}`,children:H},H))]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx("div",{className:"lg:col-span-2 space-y-4",children:O.length===0?d.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-12 text-center",children:d.jsx("p",{className:"text-white/70",children:"No counselors found for this specialization."})}):O.map(H=>d.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300",children:d.jsxs("div",{className:"flex gap-6",children:[d.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden flex-shrink-0 border-4 border-white/20 shadow-lg",children:d.jsx("img",{src:H.avatar,alt:H.name,className:"w-full h-full object-cover",onError:X=>{X.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(H.name)}&background=8B5CF6&color=fff&size=200`}})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:H.name}),d.jsx("p",{className:"text-white/80 text-sm",children:H.credentials})]}),d.jsxs("div",{className:"flex items-center gap-1 bg-white/10 px-3 py-1 rounded-full",children:[d.jsx(k6,{size:16,className:"text-yellow-400 fill-yellow-400"}),d.jsx("span",{className:"text-white font-semibold",children:H.rating.toFixed(1)}),d.jsxs("span",{className:"text-white/60 text-sm",children:["(",H.reviewCount,")"]})]})]}),d.jsx("p",{className:"text-white/90 font-semibold mb-2",children:H.specialization}),d.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:H.bio}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx($S,{size:16}),d.jsxs("span",{children:[H.yearsExperience,"+ years"]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx($6,{size:16}),d.jsx("span",{children:"Family & Relationship Therapy"})]})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:H.tags.map(X=>d.jsx("span",{className:"text-xs bg-white/10 text-white/80 px-3 py-1 rounded-full border border-white/20",children:X},X))}),d.jsx("button",{onClick:()=>{p(H),S(!0)},className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold px-6 py-3 rounded-full transition-all duration-200 shadow-lg",children:"View Profile & Book"})]})]})},H.id))}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[d.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[d.jsx(sg,{size:20}),"Your Appointments"]}),i?o.filter(H=>H.status==="scheduled").length===0?d.jsx("p",{className:"text-white/60 text-sm",children:"No upcoming appointments"}):d.jsx("div",{className:"space-y-3",children:o.filter(H=>H.status==="scheduled").slice(0,3).map(H=>d.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:[d.jsx("p",{className:"text-white font-semibold text-sm",children:H.counselorName}),d.jsxs("p",{className:"text-white/70 text-xs mt-1",children:[new Date(H.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," at ",H.time]}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[H.type==="online"?d.jsx(Ym,{size:14,className:"text-white/50"}):d.jsx(Km,{size:14,className:"text-white/50"}),d.jsx("span",{className:"text-white/50 text-xs capitalize",children:H.type})]}),d.jsx("button",{onClick:()=>V(H.id),className:"text-red-400 hover:text-red-300 text-xs mt-2 transition-colors",children:"Cancel"})]},H.id))}):d.jsx("p",{className:"text-white/60 text-sm",children:"Please log in to view appointments"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Session Information"}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Y2,{size:16,className:"text-white/50 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white/90 font-medium",children:"Duration"}),d.jsx("p",{className:"text-white/60",children:"50 minutes per session"})]})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Ym,{size:16,className:"text-white/50 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white/90 font-medium",children:"Online Sessions"}),d.jsx("p",{className:"text-white/60",children:"Secure video conferencing"})]})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Km,{size:16,className:"text-white/50 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white/90 font-medium",children:"In-Person"}),d.jsx("p",{className:"text-white/60",children:"Office locations available"})]})]})]})]})]})]}),R&&u&&d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-[#0A0F2A] border border-white/20 rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-start justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Book Session"}),d.jsx("p",{className:"text-white/70",children:u.name})]}),d.jsx("button",{onClick:()=>S(!1),className:"text-white/70 hover:text-white text-2xl",children:""})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-3",children:"Session Type"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:()=>C("online"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-medium transition-all ${_==="online"?"bg-white/20 text-white border-2 border-white/40":"bg-white/5 text-white/70 border-2 border-white/10 hover:bg-white/10"}`,children:[d.jsx(Ym,{size:18}),"Online"]}),d.jsxs("button",{onClick:()=>C("in-person"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-medium transition-all ${_==="in-person"?"bg-white/20 text-white border-2 border-white/40":"bg-white/5 text-white/70 border-2 border-white/10 hover:bg-white/10"}`,children:[d.jsx(Km,{size:18}),"In-Person"]})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-3",children:"Select Date"}),d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("button",{onClick:ie,className:"text-white/70 hover:text-white",children:d.jsx(t6,{size:24})}),d.jsx("span",{className:"text-white font-semibold",children:g.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),d.jsx("button",{onClick:de,className:"text-white/70 hover:text-white",children:d.jsx(i6,{size:24})})]}),d.jsx("div",{className:"grid grid-cols-7 gap-2",children:Array.from({length:7},(H,X)=>{const ae=new Date(g);ae.setDate(ae.getDate()-ae.getDay()+X);const fe=ae.toDateString()===g.toDateString(),me=ae<new Date(new Date().setHours(0,0,0,0));return d.jsxs("button",{onClick:()=>!me&&m(ae),disabled:me,className:`p-3 rounded-xl text-center transition-all ${fe?"bg-white/20 border-2 border-white/40":me?"bg-white/5 text-white/30 cursor-not-allowed":"bg-white/5 hover:bg-white/10 border-2 border-transparent"}`,children:[d.jsx("div",{className:"text-white/60 text-xs",children:ae.toLocaleDateString("en-US",{weekday:"short"})}),d.jsx("div",{className:"text-white font-semibold",children:ae.getDate()})]},X)})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-3",children:"Select Time"}),N.length===0?d.jsx("p",{className:"text-white/60 text-sm",children:"No available times for this date"}):d.jsx("div",{className:"grid grid-cols-4 gap-2",children:N.map(H=>{const X=I.includes(H),ae=y===H;return d.jsx("button",{onClick:()=>!X&&v(H),disabled:X,className:`py-2 px-3 rounded-xl text-sm font-medium transition-all ${ae?"bg-white/20 text-white border-2 border-white/40":X?"bg-white/5 text-white/30 line-through cursor-not-allowed":"bg-white/5 text-white/80 hover:bg-white/10 border-2 border-transparent"}`,children:H},H)})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Notes (Optional)"}),d.jsx("textarea",{value:L,onChange:H=>z(H.target.value),rows:3,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Any specific topics you'd like to discuss..."})]}),d.jsxs("button",{onClick:D,disabled:!y||!i,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 rounded-xl transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(WS,{size:20}),"Confirm Booking"]})]})})]})})}var Jh={exports:{}};function Z7(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ed={exports:{}};const J7={},ej=Object.freeze(Object.defineProperty({__proto__:null,default:J7},Symbol.toStringTag,{value:"Module"})),tj=tC(ej);var nj=ed.exports,H_;function $e(){return H_||(H_=1,(function(i,e){(function(t,r){i.exports=r()})(nj,function(){var t=t||(function(r,o){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof Pm<"u"&&Pm.crypto&&(l=Pm.crypto),!l&&typeof Z7=="function")try{l=tj}catch{}var u=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},p=Object.create||(function(){function k(){}return function(j){var L;return k.prototype=j,L=new k,k.prototype=null,L}})(),g={},m=g.lib={},y=m.Base=(function(){return{extend:function(k){var j=p(this);return k&&j.mixIn(k),(!j.hasOwnProperty("init")||this.init===j.init)&&(j.init=function(){j.$super.init.apply(this,arguments)}),j.init.prototype=j,j.$super=this,j},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var j in k)k.hasOwnProperty(j)&&(this[j]=k[j]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),v=m.WordArray=y.extend({init:function(k,j){k=this.words=k||[],j!=o?this.sigBytes=j:this.sigBytes=k.length*4},toString:function(k){return(k||C).stringify(this)},concat:function(k){var j=this.words,L=k.words,z=this.sigBytes,q=k.sigBytes;if(this.clamp(),z%4)for(var T=0;T<q;T++){var R=L[T>>>2]>>>24-T%4*8&255;j[z+T>>>2]|=R<<24-(z+T)%4*8}else for(var S=0;S<q;S+=4)j[z+S>>>2]=L[S>>>2];return this.sigBytes+=q,this},clamp:function(){var k=this.words,j=this.sigBytes;k[j>>>2]&=4294967295<<32-j%4*8,k.length=r.ceil(j/4)},clone:function(){var k=y.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var j=[],L=0;L<k;L+=4)j.push(u());return new v.init(j,k)}}),_=g.enc={},C=_.Hex={stringify:function(k){for(var j=k.words,L=k.sigBytes,z=[],q=0;q<L;q++){var T=j[q>>>2]>>>24-q%4*8&255;z.push((T>>>4).toString(16)),z.push((T&15).toString(16))}return z.join("")},parse:function(k){for(var j=k.length,L=[],z=0;z<j;z+=2)L[z>>>3]|=parseInt(k.substr(z,2),16)<<24-z%8*4;return new v.init(L,j/2)}},N=_.Latin1={stringify:function(k){for(var j=k.words,L=k.sigBytes,z=[],q=0;q<L;q++){var T=j[q>>>2]>>>24-q%4*8&255;z.push(String.fromCharCode(T))}return z.join("")},parse:function(k){for(var j=k.length,L=[],z=0;z<j;z++)L[z>>>2]|=(k.charCodeAt(z)&255)<<24-z%4*8;return new v.init(L,j)}},B=_.Utf8={stringify:function(k){try{return decodeURIComponent(escape(N.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return N.parse(unescape(encodeURIComponent(k)))}},I=m.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=B.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var j,L=this._data,z=L.words,q=L.sigBytes,T=this.blockSize,R=T*4,S=q/R;k?S=r.ceil(S):S=r.max((S|0)-this._minBufferSize,0);var A=S*T,D=r.min(A*4,q);if(A){for(var V=0;V<A;V+=T)this._doProcessBlock(z,V);j=z.splice(0,A),L.sigBytes-=D}return new v.init(j,D)},clone:function(){var k=y.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0});m.Hasher=I.extend({cfg:y.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){k&&this._append(k);var j=this._doFinalize();return j},blockSize:16,_createHelper:function(k){return function(j,L){return new k.init(L).finalize(j)}},_createHmacHelper:function(k){return function(j,L){return new P.HMAC.init(k,L).finalize(j)}}});var P=g.algo={};return g})(Math);return t})})(ed)),ed.exports}var td={exports:{}},ij=td.exports,q_;function zf(){return q_||(q_=1,(function(i,e){(function(t,r){i.exports=r($e())})(ij,function(t){return(function(r){var o=t,l=o.lib,u=l.Base,p=l.WordArray,g=o.x64={};g.Word=u.extend({init:function(m,y){this.high=m,this.low=y}}),g.WordArray=u.extend({init:function(m,y){m=this.words=m||[],y!=r?this.sigBytes=y:this.sigBytes=m.length*8},toX32:function(){for(var m=this.words,y=m.length,v=[],_=0;_<y;_++){var C=m[_];v.push(C.high),v.push(C.low)}return p.create(v,this.sigBytes)},clone:function(){for(var m=u.clone.call(this),y=m.words=this.words.slice(0),v=y.length,_=0;_<v;_++)y[_]=y[_].clone();return m}})})(),t})})(td)),td.exports}var nd={exports:{}},rj=nd.exports,$_;function sj(){return $_||($_=1,(function(i,e){(function(t,r){i.exports=r($e())})(rj,function(t){return(function(){if(typeof ArrayBuffer=="function"){var r=t,o=r.lib,l=o.WordArray,u=l.init,p=l.init=function(g){if(g instanceof ArrayBuffer&&(g=new Uint8Array(g)),(g instanceof Int8Array||typeof Uint8ClampedArray<"u"&&g instanceof Uint8ClampedArray||g instanceof Int16Array||g instanceof Uint16Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array)&&(g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength)),g instanceof Uint8Array){for(var m=g.byteLength,y=[],v=0;v<m;v++)y[v>>>2]|=g[v]<<24-v%4*8;u.call(this,y,m)}else u.apply(this,arguments)};p.prototype=l}})(),t.lib.WordArray})})(nd)),nd.exports}var id={exports:{}},aj=id.exports,G_;function oj(){return G_||(G_=1,(function(i,e){(function(t,r){i.exports=r($e())})(aj,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=r.enc;u.Utf16=u.Utf16BE={stringify:function(g){for(var m=g.words,y=g.sigBytes,v=[],_=0;_<y;_+=2){var C=m[_>>>2]>>>16-_%4*8&65535;v.push(String.fromCharCode(C))}return v.join("")},parse:function(g){for(var m=g.length,y=[],v=0;v<m;v++)y[v>>>1]|=g.charCodeAt(v)<<16-v%2*16;return l.create(y,m*2)}},u.Utf16LE={stringify:function(g){for(var m=g.words,y=g.sigBytes,v=[],_=0;_<y;_+=2){var C=p(m[_>>>2]>>>16-_%4*8&65535);v.push(String.fromCharCode(C))}return v.join("")},parse:function(g){for(var m=g.length,y=[],v=0;v<m;v++)y[v>>>1]|=p(g.charCodeAt(v)<<16-v%2*16);return l.create(y,m*2)}};function p(g){return g<<8&4278255360|g>>>8&16711935}})(),t.enc.Utf16})})(id)),id.exports}var rd={exports:{}},lj=rd.exports,K_;function to(){return K_||(K_=1,(function(i,e){(function(t,r){i.exports=r($e())})(lj,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=r.enc;u.Base64={stringify:function(g){var m=g.words,y=g.sigBytes,v=this._map;g.clamp();for(var _=[],C=0;C<y;C+=3)for(var N=m[C>>>2]>>>24-C%4*8&255,B=m[C+1>>>2]>>>24-(C+1)%4*8&255,I=m[C+2>>>2]>>>24-(C+2)%4*8&255,P=N<<16|B<<8|I,k=0;k<4&&C+k*.75<y;k++)_.push(v.charAt(P>>>6*(3-k)&63));var j=v.charAt(64);if(j)for(;_.length%4;)_.push(j);return _.join("")},parse:function(g){var m=g.length,y=this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var _=0;_<y.length;_++)v[y.charCodeAt(_)]=_}var C=y.charAt(64);if(C){var N=g.indexOf(C);N!==-1&&(m=N)}return p(g,m,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function p(g,m,y){for(var v=[],_=0,C=0;C<m;C++)if(C%4){var N=y[g.charCodeAt(C-1)]<<C%4*2,B=y[g.charCodeAt(C)]>>>6-C%4*2,I=N|B;v[_>>>2]|=I<<24-_%4*8,_++}return l.create(v,_)}})(),t.enc.Base64})})(rd)),rd.exports}var sd={exports:{}},cj=sd.exports,Y_;function uj(){return Y_||(Y_=1,(function(i,e){(function(t,r){i.exports=r($e())})(cj,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=r.enc;u.Base64url={stringify:function(g,m){m===void 0&&(m=!0);var y=g.words,v=g.sigBytes,_=m?this._safe_map:this._map;g.clamp();for(var C=[],N=0;N<v;N+=3)for(var B=y[N>>>2]>>>24-N%4*8&255,I=y[N+1>>>2]>>>24-(N+1)%4*8&255,P=y[N+2>>>2]>>>24-(N+2)%4*8&255,k=B<<16|I<<8|P,j=0;j<4&&N+j*.75<v;j++)C.push(_.charAt(k>>>6*(3-j)&63));var L=_.charAt(64);if(L)for(;C.length%4;)C.push(L);return C.join("")},parse:function(g,m){m===void 0&&(m=!0);var y=g.length,v=m?this._safe_map:this._map,_=this._reverseMap;if(!_){_=this._reverseMap=[];for(var C=0;C<v.length;C++)_[v.charCodeAt(C)]=C}var N=v.charAt(64);if(N){var B=g.indexOf(N);B!==-1&&(y=B)}return p(g,y,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function p(g,m,y){for(var v=[],_=0,C=0;C<m;C++)if(C%4){var N=y[g.charCodeAt(C-1)]<<C%4*2,B=y[g.charCodeAt(C)]>>>6-C%4*2,I=N|B;v[_>>>2]|=I<<24-_%4*8,_++}return l.create(v,_)}})(),t.enc.Base64url})})(sd)),sd.exports}var ad={exports:{}},hj=ad.exports,X_;function no(){return X_||(X_=1,(function(i,e){(function(t,r){i.exports=r($e())})(hj,function(t){return(function(r){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.algo,m=[];(function(){for(var B=0;B<64;B++)m[B]=r.abs(r.sin(B+1))*4294967296|0})();var y=g.MD5=p.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(B,I){for(var P=0;P<16;P++){var k=I+P,j=B[k];B[k]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var L=this._hash.words,z=B[I+0],q=B[I+1],T=B[I+2],R=B[I+3],S=B[I+4],A=B[I+5],D=B[I+6],V=B[I+7],O=B[I+8],de=B[I+9],ie=B[I+10],H=B[I+11],X=B[I+12],ae=B[I+13],fe=B[I+14],me=B[I+15],F=L[0],K=L[1],W=L[2],Z=L[3];F=v(F,K,W,Z,z,7,m[0]),Z=v(Z,F,K,W,q,12,m[1]),W=v(W,Z,F,K,T,17,m[2]),K=v(K,W,Z,F,R,22,m[3]),F=v(F,K,W,Z,S,7,m[4]),Z=v(Z,F,K,W,A,12,m[5]),W=v(W,Z,F,K,D,17,m[6]),K=v(K,W,Z,F,V,22,m[7]),F=v(F,K,W,Z,O,7,m[8]),Z=v(Z,F,K,W,de,12,m[9]),W=v(W,Z,F,K,ie,17,m[10]),K=v(K,W,Z,F,H,22,m[11]),F=v(F,K,W,Z,X,7,m[12]),Z=v(Z,F,K,W,ae,12,m[13]),W=v(W,Z,F,K,fe,17,m[14]),K=v(K,W,Z,F,me,22,m[15]),F=_(F,K,W,Z,q,5,m[16]),Z=_(Z,F,K,W,D,9,m[17]),W=_(W,Z,F,K,H,14,m[18]),K=_(K,W,Z,F,z,20,m[19]),F=_(F,K,W,Z,A,5,m[20]),Z=_(Z,F,K,W,ie,9,m[21]),W=_(W,Z,F,K,me,14,m[22]),K=_(K,W,Z,F,S,20,m[23]),F=_(F,K,W,Z,de,5,m[24]),Z=_(Z,F,K,W,fe,9,m[25]),W=_(W,Z,F,K,R,14,m[26]),K=_(K,W,Z,F,O,20,m[27]),F=_(F,K,W,Z,ae,5,m[28]),Z=_(Z,F,K,W,T,9,m[29]),W=_(W,Z,F,K,V,14,m[30]),K=_(K,W,Z,F,X,20,m[31]),F=C(F,K,W,Z,A,4,m[32]),Z=C(Z,F,K,W,O,11,m[33]),W=C(W,Z,F,K,H,16,m[34]),K=C(K,W,Z,F,fe,23,m[35]),F=C(F,K,W,Z,q,4,m[36]),Z=C(Z,F,K,W,S,11,m[37]),W=C(W,Z,F,K,V,16,m[38]),K=C(K,W,Z,F,ie,23,m[39]),F=C(F,K,W,Z,ae,4,m[40]),Z=C(Z,F,K,W,z,11,m[41]),W=C(W,Z,F,K,R,16,m[42]),K=C(K,W,Z,F,D,23,m[43]),F=C(F,K,W,Z,de,4,m[44]),Z=C(Z,F,K,W,X,11,m[45]),W=C(W,Z,F,K,me,16,m[46]),K=C(K,W,Z,F,T,23,m[47]),F=N(F,K,W,Z,z,6,m[48]),Z=N(Z,F,K,W,V,10,m[49]),W=N(W,Z,F,K,fe,15,m[50]),K=N(K,W,Z,F,A,21,m[51]),F=N(F,K,W,Z,X,6,m[52]),Z=N(Z,F,K,W,R,10,m[53]),W=N(W,Z,F,K,ie,15,m[54]),K=N(K,W,Z,F,q,21,m[55]),F=N(F,K,W,Z,O,6,m[56]),Z=N(Z,F,K,W,me,10,m[57]),W=N(W,Z,F,K,D,15,m[58]),K=N(K,W,Z,F,ae,21,m[59]),F=N(F,K,W,Z,S,6,m[60]),Z=N(Z,F,K,W,H,10,m[61]),W=N(W,Z,F,K,T,15,m[62]),K=N(K,W,Z,F,de,21,m[63]),L[0]=L[0]+F|0,L[1]=L[1]+K|0,L[2]=L[2]+W|0,L[3]=L[3]+Z|0},_doFinalize:function(){var B=this._data,I=B.words,P=this._nDataBytes*8,k=B.sigBytes*8;I[k>>>5]|=128<<24-k%32;var j=r.floor(P/4294967296),L=P;I[(k+64>>>9<<4)+15]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,I[(k+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,B.sigBytes=(I.length+1)*4,this._process();for(var z=this._hash,q=z.words,T=0;T<4;T++){var R=q[T];q[T]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return z},clone:function(){var B=p.clone.call(this);return B._hash=this._hash.clone(),B}});function v(B,I,P,k,j,L,z){var q=B+(I&P|~I&k)+j+z;return(q<<L|q>>>32-L)+I}function _(B,I,P,k,j,L,z){var q=B+(I&k|P&~k)+j+z;return(q<<L|q>>>32-L)+I}function C(B,I,P,k,j,L,z){var q=B+(I^P^k)+j+z;return(q<<L|q>>>32-L)+I}function N(B,I,P,k,j,L,z){var q=B+(P^(I|~k))+j+z;return(q<<L|q>>>32-L)+I}o.MD5=p._createHelper(y),o.HmacMD5=p._createHmacHelper(y)})(Math),t.MD5})})(ad)),ad.exports}var od={exports:{}},dj=od.exports,Q_;function v4(){return Q_||(Q_=1,(function(i,e){(function(t,r){i.exports=r($e())})(dj,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=o.Hasher,p=r.algo,g=[],m=p.SHA1=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,v){for(var _=this._hash.words,C=_[0],N=_[1],B=_[2],I=_[3],P=_[4],k=0;k<80;k++){if(k<16)g[k]=y[v+k]|0;else{var j=g[k-3]^g[k-8]^g[k-14]^g[k-16];g[k]=j<<1|j>>>31}var L=(C<<5|C>>>27)+P+g[k];k<20?L+=(N&B|~N&I)+1518500249:k<40?L+=(N^B^I)+1859775393:k<60?L+=(N&B|N&I|B&I)-1894007588:L+=(N^B^I)-899497514,P=I,I=B,B=N<<30|N>>>2,N=C,C=L}_[0]=_[0]+C|0,_[1]=_[1]+N|0,_[2]=_[2]+B|0,_[3]=_[3]+I|0,_[4]=_[4]+P|0},_doFinalize:function(){var y=this._data,v=y.words,_=this._nDataBytes*8,C=y.sigBytes*8;return v[C>>>5]|=128<<24-C%32,v[(C+64>>>9<<4)+14]=Math.floor(_/4294967296),v[(C+64>>>9<<4)+15]=_,y.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var y=u.clone.call(this);return y._hash=this._hash.clone(),y}});r.SHA1=u._createHelper(m),r.HmacSHA1=u._createHmacHelper(m)})(),t.SHA1})})(od)),od.exports}var ld={exports:{}},fj=ld.exports,W_;function fx(){return W_||(W_=1,(function(i,e){(function(t,r){i.exports=r($e())})(fj,function(t){return(function(r){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.algo,m=[],y=[];(function(){function C(P){for(var k=r.sqrt(P),j=2;j<=k;j++)if(!(P%j))return!1;return!0}function N(P){return(P-(P|0))*4294967296|0}for(var B=2,I=0;I<64;)C(B)&&(I<8&&(m[I]=N(r.pow(B,1/2))),y[I]=N(r.pow(B,1/3)),I++),B++})();var v=[],_=g.SHA256=p.extend({_doReset:function(){this._hash=new u.init(m.slice(0))},_doProcessBlock:function(C,N){for(var B=this._hash.words,I=B[0],P=B[1],k=B[2],j=B[3],L=B[4],z=B[5],q=B[6],T=B[7],R=0;R<64;R++){if(R<16)v[R]=C[N+R]|0;else{var S=v[R-15],A=(S<<25|S>>>7)^(S<<14|S>>>18)^S>>>3,D=v[R-2],V=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;v[R]=A+v[R-7]+V+v[R-16]}var O=L&z^~L&q,de=I&P^I&k^P&k,ie=(I<<30|I>>>2)^(I<<19|I>>>13)^(I<<10|I>>>22),H=(L<<26|L>>>6)^(L<<21|L>>>11)^(L<<7|L>>>25),X=T+H+O+y[R]+v[R],ae=ie+de;T=q,q=z,z=L,L=j+X|0,j=k,k=P,P=I,I=X+ae|0}B[0]=B[0]+I|0,B[1]=B[1]+P|0,B[2]=B[2]+k|0,B[3]=B[3]+j|0,B[4]=B[4]+L|0,B[5]=B[5]+z|0,B[6]=B[6]+q|0,B[7]=B[7]+T|0},_doFinalize:function(){var C=this._data,N=C.words,B=this._nDataBytes*8,I=C.sigBytes*8;return N[I>>>5]|=128<<24-I%32,N[(I+64>>>9<<4)+14]=r.floor(B/4294967296),N[(I+64>>>9<<4)+15]=B,C.sigBytes=N.length*4,this._process(),this._hash},clone:function(){var C=p.clone.call(this);return C._hash=this._hash.clone(),C}});o.SHA256=p._createHelper(_),o.HmacSHA256=p._createHmacHelper(_)})(Math),t.SHA256})})(ld)),ld.exports}var cd={exports:{}},mj=cd.exports,Z_;function pj(){return Z_||(Z_=1,(function(i,e){(function(t,r,o){i.exports=r($e(),fx())})(mj,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=r.algo,p=u.SHA256,g=u.SHA224=p.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var m=p._doFinalize.call(this);return m.sigBytes-=4,m}});r.SHA224=p._createHelper(g),r.HmacSHA224=p._createHmacHelper(g)})(),t.SHA224})})(cd)),cd.exports}var ud={exports:{}},gj=ud.exports,J_;function b4(){return J_||(J_=1,(function(i,e){(function(t,r,o){i.exports=r($e(),zf())})(gj,function(t){return(function(){var r=t,o=r.lib,l=o.Hasher,u=r.x64,p=u.Word,g=u.WordArray,m=r.algo;function y(){return p.create.apply(p,arguments)}var v=[y(1116352408,3609767458),y(1899447441,602891725),y(3049323471,3964484399),y(3921009573,2173295548),y(961987163,4081628472),y(1508970993,3053834265),y(2453635748,2937671579),y(2870763221,3664609560),y(3624381080,2734883394),y(310598401,1164996542),y(607225278,1323610764),y(1426881987,3590304994),y(1925078388,4068182383),y(2162078206,991336113),y(2614888103,633803317),y(3248222580,3479774868),y(3835390401,2666613458),y(4022224774,944711139),y(264347078,2341262773),y(604807628,2007800933),y(770255983,1495990901),y(1249150122,1856431235),y(1555081692,3175218132),y(1996064986,2198950837),y(2554220882,3999719339),y(2821834349,766784016),y(2952996808,2566594879),y(3210313671,3203337956),y(3336571891,1034457026),y(3584528711,2466948901),y(113926993,3758326383),y(338241895,168717936),y(666307205,1188179964),y(773529912,1546045734),y(1294757372,1522805485),y(1396182291,2643833823),y(1695183700,2343527390),y(1986661051,1014477480),y(2177026350,1206759142),y(2456956037,344077627),y(2730485921,1290863460),y(2820302411,3158454273),y(3259730800,3505952657),y(3345764771,106217008),y(3516065817,3606008344),y(3600352804,1432725776),y(4094571909,1467031594),y(275423344,851169720),y(430227734,3100823752),y(506948616,1363258195),y(659060556,3750685593),y(883997877,3785050280),y(958139571,3318307427),y(1322822218,3812723403),y(1537002063,2003034995),y(1747873779,3602036899),y(1955562222,1575990012),y(2024104815,1125592928),y(2227730452,2716904306),y(2361852424,442776044),y(2428436474,593698344),y(2756734187,3733110249),y(3204031479,2999351573),y(3329325298,3815920427),y(3391569614,3928383900),y(3515267271,566280711),y(3940187606,3454069534),y(4118630271,4000239992),y(116418474,1914138554),y(174292421,2731055270),y(289380356,3203993006),y(460393269,320620315),y(685471733,587496836),y(852142971,1086792851),y(1017036298,365543100),y(1126000580,2618297676),y(1288033470,3409855158),y(1501505948,4234509866),y(1607167915,987167468),y(1816402316,1246189591)],_=[];(function(){for(var N=0;N<80;N++)_[N]=y()})();var C=m.SHA512=l.extend({_doReset:function(){this._hash=new g.init([new p.init(1779033703,4089235720),new p.init(3144134277,2227873595),new p.init(1013904242,4271175723),new p.init(2773480762,1595750129),new p.init(1359893119,2917565137),new p.init(2600822924,725511199),new p.init(528734635,4215389547),new p.init(1541459225,327033209)])},_doProcessBlock:function(N,B){for(var I=this._hash.words,P=I[0],k=I[1],j=I[2],L=I[3],z=I[4],q=I[5],T=I[6],R=I[7],S=P.high,A=P.low,D=k.high,V=k.low,O=j.high,de=j.low,ie=L.high,H=L.low,X=z.high,ae=z.low,fe=q.high,me=q.low,F=T.high,K=T.low,W=R.high,Z=R.low,xe=S,ye=A,Se=D,Ee=V,We=O,En=de,Ui=ie,ti=H,Kt=X,mt=ae,zi=fe,Mn=me,Hi=F,wi=K,pt=W,ut=Z,Dt=0;Dt<80;Dt++){var ln,Pn,It=_[Dt];if(Dt<16)Pn=It.high=N[B+Dt*2]|0,ln=It.low=N[B+Dt*2+1]|0;else{var qi=_[Dt-15],ni=qi.high,Ei=qi.low,$i=(ni>>>1|Ei<<31)^(ni>>>8|Ei<<24)^ni>>>7,io=(Ei>>>1|ni<<31)^(Ei>>>8|ni<<24)^(Ei>>>7|ni<<25),la=_[Dt-2],Ai=la.high,Gi=la.low,Ln=(Ai>>>19|Gi<<13)^(Ai<<3|Gi>>>29)^Ai>>>6,kt=(Gi>>>19|Ai<<13)^(Gi<<3|Ai>>>29)^(Gi>>>6|Ai<<26),gn=_[Dt-7],yt=gn.high,ro=gn.low,Cr=_[Dt-16],so=Cr.high,Fn=Cr.low;ln=io+ro,Pn=$i+yt+(ln>>>0<io>>>0?1:0),ln=ln+kt,Pn=Pn+Ln+(ln>>>0<kt>>>0?1:0),ln=ln+Fn,Pn=Pn+so+(ln>>>0<Fn>>>0?1:0),It.high=Pn,It.low=ln}var Sr=Kt&zi^~Kt&Hi,vt=mt&Mn^~mt&wi,ii=xe&Se^xe&We^Se&We,ri=ye&Ee^ye&En^Ee&En,Vn=(xe>>>28|ye<<4)^(xe<<30|ye>>>2)^(xe<<25|ye>>>7),ao=(ye>>>28|xe<<4)^(ye<<30|xe>>>2)^(ye<<25|xe>>>7),oo=(Kt>>>14|mt<<18)^(Kt>>>18|mt<<14)^(Kt<<23|mt>>>9),si=(mt>>>14|Kt<<18)^(mt>>>18|Kt<<14)^(mt<<23|Kt>>>9),Ki=v[Dt],Al=Ki.high,Yi=Ki.low,qt=ut+si,An=pt+oo+(qt>>>0<ut>>>0?1:0),qt=qt+vt,An=An+Sr+(qt>>>0<vt>>>0?1:0),qt=qt+Yi,An=An+Al+(qt>>>0<Yi>>>0?1:0),qt=qt+ln,An=An+Pn+(qt>>>0<ln>>>0?1:0),Xi=ao+ri,Ti=Vn+ii+(Xi>>>0<ao>>>0?1:0);pt=Hi,ut=wi,Hi=zi,wi=Mn,zi=Kt,Mn=mt,mt=ti+qt|0,Kt=Ui+An+(mt>>>0<ti>>>0?1:0)|0,Ui=We,ti=En,We=Se,En=Ee,Se=xe,Ee=ye,ye=qt+Xi|0,xe=An+Ti+(ye>>>0<qt>>>0?1:0)|0}A=P.low=A+ye,P.high=S+xe+(A>>>0<ye>>>0?1:0),V=k.low=V+Ee,k.high=D+Se+(V>>>0<Ee>>>0?1:0),de=j.low=de+En,j.high=O+We+(de>>>0<En>>>0?1:0),H=L.low=H+ti,L.high=ie+Ui+(H>>>0<ti>>>0?1:0),ae=z.low=ae+mt,z.high=X+Kt+(ae>>>0<mt>>>0?1:0),me=q.low=me+Mn,q.high=fe+zi+(me>>>0<Mn>>>0?1:0),K=T.low=K+wi,T.high=F+Hi+(K>>>0<wi>>>0?1:0),Z=R.low=Z+ut,R.high=W+pt+(Z>>>0<ut>>>0?1:0)},_doFinalize:function(){var N=this._data,B=N.words,I=this._nDataBytes*8,P=N.sigBytes*8;B[P>>>5]|=128<<24-P%32,B[(P+128>>>10<<5)+30]=Math.floor(I/4294967296),B[(P+128>>>10<<5)+31]=I,N.sigBytes=B.length*4,this._process();var k=this._hash.toX32();return k},clone:function(){var N=l.clone.call(this);return N._hash=this._hash.clone(),N},blockSize:1024/32});r.SHA512=l._createHelper(C),r.HmacSHA512=l._createHmacHelper(C)})(),t.SHA512})})(ud)),ud.exports}var hd={exports:{}},xj=hd.exports,e2;function yj(){return e2||(e2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),zf(),b4())})(xj,function(t){return(function(){var r=t,o=r.x64,l=o.Word,u=o.WordArray,p=r.algo,g=p.SHA512,m=p.SHA384=g.extend({_doReset:function(){this._hash=new u.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var y=g._doFinalize.call(this);return y.sigBytes-=16,y}});r.SHA384=g._createHelper(m),r.HmacSHA384=g._createHmacHelper(m)})(),t.SHA384})})(hd)),hd.exports}var dd={exports:{}},vj=dd.exports,t2;function bj(){return t2||(t2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),zf())})(vj,function(t){return(function(r){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.x64,m=g.Word,y=o.algo,v=[],_=[],C=[];(function(){for(var I=1,P=0,k=0;k<24;k++){v[I+5*P]=(k+1)*(k+2)/2%64;var j=P%5,L=(2*I+3*P)%5;I=j,P=L}for(var I=0;I<5;I++)for(var P=0;P<5;P++)_[I+5*P]=P+(2*I+3*P)%5*5;for(var z=1,q=0;q<24;q++){for(var T=0,R=0,S=0;S<7;S++){if(z&1){var A=(1<<S)-1;A<32?R^=1<<A:T^=1<<A-32}z&128?z=z<<1^113:z<<=1}C[q]=m.create(T,R)}})();var N=[];(function(){for(var I=0;I<25;I++)N[I]=m.create()})();var B=y.SHA3=p.extend({cfg:p.cfg.extend({outputLength:512}),_doReset:function(){for(var I=this._state=[],P=0;P<25;P++)I[P]=new m.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(I,P){for(var k=this._state,j=this.blockSize/2,L=0;L<j;L++){var z=I[P+2*L],q=I[P+2*L+1];z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360;var T=k[L];T.high^=q,T.low^=z}for(var R=0;R<24;R++){for(var S=0;S<5;S++){for(var A=0,D=0,V=0;V<5;V++){var T=k[S+5*V];A^=T.high,D^=T.low}var O=N[S];O.high=A,O.low=D}for(var S=0;S<5;S++)for(var de=N[(S+4)%5],ie=N[(S+1)%5],H=ie.high,X=ie.low,A=de.high^(H<<1|X>>>31),D=de.low^(X<<1|H>>>31),V=0;V<5;V++){var T=k[S+5*V];T.high^=A,T.low^=D}for(var ae=1;ae<25;ae++){var A,D,T=k[ae],fe=T.high,me=T.low,F=v[ae];F<32?(A=fe<<F|me>>>32-F,D=me<<F|fe>>>32-F):(A=me<<F-32|fe>>>64-F,D=fe<<F-32|me>>>64-F);var K=N[_[ae]];K.high=A,K.low=D}var W=N[0],Z=k[0];W.high=Z.high,W.low=Z.low;for(var S=0;S<5;S++)for(var V=0;V<5;V++){var ae=S+5*V,T=k[ae],xe=N[ae],ye=N[(S+1)%5+5*V],Se=N[(S+2)%5+5*V];T.high=xe.high^~ye.high&Se.high,T.low=xe.low^~ye.low&Se.low}var T=k[0],Ee=C[R];T.high^=Ee.high,T.low^=Ee.low}},_doFinalize:function(){var I=this._data,P=I.words;this._nDataBytes*8;var k=I.sigBytes*8,j=this.blockSize*32;P[k>>>5]|=1<<24-k%32,P[(r.ceil((k+1)/j)*j>>>5)-1]|=128,I.sigBytes=P.length*4,this._process();for(var L=this._state,z=this.cfg.outputLength/8,q=z/8,T=[],R=0;R<q;R++){var S=L[R],A=S.high,D=S.low;A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,T.push(D),T.push(A)}return new u.init(T,z)},clone:function(){for(var I=p.clone.call(this),P=I._state=this._state.slice(0),k=0;k<25;k++)P[k]=P[k].clone();return I}});o.SHA3=p._createHelper(B),o.HmacSHA3=p._createHmacHelper(B)})(Math),t.SHA3})})(dd)),dd.exports}var fd={exports:{}},_j=fd.exports,n2;function wj(){return n2||(n2=1,(function(i,e){(function(t,r){i.exports=r($e())})(_j,function(t){return(function(r){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.algo,m=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),C=u.create([0,1518500249,1859775393,2400959708,2840853838]),N=u.create([1352829926,1548603684,1836072691,2053994217,0]),B=g.RIPEMD160=p.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(q,T){for(var R=0;R<16;R++){var S=T+R,A=q[S];q[S]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var D=this._hash.words,V=C.words,O=N.words,de=m.words,ie=y.words,H=v.words,X=_.words,ae,fe,me,F,K,W,Z,xe,ye,Se;W=ae=D[0],Z=fe=D[1],xe=me=D[2],ye=F=D[3],Se=K=D[4];for(var Ee,R=0;R<80;R+=1)Ee=ae+q[T+de[R]]|0,R<16?Ee+=I(fe,me,F)+V[0]:R<32?Ee+=P(fe,me,F)+V[1]:R<48?Ee+=k(fe,me,F)+V[2]:R<64?Ee+=j(fe,me,F)+V[3]:Ee+=L(fe,me,F)+V[4],Ee=Ee|0,Ee=z(Ee,H[R]),Ee=Ee+K|0,ae=K,K=F,F=z(me,10),me=fe,fe=Ee,Ee=W+q[T+ie[R]]|0,R<16?Ee+=L(Z,xe,ye)+O[0]:R<32?Ee+=j(Z,xe,ye)+O[1]:R<48?Ee+=k(Z,xe,ye)+O[2]:R<64?Ee+=P(Z,xe,ye)+O[3]:Ee+=I(Z,xe,ye)+O[4],Ee=Ee|0,Ee=z(Ee,X[R]),Ee=Ee+Se|0,W=Se,Se=ye,ye=z(xe,10),xe=Z,Z=Ee;Ee=D[1]+me+ye|0,D[1]=D[2]+F+Se|0,D[2]=D[3]+K+W|0,D[3]=D[4]+ae+Z|0,D[4]=D[0]+fe+xe|0,D[0]=Ee},_doFinalize:function(){var q=this._data,T=q.words,R=this._nDataBytes*8,S=q.sigBytes*8;T[S>>>5]|=128<<24-S%32,T[(S+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,q.sigBytes=(T.length+1)*4,this._process();for(var A=this._hash,D=A.words,V=0;V<5;V++){var O=D[V];D[V]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return A},clone:function(){var q=p.clone.call(this);return q._hash=this._hash.clone(),q}});function I(q,T,R){return q^T^R}function P(q,T,R){return q&T|~q&R}function k(q,T,R){return(q|~T)^R}function j(q,T,R){return q&R|T&~R}function L(q,T,R){return q^(T|~R)}function z(q,T){return q<<T|q>>>32-T}o.RIPEMD160=p._createHelper(B),o.HmacRIPEMD160=p._createHmacHelper(B)})(),t.RIPEMD160})})(fd)),fd.exports}var md={exports:{}},Ej=md.exports,i2;function mx(){return i2||(i2=1,(function(i,e){(function(t,r){i.exports=r($e())})(Ej,function(t){(function(){var r=t,o=r.lib,l=o.Base,u=r.enc,p=u.Utf8,g=r.algo;g.HMAC=l.extend({init:function(m,y){m=this._hasher=new m.init,typeof y=="string"&&(y=p.parse(y));var v=m.blockSize,_=v*4;y.sigBytes>_&&(y=m.finalize(y)),y.clamp();for(var C=this._oKey=y.clone(),N=this._iKey=y.clone(),B=C.words,I=N.words,P=0;P<v;P++)B[P]^=1549556828,I[P]^=909522486;C.sigBytes=N.sigBytes=_,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var y=this._hasher,v=y.finalize(m);y.reset();var _=y.finalize(this._oKey.clone().concat(v));return _}})})()})})(md)),md.exports}var pd={exports:{}},Aj=pd.exports,r2;function Tj(){return r2||(r2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),fx(),mx())})(Aj,function(t){return(function(){var r=t,o=r.lib,l=o.Base,u=o.WordArray,p=r.algo,g=p.SHA256,m=p.HMAC,y=p.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:g,iterations:25e4}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,_){for(var C=this.cfg,N=m.create(C.hasher,v),B=u.create(),I=u.create([1]),P=B.words,k=I.words,j=C.keySize,L=C.iterations;P.length<j;){var z=N.update(_).finalize(I);N.reset();for(var q=z.words,T=q.length,R=z,S=1;S<L;S++){R=N.finalize(R),N.reset();for(var A=R.words,D=0;D<T;D++)q[D]^=A[D]}B.concat(z),k[0]++}return B.sigBytes=j*4,B}});r.PBKDF2=function(v,_,C){return y.create(C).compute(v,_)}})(),t.PBKDF2})})(pd)),pd.exports}var gd={exports:{}},Cj=gd.exports,s2;function oa(){return s2||(s2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),v4(),mx())})(Cj,function(t){return(function(){var r=t,o=r.lib,l=o.Base,u=o.WordArray,p=r.algo,g=p.MD5,m=p.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:g,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,v){for(var _,C=this.cfg,N=C.hasher.create(),B=u.create(),I=B.words,P=C.keySize,k=C.iterations;I.length<P;){_&&N.update(_),_=N.update(y).finalize(v),N.reset();for(var j=1;j<k;j++)_=N.finalize(_),N.reset();B.concat(_)}return B.sigBytes=P*4,B}});r.EvpKDF=function(y,v,_){return m.create(_).compute(y,v)}})(),t.EvpKDF})})(gd)),gd.exports}var xd={exports:{}},Sj=xd.exports,a2;function Zt(){return a2||(a2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),oa())})(Sj,function(t){t.lib.Cipher||(function(r){var o=t,l=o.lib,u=l.Base,p=l.WordArray,g=l.BufferedBlockAlgorithm,m=o.enc;m.Utf8;var y=m.Base64,v=o.algo,_=v.EvpKDF,C=l.Cipher=g.extend({cfg:u.extend(),createEncryptor:function(A,D){return this.create(this._ENC_XFORM_MODE,A,D)},createDecryptor:function(A,D){return this.create(this._DEC_XFORM_MODE,A,D)},init:function(A,D,V){this.cfg=this.cfg.extend(V),this._xformMode=A,this._key=D,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(A){return this._append(A),this._process()},finalize:function(A){A&&this._append(A);var D=this._doFinalize();return D},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function A(D){return typeof D=="string"?S:q}return function(D){return{encrypt:function(V,O,de){return A(O).encrypt(D,V,O,de)},decrypt:function(V,O,de){return A(O).decrypt(D,V,O,de)}}}})()});l.StreamCipher=C.extend({_doFinalize:function(){var A=this._process(!0);return A},blockSize:1});var N=o.mode={},B=l.BlockCipherMode=u.extend({createEncryptor:function(A,D){return this.Encryptor.create(A,D)},createDecryptor:function(A,D){return this.Decryptor.create(A,D)},init:function(A,D){this._cipher=A,this._iv=D}}),I=N.CBC=(function(){var A=B.extend();A.Encryptor=A.extend({processBlock:function(V,O){var de=this._cipher,ie=de.blockSize;D.call(this,V,O,ie),de.encryptBlock(V,O),this._prevBlock=V.slice(O,O+ie)}}),A.Decryptor=A.extend({processBlock:function(V,O){var de=this._cipher,ie=de.blockSize,H=V.slice(O,O+ie);de.decryptBlock(V,O),D.call(this,V,O,ie),this._prevBlock=H}});function D(V,O,de){var ie,H=this._iv;H?(ie=H,this._iv=r):ie=this._prevBlock;for(var X=0;X<de;X++)V[O+X]^=ie[X]}return A})(),P=o.pad={},k=P.Pkcs7={pad:function(A,D){for(var V=D*4,O=V-A.sigBytes%V,de=O<<24|O<<16|O<<8|O,ie=[],H=0;H<O;H+=4)ie.push(de);var X=p.create(ie,O);A.concat(X)},unpad:function(A){var D=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=D}};l.BlockCipher=C.extend({cfg:C.cfg.extend({mode:I,padding:k}),reset:function(){var A;C.reset.call(this);var D=this.cfg,V=D.iv,O=D.mode;this._xformMode==this._ENC_XFORM_MODE?A=O.createEncryptor:(A=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==A?this._mode.init(this,V&&V.words):(this._mode=A.call(O,this,V&&V.words),this._mode.__creator=A)},_doProcessBlock:function(A,D){this._mode.processBlock(A,D)},_doFinalize:function(){var A,D=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(D.pad(this._data,this.blockSize),A=this._process(!0)):(A=this._process(!0),D.unpad(A)),A},blockSize:128/32});var j=l.CipherParams=u.extend({init:function(A){this.mixIn(A)},toString:function(A){return(A||this.formatter).stringify(this)}}),L=o.format={},z=L.OpenSSL={stringify:function(A){var D,V=A.ciphertext,O=A.salt;return O?D=p.create([1398893684,1701076831]).concat(O).concat(V):D=V,D.toString(y)},parse:function(A){var D,V=y.parse(A),O=V.words;return O[0]==1398893684&&O[1]==1701076831&&(D=p.create(O.slice(2,4)),O.splice(0,4),V.sigBytes-=16),j.create({ciphertext:V,salt:D})}},q=l.SerializableCipher=u.extend({cfg:u.extend({format:z}),encrypt:function(A,D,V,O){O=this.cfg.extend(O);var de=A.createEncryptor(V,O),ie=de.finalize(D),H=de.cfg;return j.create({ciphertext:ie,key:V,iv:H.iv,algorithm:A,mode:H.mode,padding:H.padding,blockSize:A.blockSize,formatter:O.format})},decrypt:function(A,D,V,O){O=this.cfg.extend(O),D=this._parse(D,O.format);var de=A.createDecryptor(V,O).finalize(D.ciphertext);return de},_parse:function(A,D){return typeof A=="string"?D.parse(A,this):A}}),T=o.kdf={},R=T.OpenSSL={execute:function(A,D,V,O,de){if(O||(O=p.random(64/8)),de)var ie=_.create({keySize:D+V,hasher:de}).compute(A,O);else var ie=_.create({keySize:D+V}).compute(A,O);var H=p.create(ie.words.slice(D),V*4);return ie.sigBytes=D*4,j.create({key:ie,iv:H,salt:O})}},S=l.PasswordBasedCipher=q.extend({cfg:q.cfg.extend({kdf:R}),encrypt:function(A,D,V,O){O=this.cfg.extend(O);var de=O.kdf.execute(V,A.keySize,A.ivSize,O.salt,O.hasher);O.iv=de.iv;var ie=q.encrypt.call(this,A,D,de.key,O);return ie.mixIn(de),ie},decrypt:function(A,D,V,O){O=this.cfg.extend(O),D=this._parse(D,O.format);var de=O.kdf.execute(V,A.keySize,A.ivSize,D.salt,O.hasher);O.iv=de.iv;var ie=q.decrypt.call(this,A,D,de.key,O);return ie}})})()})})(xd)),xd.exports}var yd={exports:{}},Nj=yd.exports,o2;function Rj(){return o2||(o2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(Nj,function(t){return t.mode.CFB=(function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize;o.call(this,l,u,g,p),this._prevBlock=l.slice(u,u+g)}}),r.Decryptor=r.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize,m=l.slice(u,u+g);o.call(this,l,u,g,p),this._prevBlock=m}});function o(l,u,p,g){var m,y=this._iv;y?(m=y.slice(0),this._iv=void 0):m=this._prevBlock,g.encryptBlock(m,0);for(var v=0;v<p;v++)l[u+v]^=m[v]}return r})(),t.mode.CFB})})(yd)),yd.exports}var vd={exports:{}},Dj=vd.exports,l2;function Ij(){return l2||(l2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(Dj,function(t){return t.mode.CTR=(function(){var r=t.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize,m=this._iv,y=this._counter;m&&(y=this._counter=m.slice(0),this._iv=void 0);var v=y.slice(0);p.encryptBlock(v,0),y[g-1]=y[g-1]+1|0;for(var _=0;_<g;_++)l[u+_]^=v[_]}});return r.Decryptor=o,r})(),t.mode.CTR})})(vd)),vd.exports}var bd={exports:{}},kj=bd.exports,c2;function jj(){return c2||(c2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(kj,function(t){return t.mode.CTRGladman=(function(){var r=t.lib.BlockCipherMode.extend();function o(p){if((p>>24&255)===255){var g=p>>16&255,m=p>>8&255,y=p&255;g===255?(g=0,m===255?(m=0,y===255?y=0:++y):++m):++g,p=0,p+=g<<16,p+=m<<8,p+=y}else p+=1<<24;return p}function l(p){return(p[0]=o(p[0]))===0&&(p[1]=o(p[1])),p}var u=r.Encryptor=r.extend({processBlock:function(p,g){var m=this._cipher,y=m.blockSize,v=this._iv,_=this._counter;v&&(_=this._counter=v.slice(0),this._iv=void 0),l(_);var C=_.slice(0);m.encryptBlock(C,0);for(var N=0;N<y;N++)p[g+N]^=C[N]}});return r.Decryptor=u,r})(),t.mode.CTRGladman})})(bd)),bd.exports}var _d={exports:{}},Bj=_d.exports,u2;function Oj(){return u2||(u2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(Bj,function(t){return t.mode.OFB=(function(){var r=t.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize,m=this._iv,y=this._keystream;m&&(y=this._keystream=m.slice(0),this._iv=void 0),p.encryptBlock(y,0);for(var v=0;v<g;v++)l[u+v]^=y[v]}});return r.Decryptor=o,r})(),t.mode.OFB})})(_d)),_d.exports}var wd={exports:{}},Mj=wd.exports,h2;function Pj(){return h2||(h2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(Mj,function(t){return t.mode.ECB=(function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(o,l){this._cipher.encryptBlock(o,l)}}),r.Decryptor=r.extend({processBlock:function(o,l){this._cipher.decryptBlock(o,l)}}),r})(),t.mode.ECB})})(wd)),wd.exports}var Ed={exports:{}},Lj=Ed.exports,d2;function Fj(){return d2||(d2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(Lj,function(t){return t.pad.AnsiX923={pad:function(r,o){var l=r.sigBytes,u=o*4,p=u-l%u,g=l+p-1;r.clamp(),r.words[g>>>2]|=p<<24-g%4*8,r.sigBytes+=p},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},t.pad.Ansix923})})(Ed)),Ed.exports}var Ad={exports:{}},Vj=Ad.exports,f2;function Uj(){return f2||(f2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(Vj,function(t){return t.pad.Iso10126={pad:function(r,o){var l=o*4,u=l-r.sigBytes%l;r.concat(t.lib.WordArray.random(u-1)).concat(t.lib.WordArray.create([u<<24],1))},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},t.pad.Iso10126})})(Ad)),Ad.exports}var Td={exports:{}},zj=Td.exports,m2;function Hj(){return m2||(m2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(zj,function(t){return t.pad.Iso97971={pad:function(r,o){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,o)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})})(Td)),Td.exports}var Cd={exports:{}},qj=Cd.exports,p2;function $j(){return p2||(p2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(qj,function(t){return t.pad.ZeroPadding={pad:function(r,o){var l=o*4;r.clamp(),r.sigBytes+=l-(r.sigBytes%l||l)},unpad:function(r){for(var o=r.words,l=r.sigBytes-1,l=r.sigBytes-1;l>=0;l--)if(o[l>>>2]>>>24-l%4*8&255){r.sigBytes=l+1;break}}},t.pad.ZeroPadding})})(Cd)),Cd.exports}var Sd={exports:{}},Gj=Sd.exports,g2;function Kj(){return g2||(g2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(Gj,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(Sd)),Sd.exports}var Nd={exports:{}},Yj=Nd.exports,x2;function Xj(){return x2||(x2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),Zt())})(Yj,function(t){return(function(r){var o=t,l=o.lib,u=l.CipherParams,p=o.enc,g=p.Hex,m=o.format;m.Hex={stringify:function(y){return y.ciphertext.toString(g)},parse:function(y){var v=g.parse(y);return u.create({ciphertext:v})}}})(),t.format.Hex})})(Nd)),Nd.exports}var Rd={exports:{}},Qj=Rd.exports,y2;function Wj(){return y2||(y2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),to(),no(),oa(),Zt())})(Qj,function(t){return(function(){var r=t,o=r.lib,l=o.BlockCipher,u=r.algo,p=[],g=[],m=[],y=[],v=[],_=[],C=[],N=[],B=[],I=[];(function(){for(var j=[],L=0;L<256;L++)L<128?j[L]=L<<1:j[L]=L<<1^283;for(var z=0,q=0,L=0;L<256;L++){var T=q^q<<1^q<<2^q<<3^q<<4;T=T>>>8^T&255^99,p[z]=T,g[T]=z;var R=j[z],S=j[R],A=j[S],D=j[T]*257^T*16843008;m[z]=D<<24|D>>>8,y[z]=D<<16|D>>>16,v[z]=D<<8|D>>>24,_[z]=D;var D=A*16843009^S*65537^R*257^z*16843008;C[T]=D<<24|D>>>8,N[T]=D<<16|D>>>16,B[T]=D<<8|D>>>24,I[T]=D,z?(z=R^j[j[j[A^R]]],q^=j[j[q]]):z=q=1}})();var P=[0,1,2,4,8,16,32,64,128,27,54],k=u.AES=l.extend({_doReset:function(){var j;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var L=this._keyPriorReset=this._key,z=L.words,q=L.sigBytes/4,T=this._nRounds=q+6,R=(T+1)*4,S=this._keySchedule=[],A=0;A<R;A++)A<q?S[A]=z[A]:(j=S[A-1],A%q?q>6&&A%q==4&&(j=p[j>>>24]<<24|p[j>>>16&255]<<16|p[j>>>8&255]<<8|p[j&255]):(j=j<<8|j>>>24,j=p[j>>>24]<<24|p[j>>>16&255]<<16|p[j>>>8&255]<<8|p[j&255],j^=P[A/q|0]<<24),S[A]=S[A-q]^j);for(var D=this._invKeySchedule=[],V=0;V<R;V++){var A=R-V;if(V%4)var j=S[A];else var j=S[A-4];V<4||A<=4?D[V]=j:D[V]=C[p[j>>>24]]^N[p[j>>>16&255]]^B[p[j>>>8&255]]^I[p[j&255]]}}},encryptBlock:function(j,L){this._doCryptBlock(j,L,this._keySchedule,m,y,v,_,p)},decryptBlock:function(j,L){var z=j[L+1];j[L+1]=j[L+3],j[L+3]=z,this._doCryptBlock(j,L,this._invKeySchedule,C,N,B,I,g);var z=j[L+1];j[L+1]=j[L+3],j[L+3]=z},_doCryptBlock:function(j,L,z,q,T,R,S,A){for(var D=this._nRounds,V=j[L]^z[0],O=j[L+1]^z[1],de=j[L+2]^z[2],ie=j[L+3]^z[3],H=4,X=1;X<D;X++){var ae=q[V>>>24]^T[O>>>16&255]^R[de>>>8&255]^S[ie&255]^z[H++],fe=q[O>>>24]^T[de>>>16&255]^R[ie>>>8&255]^S[V&255]^z[H++],me=q[de>>>24]^T[ie>>>16&255]^R[V>>>8&255]^S[O&255]^z[H++],F=q[ie>>>24]^T[V>>>16&255]^R[O>>>8&255]^S[de&255]^z[H++];V=ae,O=fe,de=me,ie=F}var ae=(A[V>>>24]<<24|A[O>>>16&255]<<16|A[de>>>8&255]<<8|A[ie&255])^z[H++],fe=(A[O>>>24]<<24|A[de>>>16&255]<<16|A[ie>>>8&255]<<8|A[V&255])^z[H++],me=(A[de>>>24]<<24|A[ie>>>16&255]<<16|A[V>>>8&255]<<8|A[O&255])^z[H++],F=(A[ie>>>24]<<24|A[V>>>16&255]<<16|A[O>>>8&255]<<8|A[de&255])^z[H++];j[L]=ae,j[L+1]=fe,j[L+2]=me,j[L+3]=F},keySize:256/32});r.AES=l._createHelper(k)})(),t.AES})})(Rd)),Rd.exports}var Dd={exports:{}},Zj=Dd.exports,v2;function Jj(){return v2||(v2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),to(),no(),oa(),Zt())})(Zj,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=o.BlockCipher,p=r.algo,g=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],m=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],y=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],_=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],C=p.DES=u.extend({_doReset:function(){for(var P=this._key,k=P.words,j=[],L=0;L<56;L++){var z=g[L]-1;j[L]=k[z>>>5]>>>31-z%32&1}for(var q=this._subKeys=[],T=0;T<16;T++){for(var R=q[T]=[],S=y[T],L=0;L<24;L++)R[L/6|0]|=j[(m[L]-1+S)%28]<<31-L%6,R[4+(L/6|0)]|=j[28+(m[L+24]-1+S)%28]<<31-L%6;R[0]=R[0]<<1|R[0]>>>31;for(var L=1;L<7;L++)R[L]=R[L]>>>(L-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var A=this._invSubKeys=[],L=0;L<16;L++)A[L]=q[15-L]},encryptBlock:function(P,k){this._doCryptBlock(P,k,this._subKeys)},decryptBlock:function(P,k){this._doCryptBlock(P,k,this._invSubKeys)},_doCryptBlock:function(P,k,j){this._lBlock=P[k],this._rBlock=P[k+1],N.call(this,4,252645135),N.call(this,16,65535),B.call(this,2,858993459),B.call(this,8,16711935),N.call(this,1,1431655765);for(var L=0;L<16;L++){for(var z=j[L],q=this._lBlock,T=this._rBlock,R=0,S=0;S<8;S++)R|=v[S][((T^z[S])&_[S])>>>0];this._lBlock=T,this._rBlock=q^R}var A=this._lBlock;this._lBlock=this._rBlock,this._rBlock=A,N.call(this,1,1431655765),B.call(this,8,16711935),B.call(this,2,858993459),N.call(this,16,65535),N.call(this,4,252645135),P[k]=this._lBlock,P[k+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function N(P,k){var j=(this._lBlock>>>P^this._rBlock)&k;this._rBlock^=j,this._lBlock^=j<<P}function B(P,k){var j=(this._rBlock>>>P^this._lBlock)&k;this._lBlock^=j,this._rBlock^=j<<P}r.DES=u._createHelper(C);var I=p.TripleDES=u.extend({_doReset:function(){var P=this._key,k=P.words;if(k.length!==2&&k.length!==4&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var j=k.slice(0,2),L=k.length<4?k.slice(0,2):k.slice(2,4),z=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=C.createEncryptor(l.create(j)),this._des2=C.createEncryptor(l.create(L)),this._des3=C.createEncryptor(l.create(z))},encryptBlock:function(P,k){this._des1.encryptBlock(P,k),this._des2.decryptBlock(P,k),this._des3.encryptBlock(P,k)},decryptBlock:function(P,k){this._des3.decryptBlock(P,k),this._des2.encryptBlock(P,k),this._des1.decryptBlock(P,k)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=u._createHelper(I)})(),t.TripleDES})})(Dd)),Dd.exports}var Id={exports:{}},eB=Id.exports,b2;function tB(){return b2||(b2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),to(),no(),oa(),Zt())})(eB,function(t){return(function(){var r=t,o=r.lib,l=o.StreamCipher,u=r.algo,p=u.RC4=l.extend({_doReset:function(){for(var y=this._key,v=y.words,_=y.sigBytes,C=this._S=[],N=0;N<256;N++)C[N]=N;for(var N=0,B=0;N<256;N++){var I=N%_,P=v[I>>>2]>>>24-I%4*8&255;B=(B+C[N]+P)%256;var k=C[N];C[N]=C[B],C[B]=k}this._i=this._j=0},_doProcessBlock:function(y,v){y[v]^=g.call(this)},keySize:256/32,ivSize:0});function g(){for(var y=this._S,v=this._i,_=this._j,C=0,N=0;N<4;N++){v=(v+1)%256,_=(_+y[v])%256;var B=y[v];y[v]=y[_],y[_]=B,C|=y[(y[v]+y[_])%256]<<24-N*8}return this._i=v,this._j=_,C}r.RC4=l._createHelper(p);var m=u.RC4Drop=p.extend({cfg:p.cfg.extend({drop:192}),_doReset:function(){p._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)g.call(this)}});r.RC4Drop=l._createHelper(m)})(),t.RC4})})(Id)),Id.exports}var kd={exports:{}},nB=kd.exports,_2;function iB(){return _2||(_2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),to(),no(),oa(),Zt())})(nB,function(t){return(function(){var r=t,o=r.lib,l=o.StreamCipher,u=r.algo,p=[],g=[],m=[],y=u.Rabbit=l.extend({_doReset:function(){for(var _=this._key.words,C=this.cfg.iv,N=0;N<4;N++)_[N]=(_[N]<<8|_[N]>>>24)&16711935|(_[N]<<24|_[N]>>>8)&4278255360;var B=this._X=[_[0],_[3]<<16|_[2]>>>16,_[1],_[0]<<16|_[3]>>>16,_[2],_[1]<<16|_[0]>>>16,_[3],_[2]<<16|_[1]>>>16],I=this._C=[_[2]<<16|_[2]>>>16,_[0]&4294901760|_[1]&65535,_[3]<<16|_[3]>>>16,_[1]&4294901760|_[2]&65535,_[0]<<16|_[0]>>>16,_[2]&4294901760|_[3]&65535,_[1]<<16|_[1]>>>16,_[3]&4294901760|_[0]&65535];this._b=0;for(var N=0;N<4;N++)v.call(this);for(var N=0;N<8;N++)I[N]^=B[N+4&7];if(C){var P=C.words,k=P[0],j=P[1],L=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,z=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,q=L>>>16|z&4294901760,T=z<<16|L&65535;I[0]^=L,I[1]^=q,I[2]^=z,I[3]^=T,I[4]^=L,I[5]^=q,I[6]^=z,I[7]^=T;for(var N=0;N<4;N++)v.call(this)}},_doProcessBlock:function(_,C){var N=this._X;v.call(this),p[0]=N[0]^N[5]>>>16^N[3]<<16,p[1]=N[2]^N[7]>>>16^N[5]<<16,p[2]=N[4]^N[1]>>>16^N[7]<<16,p[3]=N[6]^N[3]>>>16^N[1]<<16;for(var B=0;B<4;B++)p[B]=(p[B]<<8|p[B]>>>24)&16711935|(p[B]<<24|p[B]>>>8)&4278255360,_[C+B]^=p[B]},blockSize:128/32,ivSize:64/32});function v(){for(var _=this._X,C=this._C,N=0;N<8;N++)g[N]=C[N];C[0]=C[0]+1295307597+this._b|0,C[1]=C[1]+3545052371+(C[0]>>>0<g[0]>>>0?1:0)|0,C[2]=C[2]+886263092+(C[1]>>>0<g[1]>>>0?1:0)|0,C[3]=C[3]+1295307597+(C[2]>>>0<g[2]>>>0?1:0)|0,C[4]=C[4]+3545052371+(C[3]>>>0<g[3]>>>0?1:0)|0,C[5]=C[5]+886263092+(C[4]>>>0<g[4]>>>0?1:0)|0,C[6]=C[6]+1295307597+(C[5]>>>0<g[5]>>>0?1:0)|0,C[7]=C[7]+3545052371+(C[6]>>>0<g[6]>>>0?1:0)|0,this._b=C[7]>>>0<g[7]>>>0?1:0;for(var N=0;N<8;N++){var B=_[N]+C[N],I=B&65535,P=B>>>16,k=((I*I>>>17)+I*P>>>15)+P*P,j=((B&4294901760)*B|0)+((B&65535)*B|0);m[N]=k^j}_[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,_[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,_[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,_[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,_[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,_[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,_[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,_[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}r.Rabbit=l._createHelper(y)})(),t.Rabbit})})(kd)),kd.exports}var jd={exports:{}},rB=jd.exports,w2;function sB(){return w2||(w2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),to(),no(),oa(),Zt())})(rB,function(t){return(function(){var r=t,o=r.lib,l=o.StreamCipher,u=r.algo,p=[],g=[],m=[],y=u.RabbitLegacy=l.extend({_doReset:function(){var _=this._key.words,C=this.cfg.iv,N=this._X=[_[0],_[3]<<16|_[2]>>>16,_[1],_[0]<<16|_[3]>>>16,_[2],_[1]<<16|_[0]>>>16,_[3],_[2]<<16|_[1]>>>16],B=this._C=[_[2]<<16|_[2]>>>16,_[0]&4294901760|_[1]&65535,_[3]<<16|_[3]>>>16,_[1]&4294901760|_[2]&65535,_[0]<<16|_[0]>>>16,_[2]&4294901760|_[3]&65535,_[1]<<16|_[1]>>>16,_[3]&4294901760|_[0]&65535];this._b=0;for(var I=0;I<4;I++)v.call(this);for(var I=0;I<8;I++)B[I]^=N[I+4&7];if(C){var P=C.words,k=P[0],j=P[1],L=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,z=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,q=L>>>16|z&4294901760,T=z<<16|L&65535;B[0]^=L,B[1]^=q,B[2]^=z,B[3]^=T,B[4]^=L,B[5]^=q,B[6]^=z,B[7]^=T;for(var I=0;I<4;I++)v.call(this)}},_doProcessBlock:function(_,C){var N=this._X;v.call(this),p[0]=N[0]^N[5]>>>16^N[3]<<16,p[1]=N[2]^N[7]>>>16^N[5]<<16,p[2]=N[4]^N[1]>>>16^N[7]<<16,p[3]=N[6]^N[3]>>>16^N[1]<<16;for(var B=0;B<4;B++)p[B]=(p[B]<<8|p[B]>>>24)&16711935|(p[B]<<24|p[B]>>>8)&4278255360,_[C+B]^=p[B]},blockSize:128/32,ivSize:64/32});function v(){for(var _=this._X,C=this._C,N=0;N<8;N++)g[N]=C[N];C[0]=C[0]+1295307597+this._b|0,C[1]=C[1]+3545052371+(C[0]>>>0<g[0]>>>0?1:0)|0,C[2]=C[2]+886263092+(C[1]>>>0<g[1]>>>0?1:0)|0,C[3]=C[3]+1295307597+(C[2]>>>0<g[2]>>>0?1:0)|0,C[4]=C[4]+3545052371+(C[3]>>>0<g[3]>>>0?1:0)|0,C[5]=C[5]+886263092+(C[4]>>>0<g[4]>>>0?1:0)|0,C[6]=C[6]+1295307597+(C[5]>>>0<g[5]>>>0?1:0)|0,C[7]=C[7]+3545052371+(C[6]>>>0<g[6]>>>0?1:0)|0,this._b=C[7]>>>0<g[7]>>>0?1:0;for(var N=0;N<8;N++){var B=_[N]+C[N],I=B&65535,P=B>>>16,k=((I*I>>>17)+I*P>>>15)+P*P,j=((B&4294901760)*B|0)+((B&65535)*B|0);m[N]=k^j}_[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,_[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,_[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,_[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,_[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,_[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,_[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,_[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}r.RabbitLegacy=l._createHelper(y)})(),t.RabbitLegacy})})(jd)),jd.exports}var Bd={exports:{}},aB=Bd.exports,E2;function oB(){return E2||(E2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),to(),no(),oa(),Zt())})(aB,function(t){return(function(){var r=t,o=r.lib,l=o.BlockCipher,u=r.algo;const p=16,g=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],m=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var y={pbox:[],sbox:[]};function v(I,P){let k=P>>24&255,j=P>>16&255,L=P>>8&255,z=P&255,q=I.sbox[0][k]+I.sbox[1][j];return q=q^I.sbox[2][L],q=q+I.sbox[3][z],q}function _(I,P,k){let j=P,L=k,z;for(let q=0;q<p;++q)j=j^I.pbox[q],L=v(I,j)^L,z=j,j=L,L=z;return z=j,j=L,L=z,L=L^I.pbox[p],j=j^I.pbox[p+1],{left:j,right:L}}function C(I,P,k){let j=P,L=k,z;for(let q=p+1;q>1;--q)j=j^I.pbox[q],L=v(I,j)^L,z=j,j=L,L=z;return z=j,j=L,L=z,L=L^I.pbox[1],j=j^I.pbox[0],{left:j,right:L}}function N(I,P,k){for(let T=0;T<4;T++){I.sbox[T]=[];for(let R=0;R<256;R++)I.sbox[T][R]=m[T][R]}let j=0;for(let T=0;T<p+2;T++)I.pbox[T]=g[T]^P[j],j++,j>=k&&(j=0);let L=0,z=0,q=0;for(let T=0;T<p+2;T+=2)q=_(I,L,z),L=q.left,z=q.right,I.pbox[T]=L,I.pbox[T+1]=z;for(let T=0;T<4;T++)for(let R=0;R<256;R+=2)q=_(I,L,z),L=q.left,z=q.right,I.sbox[T][R]=L,I.sbox[T][R+1]=z;return!0}var B=u.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var I=this._keyPriorReset=this._key,P=I.words,k=I.sigBytes/4;N(y,P,k)}},encryptBlock:function(I,P){var k=_(y,I[P],I[P+1]);I[P]=k.left,I[P+1]=k.right},decryptBlock:function(I,P){var k=C(y,I[P],I[P+1]);I[P]=k.left,I[P+1]=k.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=l._createHelper(B)})(),t.Blowfish})})(Bd)),Bd.exports}var lB=Jh.exports,A2;function cB(){return A2||(A2=1,(function(i,e){(function(t,r,o){i.exports=r($e(),zf(),sj(),oj(),to(),uj(),no(),v4(),fx(),pj(),b4(),yj(),bj(),wj(),mx(),Tj(),oa(),Zt(),Rj(),Ij(),jj(),Oj(),Pj(),Fj(),Uj(),Hj(),$j(),Kj(),Xj(),Wj(),Jj(),tB(),iB(),sB(),oB())})(lB,function(t){return t})})(Jh)),Jh.exports}var uB=cB();const Xp=eC(uB),Qp=(i,e)=>{try{return Xp.AES.encrypt(i,e).toString()}catch(t){return console.error("Encryption error:",t),""}},Wp=(i,e)=>{try{const r=Xp.AES.decrypt(i,e).toString(Xp.enc.Utf8);return r||(console.warn("Decryption resulted in empty string for:",i),"")}catch(t){return console.error("Decryption error:",t),""}},hB=(i,e)=>i.map(t=>Qp(t,e)),dB=(i,e)=>i.map(t=>Wp(t,e)),fB=async()=>{try{if(!_e.currentUser)return console.log("No current user"),!1;const i=_n(nt,"Users"),e=ea(i,sl("userId","==",_e.currentUser.uid)),t=await ns(e);if(t.empty)return console.log("No profile found for user"),!1;const r=t.docs[0].data().setupCompleted===!0;return console.log("Profile setup complete:",r),r}catch(i){return console.error("Error checking profile setup:",i),i.code==="permission-denied"&&console.warn("Permission denied when checking profile - update your Firestore rules"),!1}},mr=async()=>{try{if(!_e.currentUser)return console.log("No current user"),null;const i=_n(nt,"Users"),e=ea(i,sl("userId","==",_e.currentUser.uid)),t=await ns(e);if(t.empty)return console.log("No profile found"),null;const r=t.docs[0].data(),o=_e.currentUser.uid;console.log("Decrypting sensitive user data");const l={docId:t.docs[0].id,...r,phone:r.phone?Wp(r.phone,o):null,age:r.age?Wp(r.age,o):null,triggers:r.triggers&&Array.isArray(r.triggers)?dB(r.triggers,o):[],displayName:r.displayName||null,profileImageUrl:r.profileImageUrl||null,likedPosts:r.likedPosts||[],likedComments:r.likedComments||[]};return console.log("Profile data decrypted successfully"),l}catch(i){return console.error("Error fetching user profile:",i),null}};function mB(){const i=ei(),[e,t]=$.useState(""),[r,o]=$.useState("All"),[l,u]=$.useState("Most Recent"),[p,g]=$.useState("All Time"),[m,y]=$.useState([]),[v,_]=$.useState([]),[C,N]=$.useState(!0),[B,I]=$.useState(4),[P,k]=$.useState(!1),[j,L]=$.useState([]);$.useEffect(()=>{(async()=>{try{N(!0);const D=_n(nt,"forum"),V=ea(D,tf("createdAt","desc")),de=(await ns(V)).docs.map(ie=>{const H=ie.data(),X=H.createdAt?.toDate(),ae=X?q(X):"just now";return{id:ie.id,title:H.title,content:H.content,userId:H.userId,author:H.authorDisplayName||"Anonymous",authorAvatar:H.authorProfilePic||"",timeAgo:ae,replies:H.replies||0,likes:H.likes||0,category:H.category,isPinned:H.isPinned||!1,tags:H.tags||[],triggers:H.triggers||[],views:H.views||0,createdAt:H.createdAt}});_(de),y(de)}catch(D){console.error("Error fetching discussions:",D)}finally{N(!1)}})(),(async()=>{try{const D=await mr();D&&D.triggers&&L(D.triggers.map(V=>V.toString()))}catch(D){console.warn("Failed to load user profile for triggers:",D)}})()},[]),$.useEffect(()=>{let S=[...v];if(e.trim()){const A=e.toLowerCase();S=S.filter(D=>{const V=D.title?.toLowerCase().includes(A),de=[D.content,D.body,D.description,D.post].some(X=>typeof X=="string"&&X.toLowerCase().includes(A)),ie=D.tags?.some(X=>X.toLowerCase().includes(A)),H=D.author?.toLowerCase().includes(A);return!!(V||de||ie||H)})}if(r!=="All"&&(S=S.filter(A=>A.category===r)),p!=="All Time"&&S.length>0){const A=new Date,D=new Date;switch(p){case"Today":D.setHours(0,0,0,0);break;case"This Week":D.setDate(A.getDate()-7);break;case"This Month":D.setMonth(A.getMonth()-1);break}S=S.filter(V=>{const O=V.createdAt?.toDate();return O&&O>=D})}if(P&&j&&j.length>0){const A=j.map(D=>D.toLowerCase());S=S.filter(D=>!(D.triggers||[]).map(O=>O.toLowerCase()).some(O=>A.includes(O)))}switch(l){case"Most Popular":S.sort((A,D)=>D.likes-A.likes);break;case"Most Replies":S.sort((A,D)=>D.replies-A.replies);break;case"Most Recent":default:S.sort((A,D)=>{const V=A.createdAt?.toDate()||new Date(0);return(D.createdAt?.toDate()||new Date(0)).getTime()-V.getTime()});break}y(S)},[e,r,l,p,v,P,j]),$.useEffect(()=>{I(4)},[e,r,l,p,v]);const z=()=>{I(S=>Math.min(S+4,m.length))},q=S=>{const A=Math.floor((new Date().getTime()-S.getTime())/1e3),D={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[V,O]of Object.entries(D)){const de=Math.floor(A/O);if(de>=1)return`${de} ${V}${de>1?"s":""} ago`}return"just now"},T=["Uplifty","Depression","Relationships","Recovery","Self-Care","Informational"],R=$.useMemo(()=>{if(!v||v.length===0)return[];const S=A=>(A.replies||0)*2+(A.likes||0)+3*Math.log10((A.views||0)+1);return[...v].sort((A,D)=>S(D)-S(A)).slice(0,5)},[v]);return d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Community Forums"}),d.jsx("p",{className:"text-white/70 text-lg",children:"You're not alone. Share, listen, heal together."}),d.jsx("p",{className:"text-white/50 text-sm mt-2",children:"Safe space to connect with others on similar journeys, find support, and share experiences in judgment-free environment"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-6 shadow-2xl shadow-black/20",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(og,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),d.jsx("input",{type:"text",placeholder:"Search discussions, topics, keywords...",value:e,onChange:S=>t(S.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]}),d.jsxs("button",{onClick:()=>i("/forum/create"),className:"bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/30 shadow-lg flex items-center gap-2 justify-center",children:[d.jsx(hf,{size:20}),"New Discussion"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-white/70 text-sm",children:"Sort by:"}),d.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 pr-10 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},children:[d.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Most Recent"}),d.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Most Popular"}),d.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Most Replies"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-white/70 text-sm",children:"Category:"}),d.jsxs("select",{value:r,onChange:S=>o(S.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 pr-10 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},children:[d.jsx("option",{className:"bg-[#6A1E55] text-white",children:"All"}),T.map(S=>d.jsx("option",{className:"bg-[#6A1E55] text-white",children:S},S))]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-white/70 text-sm",children:"Time:"}),d.jsxs("select",{value:p,onChange:S=>g(S.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 pr-10 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},children:[d.jsx("option",{className:"bg-[#6A1E55] text-white",children:"All Time"}),d.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Today"}),d.jsx("option",{className:"bg-[#6A1E55] text-white",children:"This Week"}),d.jsx("option",{className:"bg-[#6A1E55] text-white",children:"This Month"})]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:P,onChange:()=>k(S=>!S),className:"w-4 h-4 rounded border-white/20 bg-white/5 focus:ring-0"}),d.jsx("span",{className:"text-white/70 text-sm",children:"Hide posts matching my triggers"})]})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[C?d.jsx("div",{className:"text-center text-white/70 py-12",children:d.jsx("p",{children:"Loading discussions..."})}):m.length===0?d.jsx("div",{className:"text-center text-white/70 py-12",children:d.jsx("p",{children:"No discussions yet. Be the first to start one!"})}):m.slice(0,B).map(S=>d.jsxs("div",{onClick:()=>i(`/forum/${S.id}`),className:`bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer ${S.isPinned?"border-yellow-500/40":""}`,children:[S.isPinned&&d.jsxs("div",{className:"flex items-center gap-2 text-yellow-400/90 text-sm font-semibold mb-3",children:[d.jsx(E6,{size:16}),d.jsx("span",{children:"Pinned"})]}),d.jsx("h3",{className:"text-xl font-bold text-white mb-3 drop-shadow-md",children:S.title}),d.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:S.content}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[S.authorAvatar?d.jsx("img",{src:S.authorAvatar,alt:S.author,className:"w-8 h-8 rounded-full object-cover bg-white/20"}):d.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-sm",children:""}),d.jsx("span",{className:"text-white/80 text-sm font-medium",children:S.author})]}),d.jsxs("span",{className:"text-white/50 text-sm",children:[" ",S.timeAgo]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[d.jsx(yp,{size:16}),d.jsx("span",{className:"text-sm",children:S.likes})]}),d.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[d.jsx(cf,{size:16}),d.jsx("span",{className:"text-sm",children:S.replies})]}),d.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[d.jsx(ag,{size:16}),d.jsx("span",{className:"text-sm",children:S.views})]})]})]}),S.tags&&d.jsx("div",{className:"flex gap-2 mt-3",children:S.tags.map(A=>d.jsxs("span",{className:"text-xs text-white/50 bg-white/5 px-2 py-1 rounded-full",children:["#",A]},A))})]},S.id)),!C&&m.length>0&&B<m.length&&d.jsx("button",{onClick:z,className:"w-full bg-white/5 hover:bg-white/10 backdrop-blur-md text-white/70 font-medium rounded-full py-3 transition-all duration-200 border border-white/10",children:"View more discussions"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md",children:"Community Guidelines"}),d.jsxs("ul",{className:"space-y-2 text-white/70 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:""}),d.jsx("span",{children:"Be respectful and kind to all members"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:""}),d.jsx("span",{children:"Keep discussions supportive and constructive"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:""}),d.jsx("span",{children:"Share mindfully - respect confidentiality"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:""}),d.jsx("span",{children:"Report any concerns to moderation team"})]})]}),d.jsx("button",{className:"mt-4 text-sm text-white/60 hover:text-white transition-colors",children:"Read full Guidelines "})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[d.jsxs("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md flex items-center gap-2",children:[d.jsx(J2,{size:20}),"Trending Discussions"]}),d.jsx("div",{className:"space-y-3",children:R.length===0?d.jsx("div",{className:"text-white/60 text-sm",children:"No trending discussions yet."}):R.map((S,A)=>d.jsxs("div",{onClick:()=>i(`/forum/${S.id}`),className:"hover:bg-white/5 p-3 rounded-full transition-all cursor-pointer",children:[d.jsx("h4",{className:"text-white/90 text-sm font-semibold mb-1 line-clamp-2",children:S.title}),d.jsxs("div",{className:"flex items-center gap-2 text-white/50 text-xs",children:[d.jsx("span",{children:S.category}),d.jsx("span",{children:""}),d.jsxs("span",{children:[S.replies," replies"]}),d.jsx("span",{children:""}),d.jsxs("span",{children:[S.views," views"]})]})]},S.id||A))})]})]})]}),d.jsx("section",{className:"mt-16 mb-8",children:d.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24",children:[d.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Still need more help?"}),d.jsx("p",{className:"text-white font-semibold",children:"Connect with a professional counselor"}),d.jsx("button",{className:"mt-8 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-bold rounded-full border border-white/30 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg",children:"Book an appointment with us now"})]})})]})})}const pB=["Anxiety","Depression","Eating Disorders","Self-Harm","Substance Abuse","Trauma/PTSD","Suicidal Thoughts","Relationship Issues","Academic Stress","Financial Stress","Grief/Loss","Social Anxiety","Body Image","Sleep Issues","OCD","Panic Attacks"];function gB(){const i=ei(),[e,t]=$.useState(!1),[r,o]=$.useState(""),[l,u]=$.useState(""),[p,g]=$.useState(""),[m,y]=$.useState({title:"",content:"",category:"Uplifty",tags:[],triggers:[]}),v=["Uplifty","Depression","Relationships","Recovery","Self-Care","Informational"],_=k=>{const{name:j,value:L}=k.target;y(z=>({...z,[j]:L}))},C=k=>{y(j=>({...j,triggers:j.triggers.includes(k)?j.triggers.filter(L=>L!==k):[...j.triggers,k]}))},N=k=>{if(k.key===" "&&p.trim()){k.preventDefault();const j=p.trim().toLowerCase().replace(/\s+/g,"-");m.tags.includes(j)||y(L=>({...L,tags:[...L.tags,j]})),g("")}else k.key==="Backspace"&&!p&&m.tags.length>0&&y(j=>({...j,tags:j.tags.slice(0,-1)}))},B=k=>{y(j=>({...j,tags:j.tags.filter(L=>L!==k)}))},I=async k=>{if(k.preventDefault(),o(""),u(""),!m.title.trim()){o("Please enter a title for your post");return}if(!m.content.trim()){o("Please enter content for your post");return}if(!_e.currentUser){o("You must be signed in to create a post");return}t(!0);try{const j=await mr(),L=j?.displayName||_e.currentUser.email?.split("@")[0]||"Anonymous",z=j?.profileImageUrl||"",q={title:m.title.trim(),content:m.content.trim(),category:m.category,tags:m.tags,triggers:m.triggers,userId:_e.currentUser.uid,authorDisplayName:L,authorProfilePic:z,createdAt:Xc(),replies:0,likes:0,views:0,isPinned:!1};await gl(_n(nt,"forum"),q),u("Post created successfully!"),setTimeout(()=>{i("/forum")},1500)}catch(j){console.error("Error creating post:",j),o(j.message||"Failed to create post. Please try again."),t(!1)}},P=()=>{i("/forum")};return d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Create New Discussion"}),d.jsx("p",{className:"text-white/70 text-lg",children:"Share your thoughts and connect with the community"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[r&&d.jsxs("div",{className:"mb-6 bg-red-500/20 border border-red-500/30 rounded-2xl p-4 flex items-start gap-3",children:[d.jsx(of,{className:"text-red-400 flex-shrink-0 mt-0.5",size:20}),d.jsx("p",{className:"text-red-200 text-sm",children:r})]}),l&&d.jsxs("div",{className:"mb-6 bg-green-500/20 border border-green-500/30 rounded-2xl p-4 flex items-start gap-3",children:[d.jsx("div",{className:"text-green-400 flex-shrink-0 mt-0.5",children:""}),d.jsx("p",{className:"text-green-200 text-sm",children:l})]}),d.jsxs("form",{onSubmit:I,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"title",className:"block text-white font-semibold mb-2",children:["Discussion Title ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("input",{type:"text",id:"title",name:"title",value:m.title,onChange:_,placeholder:"Enter a clear, descriptive title...",className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all",disabled:e,maxLength:200}),d.jsxs("p",{className:"text-white/50 text-xs mt-1",children:[m.title.length,"/200 characters"]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"category",className:"block text-white font-semibold mb-2",children:["Category ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("select",{id:"category",name:"category",value:m.category,onChange:_,className:"w-full bg-white/10 border border-white/20 rounded-2xl px-4 py-3 text-white focus:outline-none focus:border-white/40 cursor-pointer backdrop-blur-md transition-all appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center"},disabled:e,children:v.map(k=>d.jsx("option",{value:k,className:"bg-[#6A1E55] text-white",children:k},k))})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"content",className:"block text-white font-semibold mb-2",children:["Content ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("textarea",{id:"content",name:"content",value:m.content,onChange:_,placeholder:"Share your thoughts, experiences, or questions... Be respectful and supportive.",className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all resize-none",rows:8,disabled:e,maxLength:5e3}),d.jsxs("p",{className:"text-white/50 text-xs mt-1",children:[m.content.length,"/5000 characters"]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-white font-semibold mb-2",children:"Tags (optional)"}),d.jsxs("div",{className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 min-h-[48px] flex flex-wrap gap-2 items-center",children:[m.tags.map((k,j)=>d.jsxs("span",{className:"bg-white/20 text-white text-sm px-3 py-1 rounded-full flex items-center gap-2 border border-white/30",children:["#",k,d.jsx("button",{type:"button",onClick:()=>B(k),className:"hover:bg-white/20 rounded-full p-0.5 transition-colors",disabled:e,children:d.jsx(vp,{size:14})})]},j)),d.jsx("input",{type:"text",id:"tags",value:p,onChange:k=>g(k.target.value),onKeyDown:N,placeholder:m.tags.length===0?"Type a tag and press space...":"",className:"flex-1 min-w-[120px] bg-transparent border-none outline-none text-white placeholder-white/50",disabled:e})]}),d.jsx("p",{className:"text-white/50 text-xs mt-1",children:"Press space to add a tag, backspace to remove"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white font-semibold mb-3",children:"Content Warnings / Triggers (optional)"}),d.jsx("p",{className:"text-white/50 text-xs mb-3",children:"Select any sensitive topics that your post mentions"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:pB.map(k=>d.jsx("button",{type:"button",onClick:()=>C(k),disabled:e,className:`px-4 py-2 rounded-full text-sm font-medium transition-all border ${m.triggers.includes(k)?"bg-white/30 text-white border-white/50 shadow-lg":"bg-white/5 text-white/70 border-white/20 hover:bg-white/10"} disabled:opacity-50 disabled:cursor-not-allowed`,children:k},k))})]}),d.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[d.jsx("h3",{className:"text-white font-semibold mb-2 text-sm",children:"Community Guidelines Reminder"}),d.jsxs("ul",{className:"space-y-1 text-white/60 text-xs",children:[d.jsx("li",{children:" Be respectful and kind to all members"}),d.jsx("li",{children:" Keep discussions supportive and constructive"}),d.jsx("li",{children:" Respect confidentiality and privacy"}),d.jsx("li",{children:" Avoid giving medical advice - share experiences instead"})]})]}),d.jsxs("div",{className:"flex gap-4 pt-4",children:[d.jsxs("button",{type:"submit",disabled:e,className:"flex-1 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/30 shadow-lg flex items-center gap-2 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(hf,{size:20}),e?"Creating...":"Create Discussion"]}),d.jsxs("button",{type:"button",onClick:P,disabled:e,className:"bg-white/5 hover:bg-white/10 backdrop-blur-md text-white/80 font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/20 flex items-center gap-2 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(vp,{size:20}),"Cancel"]})]})]})]}),d.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md",children:"Tips for Great Discussions"}),d.jsxs("ul",{className:"space-y-2 text-white/70 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:""}),d.jsx("span",{children:"Use a clear, specific title that describes your topic"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:""}),d.jsx("span",{children:"Provide context and details to help others understand"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:""}),d.jsx("span",{children:"Add relevant tags to increase visibility"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:""}),d.jsx("span",{children:"Mark triggers to help members navigate content safely"})]})]})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24 mt-8",children:[d.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Still need more help?"}),d.jsx("p",{className:"text-white font-semibold",children:"Connect with a professional counselor"}),d.jsx("button",{className:"mt-8 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-bold rounded-full border border-white/30 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg",children:"Book an appointment with us now"})]})]})})}function xB(){const{id:i}=P2(),e=ei(),[t,r]=$.useState(null),[o,l]=$.useState([]),[u,p]=$.useState(!0),[g,m]=$.useState(""),[y,v]=$.useState({}),[_,C]=$.useState(null),[N,B]=$.useState([]),[I,P]=$.useState([]),[k,j]=$.useState(!1);$.useEffect(()=>{i&&(z(),q(),R(),_e.currentUser&&S())},[i]);const L=ie=>{const H=Math.floor((new Date().getTime()-ie.getTime())/1e3),X={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[ae,fe]of Object.entries(X)){const me=Math.floor(H/fe);if(me>=1)return`${me} ${ae}${me>1?"s":""} ago`}return"just now"},z=async()=>{try{if(!i)return;const ie=bn(nt,"forum",i),H=await ox(ie);if(H.exists()){const X=H.data(),ae=X.createdAt?.toDate();r({id:H.id,title:X.title,content:X.content,userId:X.userId,authorDisplayName:X.authorDisplayName||"Anonymous",authorProfilePic:X.authorProfilePic||"",category:X.category,tags:X.tags||[],triggers:X.triggers||[],createdAt:X.createdAt,timeAgo:ae?L(ae):"just now",replies:X.replies||0,likes:X.likes||0,views:X.views||0,isPinned:X.isPinned||!1})}p(!1)}catch(ie){console.error("Error fetching discussion:",ie),p(!1)}},q=async()=>{try{if(!i)return;const ie=_n(nt,"forum",i,"comments"),H=ea(ie,tf("createdAt","desc")),X=await ns(H),ae=[];for(const fe of X.docs){const me=fe.data(),F=me.createdAt?.toDate(),K=await T(`forum/${i}/comments/${fe.id}`);ae.push({id:fe.id,path:`forum/${i}/comments/${fe.id}`,userId:me.userId,authorDisplayName:me.authorDisplayName||"Anonymous",authorProfilePic:me.authorProfilePic||"",content:me.content,createdAt:me.createdAt,timeAgo:F?L(F):"just now",likes:me.likes||0,replies:K})}l(ae)}catch(ie){console.error("Error fetching comments:",ie)}},T=async ie=>{try{const H=_n(nt,ie,"replies"),X=ea(H,tf("createdAt","asc")),ae=await ns(X),fe=[];for(const me of ae.docs){const F=me.data(),K=F.createdAt?.toDate(),W=`${ie}/replies/${me.id}`,Z=await T(W);fe.push({id:me.id,path:W,userId:F.userId,authorDisplayName:F.authorDisplayName||"Anonymous",authorProfilePic:F.authorProfilePic||"",content:F.content,createdAt:F.createdAt,timeAgo:K?L(K):"just now",likes:F.likes||0,replies:Z})}return fe}catch(H){return console.error("Error fetching replies:",H),[]}},R=async()=>{try{if(!i)return;const ie=bn(nt,"forum",i);await dn(ie,{views:ja(1)})}catch(ie){console.error("Error incrementing views:",ie)}},S=async()=>{try{const ie=await mr();ie&&(B(ie.likedPosts||[]),P(ie.likedComments||[]))}catch(ie){console.error("Error fetching user likes:",ie)}},A=async()=>{if(!(!_e.currentUser||!i||!t))try{const ie=await mr();if(!ie?.docId)return;const H=bn(nt,"forum",i),X=bn(nt,"Users",ie.docId);N.includes(i)?(await dn(H,{likes:ja(-1)}),await dn(X,{likedPosts:rf(i)}),B(fe=>fe.filter(me=>me!==i)),r({...t,likes:t.likes-1})):(await dn(H,{likes:ja(1)}),await dn(X,{likedPosts:nf(i)}),B(fe=>[...fe,i]),r({...t,likes:t.likes+1}))}catch(ie){console.error("Error toggling like:",ie)}},D=async ie=>{if(ie.preventDefault(),!(!_e.currentUser||!i||!g.trim())){j(!0);try{const H=await mr(),X=H?.displayName||_e.currentUser.email?.split("@")[0]||"Anonymous",ae=H?.profileImageUrl||"",fe=_n(nt,"forum",i,"comments");await gl(fe,{userId:_e.currentUser.uid,authorDisplayName:X,authorProfilePic:ae,content:g.trim(),createdAt:Xc(),likes:0});const me=bn(nt,"forum",i);await dn(me,{replies:ja(1)}),m(""),await q(),t&&r({...t,replies:t.replies+1})}catch(H){console.error("Error submitting comment:",H)}finally{j(!1)}}},V=async ie=>{if(!(!_e.currentUser||!i||!y[ie]?.trim())){j(!0);try{const H=await mr(),X=H?.displayName||_e.currentUser.email?.split("@")[0]||"Anonymous",ae=H?.profileImageUrl||"",fe=_n(nt,ie,"replies");await gl(fe,{userId:_e.currentUser.uid,authorDisplayName:X,authorProfilePic:ae,content:y[ie].trim(),createdAt:Xc(),likes:0});const me=bn(nt,"forum",i);await dn(me,{replies:ja(1)}),v(F=>({...F,[ie]:""})),C(null),await q(),t&&r({...t,replies:t.replies+1})}catch(H){console.error("Error submitting reply:",H)}finally{j(!1)}}},O=async(ie,H)=>{if(_e.currentUser)try{const X=await mr();if(!X?.docId)return;const ae=bn(nt,ie),fe=bn(nt,"Users",X.docId);I.includes(ie)?(await dn(ae,{likes:ja(-1)}),await dn(fe,{likedComments:rf(ie)}),P(F=>F.filter(K=>K!==ie))):(await dn(ae,{likes:ja(1)}),await dn(fe,{likedComments:nf(ie)}),P(F=>[...F,ie])),await q()}catch(X){console.error("Error toggling comment like:",X)}},de=({comment:ie,depth:H=0})=>d.jsxs("div",{className:`${H>0?"ml-8 mt-3":""}`,children:[d.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[ie.authorProfilePic?d.jsx("img",{src:ie.authorProfilePic,alt:ie.authorDisplayName,className:"w-10 h-10 rounded-full object-cover bg-white/20 flex-shrink-0"}):d.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:""}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[d.jsx("span",{className:"text-white font-semibold",children:ie.authorDisplayName}),d.jsxs("span",{className:"text-white/50 text-sm",children:[" ",ie.timeAgo]})]}),d.jsx("p",{className:"text-white/90 text-sm mb-3 break-words",children:ie.content}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("button",{onClick:()=>O(ie.path,ie.likes),disabled:!_e.currentUser,className:`flex items-center gap-1 text-sm transition-colors ${I.includes(ie.path)?"text-blue-400":"text-white/60 hover:text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[d.jsx(yp,{size:14,fill:I.includes(ie.path)?"currentColor":"none"}),d.jsx("span",{children:ie.likes})]}),d.jsx("button",{onClick:()=>C(_===ie.path?null:ie.path),className:"text-white/60 hover:text-white text-sm transition-colors",children:"Reply"})]})]})]})}),_===ie.path&&d.jsx("div",{className:"ml-8 mt-3",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:y[ie.path]||"",onChange:X=>{const ae=X.target.value;v(fe=>({...fe,[ie.path]:ae}))},placeholder:"Write a reply...",className:"flex-1 bg-white/5 border border-white/20 rounded-full px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/40 text-sm",disabled:k,autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),V(ie.path)),X.stopPropagation()}}),d.jsx("button",{onClick:()=>V(ie.path),disabled:k||!y[ie.path]?.trim(),className:"bg-white/20 hover:bg-white/30 text-white rounded-full px-4 py-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(xp,{size:16})})]})}),ie.replies&&ie.replies.length>0&&d.jsx("div",{className:"mt-3 space-y-3",children:ie.replies.map(X=>d.jsx(de,{comment:X,depth:H+1},X.id))})]});return u?d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsx("p",{className:"text-white text-lg",children:"Loading discussion..."})}):t?d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>e("/forum"),className:"flex items-center gap-2 text-white/70 hover:text-white mb-6 transition-colors",children:[d.jsx(rg,{size:20}),"Back to Forum"]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20 mb-6",children:[d.jsx("div",{className:"inline-block bg-white/20 text-white text-sm font-medium px-4 py-1 rounded-full mb-4",children:t.category}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4 drop-shadow-lg",children:t.title}),d.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-6 border-b border-white/10",children:[t.authorProfilePic?d.jsx("img",{src:t.authorProfilePic,alt:t.authorDisplayName,className:"w-12 h-12 rounded-full object-cover bg-white/20"}):d.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:""}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-semibold",children:t.authorDisplayName}),d.jsx("p",{className:"text-white/50 text-sm",children:t.timeAgo})]})]}),t.triggers&&t.triggers.length>0&&d.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-2xl p-4 mb-6",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(V6,{className:"text-yellow-400 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{children:[d.jsx("p",{className:"text-yellow-200 font-semibold text-sm mb-1",children:"Content Warning"}),d.jsxs("p",{className:"text-yellow-200/80 text-sm",children:["This post contains mentions of: ",t.triggers.join(", ")]})]})]})}),d.jsx("div",{className:"text-white/90 text-lg mb-6 whitespace-pre-wrap",children:t.content}),t.tags&&t.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.tags.map(ie=>d.jsxs("span",{className:"text-sm text-white/50 bg-white/5 px-3 py-1 rounded-full",children:["#",ie]},ie))}),d.jsx("div",{className:"flex items-center justify-between pt-6 border-t border-white/10",children:d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("button",{onClick:A,disabled:!_e.currentUser,className:`flex items-center gap-2 transition-colors ${N.includes(i||"")?"text-blue-400":"text-white/70 hover:text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[d.jsx(yp,{size:20,fill:N.includes(i||"")?"currentColor":"none"}),d.jsx("span",{children:t.likes})]}),d.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[d.jsx(cf,{size:20}),d.jsx("span",{children:t.replies})]}),d.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[d.jsx(ag,{size:20}),d.jsx("span",{children:t.views})]})]})})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-2xl shadow-black/20",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Comments (",t.replies,")"]}),_e.currentUser?d.jsxs("form",{onSubmit:D,className:"mb-6",children:[d.jsx("div",{className:"flex gap-3",children:d.jsx("textarea",{value:g,onChange:ie=>m(ie.target.value),placeholder:"Share your thoughts...",className:"flex-1 bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 resize-none",rows:3,disabled:k})}),d.jsxs("button",{type:"submit",disabled:k||!g.trim(),className:"mt-3 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-full px-6 py-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[d.jsx(xp,{size:16}),k?"Posting...":"Post Comment"]})]}):d.jsx("div",{className:"mb-6 bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:d.jsxs("p",{className:"text-white/70",children:[d.jsx("button",{onClick:()=>e("/signin"),className:"text-blue-400 hover:underline",children:"Sign in"})," to join the discussion"]})}),d.jsx("div",{className:"space-y-4",children:o.length===0?d.jsx("p",{className:"text-white/50 text-center py-8",children:"No comments yet. Be the first to share your thoughts!"}):o.map(ie=>d.jsx(de,{comment:ie},ie.id))})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24 mt-8",children:[d.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Still need more help?"}),d.jsx("p",{className:"text-white font-semibold",children:"Connect with a professional counselor"}),d.jsx("button",{className:"mt-8 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-bold rounded-full border border-white/30 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg",children:"Book an appointment with us now"})]})]})}):d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsx("p",{className:"text-white text-lg",children:"Discussion not found"})})}function yB(){return d.jsx("div",{className:"min-h-screen pt-32 px-4",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Testimonials"}),d.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:d.jsx("p",{className:"text-white/80 text-lg",children:"Testimonials page coming soon..."})})]})})}function vB(){const[i,e]=$.useState(!1),[t,r]=$.useState(!1),[o,l]=$.useState(!1),[u,p]=$.useState(""),[g,m]=$.useState(""),y=ei(),[v,_]=$.useState({email:"",password:"",name:"",confirmPassword:""}),C=async N=>{N.preventDefault(),p(""),m(""),l(!0);try{if(i){if(v.password!==v.confirmPassword){p("Passwords do not match"),l(!1);return}if(v.password.length<6){p("Password must be at least 6 characters"),l(!1);return}if(!v.name.trim()){p("Name is required"),l(!1);return}const B=await iR(_e,v.email,v.password);await aR(B.user,{displayName:v.name}),m("Account created successfully! Redirecting..."),setTimeout(()=>{y("/accountsetup")},1500)}else{await rR(_e,v.email,v.password);const B=await fB();m("Signed in successfully! Redirecting..."),setTimeout(()=>{y(B?"/":"/accountsetup")},1500)}}catch(B){B.code==="auth/email-already-in-use"?p("Email is already in use"):B.code==="auth/invalid-email"?p("Invalid email address"):B.code==="auth/weak-password"?p("Password is too weak"):B.code==="auth/user-not-found"?p("User not found"):B.code==="auth/wrong-password"?p("Incorrect password"):p(B.message||"An error occurred")}finally{l(!1)}};return d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsx("div",{className:"w-full max-w-md",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg mb-2",children:i?"Create Account":"Welcome Back"}),d.jsx("p",{className:"text-white/70 text-sm",children:i?"Join our supportive community":"Sign in to continue your journey"})]}),u&&d.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[d.jsx(of,{size:20,className:"text-red-400 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-red-200 text-sm",children:u})]}),g&&d.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[d.jsx(K2,{size:20,className:"text-green-400 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-green-200 text-sm",children:g})]}),d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(df,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),d.jsx("input",{type:"text",placeholder:"Enter your name",value:v.name,onChange:N=>_({...v,name:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:i})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Q2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),d.jsx("input",{type:"email",placeholder:"Enter your email",value:v.email,onChange:N=>_({...v,email:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Zv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),d.jsx("input",{type:t?"text":"password",placeholder:"Enter your password",value:v.password,onChange:N=>_({...v,password:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-12 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0}),d.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/50 hover:text-white/80 transition-colors",children:t?d.jsx(u6,{size:20}):d.jsx(ag,{size:20})})]})]}),i&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Zv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),d.jsx("input",{type:t?"text":"password",placeholder:"Confirm your password",value:v.confirmPassword,onChange:N=>_({...v,confirmPassword:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:i})]})]}),!i&&d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"button",className:"text-white/60 hover:text-white text-sm transition-colors",children:"Forgot Password?"})}),d.jsx("button",{type:"submit",disabled:o,className:"w-full bg-white/20 hover:bg-white/30 disabled:bg-white/10 disabled:opacity-50 backdrop-blur-md text-white font-semibold rounded-full py-3 transition-all duration-300 border border-white/30 shadow-lg mt-6",children:o?"Processing...":i?"Create Account":"Sign In"})]}),d.jsx("div",{className:"text-center mt-6",children:d.jsxs("button",{type:"button",onClick:()=>e(!i),className:"text-white/70 hover:text-white text-sm transition-colors",children:[i?"Already have an account? ":"Don't have an account? ",d.jsx("span",{className:"font-semibold",children:i?"Sign In":"Sign Up"})]})}),d.jsx("p",{className:"text-white/40 text-xs text-center mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})})}const bB=["Anxiety","Depression","Eating Disorders","Self-Harm","Substance Abuse","Trauma/PTSD","Suicidal Thoughts","Relationship Issues","Academic Stress","Financial Stress","Grief/Loss","Social Anxiety","Body Image","Sleep Issues","OCD","Panic Attacks"];function _B(){const i=ei(),[e,t]=$.useState(!1),[r,o]=$.useState(""),[l,u]=$.useState(""),[p,g]=$.useState(null),[m,y]=$.useState(null),[v,_]=$.useState(""),[C,N]=$.useState([]),[B,I]=$.useState({phone:"",age:"",bio:"",preferences:""});$.useEffect(()=>{_e.currentUser||i("/signin"),(async()=>{try{const z=await mr();z&&(g(z.docId||null),I({phone:z.phone||"",age:z.age||"",bio:z.bio||"",preferences:z.preferences||""}),N(z.triggers||[]),z.profileImageUrl&&_(z.profileImageUrl))}catch(z){console.warn("Could not prefill profile:",z)}})()},[i]);const P=L=>{const z=L.target.files?.[0];if(z){y(z);const q=new FileReader;q.onloadend=()=>{_(q.result)},q.readAsDataURL(z)}},k=L=>{N(z=>z.includes(L)?z.filter(q=>q!==L):[...z,L])},j=async L=>{L.preventDefault(),console.log("Form submitted"),o(""),u(""),t(!0);try{if(!B.phone.trim()){console.log("Phone number is empty"),o("Phone number is required"),t(!1);return}console.log("Phone validation passed");let z=v||"";if(m){console.log("Uploading profile image");const V=_e.currentUser;if(!V){console.log("User not authenticated (image upload)"),o("User not authenticated"),t(!1);return}try{const O=U7(G7,`profile-pictures/${V.uid}/${m.name}`);console.log("Image ref:",O.toString()),await F7(O,m),z=await V7(O),console.log("Image uploaded:",z)}catch(O){console.warn("Failed to upload profile image:",O),console.warn("Continuing without profile image")}}const q=_e.currentUser;if(console.log("Current user:",q),!q){console.log("User not authenticated (firestore)"),o("User not authenticated"),t(!1);return}const T=q.uid,R=Qp(B.phone,T),S=B.age?Qp(B.age,T):null,A=hB(C,T),D={userId:q.uid,email:q.email,displayName:q.displayName,phone:R,age:S,triggers:A,profileImageUrl:z,bio:B.bio,preferences:B.preferences,setupCompleted:!0,updatedAt:Xc()};if(p){const V=bn(nt,"Users",p);await dn(V,D),u("Profile updated successfully! Redirecting..."),t(!1),setTimeout(()=>i("/profile"),1200)}else{const V=_n(nt,"Users");await gl(V,{...D,createdAt:Xc()}),u("Profile setup completed! Redirecting to home..."),t(!1),setTimeout(()=>i("/"),1500)}}catch(z){console.error("Error setting up profile:",z),console.error("Error code:",z.code),console.error("Error message:",z.message),console.error("Full error:",z);let q="An error occurred while setting up your profile";z.code==="permission-denied"?q="Permission denied. Please check Firestore security rules. Make sure authenticated users can write to the Users collection.":z.message&&(q=z.message),o(q),t(!1)}};return d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsx("div",{className:"w-full max-w-2xl",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg mb-2",children:"Complete Your Profile"}),d.jsx("p",{className:"text-white/70 text-sm",children:"Help us personalize your mental health journey"})]}),r&&d.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[d.jsx(of,{size:20,className:"text-red-400 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-red-200 text-sm",children:r})]}),l&&d.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[d.jsx(K2,{size:20,className:"text-green-400 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-green-200 text-sm",children:l})]}),d.jsxs("form",{onSubmit:j,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-3",children:"Profile Picture"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-24 h-24 rounded-2xl bg-white/5 border border-white/20 flex items-center justify-center overflow-hidden",children:v?d.jsx("img",{src:v,alt:"Profile",className:"w-full h-full object-cover"}):d.jsx(z6,{size:32,className:"text-white/50"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"w-full text-sm text-white/50 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-white/20 file:text-white hover:file:bg-white/30 transition-colors"}),d.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Optional - PNG, JPG up to 5MB"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2",children:["Phone Number ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(uf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),d.jsx("input",{type:"tel",placeholder:"Enter your phone number",value:B.phone,onChange:L=>I({...B,phone:L.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Age"}),d.jsxs("div",{className:"relative",children:[d.jsx(G2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),d.jsx("input",{type:"number",placeholder:"Enter your age",value:B.age,onChange:L=>I({...B,age:L.target.value}),min:"13",max:"120",className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Bio"}),d.jsx("textarea",{placeholder:"Tell us a bit about yourself...",value:B.bio,onChange:L=>I({...B,bio:L.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all resize-none",rows:3})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-3 flex items-center gap-2",children:[d.jsx(lf,{size:18}),"Topics to Avoid (Select any that apply)"]}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:bB.map(L=>d.jsx("button",{type:"button",onClick:()=>k(L),className:`p-3 rounded-2xl text-sm font-medium transition-all border ${C.includes(L)?"bg-pink-500/40 border-pink-500/60 text-white":"bg-white/5 border-white/20 text-white/70 hover:bg-white/10"}`,children:L},L))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 flex items-center gap-2",children:[d.jsx(gp,{size:18}),"Additional Preferences"]}),d.jsx("textarea",{placeholder:"Share any other preferences or information that would help personalize your experience...",value:B.preferences,onChange:L=>I({...B,preferences:L.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all resize-none",rows:3})]}),d.jsx("button",{type:"submit",disabled:e,className:"w-full bg-white/20 hover:bg-white/30 disabled:bg-white/10 disabled:opacity-50 backdrop-blur-md text-white font-semibold rounded-full py-3 transition-all duration-300 border border-white/30 shadow-lg mt-6",children:e?"Completing Setup...":"Complete Profile Setup"}),d.jsx("p",{className:"text-white/40 text-xs text-center",children:"You can update this information anytime from your profile settings"})]})]})})})}function wB(){const i=ei(),[e,t]=$.useState(null),[r,o]=$.useState(!0),[l,u]=$.useState("");$.useEffect(()=>{(async()=>{if(!_e.currentUser){i("/signin");return}try{const m=await mr();m?t(m):u("Could not load profile")}catch(m){console.error("Error loading profile:",m),u("Error loading profile")}finally{o(!1)}})()},[i]);const p=async()=>{try{await lE(_e),i("/")}catch(g){console.error("Error signing out:",g)}};return r?d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsx("div",{className:"text-white text-xl",children:"Loading profile..."})}):e?d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20 mb-6",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-white drop-shadow-lg mb-2",children:"Your Profile"}),d.jsx("p",{className:"text-white/70",children:"All your account information"})]}),d.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e?.profileImageUrl?d.jsx("img",{src:e.profileImageUrl,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-white/20 mb-4 shadow-lg"}):d.jsx("div",{className:"w-32 h-32 rounded-full bg-white/10 border-4 border-white/20 flex items-center justify-center mb-4",children:d.jsx("span",{className:"text-white/50 text-6xl",children:""})}),d.jsx("h2",{className:"text-3xl font-bold text-white",children:e?.displayName||"User"}),d.jsx("p",{className:"text-white/60 text-sm",children:e?.email})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 md:grid-flow-col md:auto-cols-fr",children:[d.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(Q2,{size:20,className:"text-white/70"}),d.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Email"})]}),d.jsx("p",{className:"text-white font-normal text-center break-words text-xs md:text-sm w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.email,children:e?.email})]}),d.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(uf,{size:20,className:"text-white/70"}),d.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Phone"})]}),d.jsx("p",{className:"text-white font-semibold text-center break-words w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.phone,children:e?.phone||"Not provided"})]}),d.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(G2,{size:20,className:"text-white/70"}),d.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Age"})]}),d.jsx("p",{className:"text-white font-semibold text-center break-words w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.age,children:e?.age?e.age:"Not provided"})]})]}),e?.bio&&d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx(gp,{size:20,className:"text-white/70"}),d.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Bio"})]}),d.jsx("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:d.jsx("p",{className:"text-white",children:e.bio})})]}),e?.triggers&&e.triggers.length>0&&d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx(lf,{size:20,className:"text-white/70"}),d.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Topics to Avoid"})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e.triggers.map((g,m)=>d.jsx("span",{className:"px-4 py-2 bg-pink-500/20 border border-pink-500/50 text-white rounded-full text-sm font-medium",children:g},m))})]}),e?.preferences&&d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx(gp,{size:20,className:"text-white/70"}),d.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Preferences"})]}),d.jsx("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:d.jsx("p",{className:"text-white",children:e.preferences})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[d.jsxs("button",{onClick:()=>i("/accountsetup"),className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg",children:[d.jsx(D6,{size:18}),"Edit Profile"]}),d.jsxs("button",{onClick:p,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-red-500/20 hover:bg-red-500/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-red-500/30 shadow-lg",children:[d.jsx(X2,{size:18}),"Sign Out"]})]})]})})}):d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsx("div",{className:"text-white text-xl",children:l||"Profile not found"})})}const EB=async()=>{try{const i=ea(_n(nt,"blogPosts"),tf("date","desc"));return(await ns(i)).docs.map(t=>({id:t.id,...t.data()}))}catch(i){return console.error(i),[]}},fp=async i=>{try{const e=bn(nt,"blogPosts",i),t=await ox(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){return console.error(e),null}},AB=async i=>{try{return(await gl(_n(nt,"blogPosts"),{...i,likedBy:[],comments:[],createdAt:new Date().toISOString()})).id}catch(e){return console.error(e),null}},_4=async(i,e,t)=>{try{return await dn(bn(nt,"blogPosts",i),{likedBy:t?rf(e):nf(e)}),!0}catch(r){return console.error(r),!1}},TB=async(i,e,t,r,o)=>{try{const l={id:crypto.randomUUID(),author:e,authorEmail:t,content:r,timestamp:new Date().toISOString(),userId:o};return await dn(bn(nt,"blogPosts",i),{comments:nf(l)}),!0}catch(l){return console.error(l),!1}},CB=async(i,e,t)=>{try{const r=bn(nt,"blogPosts",i),o=await ox(r);if(!o.exists())return!1;const u=o.data().comments?.find(g=>g.id===e);if(!u)return!1;const p=_e.currentUser?.email;return u.userId!==t&&p!=="amogh.shivanna@gmail.com"?!1:(await dn(r,{comments:rf(u)}),!0)}catch(r){return console.error(r),!1}};function SB(){const i=ei(),[e,t]=$.useState(""),[r,o]=$.useState("All"),[l,u]=$.useState([]),[p,g]=$.useState("newest"),[m,y]=$.useState(0),[v,_]=$.useState([]),[C,N]=$.useState(!0),[B,I]=$.useState(null),[P,k]=$.useState(!1),j=["All","Mental Health","Self-Care","Mindfulness","Relationships","Wellness","Technology"];$.useEffect(()=>vf(_e,R=>{I(R?R.uid:null)}),[]),$.useEffect(()=>{(async()=>{try{const R=await EB();if(_(R),B){const S=R.filter(A=>A.likedBy?.includes(B)).map(A=>A.id);u(S)}}catch(R){console.error("Error loading blog posts:",R)}finally{N(!1)}})()},[B]),$.useEffect(()=>{if(B){const T=_e.currentUser?.email;k(T==="amogh.shivanna@gmail.com")}},[B]);const L=async T=>{if(!B||!_e.currentUser){alert("Please log in to like posts");return}const R=l.includes(T);u(S=>R?S.filter(A=>A!==T):[...S,T]),_(S=>S.map(A=>A.id===T?{...A,likedBy:R?A.likedBy?.filter(D=>D!==_e.currentUser.uid)||[]:[...A.likedBy||[],_e.currentUser.uid]}:A));try{await _4(T,_e.currentUser.uid,R)||(u(A=>R?[...A,T]:A.filter(D=>D!==T)),_(A=>A.map(D=>D.id===T?{...D,likedBy:R?[...D.likedBy||[],_e.currentUser.uid]:D.likedBy?.filter(V=>V!==_e.currentUser.uid)||[]}:D)))}catch(S){console.error("Error updating like:",S),u(A=>R?[...A,T]:A.filter(D=>D!==T)),_(A=>A.map(D=>D.id===T?{...D,likedBy:R?[...D.likedBy||[],_e.currentUser.uid]:D.likedBy?.filter(V=>V!==_e.currentUser.uid)||[]}:D))}},z=v.filter(T=>{const R=r==="All"||T.category===r,S=T.title.toLowerCase().includes(e.toLowerCase())||T.excerpt.toLowerCase().includes(e.toLowerCase())||T.tags.some(V=>V.toLowerCase().includes(e.toLowerCase())),D=(T.likedBy?.length||0)>=m;return R&&S&&D}).sort((T,R)=>p==="newest"?new Date(R.date).getTime()-new Date(T.date).getTime():p==="oldest"?new Date(T.date).getTime()-new Date(R.date).getTime():p==="most-liked"?(R.likedBy?.length||0)-(T.likedBy?.length||0):0),q=v.filter(T=>T.featured);return C?d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsx("p",{className:"text-white text-lg",children:"Loading blog posts..."})}):d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsxs("div",{className:"flex items-center justify-center gap-4 mb-3",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg",children:"Wellness Blog"}),P&&d.jsxs("button",{onClick:()=>i("/add-blog"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-full font-semibold transition-all duration-200 flex items-center gap-2 shadow-lg",children:[d.jsx(hf,{size:20}),"New Post"]})]}),d.jsx("p",{className:"text-white/70 text-lg",children:"Expert insights and practical tips for mental health and wellbeing"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-8 shadow-2xl shadow-black/20",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(og,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),d.jsx("input",{type:"text",placeholder:"Search articles, topics, keywords...",value:e,onChange:T=>t(T.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]})}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:j.map(T=>d.jsx("button",{onClick:()=>o(T),className:`px-4 py-2 rounded-full font-medium text-sm transition-all duration-200 border ${r===T?"bg-white/25 text-white border-white/40 shadow-lg":"bg-white/5 text-white/80 border-white/10 hover:bg-white/10"}`,children:T},T))}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-white/70 text-sm font-medium block mb-2",children:"Sort By:"}),d.jsxs("select",{value:p,onChange:T=>g(T.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-2 text-white text-sm focus:outline-none focus:border-white/30 transition-all",children:[d.jsx("option",{value:"newest",className:"bg-[#0A0F2A]",children:"Newest First"}),d.jsx("option",{value:"oldest",className:"bg-[#0A0F2A]",children:"Oldest First"}),d.jsx("option",{value:"most-liked",className:"bg-[#0A0F2A]",children:"Most Liked"})]})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-white/70 text-sm font-medium block mb-2",children:"Minimum Likes:"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(J2,{size:16,className:"text-white/50"}),d.jsx("input",{type:"range",min:"0",max:"500",step:"50",value:m,onChange:T=>y(Number(T.target.value)),className:"flex-1 h-2 bg-white/10 rounded-full appearance-none cursor-pointer accent-white/50"}),d.jsx("span",{className:"text-white/70 text-sm font-medium w-12",children:m})]})]})]})]}),r==="All"&&e===""&&m===0&&q.length>0&&d.jsxs("div",{className:"mb-12",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[d.jsx(Z2,{size:24}),"Featured Articles"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:q.map(T=>d.jsxs("div",{onClick:()=>i(`/blog/${T.id}`),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer group",children:[d.jsx("div",{className:"flex items-start justify-between mb-4",children:d.jsx("span",{className:"bg-white/20 text-white/90 text-xs font-semibold px-3 py-1 rounded-full",children:"Featured"})}),d.jsx("h3",{className:"text-2xl font-bold text-white mb-3 group-hover:text-white/90 transition-colors",children:T.title}),d.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:T.excerpt}),d.jsx("div",{className:"flex items-center justify-between text-sm text-white/60 mb-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(sg,{size:16}),new Date(T.date).toLocaleDateString()]}),d.jsxs("span",{children:[T.readTime," min read"]})]})}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex gap-2",children:T.tags.slice(0,2).map(R=>d.jsxs("span",{className:"text-xs text-white/50 bg-white/5 px-2 py-1 rounded-full",children:["#",R]},R))}),d.jsx(HS,{size:20,className:"text-white/50 group-hover:text-white/80 transition-colors"})]})]},T.id))})]}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[d.jsx(KS,{size:24}),r==="All"&&e===""?"Latest Articles":"Articles"]}),z.length===0?d.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-12 text-center shadow-xl shadow-black/10",children:d.jsx("p",{className:"text-white/70 text-lg",children:"No articles found matching your search."})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(T=>d.jsxs("div",{onClick:()=>i(`/blog/${T.id}`),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer group flex flex-col",children:[d.jsx("div",{className:"flex items-start justify-between mb-4",children:d.jsx("span",{className:"bg-white/20 text-white/80 text-xs font-medium px-3 py-1 rounded-full",children:T.category})}),d.jsx("h3",{className:"text-lg font-bold text-white mb-3 group-hover:text-white/90 transition-colors line-clamp-2",children:T.title}),d.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-3 flex-grow",children:T.excerpt}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(df,{size:14}),d.jsx("span",{children:T.author})]}),d.jsxs("span",{children:[T.readTime," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[d.jsxs("button",{onClick:R=>{R.stopPropagation(),L(T.id)},className:"flex items-center gap-1 text-white/60 hover:text-red-400 transition-all duration-200 group",children:[d.jsx(lf,{size:18,fill:l.includes(T.id)?"currentColor":"none",className:`transition-all duration-200 ${l.includes(T.id)?"text-red-400 scale-110":"group-hover:scale-110"}`}),d.jsx("span",{className:`text-sm font-medium transition-colors ${l.includes(T.id)?"text-red-400":""}`,children:T.likedBy?.length||0})]}),d.jsx("button",{onClick:R=>R.stopPropagation(),className:"text-white/60 hover:text-white transition-colors",children:d.jsx(W2,{size:18})})]})]})]},T.id))})]})]})})}const T2=[{id:"depression",title:"Depression",category:"Mood",summary:"Persistent low mood, loss of interest in activities, changes in sleep or appetite, and difficulty concentrating.",symptoms:["Low mood","Loss of pleasure","Fatigue","Difficulty concentrating","Changes in sleep/appetite"],coping:["Keep a regular sleep schedule","Break tasks into small steps","Stay connected to supportive people","Try low-intensity activities (walking, stretching)"],whenToSeekHelp:["If symptoms last more than two weeks","If you have suicidal thoughts or lose interest in daily functioning"],links:[{label:"WHO  Depression",url:"https://www.who.int/news-room/fact-sheets/detail/depression"},{label:"NIMH  Depression",url:"https://www.nimh.nih.gov/health/topics/depression"}],tags:["mood","depression"]},{id:"anxiety",title:"Anxiety Disorders",category:"Anxiety",summary:"Excessive worry, restlessness, irritability, muscle tension, and avoidance of feared situations.",symptoms:["Excessive worry","Restlessness","Panic attacks","Avoidance behaviors"],coping:["Practice grounding techniques (5-4-3-2-1)","Diaphragmatic breathing","Limit caffeine and alcohol","Gradual exposure to feared situations with support"],whenToSeekHelp:["If anxiety interferes with daily life","If panic attacks are frequent or severe"],links:[{label:"Anxiety and Depression Association of America",url:"https://adaa.org"},{label:"NHS  Anxiety",url:"https://www.nhs.uk/mental-health/conditions/anxiety/"}],tags:["anxiety","panic"]},{id:"ptsd",title:"Post-Traumatic Stress Disorder (PTSD)",category:"Trauma",summary:"Intrusive memories, avoidance, negative changes in thinking and mood, and changes in physical and emotional reactions following trauma.",symptoms:["Flashbacks","Avoidance of reminders","Hypervigilance","Negative mood"],coping:["Grounding techniques during flashbacks","Seek supportive therapy (trauma-focused)","Establish safety and routine"],whenToSeekHelp:["If trauma symptoms persist or worsen","If you struggle to function or feel unsafe"],links:[{label:"PTSD: NIMH",url:"https://www.nimh.nih.gov/health/topics/post-traumatic-stress-disorder-ptsd"}],tags:["trauma","ptsd"]},{id:"eating-disorders",title:"Eating Disorders",category:"Eating",summary:"Unhealthy eating behaviors, preoccupation with weight or shape, and physical health risks.",symptoms:["Preoccupation with food/weight","Bingeing or restricting","Compensatory behaviors"],coping:["Seek specialized care","Focus on body functionality not shape","Avoid dieting culture"],whenToSeekHelp:["If eating patterns are causing physical harm","Rapid weight change or medical instability"],links:[{label:"NEDA  Eating Disorders",url:"https://www.nationaleatingdisorders.org/"}],tags:["eating","disorder"]},{id:"substance",title:"Substance Use & Addiction",category:"Addiction",summary:"Patterns of substance use that cause harm to health, relationships, or responsibilities.",symptoms:["Loss of control","Cravings","Continued use despite harm"],coping:["Seek professional support","Harm reduction strategies","Build a sober support network"],whenToSeekHelp:["If use impacts safety or responsibilities","If withdrawal or cravings are severe"],links:[{label:"SAMHSA",url:"https://www.samhsa.gov/"}],tags:["substance","addiction"]},{id:"bipolar",title:"Bipolar Disorder",category:"Mood",summary:"Episodes of unusually elevated mood (mania or hypomania) and periods of depression which can affect thinking and behaviour.",symptoms:["Periods of high energy or reduced need for sleep","Elevated or irritable mood","Impulsive behaviour","Depressive episodes"],coping:["Keep a stable routine","Track mood and triggers","Medication as prescribed","Psychoeducation and therapy (CBT, family-focused)"],whenToSeekHelp:["If mood episodes disrupt daily life","If there are risky behaviours during mania","If depressive episodes include suicidal thoughts"],links:[{label:"NIMH  Bipolar Disorder",url:"https://www.nimh.nih.gov/health/topics/bipolar-disorder"}],tags:["bipolar","mood"]},{id:"ocd",title:"Obsessive-Compulsive Disorder (OCD)",category:"Anxiety",summary:"Recurring unwanted thoughts (obsessions) and repetitive behaviours (compulsions) performed to reduce distress.",symptoms:["Intrusive thoughts","Repetitive checking or rituals","Time-consuming compulsions","Avoidance"],coping:["Practice response prevention with exposure (ERP)","Mindfulness for intrusive thoughts","Break rituals into small steps","Seek CBT with ERP trained therapist"],whenToSeekHelp:["If rituals take up significant time","If obsessions cause severe distress or interfere with functioning"],links:[{label:"International OCD Foundation",url:"https://iocdf.org/"}],tags:["ocd","compulsions"]},{id:"adhd",title:"Attention-Deficit/Hyperactivity Disorder (ADHD)",category:"Neurodevelopmental",summary:"Patterns of inattention, hyperactivity, and impulsivity that interfere with functioning or development.",symptoms:["Difficulty sustaining attention","Disorganization","Impulsivity","Hyperactivity (in some)"],coping:["Use structured routines and lists","Break tasks into shorter chunks","Minimize distractions","Consider professional assessment for medication or therapy"],whenToSeekHelp:["If concentration issues affect work/school or relationships","If daily functioning is impaired"],links:[{label:"CHADD",url:"https://chadd.org/"},{label:"NHS  ADHD",url:"https://www.nhs.uk/conditions/attention-deficit-hyperactivity-disorder-adhd/"}],tags:["adhd","attention"]},{id:"social-anxiety",title:"Social Anxiety Disorder",category:"Anxiety",summary:"Intense fear or anxiety in social situations where one may be judged, often leading to avoidance and distress.",symptoms:["Fear of embarrassment","Avoidance of social events","Physical symptoms in social settings"],coping:["Gradual exposure to social situations","Practice social skills in safe settings","Cognitive strategies to challenge negative thoughts"],whenToSeekHelp:["If avoidance impacts work, education, or relationships","If panic or severe anxiety occurs often in social settings"],links:[{label:"Anxiety and Depression Association of America  Social Anxiety",url:"https://adaa.org/understanding-anxiety/social-anxiety-disorder"}],tags:["social","anxiety"]},{id:"insomnia",title:"Insomnia & Sleep Problems",category:"Sleep",summary:"Difficulty falling asleep, staying asleep, or non-restorative sleep that affects daytime functioning.",symptoms:["Trouble falling asleep","Waking during the night","Daytime sleepiness","Trouble concentrating"],coping:["Maintain consistent sleep schedule","Reduce screen time before bed","Create a calming bedtime routine","Limit caffeine and heavy meals late in the day"],whenToSeekHelp:["If poor sleep persists for weeks and affects daytime functioning","If there are signs of sleep apnea or other sleep disorders"],links:[{label:"American Academy of Sleep Medicine",url:"https://aasm.org/"}],tags:["sleep","insomnia"]},{id:"bpd",title:"Borderline Personality Disorder (BPD)",category:"Personality",summary:"Patterns of instability in relationships, self-image, and emotions, often with intense reactions to perceived abandonment.",symptoms:["Intense mood swings","Impulsive behaviour","Unstable relationships","Fear of abandonment"],coping:["DBT skills training (emotion regulation, distress tolerance)","Build a crisis plan","Therapy with trained clinicians"],whenToSeekHelp:["If mood swings or impulsive actions cause harm or disrupt life","If self-harm or suicidal thoughts occur"],links:[{label:"NHS  Personality Disorders",url:"https://www.nhs.uk/mental-health/conditions/personality-disorders/"}],tags:["personality","bpd"]}];function NB(){const[i,e]=$.useState(""),[t,r]=$.useState("All"),[o,l]=$.useState(null),u=$.useMemo(()=>["All",...Array.from(new Set(T2.map(v=>v.category)))],[]),p=$.useMemo(()=>{const v=i.trim().toLowerCase();return T2.filter(_=>{if(t!=="All"&&_.category!==t)return!1;if(!v)return!0;const C=_.title.toLowerCase().includes(v),N=_.summary.toLowerCase().includes(v),B=_.tags?.some(P=>P.toLowerCase().includes(v)),I=_.links?.some(P=>P.label.toLowerCase().includes(v));return C||N||B||I})},[i,t]),[g,m]=$.useState(2);$.useEffect(()=>{m(2)},[i,t]);const y=()=>m(v=>Math.min(v+2,p.length));return d.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4",style:{background:"linear-gradient(180deg,#0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Resources"}),d.jsx("p",{className:"text-white/80 text-lg",children:"Information, strategies, and places to get help for common mental health concerns."})]}),d.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-6 shadow-2xl",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(og,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:18}),d.jsx("input",{value:i,onChange:v=>e(v.target.value),placeholder:"Search conditions, strategies, or keywords...",className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none"})]}),d.jsx("div",{className:"flex gap-2 items-center",children:u.map(v=>d.jsx("button",{onClick:()=>r(v),className:`text-sm px-4 py-2 rounded-full transition-all ${t===v?"bg-white/20 text-white":"bg-white/5 text-white/70"}`,children:v},v))})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx("div",{className:"lg:col-span-2 space-y-4",children:p.length===0?d.jsx("div",{className:"bg-white/5 rounded-2xl p-8 text-center text-white/70",children:"No resources matched your search."}):d.jsxs(d.Fragment,{children:[p.slice(0,g).map(v=>d.jsxs("article",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl hover:bg-white/15 transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:v.title}),d.jsx("p",{className:"text-white/70 mb-3",children:v.summary}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.tags?.map(_=>d.jsxs("span",{className:"text-xs text-white/60 bg-white/5 px-2 py-1 rounded-full",children:["#",_]},_))}),d.jsxs("div",{className:"text-white/80 text-sm space-y-2",children:[d.jsxs("div",{children:[d.jsx("strong",{className:"text-white",children:"Coping strategies:"}),d.jsx("ul",{className:"list-disc ml-5 mt-2 text-white/70",children:v.coping?.slice(0,o===v.id?100:3).map((_,C)=>d.jsx("li",{children:_},C))})]}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-white",children:"When to seek help:"}),d.jsx("ul",{className:"list-disc ml-5 mt-2 text-white/70",children:v.whenToSeekHelp?.slice(0,o===v.id?100:2).map((_,C)=>d.jsx("li",{children:_},C))})]})]})]}),d.jsxs("div",{className:"flex-shrink-0 flex flex-col items-end gap-3",children:[d.jsx("div",{className:"text-white/60 text-sm",children:v.category}),d.jsxs("button",{onClick:()=>l(_=>_===v.id?null:v.id),className:"flex items-center gap-2 bg-white/5 hover:bg-white/10 text-white/80 px-3 py-2 rounded-full text-sm",children:[d.jsx("span",{children:o===v.id?"Hide":"Learn more"}),d.jsx(JS,{size:16,className:`transition-transform ${o===v.id?"rotate-180":"rotate-0"}`})]})]})]}),o===v.id&&d.jsxs("div",{className:"mt-4 border-t border-white/5 pt-4 text-white/80",children:[v.symptoms&&d.jsxs("div",{className:"mb-3",children:[d.jsx("strong",{className:"text-white",children:"Common symptoms:"}),d.jsx("ul",{className:"list-disc ml-5 mt-2 text-white/70",children:v.symptoms.map((_,C)=>d.jsx("li",{children:_},C))})]}),v.links&&d.jsxs("div",{className:"mb-3",children:[d.jsx("strong",{className:"text-white",children:"More resources:"}),d.jsx("ul",{className:"mt-2 space-y-2",children:v.links.map((_,C)=>d.jsx("li",{children:d.jsxs("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"text-white/90 hover:underline flex items-center gap-2",children:[d.jsx(l6,{size:14}),d.jsx("span",{className:"text-sm",children:_.label})]})},C))})]}),d.jsx("div",{className:"mt-2 bg-white/5 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-3 text-white",children:[d.jsx(uf,{size:18}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Immediate help"}),d.jsx("div",{className:"text-xs text-white/80",children:"If you are in danger or thinking of harming yourself, call your local emergency number immediately."})]})]})})]})]},v.id)),p.length>g&&d.jsx("div",{className:"mt-4",children:d.jsx("button",{onClick:y,className:"w-full bg-white/5 hover:bg-white/10 text-white/80 font-medium rounded-full py-3 transition-all border border-white/10",children:"View more resources"})})]})}),d.jsxs("aside",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Quick Help"}),d.jsx("p",{className:"text-white/70 text-sm",children:"If you or someone is in immediate danger, call emergency services now."}),d.jsx("div",{className:"mt-4",children:d.jsx("a",{href:"tel:911",className:"w-full inline-flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 rounded-full",children:"Call Emergency"})})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Self-care tools"}),d.jsxs("ul",{className:"text-white/70 text-sm space-y-2",children:[d.jsx("li",{children:" Breathing exercises and grounding"}),d.jsx("li",{children:" Sleep hygiene and routine"}),d.jsx("li",{children:" Small achievable goals"}),d.jsx("li",{children:" Peer support and hotlines"})]})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Find professional help"}),d.jsx("p",{className:"text-white/70 text-sm",children:"Search for local therapists, clinics, or telehealth services. Consider contacting your primary care provider for referrals."})]})]})]})]})})}function RB(){const i=ei(),[e,t]=$.useState(!1),[r,o]=$.useState(!1),[l,u]=$.useState(""),[p,g]=$.useState({title:"",excerpt:"",content:"",author:"Amogh Shivanna",category:"Wellness",readTime:5,tags:[],featured:!1}),m=["Mental Health","Self-Care","Mindfulness","Relationships","Wellness","Technology"];$.useEffect(()=>vf(_e,B=>{if(B){const P=B.email==="amogh.shivanna@gmail.com";t(P),P||i("/blog")}else i("/blog")}),[i]);const y=N=>{const{name:B,value:I,type:P}=N.target;if(P==="checkbox"){const k=N.target.checked;g(j=>({...j,[B]:k}))}else g(k=>({...k,[B]:I}))},v=()=>{l.trim()&&!p.tags.includes(l.trim())&&(g(N=>({...N,tags:[...N.tags,l.trim()]})),u(""))},_=N=>{g(B=>({...B,tags:B.tags.filter(I=>I!==N)}))},C=async N=>{if(N.preventDefault(),!p.title||!p.excerpt||!p.content){alert("Please fill in all required fields (Title, Excerpt, and Content)");return}if(p.readTime<1){alert("Read time must be at least 1 minute");return}o(!0);try{const B={title:p.title.trim(),excerpt:p.excerpt.trim(),content:p.content.trim(),author:p.author,category:p.category,readTime:Number(p.readTime),date:new Date().toISOString(),tags:p.tags,featured:p.featured||!1};console.log("Submitting post data:",B),await AB(B)?(alert("Blog post created successfully!"),i("/blog")):alert("Failed to create blog post. Please check the console for errors and ensure you have the correct Firebase permissions.")}catch(B){console.error("Error in handleSubmit:",B),alert(`An error occurred while creating the blog post: ${B.message}`)}finally{o(!1)}};return e?d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("button",{onClick:()=>i("/blog"),className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-4",children:[d.jsx(rg,{size:20}),"Back to Blog"]}),d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Create New Blog Post"}),d.jsx("p",{className:"text-white/70 text-lg",children:"Share your insights with the community"})]}),d.jsxs("form",{onSubmit:C,className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Title ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("input",{type:"text",name:"title",value:p.title,onChange:y,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all",placeholder:"Enter blog post title...",required:!0})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Excerpt ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("textarea",{name:"excerpt",value:p.excerpt,onChange:y,rows:2,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Brief summary of your post...",required:!0})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Content ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("textarea",{name:"content",value:p.content,onChange:y,rows:12,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Write your blog post content here...",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Category"}),d.jsx("select",{name:"category",value:p.category,onChange:y,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white focus:outline-none focus:border-white/30 transition-all",children:m.map(N=>d.jsx("option",{value:N,className:"bg-[#0A0F2A]",children:N},N))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Read Time (minutes)"}),d.jsx("input",{type:"number",name:"readTime",value:p.readTime,onChange:y,min:"1",max:"60",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Tags"}),d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx("input",{type:"text",value:l,onChange:N=>u(N.target.value),onKeyPress:N=>N.key==="Enter"&&(N.preventDefault(),v()),className:"flex-1 bg-white/5 border border-white/10 rounded-2xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all",placeholder:"Add a tag..."}),d.jsxs("button",{type:"button",onClick:v,className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-2xl transition-all duration-200 flex items-center gap-2",children:[d.jsx(hf,{size:18}),"Add"]})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(N=>d.jsxs("span",{className:"bg-white/10 text-white/90 px-3 py-1 rounded-full text-sm flex items-center gap-2 border border-white/20",children:["#",N,d.jsx("button",{type:"button",onClick:()=>_(N),className:"text-white/70 hover:text-white",children:""})]},N))})]}),d.jsx("div",{className:"mb-8",children:d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",name:"featured",checked:p.featured,onChange:y,className:"w-5 h-5 rounded border-white/20 bg-white/5 text-white focus:ring-0 focus:ring-offset-0"}),d.jsxs("span",{className:"text-white/90 text-sm font-semibold flex items-center gap-2",children:[d.jsx(Z2,{size:16}),"Mark as Featured Post"]})]})}),d.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 rounded-2xl transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Creating Post...":"Publish Blog Post"})]})]})}):null}function DB(){const{postId:i}=P2(),e=ei(),[t,r]=$.useState(null),[o,l]=$.useState(!0),[u,p]=$.useState(null),[g,m]=$.useState(!1),[y,v]=$.useState(!1),[_,C]=$.useState(""),[N,B]=$.useState(""),[I,P]=$.useState(""),[k,j]=$.useState(!1);$.useEffect(()=>vf(_e,A=>{A?(p(A.uid),C(A.displayName||A.email?.split("@")[0]||"Anonymous"),B(A.email||""),v(A.email==="amogh.shivanna@gmail.com")):(p(null),C(""),B(""),v(!1))}),[]),$.useEffect(()=>{(async()=>{if(!i){e("/blog");return}try{const A=await fp(i);A?(r(A),u&&m(A.likedBy?.includes(u)||!1)):e("/blog")}catch(A){console.error("Error loading blog post:",A),e("/blog")}finally{l(!1)}})()},[i,u,e]);const L=async()=>{if(!u||!_e.currentUser){alert("Please log in to like posts");return}if(!t)return;const S=g;m(!g);try{await _4(t.id,_e.currentUser.uid,S)?r(D=>D&&{...D,likedBy:S?D.likedBy?.filter(V=>V!==_e.currentUser.uid)||[]:[...D.likedBy||[],_e.currentUser.uid]}):m(S)}catch(A){console.error("Error toggling like:",A),m(S)}},z=async()=>{if(navigator.share&&t)try{await navigator.share({title:t.title,text:t.excerpt,url:window.location.href})}catch(S){console.log("Error sharing:",S)}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")},q=async S=>{if(S.preventDefault(),!_e.currentUser){alert("Please log in to comment");return}if(!I.trim()){alert("Please enter a comment");return}if(i){j(!0);try{const A=_e.currentUser.displayName||_e.currentUser.email?.split("@")[0]||"Anonymous User",D=_e.currentUser.email||"no-email@example.com";if(await TB(i,A,D,I.trim(),_e.currentUser.uid)){const O=await fp(i);O&&r(O),P("")}else alert("Failed to add comment. Please try again.")}catch(A){console.error("Error submitting comment:",A),alert("An error occurred while adding your comment.")}finally{j(!1)}}},T=async S=>{if(!(!i||!u||!_e.currentUser)&&confirm("Are you sure you want to delete this comment?"))try{if(await CB(i,S,_e.currentUser.uid)){const D=await fp(i);D&&r(D)}else alert("Failed to delete comment. You may not have permission.")}catch(A){console.error("Error deleting comment:",A),alert("An error occurred while deleting the comment.")}};if(o)return d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsx("p",{className:"text-white text-lg",children:"Loading..."})});if(!t)return null;const R=[...t.comments||[]].sort((S,A)=>new Date(A.timestamp).getTime()-new Date(S.timestamp).getTime());return d.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>e("/blog"),className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[d.jsx(rg,{size:20}),"Back to Blog"]}),d.jsxs("article",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 overflow-hidden mb-8",children:[d.jsxs("div",{className:"p-8 md:p-12",children:[d.jsx("div",{className:"flex items-center gap-3 mb-6",children:d.jsx("span",{className:"bg-white/20 text-white/90 text-sm font-semibold px-4 py-2 rounded-full",children:t.category})}),d.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-6 leading-tight",children:t.title}),d.jsx("p",{className:"text-xl text-white/80 mb-8 leading-relaxed",children:t.excerpt}),d.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-white/60 text-sm mb-8 pb-8 border-b border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(df,{size:18}),d.jsx("span",{children:t.author})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sg,{size:18}),d.jsx("span",{children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Y2,{size:18}),d.jsxs("span",{children:[t.readTime," min read"]})]})]}),t.tags&&t.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:t.tags.map(S=>d.jsxs("span",{className:"flex items-center gap-1 bg-white/10 text-white/80 px-3 py-1 rounded-full text-sm border border-white/20",children:[d.jsx(B6,{size:14}),S]},S))}),d.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:d.jsx("div",{className:"text-white/90 leading-relaxed whitespace-pre-wrap",children:t.content})})]}),d.jsx("div",{className:"bg-white/5 border-t border-white/10 p-6 md:p-8",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:L,disabled:!_e.currentUser,className:`flex items-center gap-2 transition-all duration-200 group ${g?"text-red-400":"text-white/70 hover:text-red-400"} ${_e.currentUser?"":"opacity-50 cursor-not-allowed"}`,title:_e.currentUser?"":"Login to like",children:[d.jsx(lf,{size:24,fill:g?"currentColor":"none",className:`transition-all duration-200 ${g?"scale-110 animate-pulse":"group-hover:scale-110"}`}),d.jsxs("span",{className:"text-lg font-medium",children:[t.likedBy?.length||0," ",(t.likedBy?.length||0)===1?"Like":"Likes"]})]}),d.jsxs("button",{onClick:z,className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white px-6 py-3 rounded-full transition-all duration-200 border border-white/20 hover:scale-105 active:scale-95",children:[d.jsx(W2,{size:20}),d.jsx("span",{className:"font-medium",children:"Share"})]})]})})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 p-6 md:p-8",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[d.jsx(cf,{size:24}),"Comments (",R.length,")"]}),_e.currentUser?d.jsxs("form",{onSubmit:q,className:"mb-8 p-6 bg-white/5 rounded-2xl border border-white/10",children:[d.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Leave a Comment"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Name"}),d.jsx("input",{type:"text",value:_,disabled:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all opacity-75"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Email"}),d.jsx("input",{type:"email",value:N,disabled:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all opacity-75"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2",children:["Comment ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("textarea",{value:I,onChange:S=>P(S.target.value),rows:4,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Share your thoughts...",required:!0})]}),d.jsxs("button",{type:"submit",disabled:k,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(xp,{size:18}),k?"Posting...":"Post Comment"]})]}):d.jsxs("div",{className:"mb-8 p-6 bg-white/5 rounded-2xl border border-white/10 text-center",children:[d.jsx("p",{className:"text-white/70 mb-4",children:"Please log in to leave a comment"}),d.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg",children:"Log In"})]}),d.jsx("div",{className:"space-y-4",children:R.length===0?d.jsx("p",{className:"text-white/60 text-center py-8",children:"No comments yet. Be the first to comment!"}):R.map(S=>d.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10 hover:bg-white/10 transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:S.author.charAt(0).toUpperCase()}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-semibold",children:S.author}),d.jsx("p",{className:"text-white/50 text-xs",children:new Date(S.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),_e.currentUser&&(S.userId===_e.currentUser.uid||y)&&d.jsx("button",{onClick:()=>T(S.id),className:"text-white/50 hover:text-red-400 transition-colors",title:"Delete comment",children:d.jsx(P6,{size:18})})]}),d.jsx("p",{className:"text-white/90 leading-relaxed",children:S.content})]},S.id))})]})]})})}var IB="1.3.15";function w4(i,e,t){return Math.max(i,Math.min(e,t))}function kB(i,e,t){return(1-t)*i+t*e}function jB(i,e,t,r){return kB(i,e,1-Math.exp(-t*r))}function BB(i,e){return(i%e+e)%e}var OB=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(i){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=i;const t=w4(0,this.currentTime/this.duration,1);e=t>=1;const r=e?1:this.easing(t);this.value=this.from+(this.to-this.from)*r}else this.lerp?(this.value=jB(this.value,this.to,this.lerp*60,i),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(i,e,{lerp:t,duration:r,easing:o,onStart:l,onUpdate:u}){this.from=this.value=i,this.to=e,this.lerp=t,this.duration=r,this.easing=o,this.currentTime=0,this.isRunning=!0,l?.(),this.onUpdate=u}};function MB(i,e){let t;return function(...r){let o=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,i.apply(o,r)},e)}}var PB=class{constructor(i,e,{autoResize:t=!0,debounce:r=250}={}){this.wrapper=i,this.content=e,t&&(this.debouncedResize=MB(this.resize,r),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},E4=class{events={};emit(i,...e){let t=this.events[i]||[];for(let r=0,o=t.length;r<o;r++)t[r]?.(...e)}on(i,e){return this.events[i]?.push(e)||(this.events[i]=[e]),()=>{this.events[i]=this.events[i]?.filter(t=>e!==t)}}off(i,e){this.events[i]=this.events[i]?.filter(t=>e!==t)}destroy(){this.events={}}},C2=100/6,Ms={passive:!1},LB=class{constructor(i,e={wheelMultiplier:1,touchMultiplier:1}){this.element=i,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Ms),this.element.addEventListener("touchstart",this.onTouchStart,Ms),this.element.addEventListener("touchmove",this.onTouchMove,Ms),this.element.addEventListener("touchend",this.onTouchEnd,Ms)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new E4;on(i,e){return this.emitter.on(i,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Ms),this.element.removeEventListener("touchstart",this.onTouchStart,Ms),this.element.removeEventListener("touchmove",this.onTouchMove,Ms),this.element.removeEventListener("touchend",this.onTouchEnd,Ms)}onTouchStart=i=>{const{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:i})};onTouchMove=i=>{const{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i,r=-(e-this.touchStart.x)*this.options.touchMultiplier,o=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:r,y:o},this.emitter.emit("scroll",{deltaX:r,deltaY:o,event:i})};onTouchEnd=i=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:i})};onWheel=i=>{let{deltaX:e,deltaY:t,deltaMode:r}=i;const o=r===1?C2:r===2?this.window.width:1,l=r===1?C2:r===2?this.window.height:1;e*=o,t*=l,e*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:t,event:i})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},S2=i=>Math.min(1,1.001-Math.pow(2,-10*i)),FB=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new OB;emitter=new E4;dimensions;virtualScroll;constructor({wrapper:i=window,content:e=document.documentElement,eventsTarget:t=i,smoothWheel:r=!0,syncTouch:o=!1,syncTouchLerp:l=.075,touchInertiaExponent:u=1.7,duration:p,easing:g,lerp:m=.1,infinite:y=!1,orientation:v="vertical",gestureOrientation:_=v==="horizontal"?"both":"vertical",touchMultiplier:C=1,wheelMultiplier:N=1,autoResize:B=!0,prevent:I,virtualScroll:P,overscroll:k=!0,autoRaf:j=!1,anchors:L=!1,autoToggle:z=!1,allowNestedScroll:q=!1,__experimental__naiveDimensions:T=!1}={}){window.lenisVersion=IB,(!i||i===document.documentElement)&&(i=window),typeof p=="number"&&typeof g!="function"?g=S2:typeof g=="function"&&typeof p!="number"&&(p=1),this.options={wrapper:i,content:e,eventsTarget:t,smoothWheel:r,syncTouch:o,syncTouchLerp:l,touchInertiaExponent:u,duration:p,easing:g,lerp:m,infinite:y,gestureOrientation:_,orientation:v,touchMultiplier:C,wheelMultiplier:N,autoResize:B,prevent:I,virtualScroll:P,overscroll:k,autoRaf:j,anchors:L,autoToggle:z,allowNestedScroll:q,__experimental__naiveDimensions:T},this.dimensions=new PB(i,e,{autoResize:B}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new LB(t,{touchMultiplier:C,wheelMultiplier:N}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(i,e){return this.emitter.on(i,e)}off(i,e){return this.emitter.off(i,e)}onScrollEnd=i=>{i instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&i.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};onTransitionEnd=i=>{if(i.propertyName.includes("overflow")){const e=this.isHorizontal?"overflow-x":"overflow-y",t=getComputedStyle(this.rootElement)[e];["hidden","clip"].includes(t)?this.internalStop():this.internalStart()}};setScroll(i){this.isHorizontal?this.options.wrapper.scrollTo({left:i,behavior:"instant"}):this.options.wrapper.scrollTo({top:i,behavior:"instant"})}onClick=i=>{const t=i.composedPath().find(r=>r instanceof HTMLAnchorElement&&r.getAttribute("href")?.includes("#"));if(t){const r=t.getAttribute("href");if(r){const o=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,l=`#${r.split("#")[1]}`;this.scrollTo(l,o)}}};onPointerDown=i=>{i.button===1&&this.reset()};onVirtualScroll=i=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(i)===!1)return;const{deltaX:e,deltaY:t,event:r}=i;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:t,event:r}),r.ctrlKey||r.lenisStopPropagation)return;const o=r.type.includes("touch"),l=r.type.includes("wheel");this.isTouching=r.type==="touchstart"||r.type==="touchmove";const u=e===0&&t===0;if(this.options.syncTouch&&o&&r.type==="touchstart"&&u&&!this.isStopped&&!this.isLocked){this.reset();return}const g=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&e===0;if(u||g)return;let m=r.composedPath();m=m.slice(0,m.indexOf(this.rootElement));const y=this.options.prevent;if(m.find(I=>I instanceof HTMLElement&&(typeof y=="function"&&y?.(I)||I.hasAttribute?.("data-lenis-prevent")||o&&I.hasAttribute?.("data-lenis-prevent-touch")||l&&I.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(I,{deltaX:e,deltaY:t}))))return;if(this.isStopped||this.isLocked){r.cancelable&&r.preventDefault();return}if(!(this.options.syncTouch&&o||this.options.smoothWheel&&l)){this.isScrolling="native",this.animate.stop(),r.lenisStopPropagation=!0;return}let _=t;this.options.gestureOrientation==="both"?_=Math.abs(t)>Math.abs(e)?t:e:this.options.gestureOrientation==="horizontal"&&(_=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(r.lenisStopPropagation=!0),r.cancelable&&r.preventDefault();const C=o&&this.options.syncTouch,B=o&&r.type==="touchend";B&&(_=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+_,{programmatic:!1,...C?{lerp:B?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const i=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-i,this.direction=Math.sign(this.animatedScroll-i),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=i=>{const e=i-(this.time||i);this.time=i,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(i,{offset:e=0,immediate:t=!1,lock:r=!1,duration:o=this.options.duration,easing:l=this.options.easing,lerp:u=this.options.lerp,onStart:p,onComplete:g,force:m=!1,programmatic:y=!0,userData:v}={}){if(!((this.isStopped||this.isLocked)&&!m)){if(typeof i=="string"&&["top","left","start","#"].includes(i))i=0;else if(typeof i=="string"&&["bottom","right","end"].includes(i))i=this.limit;else{let _;if(typeof i=="string"?(_=document.querySelector(i),_||(i==="#top"?i=0:console.warn("Lenis: Target not found",i))):i instanceof HTMLElement&&i?.nodeType&&(_=i),_){if(this.options.wrapper!==window){const N=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?N.left:N.top}const C=_.getBoundingClientRect();i=(this.isHorizontal?C.left:C.top)+this.animatedScroll}}if(typeof i=="number"){if(i+=e,i=Math.round(i),this.options.infinite){if(y){this.targetScroll=this.animatedScroll=this.scroll;const _=i-this.animatedScroll;_>this.limit/2?i=i-this.limit:_<-this.limit/2&&(i=i+this.limit)}}else i=w4(0,i,this.limit);if(i===this.targetScroll){p?.(this),g?.(this);return}if(this.userData=v??{},t){this.animatedScroll=this.targetScroll=i,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),g?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}y||(this.targetScroll=i),typeof o=="number"&&typeof l!="function"?l=S2:typeof l=="function"&&typeof o!="number"&&(o=1),this.animate.fromTo(this.animatedScroll,i,{duration:o,easing:l,lerp:u,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling="smooth",p?.(this)},onUpdate:(_,C)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=_-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=_,this.setScroll(this.scroll),y&&(this.targetScroll=_),C||this.emit(),C&&(this.reset(),this.emit(),g?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(i,{deltaX:e,deltaY:t}){const r=Date.now(),o=i._lenis??={};let l,u,p,g,m,y,v,_;const C=this.options.gestureOrientation;if(r-(o.time??0)>2e3){o.time=Date.now();const z=window.getComputedStyle(i);o.computedStyle=z;const q=z.overflowX,T=z.overflowY;if(l=["auto","overlay","scroll"].includes(q),u=["auto","overlay","scroll"].includes(T),o.hasOverflowX=l,o.hasOverflowY=u,!l&&!u||C==="vertical"&&!u||C==="horizontal"&&!l)return!1;m=i.scrollWidth,y=i.scrollHeight,v=i.clientWidth,_=i.clientHeight,p=m>v,g=y>_,o.isScrollableX=p,o.isScrollableY=g,o.scrollWidth=m,o.scrollHeight=y,o.clientWidth=v,o.clientHeight=_}else p=o.isScrollableX,g=o.isScrollableY,l=o.hasOverflowX,u=o.hasOverflowY,m=o.scrollWidth,y=o.scrollHeight,v=o.clientWidth,_=o.clientHeight;if(!l&&!u||!p&&!g||C==="vertical"&&(!u||!g)||C==="horizontal"&&(!l||!p))return!1;let N;if(C==="horizontal")N="x";else if(C==="vertical")N="y";else{const z=e!==0,q=t!==0;z&&l&&p&&(N="x"),q&&u&&g&&(N="y")}if(!N)return!1;let B,I,P,k,j;if(N==="x")B=i.scrollLeft,I=m-v,P=e,k=l,j=p;else if(N==="y")B=i.scrollTop,I=y-_,P=t,k=u,j=g;else return!1;return(P>0?B<I:B>0)&&k&&j}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const i=this.options.wrapper;return this.isHorizontal?i.scrollX??i.scrollLeft:i.scrollY??i.scrollTop}get scroll(){return this.options.infinite?BB(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(i){this._isScrolling!==i&&(this._isScrolling=i,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(i){this._isStopped!==i&&(this._isStopped=i,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(i){this._isLocked!==i&&(this._isLocked=i,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let i="lenis";return this.options.autoToggle&&(i+=" lenis-autoToggle"),this.isStopped&&(i+=" lenis-stopped"),this.isLocked&&(i+=" lenis-locked"),this.isScrolling&&(i+=" lenis-scrolling"),this.isScrolling==="smooth"&&(i+=" lenis-smooth"),i}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const VB="/BPA-2025/assets/TheSkylineProjectLogo3-9jg1Xey1.png";function UB({searchQuery:i,setSearchQuery:e,isSearchOpen:t,setIsSearchOpen:r}){const[o,l]=$.useState([]),[u,p]=$.useState(!1),g=ei();return $.useEffect(()=>{if(i.trim()){p(!0);const m=[{id:1,title:"Research Articles",content:"",loading:!0,width:"col-span-3",height:"h-72",articles:[]},{id:2,title:"Key Definitions",content:"",loading:!0,width:"col-span-2",height:"h-72",definitions:[]},{id:3,title:"Professional Support",content:"",loading:!0,width:"col-span-2",height:"h-56",counselors:[]},{id:4,title:"Relevant Forums",content:"",loading:!0,width:"col-span-3",height:"h-56",forums:[]},{id:5,title:"Helplines",content:"",loading:!0,width:"col-span-3",height:"h-64",helplines:[]},{id:6,title:"Related Topics",content:"",loading:!0,width:"col-span-2",height:"h-64",relatedTopics:[]}];l(m);const y=setTimeout(()=>{const v=async()=>{try{const P=`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=${encodeURIComponent(i+" mental health")}&retmax=5&retmode=json`,j=await(await fetch(P)).json();if(j.esearchresult?.idlist?.length>0){const z=`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&id=${j.esearchresult.idlist.join(",")}&retmode=json`,T=await(await fetch(z)).json(),R=j.esearchresult.idlist.slice(0,5).map(S=>{const A=T.result[S];return{title:A.title||"Untitled",source:A.source||A.fulljournalname||"Journal name unavailable",year:A.pubdate?A.pubdate.split(" ")[0]:"Year unavailable",summary:`This research explores ${i.toLowerCase()} in the context of mental health and well-being.`}});l(S=>S.map(A=>A.id===1?{...A,loading:!1,articles:R,content:""}:A))}else l(L=>L.map(z=>z.id===1?{...z,loading:!1,content:"No research articles found for this topic.",articles:[]}:z))}catch(P){console.error("Error fetching PubMed articles:",P),l(k=>k.map(j=>j.id===1?{...j,loading:!1,content:"Unable to load articles at this time.",articles:[]}:j))}},_=async()=>{try{const P=["the","a","an","and","or","but","in","on","at","to","for","of","with","is","are","was","were","been","be","have","has","had","do","does","did","will","would","should","could","may","might","can","about","how","what","when","where","who","why","i","my","me"],k=i.toLowerCase().split(/\s+/).filter(z=>z.length>3&&!P.includes(z));if(k.length===0){l(z=>z.map(q=>q.id===2?{...q,loading:!1,content:"No key terms found to define.",definitions:[]}:q));return}const j=k.slice(0,3).map(async z=>{try{const q=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${z}`);if(!q.ok)return null;const T=await q.json();if(T&&T[0]&&T[0].meanings&&T[0].meanings[0]){const R=T[0].meanings[0];return{word:z,partOfSpeech:R.partOfSpeech||"",definition:R.definitions[0]?.definition||"Definition unavailable"}}return null}catch{return null}}),L=(await Promise.all(j)).filter(z=>z!==null);L.length>0?l(z=>z.map(q=>q.id===2?{...q,loading:!1,definitions:L,content:""}:q)):l(z=>z.map(q=>q.id===2?{...q,loading:!1,content:"Could not find definitions for these terms.",definitions:[]}:q))}catch(P){console.error("Error fetching definitions:",P),l(k=>k.map(j=>j.id===2?{...j,loading:!1,content:"Unable to load definitions at this time.",definitions:[]}:j))}};v(),_(),(()=>{setTimeout(()=>{const P=[{title:`Coping with ${i}`,category:"Support Groups",replies:Math.floor(Math.random()*100)+10,lastActive:"2 hours ago"},{title:`${i} - Share Your Experience`,category:"Discussion",replies:Math.floor(Math.random()*50)+5,lastActive:"5 hours ago"},{title:`Understanding ${i}`,category:"Education",replies:Math.floor(Math.random()*80)+15,lastActive:"1 day ago"}];l(k=>k.map(j=>j.id===4?{...j,loading:!1,forums:P,content:""}:j))},1200)})(),(()=>{setTimeout(()=>{const P=[{name:"Dr. Sarah Mitchell",specialty:"Anxiety & Stress Management",availability:"Available today",description:`Specializes in helping clients manage ${i.toLowerCase()} through evidence-based therapies.`},{name:"Dr. James Chen",specialty:"Cognitive Behavioral Therapy",availability:"Next available: Tomorrow",description:`Expert in treating ${i.toLowerCase()} with proven CBT techniques.`}];l(k=>k.map(j=>j.id===3?{...j,loading:!1,counselors:P,content:""}:j))},1e3)})(),(()=>{setTimeout(()=>{const k=i.toLowerCase().split(/\s+/)[0]||i,j=[{topic:`${i} treatment options`,query:`${i} treatment options`},{topic:`${i} coping strategies`,query:`${i} coping strategies`},{topic:`${i} symptoms`,query:`${i} symptoms`},{topic:`${k} therapy`,query:`${k} therapy`},{topic:`managing ${i}`,query:`managing ${i}`},{topic:`${i} prevention`,query:`${i} prevention`}];l(L=>L.map(z=>z.id===6?{...z,loading:!1,relatedTopics:j,content:""}:z))},1500)})(),(()=>{setTimeout(()=>{const P=i.toLowerCase(),k=[];(P.includes("suicid")||P.includes("crisis")||P.includes("self harm")||P.includes("self-harm"))&&(k.push({name:"National Suicide Prevention Lifeline",number:"988",description:"24/7 free and confidential support for people in distress.",availability:"24/7"}),k.push({name:"Crisis Text Line",number:"Text HOME to 741741",description:"Free, 24/7 support for those in crisis via text message.",availability:"24/7"})),(P.includes("drug")||P.includes("alcohol")||P.includes("substance")||P.includes("addiction"))&&k.push({name:"SAMHSA National Helpline",number:"1-800-662-4357",description:"Treatment referral and information service for substance abuse.",availability:"24/7"}),(P.includes("abuse")||P.includes("domestic")||P.includes("violence"))&&k.push({name:"National Domestic Violence Hotline",number:"1-800-799-7233",description:"Support for victims and survivors of domestic violence.",availability:"24/7"}),(P.includes("eating")||P.includes("anorexia")||P.includes("bulimia"))&&k.push({name:"NEDA Helpline",number:"1-800-931-2237",description:"National Eating Disorders Association support line.",availability:"Mon-Thu 9am-9pm ET, Fri 9am-5pm ET"}),(P.includes("veteran")||P.includes("military")||P.includes("ptsd"))&&k.push({name:"Veterans Crisis Line",number:"988 then Press 1",description:"Confidential support for Veterans and their families.",availability:"24/7"}),k.length===0&&k.push({name:"National Suicide Prevention Lifeline",number:"988",description:"24/7 free and confidential support for people in distress.",availability:"24/7"}),k.push({name:"NAMI HelpLine",number:"1-800-950-6264",description:"Information, resource referrals and support for mental health.",availability:"Mon-Fri 10am-10pm ET"});const j=k.slice(0,4);l(L=>L.map(z=>z.id===5?{...z,loading:!1,helplines:j,content:""}:z))},900)})(),m.slice(2).forEach(P=>{if(P.id===3||P.id===4||P.id===5||P.id===6)return;const k=Math.random()*2e3+1e3;setTimeout(()=>{l(j=>j.map(L=>L.id===P.id?{...L,loading:!1,content:`Information about ${L.title.toLowerCase()} based on your search: "${i}"`}:L))},k)})},800);return()=>clearTimeout(y)}else p(!1),l([])},[i]),t?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[998] animate-in fade-in duration-200",onClick:()=>{r(!1),e("")}}),d.jsxs("div",{className:`fixed left-1/2 -translate-x-1/2 w-[95%] max-w-7xl z-[999] transition-all duration-700 ease-out ${u?"top-[10%]":"top-[40%]"}`,children:[d.jsxs("div",{className:"relative overflow-hidden bg-white/15 backdrop-blur-2xl border border-white/30 rounded-3xl shadow-2xl mb-6 animate-in zoom-in-95 fade-in duration-200 mx-auto max-w-4xl",children:[d.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-50 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff60,#7ed6ff45,#ffffff20,#abc6ff60,#ffffff60)] animate-[spin_20s_linear_infinite]","aria-hidden":!0}),d.jsxs("div",{className:"relative flex items-center px-6 py-5",children:[d.jsx("svg",{className:"h-6 w-6 text-white/70 mr-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),d.jsx("input",{type:"text",placeholder:"Ask Nimbus anything about mental health...",value:i,onChange:m=>e(m.target.value),className:"flex-1 bg-transparent text-white text-lg placeholder-white/50 focus:outline-none font-medium",autoFocus:!0}),d.jsx("button",{onClick:()=>{r(!1),e("")},className:"text-white/70 hover:text-white focus:outline-none transition-all duration-200 ml-4 px-3 py-1 bg-white/10 rounded-lg text-sm font-semibold",children:"ESC"})]})]}),u&&o.length>0&&d.jsx("div",{className:"grid grid-cols-5 gap-4 auto-rows-auto",children:o.map(m=>d.jsx("div",{className:`${m.width} ${m.height}`,children:d.jsxs("div",{className:"relative h-full overflow-hidden bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 shadow-2xl p-6 hover:bg-white/15 hover:scale-[1.02] transition-all duration-300",children:[d.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-40 mix-blend-screen blur-xl bg-[conic-gradient(at_30%_30%,#ffffff40,#7ed6ff35,#ffffff20,#abc6ff40,#ffffff40)] animate-[spin_25s_linear_infinite]","aria-hidden":!0}),d.jsxs("div",{className:"relative h-full flex flex-col",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:m.title}),m.loading?d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce"}),d.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce animation-delay-200"}),d.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce animation-delay-400"})]})}):m.articles&&m.articles.length>0?d.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.articles.map((y,v)=>d.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0",children:[d.jsx("h4",{className:"text-sm font-semibold text-white leading-tight mb-1",children:y.title}),d.jsxs("p",{className:"text-xs text-white/60 mb-1",children:[y.source,"  ",y.year]}),d.jsx("p",{className:"text-xs text-white/70 leading-relaxed",children:y.summary})]},v))}):m.definitions&&m.definitions.length>0?d.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.definitions.map((y,v)=>d.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0",children:[d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("h4",{className:"text-base font-bold text-white capitalize",children:y.word}),d.jsx("span",{className:"text-xs text-white/50 italic",children:y.partOfSpeech})]}),d.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:y.definition})]},v))}):m.forums&&m.forums.length>0?d.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.forums.map((y,v)=>d.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0 hover:bg-white/5 transition-colors rounded-lg p-2 -m-2",children:[d.jsx("h4",{className:"text-sm font-semibold text-white leading-tight mb-1",children:y.title}),d.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[d.jsx("span",{className:"bg-white/10 px-2 py-0.5 rounded-full",children:y.category}),d.jsxs("span",{children:[y.replies," replies"]}),d.jsx("span",{children:""}),d.jsx("span",{children:y.lastActive})]})]},v))}):m.counselors&&m.counselors.length>0?d.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.counselors.map((y,v)=>d.jsxs("div",{className:"border border-white/20 rounded-2xl p-4 hover:bg-white/10 transition-all duration-300",children:[d.jsx("h4",{className:"text-base font-bold text-white mb-1",children:y.name}),d.jsx("p",{className:"text-xs text-white/70 mb-2",children:y.specialty}),d.jsx("p",{className:"text-xs text-white/60 mb-3",children:y.description}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs text-green-300",children:y.availability}),d.jsx("button",{onClick:()=>{r(!1),e(""),g("/counseling",{state:{counselor:y,searchQuery:i}})},className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-semibold text-white transition-all duration-200",children:"Book Session"})]})]},v))}):m.relatedTopics&&m.relatedTopics.length>0?d.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.relatedTopics.map((y,v)=>d.jsx("button",{onClick:()=>e(y.query),className:"w-full text-left px-4 py-2.5 bg-white/10 hover:bg-white/20 rounded-xl border border-white/10 hover:border-white/30 transition-all duration-200 group",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("svg",{className:"h-4 w-4 text-white/50 group-hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),d.jsx("span",{className:"text-sm text-white/80 group-hover:text-white font-medium transition-colors",children:y.topic})]})},v))}):m.helplines&&m.helplines.length>0?d.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.helplines.map((y,v)=>d.jsxs("div",{className:"bg-white/5 border border-white/20 rounded-2xl p-4 hover:bg-white/10 transition-all duration-300",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("h4",{className:"text-base font-bold text-white leading-tight flex-1",children:y.name}),d.jsx("span",{className:"text-xs text-green-300 bg-green-900/30 px-2 py-1 rounded-full ml-2 whitespace-nowrap",children:y.availability})]}),d.jsx("a",{href:`tel:${y.number.replace(/[^0-9]/g,"")}`,className:"text-lg font-bold text-blue-300 hover:text-blue-200 transition-colors mb-2 block",children:y.number}),d.jsx("p",{className:"text-xs text-white/70 leading-relaxed",children:y.description})]},v))}):d.jsx("p",{className:"text-white/80 text-sm leading-relaxed animate-in fade-in duration-500",children:m.content})]})]})},m.id))})]})]}):null}function zB(){const[i,e]=$.useState(!1),[t,r]=$.useState(!1),[o,l]=$.useState(null),[u,p]=$.useState(null),[g,m]=$.useState(!1),[y,v]=$.useState(""),_=ta(),C=ei();$.useEffect(()=>{const I=_e.onAuthStateChanged(async P=>{if(l(P),P){const k=await mr();p(k)}else p(null)});return()=>I()},[]),$.useEffect(()=>{const I=P=>{P.key==="Escape"&&g&&(m(!1),v(""))};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[g]),$.useEffect(()=>{const I=P=>{P.target.closest("[data-profile-dropdown]")||r(!1)};if(t)return document.addEventListener("click",I),()=>document.removeEventListener("click",I)},[t]);const N=async()=>{try{await lE(_e),l(null),p(null),r(!1),C("/")}catch(I){console.error("Error signing out:",I)}},B=()=>u?.displayName?u.displayName.split(" ")[0]:o?.email?.split("@")[0]||"User";return d.jsxs("nav",{className:"fixed top-4 left-0 right-0 z-50",children:[d.jsx("button",{onClick:()=>m(!0),className:"fixed top-4 left-4 z-[60] overflow-hidden bg-white/10 backdrop-blur-xl border border-white/20 rounded-full p-3 shadow-2xl text-white/90 hover:text-white transition-all duration-300 hover:bg-white/20 hover:scale-110","aria-label":"Open search",children:d.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),d.jsx(UB,{searchQuery:y,setSearchQuery:v,isSearchOpen:g,setIsSearchOpen:m}),d.jsxs("div",{className:"relative flex items-center justify-center px-4 max-w-full",children:[d.jsxs("div",{className:"relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full px-2 py-1.5 border border-white/20 shadow-2xl",children:[d.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),d.jsxs("div",{className:"relative flex items-center gap-1",children:[d.jsx(kn,{to:"/blog",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${_.pathname==="/blog"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Blogs"}),d.jsx(kn,{to:"/counseling",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${_.pathname==="/counseling"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Counseling"}),d.jsx(kn,{to:"/",className:"group px-2",children:d.jsx("img",{src:VB,alt:"Nimbus",className:"h-9 w-18 transition-transform duration-300 ease-out group-hover:scale-125 drop-shadow-lg"})}),d.jsx(kn,{to:"/forum",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${_.pathname==="/forum"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Forums"}),d.jsx(kn,{to:"/resources",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${_.pathname==="/resources"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Resources"})]})]}),d.jsx("div",{className:"hidden md:flex absolute right-4",children:d.jsxs("div",{className:"relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full border border-white/20 shadow-2xl",children:[d.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),o?d.jsxs("button",{onClick:()=>r(!t),className:"relative flex items-center gap-2 px-4 py-2 text-white font-semibold transition-all duration-300 hover:bg-white/10 rounded-full","data-profile-dropdown":!0,children:[u?.profileImageUrl?d.jsx("img",{src:u.profileImageUrl,alt:"Profile",className:"w-6 h-6 rounded-full object-cover"}):d.jsx("div",{className:"w-6 h-6 rounded-full bg-white/30 flex items-center justify-center",children:d.jsx(df,{size:16})}),d.jsx("span",{className:"text-sm",children:B()})]}):d.jsx(kn,{to:"/signin",className:"relative block px-5 py-2 text-white font-semibold text-sm transition-all duration-300 hover:bg-white/10 rounded-full",children:"Sign In"})]})}),d.jsxs("div",{className:"md:hidden absolute right-4 relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full p-2 border border-white/20 shadow-2xl",children:[d.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),d.jsx("button",{onClick:()=>e(!i),className:"relative text-white/90 hover:text-white focus:outline-none","aria-label":"Toggle menu",children:d.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i?d.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):d.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),t&&o&&d.jsxs("div",{className:"absolute right-6 top-20 w-48 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl overflow-hidden",style:{zIndex:1e3},children:[d.jsx(kn,{to:"/profile",className:"block w-full px-4 py-3 text-white hover:bg-white/10 transition-colors text-center font-semibold border-b border-white/10",onClick:()=>r(!1),children:"View Profile"}),d.jsxs("button",{onClick:N,className:"w-full px-4 py-3 text-white hover:bg-white/10 transition-colors flex items-center justify-center gap-2 font-semibold",children:[d.jsx(X2,{size:18}),"Sign Out"]})]}),i&&d.jsx("div",{className:"md:hidden mt-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-2xl shadow-black/20",children:d.jsxs("div",{className:"px-4 pt-3 pb-3 space-y-1",children:[d.jsx(kn,{to:"/nimbus",className:`block px-3 py-2 font-bold rounded-2xl transition-all duration-200 ${_.pathname==="/nimbus"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Nimbus"}),d.jsx(kn,{to:"/counseling",className:`block px-3 py-2 font-bold rounded-2xl transition-all duration-200 ${_.pathname==="/counseling"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Counseling"}),d.jsx(kn,{to:"/forum",className:`block px-3 py-2 font-bold rounded-2xl transition-all duration-200 ${_.pathname==="/forum"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Forums"}),o?d.jsxs(d.Fragment,{children:[d.jsx(kn,{to:"/profile",className:"block w-full px-3 py-2 font-bold rounded-2xl transition-all duration-200 text-white/90 hover:text-white hover:bg-white/10 text-center",onClick:()=>e(!1),children:"View Profile"}),d.jsx("button",{onClick:()=>{N(),e(!1)},className:"w-full mt-2 px-6 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg",children:"Sign Out"})]}):d.jsx(kn,{to:"/signin",className:"w-full mt-2 px-6 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg block text-center",onClick:()=>e(!1),children:"Sign In"})]})})]})}function HB(){return $.useEffect(()=>{const i=new FB({duration:0,easing:t=>t});function e(t){i.raf(t),requestAnimationFrame(e)}return requestAnimationFrame(e),()=>{i.destroy()}},[]),d.jsxs(d.Fragment,{children:[d.jsx(zB,{}),d.jsxs(iS,{children:[d.jsx(hn,{path:"/",element:d.jsx(Z6,{})}),d.jsx(hn,{path:"/education",element:d.jsx(J6,{})}),d.jsx(hn,{path:"/help",element:d.jsx(e3,{})}),d.jsx(hn,{path:"/counseling",element:d.jsx(W7,{})}),d.jsx(hn,{path:"/forum",element:d.jsx(mB,{})}),d.jsx(hn,{path:"/forum/create",element:d.jsx(gB,{})}),d.jsx(hn,{path:"/forum/:id",element:d.jsx(xB,{})}),d.jsx(hn,{path:"/testimonials",element:d.jsx(yB,{})}),d.jsx(hn,{path:"/signin",element:d.jsx(vB,{})}),d.jsx(hn,{path:"/accountsetup",element:d.jsx(_B,{})}),d.jsx(hn,{path:"/profile",element:d.jsx(wB,{})}),d.jsx(hn,{path:"/blog",element:d.jsx(SB,{})}),d.jsx(hn,{path:"/resources",element:d.jsx(NB,{})}),d.jsx(hn,{path:"/add-blog",element:d.jsx(RB,{})}),d.jsx(hn,{path:"/blog/:postId",element:d.jsx(DB,{})})]})]})}function qB(){return d.jsx(CS,{children:d.jsx(HB,{})})}hC.createRoot(document.getElementById("root")).render(d.jsx($.StrictMode,{children:d.jsx(qB,{})}));
