(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nC(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function iC(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var o=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:function(){return i[s]}})}),t}var Fm={exports:{}},_c={};var Pv;function sC(){if(Pv)return _c;Pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var p in o)p!=="key"&&(l[p]=o[p])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:u,ref:o!==void 0?o:null,props:l}}return _c.Fragment=e,_c.jsx=t,_c.jsxs=t,_c}var Lv;function rC(){return Lv||(Lv=1,Fm.exports=sC()),Fm.exports}var h=rC(),Vm={exports:{}},ke={};var Fv;function aC(){if(Fv)return ke;Fv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function N(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,k={};function U(L,K,W){this.props=L,this.context=K,this.refs=k,this.updater=W||I}U.prototype.isReactComponent={},U.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=U.prototype;function j(L,K,W){this.props=L,this.context=K,this.refs=k,this.updater=W||I}var M=j.prototype=new S;M.constructor=j,B(M,U.prototype),M.isPureReactComponent=!0;var z=Array.isArray;function H(){}var A={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function C(L,K,W){var Z=W.ref;return{$$typeof:i,type:L,key:K,ref:Z!==void 0?Z:null,props:W}}function E(L,K){return C(L.type,K,L.props)}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function F(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(W){return K[W]})}var O=/\/+/g;function de(L,K){return typeof L=="object"&&L!==null&&L.key!=null?F(""+L.key):K.toString(36)}function ne(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(H,H):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function q(L,K,W,Z,xe){var ye=typeof L;(ye==="undefined"||ye==="boolean")&&(L=null);var Se=!1;if(L===null)Se=!0;else switch(ye){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(L.$$typeof){case i:case e:Se=!0;break;case y:return Se=L._init,q(Se(L._payload),K,W,Z,xe)}}if(Se)return xe=xe(L),Se=Z===""?"."+de(L,0):Z,z(xe)?(W="",Se!=null&&(W=Se.replace(O,"$&/")+"/"),q(xe,K,W,"",function(An){return An})):xe!=null&&(R(xe)&&(xe=E(xe,W+(xe.key==null||L&&L.key===xe.key?"":(""+xe.key).replace(O,"$&/")+"/")+Se)),K.push(xe)),1;Se=0;var Ee=Z===""?".":Z+":";if(z(L))for(var We=0;We<L.length;We++)Z=L[We],ye=Ee+de(Z,We),Se+=q(Z,K,W,ye,xe);else if(We=N(L),typeof We=="function")for(L=We.call(L),We=0;!(Z=L.next()).done;)Z=Z.value,ye=Ee+de(Z,We++),Se+=q(Z,K,W,ye,xe);else if(ye==="object"){if(typeof L.then=="function")return q(ne(L),K,W,Z,xe);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(L,K,W){if(L==null)return L;var Z=[],xe=0;return q(L,Z,"","",function(ye){return K.call(W,ye,xe++)}),Z}function ae(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(W){(L._status===0||L._status===-1)&&(L._status=1,L._result=W)},function(W){(L._status===0||L._status===-1)&&(L._status=2,L._result=W)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},me={map:X,forEach:function(L,K,W){X(L,function(){K.apply(this,arguments)},W)},count:function(L){var K=0;return X(L,function(){K++}),K},toArray:function(L){return X(L,function(K){return K})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ke.Activity=v,ke.Children=me,ke.Component=U,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=j,ke.StrictMode=s,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ke.__COMPILER_RUNTIME={__proto__:null,c:function(L){return A.H.useMemoCache(L)}},ke.cache=function(L){return function(){return L.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(L,K,W){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Z=B({},L.props),xe=L.key;if(K!=null)for(ye in K.key!==void 0&&(xe=""+K.key),K)!D.call(K,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&K.ref===void 0||(Z[ye]=K[ye]);var ye=arguments.length-2;if(ye===1)Z.children=W;else if(1<ye){for(var Se=Array(ye),Ee=0;Ee<ye;Ee++)Se[Ee]=arguments[Ee+2];Z.children=Se}return C(L.type,xe,Z)},ke.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},ke.createElement=function(L,K,W){var Z,xe={},ye=null;if(K!=null)for(Z in K.key!==void 0&&(ye=""+K.key),K)D.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(xe[Z]=K[Z]);var Se=arguments.length-2;if(Se===1)xe.children=W;else if(1<Se){for(var Ee=Array(Se),We=0;We<Se;We++)Ee[We]=arguments[We+2];xe.children=Ee}if(L&&L.defaultProps)for(Z in Se=L.defaultProps,Se)xe[Z]===void 0&&(xe[Z]=Se[Z]);return C(L,ye,xe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(L){return{$$typeof:p,render:L}},ke.isValidElement=R,ke.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ae}},ke.memo=function(L,K){return{$$typeof:m,type:L,compare:K===void 0?null:K}},ke.startTransition=function(L){var K=A.T,W={};A.T=W;try{var Z=L(),xe=A.S;xe!==null&&xe(W,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(H,fe)}catch(ye){fe(ye)}finally{K!==null&&W.types!==null&&(K.types=W.types),A.T=K}},ke.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ke.use=function(L){return A.H.use(L)},ke.useActionState=function(L,K,W){return A.H.useActionState(L,K,W)},ke.useCallback=function(L,K){return A.H.useCallback(L,K)},ke.useContext=function(L){return A.H.useContext(L)},ke.useDebugValue=function(){},ke.useDeferredValue=function(L,K){return A.H.useDeferredValue(L,K)},ke.useEffect=function(L,K){return A.H.useEffect(L,K)},ke.useEffectEvent=function(L){return A.H.useEffectEvent(L)},ke.useId=function(){return A.H.useId()},ke.useImperativeHandle=function(L,K,W){return A.H.useImperativeHandle(L,K,W)},ke.useInsertionEffect=function(L,K){return A.H.useInsertionEffect(L,K)},ke.useLayoutEffect=function(L,K){return A.H.useLayoutEffect(L,K)},ke.useMemo=function(L,K){return A.H.useMemo(L,K)},ke.useOptimistic=function(L,K){return A.H.useOptimistic(L,K)},ke.useReducer=function(L,K,W){return A.H.useReducer(L,K,W)},ke.useRef=function(L){return A.H.useRef(L)},ke.useState=function(L){return A.H.useState(L)},ke.useSyncExternalStore=function(L,K,W){return A.H.useSyncExternalStore(L,K,W)},ke.useTransition=function(){return A.H.useTransition()},ke.version="19.2.1",ke}var Vv;function Zp(){return Vv||(Vv=1,Vm.exports=aC()),Vm.exports}var $=Zp(),Um={exports:{}},Ec={},zm={exports:{}},Hm={};var Uv;function oC(){return Uv||(Uv=1,(function(i){function e(q,X){var ae=q.length;q.push(X);e:for(;0<ae;){var fe=ae-1>>>1,me=q[fe];if(0<o(me,X))q[fe]=X,q[ae]=me,ae=fe;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var X=q[0],ae=q.pop();if(ae!==X){q[0]=ae;e:for(var fe=0,me=q.length,L=me>>>1;fe<L;){var K=2*(fe+1)-1,W=q[K],Z=K+1,xe=q[Z];if(0>o(W,ae))Z<me&&0>o(xe,W)?(q[fe]=xe,q[Z]=ae,fe=Z):(q[fe]=W,q[K]=ae,fe=K);else if(Z<me&&0>o(xe,ae))q[fe]=xe,q[Z]=ae,fe=Z;else break e}}return X}function o(q,X){var ae=q.sortIndex-X.sortIndex;return ae!==0?ae:q.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,p=u.now();i.unstable_now=function(){return u.now()-p}}var g=[],m=[],y=1,v=null,b=3,N=!1,I=!1,B=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function M(q){for(var X=t(m);X!==null;){if(X.callback===null)s(m);else if(X.startTime<=q)s(m),X.sortIndex=X.expirationTime,e(g,X);else break;X=t(m)}}function z(q){if(B=!1,M(q),!I)if(t(g)!==null)I=!0,H||(H=!0,F());else{var X=t(m);X!==null&&ne(z,X.startTime-q)}}var H=!1,A=-1,D=5,C=-1;function E(){return k?!0:!(i.unstable_now()-C<D)}function R(){if(k=!1,H){var q=i.unstable_now();C=q;var X=!0;try{e:{I=!1,B&&(B=!1,S(A),A=-1),N=!0;var ae=b;try{t:{for(M(q),v=t(g);v!==null&&!(v.expirationTime>q&&E());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,b=v.priorityLevel;var me=fe(v.expirationTime<=q);if(q=i.unstable_now(),typeof me=="function"){v.callback=me,M(q),X=!0;break t}v===t(g)&&s(g),M(q)}else s(g);v=t(g)}if(v!==null)X=!0;else{var L=t(m);L!==null&&ne(z,L.startTime-q),X=!1}}break e}finally{v=null,b=ae,N=!1}X=void 0}}finally{X?F():H=!1}}}var F;if(typeof j=="function")F=function(){j(R)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,de=O.port2;O.port1.onmessage=R,F=function(){de.postMessage(null)}}else F=function(){U(R,0)};function ne(q,X){A=U(function(){q(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(q){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var ae=b;b=X;try{return q()}finally{b=ae}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ae=b;b=q;try{return X()}finally{b=ae}},i.unstable_scheduleCallback=function(q,X,ae){var fe=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?fe+ae:fe):ae=fe,q){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ae+me,q={id:y++,callback:X,priorityLevel:q,startTime:ae,expirationTime:me,sortIndex:-1},ae>fe?(q.sortIndex=ae,e(m,q),t(g)===null&&q===t(m)&&(B?(S(A),A=-1):B=!0,ne(z,ae-fe))):(q.sortIndex=me,e(g,q),I||N||(I=!0,H||(H=!0,F()))),q},i.unstable_shouldYield=E,i.unstable_wrapCallback=function(q){var X=b;return function(){var ae=b;b=X;try{return q.apply(this,arguments)}finally{b=ae}}}})(Hm)),Hm}var zv;function lC(){return zv||(zv=1,zm.exports=oC()),zm.exports}var qm={exports:{}},un={};var Hv;function cC(){if(Hv)return un;Hv=1;var i=Zp();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:m,implementation:y}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,y)},un.flushSync=function(g){var m=u.T,y=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=m,s.p=y,s.d.f()}},un.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},un.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},un.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,v=p(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:N}):y==="script"&&s.d.X(g,{crossOrigin:v,integrity:b,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},un.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=p(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},un.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=p(y,m.crossOrigin);s.d.L(g,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},un.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=p(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},un.requestFormReset=function(g){s.d.r(g)},un.unstable_batchedUpdates=function(g,m){return g(m)},un.useFormState=function(g,m,y){return u.H.useFormState(g,m,y)},un.useFormStatus=function(){return u.H.useHostTransitionStatus()},un.version="19.2.1",un}var qv;function uC(){if(qv)return qm.exports;qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qm.exports=cC(),qm.exports}var $v;function hC(){if($v)return Ec;$v=1;var i=lC(),e=Zp(),t=uC();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(s(188))}function m(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,c=r;;){var f=a.return;if(f===null)break;var x=f.alternate;if(x===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===x.child){for(x=f.child;x;){if(x===a)return g(f),n;if(x===c)return g(f),r;x=x.sibling}throw Error(s(188))}if(a.return!==c.return)a=f,c=x;else{for(var _=!1,P=f.child;P;){if(P===a){_=!0,a=f,c=x;break}if(P===c){_=!0,c=f,a=x;break}P=P.sibling}if(!_){for(P=x.child;P;){if(P===a){_=!0,a=x,c=f;break}if(P===c){_=!0,c=x,a=f;break}P=P.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),j=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=R&&n[R]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function de(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case z:return"Suspense";case H:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case j:return n.displayName||"Context";case S:return(n._context.displayName||"Context")+".Consumer";case M:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case A:return r=n.displayName||null,r!==null?r:de(n.type)||"Memo";case D:r=n._payload,n=n._init;try{return de(n(r))}catch{}}return null}var ne=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},fe=[],me=-1;function L(n){return{current:n}}function K(n){0>me||(n.current=fe[me],fe[me]=null,me--)}function W(n,r){me++,fe[me]=n.current,n.current=r}var Z=L(null),xe=L(null),ye=L(null),Se=L(null);function Ee(n,r){switch(W(ye,r),W(xe,n),W(Z,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?av(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=av(r),n=ov(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(Z),W(Z,n)}function We(){K(Z),K(xe),K(ye)}function An(n){n.memoizedState!==null&&W(Se,n);var r=Z.current,a=ov(r,n.type);r!==a&&(W(xe,n),W(Z,a))}function Ui(n){xe.current===n&&(K(Z),K(xe)),Se.current===n&&(K(Se),yc._currentValue=ae)}var ti,Yt;function mt(n){if(ti===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ti=r&&r[1]||"",Yt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ti+n+Yt}var zi=!1;function Mn(n,r){if(!n||zi)return"";zi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var ie=re}Reflect.construct(n,[],ue)}else{try{ue.call()}catch(re){ie=re}n.call(ue.prototype)}}else{try{throw Error()}catch(re){ie=re}(ue=n())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&ie&&typeof re.stack=="string")return[re.stack,ie.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=c.DetermineComponentFrameRoot(),_=x[0],P=x[1];if(_&&P){var G=_.split(`
`),te=P.split(`
`);for(f=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;f<te.length&&!te[f].includes("DetermineComponentFrameRoot");)f++;if(c===G.length||f===te.length)for(c=G.length-1,f=te.length-1;1<=c&&0<=f&&G[c]!==te[f];)f--;for(;1<=c&&0<=f;c--,f--)if(G[c]!==te[f]){if(c!==1||f!==1)do if(c--,f--,0>f||G[c]!==te[f]){var oe=`
`+G[c].replace(" at new "," at ");return n.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",n.displayName)),oe}while(1<=c&&0<=f);break}}}finally{zi=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?mt(a):""}function Hi(n,r){switch(n.tag){case 26:case 27:case 5:return mt(n.type);case 16:return mt("Lazy");case 13:return n.child!==r&&r!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return Mn(n.type,!1);case 11:return Mn(n.type.render,!1);case 1:return Mn(n.type,!0);case 31:return mt("Activity");default:return""}}function _i(n){try{var r="",a=null;do r+=Hi(n,a),a=n,n=n.return;while(n);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var pt=Object.prototype.hasOwnProperty,ut=i.unstable_scheduleCallback,It=i.unstable_cancelCallback,cn=i.unstable_shouldYield,Pn=i.unstable_requestPaint,kt=i.unstable_now,qi=i.unstable_getCurrentPriorityLevel,ni=i.unstable_ImmediatePriority,Ei=i.unstable_UserBlockingPriority,$i=i.unstable_NormalPriority,io=i.unstable_LowPriority,ca=i.unstable_IdlePriority,Ai=i.log,Gi=i.unstable_setDisableYieldValue,Ln=null,jt=null;function yn(n){if(typeof Ai=="function"&&Gi(n),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Ln,n)}catch{}}var yt=Math.clz32?Math.clz32:ro,so=Math.log,Ss=Math.LN2;function ro(n){return n>>>=0,n===0?32:31-(so(n)/Ss|0)|0}var Fn=256,Ns=262144,vt=4194304;function ii(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function si(n,r,a){var c=n.pendingLanes;if(c===0)return 0;var f=0,x=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var P=c&134217727;return P!==0?(c=P&~x,c!==0?f=ii(c):(_&=P,_!==0?f=ii(_):a||(a=P&~n,a!==0&&(f=ii(a))))):(P=c&~x,P!==0?f=ii(P):_!==0?f=ii(_):a||(a=c&~n,a!==0&&(f=ii(a)))),f===0?0:r!==0&&r!==f&&(r&x)===0&&(x=f&-f,a=r&-r,x>=a||x===32&&(a&4194048)!==0)?r:f}function Vn(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ao(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var n=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),n}function ri(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ki(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Al(n,r,a,c,f,x){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var P=n.entanglements,G=n.expirationTimes,te=n.hiddenUpdates;for(a=_&~a;0<a;){var oe=31-yt(a),ue=1<<oe;P[oe]=0,G[oe]=-1;var ie=te[oe];if(ie!==null)for(te[oe]=null,oe=0;oe<ie.length;oe++){var re=ie[oe];re!==null&&(re.lane&=-536870913)}a&=~ue}c!==0&&Yi(n,c,0),x!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=x&~(_&~r))}function Yi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-yt(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function $t(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-yt(a),f=1<<c;f&r|n[c]&r&&(n[c]|=r),a&=~f}}function Tn(n,r){var a=r&-r;return a=(a&42)!==0?1:Xi(a),(a&(n.suspendedLanes|r))!==0?0:a}function Xi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ti(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function hu(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:Dv(n.type))}function Ci(n,r){var a=X.p;try{return X.p=n,r()}finally{X.p=a}}var Si=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Si,Xt="__reactProps$"+Si,Qi="__reactContainer$"+Si,lo="__reactEvents$"+Si,qf="__reactListeners$"+Si,du="__reactHandles$"+Si,fu="__reactResources$"+Si,Wi="__reactMarker$"+Si;function co(n){delete n[Bt],delete n[Xt],delete n[lo],delete n[qf],delete n[du]}function Zi(n){var r=n[Bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Qi]||a[Bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=mv(n);n!==null;){if(a=n[Bt])return a;n=mv(n)}return r}n=a,a=n.parentNode}return null}function ai(n){if(n=n[Bt]||n[Qi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Un(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Ji(n){var r=n[fu];return r||(r=n[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(n){n[Wi]=!0}var Tl=new Set,Cl={};function es(n,r){ts(n,r),ts(n+"Capture",r)}function ts(n,r){for(Cl[n]=r,n=0;n<r.length;n++)Tl.add(r[n])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},Rl={};function mu(n){return pt.call(Rl,n)?!0:pt.call(Nl,n)?!1:Sl.test(n)?Rl[n]=!0:(Nl[n]=!0,!1)}function uo(n,r,a){if(mu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function zn(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Mt(n,r,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+c)}}function Qt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ar(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Dl(n,r,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,x=c.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,x.call(this,_)}}),Object.defineProperty(n,r,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function et(n){if(!n._valueTracker){var r=ar(n)?"checked":"value";n._valueTracker=Dl(n,r,""+n[r])}}function ua(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=ar(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function ns(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ha=/[\n"\\]/g;function Cn(n){return n.replace(ha,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ho(n,r,a,c,f,x,_,P){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Qt(r)):n.value!==""+Qt(r)&&(n.value=""+Qt(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?Il(n,_,Qt(r)):a!=null?Il(n,_,Qt(a)):c!=null&&n.removeAttribute("value"),f==null&&x!=null&&(n.defaultChecked=!!x),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?n.name=""+Qt(P):n.removeAttribute("name")}function pu(n,r,a,c,f,x,_,P){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),r!=null||a!=null){if(!(x!=="submit"&&x!=="reset"||r!=null)){et(n);return}a=a!=null?""+Qt(a):"",r=r!=null?""+Qt(r):a,P||r===n.value||(n.value=r),n.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=P?n.checked:!!c,n.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),et(n)}function Il(n,r,a){r==="number"&&ns(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function or(n,r,a,c){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Qt(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function gu(n,r,a){if(r!=null&&(r=""+Qt(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Qt(a):""}function lr(n,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(s(92));if(ne(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=Qt(r),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),et(n)}function Sn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(n,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,a):typeof a!="number"||a===0||xu.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function jl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&a[f]!==c&&kl(n,f,c)}else for(var x in r)r.hasOwnProperty(x)&&kl(n,x,r[x])}function fo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(n){return cr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ni(){}var Bl=null;function oi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ur=null,is=null;function da(n){var r=ai(n);if(r&&(n=r.stateNode)){var a=n[Xt]||null;e:switch(n=r.stateNode,r.type){case"input":if(ho(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Cn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var f=c[Xt]||null;if(!f)throw Error(s(90));ho(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===n.form&&ua(c)}break e;case"textarea":gu(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&or(n,!!a.multiple,r,!1)}}}var po=!1;function hr(n,r,a){if(po)return n(r,a);po=!0;try{var c=n(r);return c}finally{if(po=!1,(ur!==null||is!==null)&&(hh(),ur&&(r=ur,n=is,is=ur=null,da(r),n)))for(r=0;r<n.length;r++)da(n[r])}}function Ri(n,r){var a=n.stateNode;if(a===null)return null;var c=a[Xt]||null;if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(li)try{var it={};Object.defineProperty(it,"passive",{get:function(){fa=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{fa=!1}var ss=null,Ol=null,ma=null;function Ml(){if(ma)return ma;var n,r=Ol,a=r.length,c,f="value"in ss?ss.value:ss.textContent,x=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(c=1;c<=_&&r[a-c]===f[x-c];c++);return ma=f.slice(n,1<c?1-c:void 0)}function pa(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Rs(){return!0}function Di(){return!1}function en(n){function r(a,c,f,x,_){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var P in n)n.hasOwnProperty(P)&&(a=n[P],this[P]=a?a(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Rs:Di,this.isPropagationStopped=Di,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),r}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=en(Ds),dr=v({},Ds,{view:0,detail:0}),Pl=en(dr),fr,go,as,xo=v({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==as&&(as&&n.type==="mousemove"?(fr=n.screenX-as.screenX,go=n.screenY-as.screenY):go=fr=0,as=n),fr)},movementY:function(n){return"movementY"in n?n.movementY:go}}),Ll=en(xo),ga=v({},xo,{dataTransfer:0}),vu=en(ga),bu=v({},dr,{relatedTarget:0}),xa=en(bu),Fl=v({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=en(Fl),yo=v({},Ds,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_u=en(yo),Eu=v({},Ds,{data:0}),os=en(Eu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Cu[n])?!!r[n]:!1}function mr(){return Su}var vn=v({},dr,{key:function(n){if(n.key){var r=Au[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=pa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(n){return n.type==="keypress"?pa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Nu=en(vn),Ru=v({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Is=en(Ru),d=v({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),w=en(d),T=v({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=en(T),J=v({},xo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),se=en(J),pe=v({},Ds,{newState:0,oldState:0}),Be=en(pe),Ct=[9,13,27,32],Xe=li&&"CompositionEvent"in window,gt=null;li&&"documentMode"in document&&(gt=document.documentMode);var ci=li&&"TextEvent"in window&&!gt,ls=li&&(!Xe||gt&&8<gt&&11>=gt),Ii=" ",ki=!1;function ya(n,r){switch(n){case"keyup":return Ct.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bo=!1;function C4(n,r){switch(n){case"compositionend":return vo(r);case"keypress":return r.which!==32?null:(ki=!0,Ii);case"textInput":return n=r.data,n===Ii&&ki?null:n;default:return null}}function S4(n,r){if(bo)return n==="compositionend"||!Xe&&ya(n,r)?(n=Ml(),ma=Ol=ss=null,bo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ls&&r.locale!=="ko"?null:r.data;default:return null}}var N4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xx(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!N4[n.type]:r==="textarea"}function yx(n,r,a,c){ur?is?is.push(c):is=[c]:ur=c,r=yh(r,"onChange"),0<r.length&&(a=new rs("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var Vl=null,Ul=null;function R4(n){ev(n,0)}function Du(n){var r=Un(n);if(ua(r))return n}function vx(n,r){if(n==="change")return r}var bx=!1;if(li){var $f;if(li){var Gf="oninput"in document;if(!Gf){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),Gf=typeof wx.oninput=="function"}$f=Gf}else $f=!1;bx=$f&&(!document.documentMode||9<document.documentMode)}function _x(){Vl&&(Vl.detachEvent("onpropertychange",Ex),Ul=Vl=null)}function Ex(n){if(n.propertyName==="value"&&Du(Ul)){var r=[];yx(r,Ul,n,oi(n)),hr(R4,r)}}function D4(n,r,a){n==="focusin"?(_x(),Vl=r,Ul=a,Vl.attachEvent("onpropertychange",Ex)):n==="focusout"&&_x()}function I4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Du(Ul)}function k4(n,r){if(n==="click")return Du(r)}function j4(n,r){if(n==="input"||n==="change")return Du(r)}function B4(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Hn=typeof Object.is=="function"?Object.is:B4;function zl(n,r){if(Hn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!pt.call(r,f)||!Hn(n[f],r[f]))return!1}return!0}function Ax(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tx(n,r){var a=Ax(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ax(a)}}function Cx(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Cx(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Sx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ns(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ns(n.document)}return r}function Kf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var O4=li&&"documentMode"in document&&11>=document.documentMode,wo=null,Yf=null,Hl=null,Xf=!1;function Nx(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xf||wo==null||wo!==ns(c)||(c=wo,"selectionStart"in c&&Kf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hl&&zl(Hl,c)||(Hl=c,c=yh(Yf,"onSelect"),0<c.length&&(r=new rs("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=wo)))}function va(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var _o={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},Qf={},Rx={};li&&(Rx=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function ba(n){if(Qf[n])return Qf[n];if(!_o[n])return n;var r=_o[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Rx)return Qf[n]=r[a];return n}var Dx=ba("animationend"),Ix=ba("animationiteration"),kx=ba("animationstart"),M4=ba("transitionrun"),P4=ba("transitionstart"),L4=ba("transitioncancel"),jx=ba("transitionend"),Bx=new Map,Wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wf.push("scrollEnd");function ji(n,r){Bx.set(n,r),es(r,[n])}var Iu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ui=[],Eo=0,Zf=0;function ku(){for(var n=Eo,r=Zf=Eo=0;r<n;){var a=ui[r];ui[r++]=null;var c=ui[r];ui[r++]=null;var f=ui[r];ui[r++]=null;var x=ui[r];if(ui[r++]=null,c!==null&&f!==null){var _=c.pending;_===null?f.next=f:(f.next=_.next,_.next=f),c.pending=f}x!==0&&Ox(a,f,x)}}function ju(n,r,a,c){ui[Eo++]=n,ui[Eo++]=r,ui[Eo++]=a,ui[Eo++]=c,Zf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Jf(n,r,a,c){return ju(n,r,a,c),Bu(n)}function wa(n,r){return ju(n,null,null,r),Bu(n)}function Ox(n,r,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var f=!1,x=n.return;x!==null;)x.childLanes|=a,c=x.alternate,c!==null&&(c.childLanes|=a),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(f=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,f&&r!==null&&(f=31-yt(a),n=x.hiddenUpdates,c=n[f],c===null?n[f]=[r]:c.push(r),r.lane=a|536870912),x):null}function Bu(n){if(50<hc)throw hc=0,lm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ao={};function F4(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,r,a,c){return new F4(n,r,a,c)}function e0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ks(n,r){var a=n.alternate;return a===null?(a=qn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Mx(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ou(n,r,a,c,f,x){var _=0;if(c=n,typeof n=="function")e0(n)&&(_=1);else if(typeof n=="string")_=qT(n,a,Z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=qn(31,a,r,f),n.elementType=C,n.lanes=x,n;case B:return _a(a.children,f,x,r);case k:_=8,f|=24;break;case U:return n=qn(12,a,r,f|2),n.elementType=U,n.lanes=x,n;case z:return n=qn(13,a,r,f),n.elementType=z,n.lanes=x,n;case H:return n=qn(19,a,r,f),n.elementType=H,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:_=10;break e;case S:_=9;break e;case M:_=11;break e;case A:_=14;break e;case D:_=16,c=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),c=null}return r=qn(_,a,r,f),r.elementType=n,r.type=c,r.lanes=x,r}function _a(n,r,a,c){return n=qn(7,n,c,r),n.lanes=a,n}function t0(n,r,a){return n=qn(6,n,null,r),n.lanes=a,n}function Px(n){var r=qn(18,null,null,0);return r.stateNode=n,r}function n0(n,r,a){return r=qn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Lx=new WeakMap;function hi(n,r){if(typeof n=="object"&&n!==null){var a=Lx.get(n);return a!==void 0?a:(r={value:n,source:r,stack:_i(r)},Lx.set(n,r),r)}return{value:n,source:r,stack:_i(r)}}var To=[],Co=0,Mu=null,ql=0,di=[],fi=0,pr=null,cs=1,us="";function js(n,r){To[Co++]=ql,To[Co++]=Mu,Mu=n,ql=r}function Fx(n,r,a){di[fi++]=cs,di[fi++]=us,di[fi++]=pr,pr=n;var c=cs;n=us;var f=32-yt(c)-1;c&=~(1<<f),a+=1;var x=32-yt(r)+f;if(30<x){var _=f-f%5;x=(c&(1<<_)-1).toString(32),c>>=_,f-=_,cs=1<<32-yt(r)+f|a<<f|c,us=x+n}else cs=1<<x|a<<f|c,us=n}function i0(n){n.return!==null&&(js(n,1),Fx(n,1,0))}function s0(n){for(;n===Mu;)Mu=To[--Co],To[Co]=null,ql=To[--Co],To[Co]=null;for(;n===pr;)pr=di[--fi],di[fi]=null,us=di[--fi],di[fi]=null,cs=di[--fi],di[fi]=null}function Vx(n,r){di[fi++]=cs,di[fi++]=us,di[fi++]=pr,cs=r.id,us=r.overflow,pr=n}var tn=null,ht=null,qe=!1,gr=null,mi=!1,r0=Error(s(519));function xr(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(hi(r,n)),r0}function Ux(n){var r=n.stateNode,a=n.type,c=n.memoizedProps;switch(r[Bt]=n,r[Xt]=c,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<fc.length;a++)Le(fc[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),pu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),lr(r,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||sv(r.textContent,a)?(c.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),c.onScroll!=null&&Le("scroll",r),c.onScrollEnd!=null&&Le("scrollend",r),c.onClick!=null&&(r.onclick=Ni),r=!0):r=!1,r||xr(n,!0)}function zx(n){for(tn=n.return;tn;)switch(tn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:tn=tn.return}}function So(n){if(n!==tn)return!1;if(!qe)return zx(n),qe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Em(n.type,n.memoizedProps)),a=!a),a&&ht&&xr(n),zx(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ht=fv(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ht=fv(n)}else r===27?(r=ht,Ir(n.type)?(n=Nm,Nm=null,ht=n):ht=r):ht=tn?gi(n.stateNode.nextSibling):null;return!0}function Ea(){ht=tn=null,qe=!1}function a0(){var n=gr;return n!==null&&(In===null?In=n:In.push.apply(In,n),gr=null),n}function $l(n){gr===null?gr=[n]:gr.push(n)}var o0=L(null),Aa=null,Bs=null;function yr(n,r,a){W(o0,r._currentValue),r._currentValue=a}function Os(n){n._currentValue=o0.current,K(o0)}function l0(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function c0(n,r,a,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var x=f.dependencies;if(x!==null){var _=f.child;x=x.firstContext;e:for(;x!==null;){var P=x;x=f;for(var G=0;G<r.length;G++)if(P.context===r[G]){x.lanes|=a,P=x.alternate,P!==null&&(P.lanes|=a),l0(x.return,a,n),c||(_=null);break e}x=P.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,x=_.alternate,x!==null&&(x.lanes|=a),l0(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function No(n,r,a,c){n=null;for(var f=r,x=!1;f!==null;){if(!x){if((f.flags&524288)!==0)x=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var P=f.type;Hn(f.pendingProps.value,_.value)||(n!==null?n.push(P):n=[P])}}else if(f===Se.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(yc):n=[yc])}f=f.return}n!==null&&c0(r,n,a,c),r.flags|=262144}function Pu(n){for(n=n.firstContext;n!==null;){if(!Hn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ta(n){Aa=n,Bs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return Hx(Aa,n)}function Lu(n,r){return Aa===null&&Ta(n),Hx(n,r)}function Hx(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Bs===null){if(n===null)throw Error(s(308));Bs=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Bs=Bs.next=r;return a}var V4=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},U4=i.unstable_scheduleCallback,z4=i.unstable_NormalPriority,Pt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function u0(){return{controller:new V4,data:new Map,refCount:0}}function Gl(n){n.refCount--,n.refCount===0&&U4(z4,function(){n.controller.abort()})}var Kl=null,h0=0,Ro=0,Do=null;function H4(n,r){if(Kl===null){var a=Kl=[];h0=0,Ro=mm(),Do={status:"pending",value:void 0,then:function(c){a.push(c)}}}return h0++,r.then(qx,qx),r}function qx(){if(--h0===0&&Kl!==null){Do!==null&&(Do.status="fulfilled");var n=Kl;Kl=null,Ro=0,Do=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function q4(n,r){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var $x=q.S;q.S=function(n,r){N1=kt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&H4(n,r),$x!==null&&$x(n,r)};var Ca=L(null);function d0(){var n=Ca.current;return n!==null?n:ot.pooledCache}function Fu(n,r){r===null?W(Ca,Ca.current):W(Ca,r.pool)}function Gx(){var n=d0();return n===null?null:{parent:Pt._currentValue,pool:n}}var Io=Error(s(460)),f0=Error(s(474)),Vu=Error(s(542)),Uu={then:function(){}};function Kx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Yx(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Ni,Ni),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Qx(n),n;default:if(typeof r.status=="string")r.then(Ni,Ni);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Qx(n),n}throw Na=r,Io}}function Sa(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Na=a,Io):a}}var Na=null;function Xx(){if(Na===null)throw Error(s(459));var n=Na;return Na=null,n}function Qx(n){if(n===Io||n===Vu)throw Error(s(483))}var ko=null,Yl=0;function zu(n){var r=Yl;return Yl+=1,ko===null&&(ko=[]),Yx(ko,n,r)}function Xl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Hu(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Wx(n){function r(Q,Y){if(n){var ee=Q.deletions;ee===null?(Q.deletions=[Y],Q.flags|=16):ee.push(Y)}}function a(Q,Y){if(!n)return null;for(;Y!==null;)r(Q,Y),Y=Y.sibling;return null}function c(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function f(Q,Y){return Q=ks(Q,Y),Q.index=0,Q.sibling=null,Q}function x(Q,Y,ee){return Q.index=ee,n?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<Y?(Q.flags|=67108866,Y):ee):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function _(Q){return n&&Q.alternate===null&&(Q.flags|=67108866),Q}function P(Q,Y,ee,le){return Y===null||Y.tag!==6?(Y=t0(ee,Q.mode,le),Y.return=Q,Y):(Y=f(Y,ee),Y.return=Q,Y)}function G(Q,Y,ee,le){var Ae=ee.type;return Ae===B?oe(Q,Y,ee.props.children,le,ee.key):Y!==null&&(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&Sa(Ae)===Y.type)?(Y=f(Y,ee.props),Xl(Y,ee),Y.return=Q,Y):(Y=Ou(ee.type,ee.key,ee.props,null,Q.mode,le),Xl(Y,ee),Y.return=Q,Y)}function te(Q,Y,ee,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=n0(ee,Q.mode,le),Y.return=Q,Y):(Y=f(Y,ee.children||[]),Y.return=Q,Y)}function oe(Q,Y,ee,le,Ae){return Y===null||Y.tag!==7?(Y=_a(ee,Q.mode,le,Ae),Y.return=Q,Y):(Y=f(Y,ee),Y.return=Q,Y)}function ue(Q,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=t0(""+Y,Q.mode,ee),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return ee=Ou(Y.type,Y.key,Y.props,null,Q.mode,ee),Xl(ee,Y),ee.return=Q,ee;case I:return Y=n0(Y,Q.mode,ee),Y.return=Q,Y;case D:return Y=Sa(Y),ue(Q,Y,ee)}if(ne(Y)||F(Y))return Y=_a(Y,Q.mode,ee,null),Y.return=Q,Y;if(typeof Y.then=="function")return ue(Q,zu(Y),ee);if(Y.$$typeof===j)return ue(Q,Lu(Q,Y),ee);Hu(Q,Y)}return null}function ie(Q,Y,ee,le){var Ae=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ae!==null?null:P(Q,Y,""+ee,le);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:return ee.key===Ae?G(Q,Y,ee,le):null;case I:return ee.key===Ae?te(Q,Y,ee,le):null;case D:return ee=Sa(ee),ie(Q,Y,ee,le)}if(ne(ee)||F(ee))return Ae!==null?null:oe(Q,Y,ee,le,null);if(typeof ee.then=="function")return ie(Q,Y,zu(ee),le);if(ee.$$typeof===j)return ie(Q,Y,Lu(Q,ee),le);Hu(Q,ee)}return null}function re(Q,Y,ee,le,Ae){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Q=Q.get(ee)||null,P(Y,Q,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case N:return Q=Q.get(le.key===null?ee:le.key)||null,G(Y,Q,le,Ae);case I:return Q=Q.get(le.key===null?ee:le.key)||null,te(Y,Q,le,Ae);case D:return le=Sa(le),re(Q,Y,ee,le,Ae)}if(ne(le)||F(le))return Q=Q.get(ee)||null,oe(Y,Q,le,Ae,null);if(typeof le.then=="function")return re(Q,Y,ee,zu(le),Ae);if(le.$$typeof===j)return re(Q,Y,ee,Lu(Y,le),Ae);Hu(Y,le)}return null}function be(Q,Y,ee,le){for(var Ae=null,Ke=null,_e=Y,Me=Y=0,Ve=null;_e!==null&&Me<ee.length;Me++){_e.index>Me?(Ve=_e,_e=null):Ve=_e.sibling;var Ye=ie(Q,_e,ee[Me],le);if(Ye===null){_e===null&&(_e=Ve);break}n&&_e&&Ye.alternate===null&&r(Q,_e),Y=x(Ye,Y,Me),Ke===null?Ae=Ye:Ke.sibling=Ye,Ke=Ye,_e=Ve}if(Me===ee.length)return a(Q,_e),qe&&js(Q,Me),Ae;if(_e===null){for(;Me<ee.length;Me++)_e=ue(Q,ee[Me],le),_e!==null&&(Y=x(_e,Y,Me),Ke===null?Ae=_e:Ke.sibling=_e,Ke=_e);return qe&&js(Q,Me),Ae}for(_e=c(_e);Me<ee.length;Me++)Ve=re(_e,Q,Me,ee[Me],le),Ve!==null&&(n&&Ve.alternate!==null&&_e.delete(Ve.key===null?Me:Ve.key),Y=x(Ve,Y,Me),Ke===null?Ae=Ve:Ke.sibling=Ve,Ke=Ve);return n&&_e.forEach(function(Mr){return r(Q,Mr)}),qe&&js(Q,Me),Ae}function Ce(Q,Y,ee,le){if(ee==null)throw Error(s(151));for(var Ae=null,Ke=null,_e=Y,Me=Y=0,Ve=null,Ye=ee.next();_e!==null&&!Ye.done;Me++,Ye=ee.next()){_e.index>Me?(Ve=_e,_e=null):Ve=_e.sibling;var Mr=ie(Q,_e,Ye.value,le);if(Mr===null){_e===null&&(_e=Ve);break}n&&_e&&Mr.alternate===null&&r(Q,_e),Y=x(Mr,Y,Me),Ke===null?Ae=Mr:Ke.sibling=Mr,Ke=Mr,_e=Ve}if(Ye.done)return a(Q,_e),qe&&js(Q,Me),Ae;if(_e===null){for(;!Ye.done;Me++,Ye=ee.next())Ye=ue(Q,Ye.value,le),Ye!==null&&(Y=x(Ye,Y,Me),Ke===null?Ae=Ye:Ke.sibling=Ye,Ke=Ye);return qe&&js(Q,Me),Ae}for(_e=c(_e);!Ye.done;Me++,Ye=ee.next())Ye=re(_e,Q,Me,Ye.value,le),Ye!==null&&(n&&Ye.alternate!==null&&_e.delete(Ye.key===null?Me:Ye.key),Y=x(Ye,Y,Me),Ke===null?Ae=Ye:Ke.sibling=Ye,Ke=Ye);return n&&_e.forEach(function(tC){return r(Q,tC)}),qe&&js(Q,Me),Ae}function at(Q,Y,ee,le){if(typeof ee=="object"&&ee!==null&&ee.type===B&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:e:{for(var Ae=ee.key;Y!==null;){if(Y.key===Ae){if(Ae=ee.type,Ae===B){if(Y.tag===7){a(Q,Y.sibling),le=f(Y,ee.props.children),le.return=Q,Q=le;break e}}else if(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&Sa(Ae)===Y.type){a(Q,Y.sibling),le=f(Y,ee.props),Xl(le,ee),le.return=Q,Q=le;break e}a(Q,Y);break}else r(Q,Y);Y=Y.sibling}ee.type===B?(le=_a(ee.props.children,Q.mode,le,ee.key),le.return=Q,Q=le):(le=Ou(ee.type,ee.key,ee.props,null,Q.mode,le),Xl(le,ee),le.return=Q,Q=le)}return _(Q);case I:e:{for(Ae=ee.key;Y!==null;){if(Y.key===Ae)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){a(Q,Y.sibling),le=f(Y,ee.children||[]),le.return=Q,Q=le;break e}else{a(Q,Y);break}else r(Q,Y);Y=Y.sibling}le=n0(ee,Q.mode,le),le.return=Q,Q=le}return _(Q);case D:return ee=Sa(ee),at(Q,Y,ee,le)}if(ne(ee))return be(Q,Y,ee,le);if(F(ee)){if(Ae=F(ee),typeof Ae!="function")throw Error(s(150));return ee=Ae.call(ee),Ce(Q,Y,ee,le)}if(typeof ee.then=="function")return at(Q,Y,zu(ee),le);if(ee.$$typeof===j)return at(Q,Y,Lu(Q,ee),le);Hu(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(a(Q,Y.sibling),le=f(Y,ee),le.return=Q,Q=le):(a(Q,Y),le=t0(ee,Q.mode,le),le.return=Q,Q=le),_(Q)):a(Q,Y)}return function(Q,Y,ee,le){try{Yl=0;var Ae=at(Q,Y,ee,le);return ko=null,Ae}catch(_e){if(_e===Io||_e===Vu)throw _e;var Ke=qn(29,_e,null,Q.mode);return Ke.lanes=le,Ke.return=Q,Ke}finally{}}}var Ra=Wx(!0),Zx=Wx(!1),vr=!1;function m0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function p0(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function br(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function wr(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=Bu(n),Ox(n,null,a),r}return ju(n,c,r,a),Bu(n)}function Ql(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,$t(n,a)}}function g0(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};x===null?f=x=_:x=x.next=_,a=a.next}while(a!==null);x===null?f=x=r:x=x.next=r}else f=x=r;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:x,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var x0=!1;function Wl(){if(x0){var n=Do;if(n!==null)throw n}}function Zl(n,r,a,c){x0=!1;var f=n.updateQueue;vr=!1;var x=f.firstBaseUpdate,_=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var G=P,te=G.next;G.next=null,_===null?x=te:_.next=te,_=G;var oe=n.alternate;oe!==null&&(oe=oe.updateQueue,P=oe.lastBaseUpdate,P!==_&&(P===null?oe.firstBaseUpdate=te:P.next=te,oe.lastBaseUpdate=G))}if(x!==null){var ue=f.baseState;_=0,oe=te=G=null,P=x;do{var ie=P.lane&-536870913,re=ie!==P.lane;if(re?(Fe&ie)===ie:(c&ie)===ie){ie!==0&&ie===Ro&&(x0=!0),oe!==null&&(oe=oe.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var be=n,Ce=P;ie=r;var at=a;switch(Ce.tag){case 1:if(be=Ce.payload,typeof be=="function"){ue=be.call(at,ue,ie);break e}ue=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ce.payload,ie=typeof be=="function"?be.call(at,ue,ie):be,ie==null)break e;ue=v({},ue,ie);break e;case 2:vr=!0}}ie=P.callback,ie!==null&&(n.flags|=64,re&&(n.flags|=8192),re=f.callbacks,re===null?f.callbacks=[ie]:re.push(ie))}else re={lane:ie,tag:P.tag,payload:P.payload,callback:P.callback,next:null},oe===null?(te=oe=re,G=ue):oe=oe.next=re,_|=ie;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;re=P,P=re.next,re.next=null,f.lastBaseUpdate=re,f.shared.pending=null}}while(!0);oe===null&&(G=ue),f.baseState=G,f.firstBaseUpdate=te,f.lastBaseUpdate=oe,x===null&&(f.shared.lanes=0),Cr|=_,n.lanes=_,n.memoizedState=ue}}function Jx(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function ey(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Jx(a[n],r)}var jo=L(null),qu=L(0);function ty(n,r){n=qs,W(qu,n),W(jo,r),qs=n|r.baseLanes}function y0(){W(qu,qs),W(jo,jo.current)}function v0(){qs=qu.current,K(jo),K(qu)}var $n=L(null),pi=null;function _r(n){var r=n.alternate;W(St,St.current&1),W($n,n),pi===null&&(r===null||jo.current!==null||r.memoizedState!==null)&&(pi=n)}function b0(n){W(St,St.current),W($n,n),pi===null&&(pi=n)}function ny(n){n.tag===22?(W(St,St.current),W($n,n),pi===null&&(pi=n)):Er()}function Er(){W(St,St.current),W($n,$n.current)}function Gn(n){K($n),pi===n&&(pi=null),K(St)}var St=L(0);function $u(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cm(a)||Sm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ms=0,Oe=null,st=null,Lt=null,Gu=!1,Bo=!1,Da=!1,Ku=0,Jl=0,Oo=null,$4=0;function _t(){throw Error(s(321))}function w0(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Hn(n[a],r[a]))return!1;return!0}function _0(n,r,a,c,f,x){return Ms=x,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=n===null||n.memoizedState===null?Fy:P0,Da=!1,x=a(c,f),Da=!1,Bo&&(x=sy(r,a,c,f)),iy(n),x}function iy(n){q.H=nc;var r=st!==null&&st.next!==null;if(Ms=0,Lt=st=Oe=null,Gu=!1,Jl=0,Oo=null,r)throw Error(s(300));n===null||Ft||(n=n.dependencies,n!==null&&Pu(n)&&(Ft=!0))}function sy(n,r,a,c){Oe=n;var f=0;do{if(Bo&&(Oo=null),Jl=0,Bo=!1,25<=f)throw Error(s(301));if(f+=1,Lt=st=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}q.H=Vy,x=r(a,c)}while(Bo);return x}function G4(){var n=q.H,r=n.useState()[0];return r=typeof r.then=="function"?ec(r):r,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(Oe.flags|=1024),r}function E0(){var n=Ku!==0;return Ku=0,n}function A0(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function T0(n){if(Gu){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Gu=!1}Ms=0,Lt=st=Oe=null,Bo=!1,Jl=Ku=0,Oo=null}function bn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Oe.memoizedState=Lt=n:Lt=Lt.next=n,Lt}function Nt(){if(st===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var r=Lt===null?Oe.memoizedState:Lt.next;if(r!==null)Lt=r,st=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Lt===null?Oe.memoizedState=Lt=n:Lt=Lt.next=n}return Lt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(n){var r=Jl;return Jl+=1,Oo===null&&(Oo=[]),n=Yx(Oo,n,r),r=Oe,(Lt===null?r.memoizedState:Lt.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Fy:P0),n}function Xu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ec(n);if(n.$$typeof===j)return nn(n)}throw Error(s(438,String(n)))}function C0(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Yu(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),c=0;c<n;c++)a[c]=E;return r.index++,a}function Ps(n,r){return typeof r=="function"?r(n):r}function Qu(n){var r=Nt();return S0(r,st,n)}function S0(n,r,a){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var f=n.baseQueue,x=c.pending;if(x!==null){if(f!==null){var _=f.next;f.next=x.next,x.next=_}r.baseQueue=f=x,c.pending=null}if(x=n.baseState,f===null)n.memoizedState=x;else{r=f.next;var P=_=null,G=null,te=r,oe=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(Fe&ue)===ue:(Ms&ue)===ue){var ie=te.revertLane;if(ie===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===Ro&&(oe=!0);else if((Ms&ie)===ie){te=te.next,ie===Ro&&(oe=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(P=G=ue,_=x):G=G.next=ue,Oe.lanes|=ie,Cr|=ie;ue=te.action,Da&&a(x,ue),x=te.hasEagerState?te.eagerState:a(x,ue)}else ie={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(P=G=ie,_=x):G=G.next=ie,Oe.lanes|=ue,Cr|=ue;te=te.next}while(te!==null&&te!==r);if(G===null?_=x:G.next=P,!Hn(x,n.memoizedState)&&(Ft=!0,oe&&(a=Do,a!==null)))throw a;n.memoizedState=x,n.baseState=_,n.baseQueue=G,c.lastRenderedState=x}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function N0(n){var r=Nt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,x=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do x=n(x,_.action),_=_.next;while(_!==f);Hn(x,r.memoizedState)||(Ft=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),a.lastRenderedState=x}return[x,c]}function ry(n,r,a){var c=Oe,f=Nt(),x=qe;if(x){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Hn((st||f).memoizedState,a);if(_&&(f.memoizedState=a,Ft=!0),f=f.queue,I0(ly.bind(null,c,f,n),[n]),f.getSnapshot!==r||_||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,Mo(9,{destroy:void 0},oy.bind(null,c,f,a,r),null),ot===null)throw Error(s(349));x||(Ms&127)!==0||ay(c,r,a)}return a}function ay(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Yu(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function oy(n,r,a,c){r.value=a,r.getSnapshot=c,cy(r)&&uy(n)}function ly(n,r,a){return a(function(){cy(r)&&uy(n)})}function cy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Hn(n,a)}catch{return!0}}function uy(n){var r=wa(n,2);r!==null&&kn(r,n,2)}function R0(n){var r=bn();if(typeof n=="function"){var a=n;if(n=a(),Da){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:n},r}function hy(n,r,a,c){return n.baseState=a,S0(n,st,typeof c=="function"?c:Ps)}function K4(n,r,a,c,f){if(Ju(n))throw Error(s(485));if(n=r.action,n!==null){var x={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){x.listeners.push(_)}};q.T!==null?a(!0):x.isTransition=!1,c(x),a=r.pending,a===null?(x.next=r.pending=x,dy(r,x)):(x.next=a.next,r.pending=a.next=x)}}function dy(n,r){var a=r.action,c=r.payload,f=n.state;if(r.isTransition){var x=q.T,_={};q.T=_;try{var P=a(f,c),G=q.S;G!==null&&G(_,P),fy(n,r,P)}catch(te){D0(n,r,te)}finally{x!==null&&_.types!==null&&(x.types=_.types),q.T=x}}else try{x=a(f,c),fy(n,r,x)}catch(te){D0(n,r,te)}}function fy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){my(n,r,c)},function(c){return D0(n,r,c)}):my(n,r,a)}function my(n,r,a){r.status="fulfilled",r.value=a,py(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,dy(n,a)))}function D0(n,r,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,py(r),r=r.next;while(r!==c)}n.action=null}function py(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function gy(n,r){return r}function xy(n,r){if(qe){var a=ot.formState;if(a!==null){e:{var c=Oe;if(qe){if(ht){t:{for(var f=ht,x=mi;f.nodeType!==8;){if(!x){f=null;break t}if(f=gi(f.nextSibling),f===null){f=null;break t}}x=f.data,f=x==="F!"||x==="F"?f:null}if(f){ht=gi(f.nextSibling),c=f.data==="F!";break e}}xr(c)}c=!1}c&&(r=a[0])}}return a=bn(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},a.queue=c,a=My.bind(null,Oe,c),c.dispatch=a,c=R0(!1),x=M0.bind(null,Oe,!1,c.queue),c=bn(),f={state:r,dispatch:null,action:n,pending:null},c.queue=f,a=K4.bind(null,Oe,f,x,a),f.dispatch=a,c.memoizedState=n,[r,a,!1]}function yy(n){var r=Nt();return vy(r,st,n)}function vy(n,r,a){if(r=S0(n,r,gy)[0],n=Qu(Ps)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=ec(r)}catch(_){throw _===Io?Vu:_}else c=r;r=Nt();var f=r.queue,x=f.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,Mo(9,{destroy:void 0},Y4.bind(null,f,a),null)),[c,x,n]}function Y4(n,r){n.action=r}function by(n){var r=Nt(),a=st;if(a!==null)return vy(r,a,n);Nt(),r=r.memoizedState,a=Nt();var c=a.queue.dispatch;return a.memoizedState=n,[r,c,!1]}function Mo(n,r,a,c){return n={tag:n,create:a,deps:c,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Yu(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n),n}function wy(){return Nt().memoizedState}function Wu(n,r,a,c){var f=bn();Oe.flags|=n,f.memoizedState=Mo(1|r,{destroy:void 0},a,c===void 0?null:c)}function Zu(n,r,a,c){var f=Nt();c=c===void 0?null:c;var x=f.memoizedState.inst;st!==null&&c!==null&&w0(c,st.memoizedState.deps)?f.memoizedState=Mo(r,x,a,c):(Oe.flags|=n,f.memoizedState=Mo(1|r,x,a,c))}function _y(n,r){Wu(8390656,8,n,r)}function I0(n,r){Zu(2048,8,n,r)}function X4(n){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=Yu(),Oe.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function Ey(n){var r=Nt().memoizedState;return X4({ref:r,nextImpl:n}),function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ay(n,r){return Zu(4,2,n,r)}function Ty(n,r){return Zu(4,4,n,r)}function Cy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Sy(n,r,a){a=a!=null?a.concat([n]):null,Zu(4,4,Cy.bind(null,r,n),a)}function k0(){}function Ny(n,r){var a=Nt();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&w0(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function Ry(n,r){var a=Nt();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&w0(r,c[1]))return c[0];if(c=n(),Da){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[c,r],c}function j0(n,r,a){return a===void 0||(Ms&1073741824)!==0&&(Fe&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=D1(),Oe.lanes|=n,Cr|=n,a)}function Dy(n,r,a,c){return Hn(a,r)?a:jo.current!==null?(n=j0(n,a,c),Hn(n,r)||(Ft=!0),n):(Ms&42)===0||(Ms&1073741824)!==0&&(Fe&261930)===0?(Ft=!0,n.memoizedState=a):(n=D1(),Oe.lanes|=n,Cr|=n,r)}function Iy(n,r,a,c,f){var x=X.p;X.p=x!==0&&8>x?x:8;var _=q.T,P={};q.T=P,M0(n,!1,r,a);try{var G=f(),te=q.S;if(te!==null&&te(P,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var oe=q4(G,c);tc(n,r,oe,Xn(n))}else tc(n,r,c,Xn(n))}catch(ue){tc(n,r,{then:function(){},status:"rejected",reason:ue},Xn())}finally{X.p=x,_!==null&&P.types!==null&&(_.types=P.types),q.T=_}}function Q4(){}function B0(n,r,a,c){if(n.tag!==5)throw Error(s(476));var f=ky(n).queue;Iy(n,f,r,ae,a===null?Q4:function(){return jy(n),a(c)})}function ky(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:ae},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function jy(n){var r=ky(n);r.next===null&&(r=n.alternate.memoizedState),tc(n,r.next.queue,{},Xn())}function O0(){return nn(yc)}function By(){return Nt().memoizedState}function Oy(){return Nt().memoizedState}function W4(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Xn();n=br(a);var c=wr(r,n,a);c!==null&&(kn(c,r,a),Ql(c,r,a)),r={cache:u0()},n.payload=r;return}r=r.return}}function Z4(n,r,a){var c=Xn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(n)?Py(r,a):(a=Jf(n,r,a,c),a!==null&&(kn(a,n,c),Ly(a,r,c)))}function My(n,r,a){var c=Xn();tc(n,r,a,c)}function tc(n,r,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(n))Py(r,f);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var _=r.lastRenderedState,P=x(_,a);if(f.hasEagerState=!0,f.eagerState=P,Hn(P,_))return ju(n,r,f,0),ot===null&&ku(),!1}catch{}finally{}if(a=Jf(n,r,f,c),a!==null)return kn(a,n,c),Ly(a,r,c),!0}return!1}function M0(n,r,a,c){if(c={lane:2,revertLane:mm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ju(n)){if(r)throw Error(s(479))}else r=Jf(n,a,c,2),r!==null&&kn(r,n,2)}function Ju(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function Py(n,r){Bo=Gu=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Ly(n,r,a){if((a&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,$t(n,a)}}var nc={readContext:nn,use:Xu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};nc.useEffectEvent=_t;var Fy={readContext:nn,use:Xu,useCallback:function(n,r){return bn().memoizedState=[n,r===void 0?null:r],n},useContext:nn,useEffect:_y,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Wu(4194308,4,Cy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Wu(4194308,4,n,r)},useInsertionEffect:function(n,r){Wu(4,2,n,r)},useMemo:function(n,r){var a=bn();r=r===void 0?null:r;var c=n();if(Da){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[c,r],c},useReducer:function(n,r,a){var c=bn();if(a!==void 0){var f=a(r);if(Da){yn(!0);try{a(r)}finally{yn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=Z4.bind(null,Oe,n),[c.memoizedState,n]},useRef:function(n){var r=bn();return n={current:n},r.memoizedState=n},useState:function(n){n=R0(n);var r=n.queue,a=My.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:k0,useDeferredValue:function(n,r){var a=bn();return j0(a,n,r)},useTransition:function(){var n=R0(!1);return n=Iy.bind(null,Oe,n.queue,!0,!1),bn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var c=Oe,f=bn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));(Fe&127)!==0||ay(c,r,a)}f.memoizedState=a;var x={value:a,getSnapshot:r};return f.queue=x,_y(ly.bind(null,c,x,n),[n]),c.flags|=2048,Mo(9,{destroy:void 0},oy.bind(null,c,x,a,r),null),a},useId:function(){var n=bn(),r=ot.identifierPrefix;if(qe){var a=us,c=cs;a=(c&~(1<<32-yt(c)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ku++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$4++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:O0,useFormState:xy,useActionState:xy,useOptimistic:function(n){var r=bn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=M0.bind(null,Oe,!0,a),a.dispatch=r,[n,r]},useMemoCache:C0,useCacheRefresh:function(){return bn().memoizedState=W4.bind(null,Oe)},useEffectEvent:function(n){var r=bn(),a={impl:n};return r.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},P0={readContext:nn,use:Xu,useCallback:Ny,useContext:nn,useEffect:I0,useImperativeHandle:Sy,useInsertionEffect:Ay,useLayoutEffect:Ty,useMemo:Ry,useReducer:Qu,useRef:wy,useState:function(){return Qu(Ps)},useDebugValue:k0,useDeferredValue:function(n,r){var a=Nt();return Dy(a,st.memoizedState,n,r)},useTransition:function(){var n=Qu(Ps)[0],r=Nt().memoizedState;return[typeof n=="boolean"?n:ec(n),r]},useSyncExternalStore:ry,useId:By,useHostTransitionStatus:O0,useFormState:yy,useActionState:yy,useOptimistic:function(n,r){var a=Nt();return hy(a,st,n,r)},useMemoCache:C0,useCacheRefresh:Oy};P0.useEffectEvent=Ey;var Vy={readContext:nn,use:Xu,useCallback:Ny,useContext:nn,useEffect:I0,useImperativeHandle:Sy,useInsertionEffect:Ay,useLayoutEffect:Ty,useMemo:Ry,useReducer:N0,useRef:wy,useState:function(){return N0(Ps)},useDebugValue:k0,useDeferredValue:function(n,r){var a=Nt();return st===null?j0(a,n,r):Dy(a,st.memoizedState,n,r)},useTransition:function(){var n=N0(Ps)[0],r=Nt().memoizedState;return[typeof n=="boolean"?n:ec(n),r]},useSyncExternalStore:ry,useId:By,useHostTransitionStatus:O0,useFormState:by,useActionState:by,useOptimistic:function(n,r){var a=Nt();return st!==null?hy(a,st,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:C0,useCacheRefresh:Oy};Vy.useEffectEvent=Ey;function L0(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var F0={enqueueSetState:function(n,r,a){n=n._reactInternals;var c=Xn(),f=br(c);f.payload=r,a!=null&&(f.callback=a),r=wr(n,f,c),r!==null&&(kn(r,n,c),Ql(r,n,c))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=Xn(),f=br(c);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=wr(n,f,c),r!==null&&(kn(r,n,c),Ql(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Xn(),c=br(a);c.tag=2,r!=null&&(c.callback=r),r=wr(n,c,a),r!==null&&(kn(r,n,a),Ql(r,n,a))}};function Uy(n,r,a,c,f,x,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,x,_):r.prototype&&r.prototype.isPureReactComponent?!zl(a,c)||!zl(f,x):!0}function zy(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&F0.enqueueReplaceState(r,r.state,null)}function Ia(n,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Hy(n){Iu(n)}function qy(n){console.error(n)}function $y(n){Iu(n)}function eh(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Gy(n,r,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function V0(n,r,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){eh(n,r)},a}function Ky(n){return n=br(n),n.tag=3,n}function Yy(n,r,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var x=c.value;n.payload=function(){return f(x)},n.callback=function(){Gy(r,a,c)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Gy(r,a,c),typeof f!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var P=c.stack;this.componentDidCatch(c.value,{componentStack:P!==null?P:""})})}function J4(n,r,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&No(r,a,f,!0),a=$n.current,a!==null){switch(a.tag){case 31:case 13:return pi===null?dh():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===Uu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),hm(n,c,f)),!1;case 22:return a.flags|=65536,c===Uu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),hm(n,c,f)),!1}throw Error(s(435,a.tag))}return hm(n,c,f),dh(),!1}if(qe)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==r0&&(n=Error(s(422),{cause:c}),$l(hi(n,a)))):(c!==r0&&(r=Error(s(423),{cause:c}),$l(hi(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=hi(c,a),f=V0(n.stateNode,c,f),g0(n,f),Et!==4&&(Et=2)),!1;var x=Error(s(520),{cause:c});if(x=hi(x,a),uc===null?uc=[x]:uc.push(x),Et!==4&&(Et=2),r===null)return!0;c=hi(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=V0(a.stateNode,c,n),g0(a,n),!1;case 1:if(r=a.type,x=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Sr===null||!Sr.has(x))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ky(f),Yy(f,n,a,c),g0(a,f),!1}a=a.return}while(a!==null);return!1}var U0=Error(s(461)),Ft=!1;function sn(n,r,a,c){r.child=n===null?Zx(r,null,a,c):Ra(r,n.child,a,c)}function Xy(n,r,a,c,f){a=a.render;var x=r.ref;if("ref"in c){var _={};for(var P in c)P!=="ref"&&(_[P]=c[P])}else _=c;return Ta(r),c=_0(n,r,a,_,x,f),P=E0(),n!==null&&!Ft?(A0(n,r,f),Ls(n,r,f)):(qe&&P&&i0(r),r.flags|=1,sn(n,r,c,f),r.child)}function Qy(n,r,a,c,f){if(n===null){var x=a.type;return typeof x=="function"&&!e0(x)&&x.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=x,Wy(n,r,x,c,f)):(n=Ou(a.type,null,c,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(x=n.child,!X0(n,f)){var _=x.memoizedProps;if(a=a.compare,a=a!==null?a:zl,a(_,c)&&n.ref===r.ref)return Ls(n,r,f)}return r.flags|=1,n=ks(x,c),n.ref=r.ref,n.return=r,r.child=n}function Wy(n,r,a,c,f){if(n!==null){var x=n.memoizedProps;if(zl(x,c)&&n.ref===r.ref)if(Ft=!1,r.pendingProps=c=x,X0(n,f))(n.flags&131072)!==0&&(Ft=!0);else return r.lanes=n.lanes,Ls(n,r,f)}return z0(n,r,a,c,f)}function Zy(n,r,a,c){var f=c.children,x=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(x=x!==null?x.baseLanes|a:a,n!==null){for(c=r.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~x}else c=0,r.child=null;return Jy(n,r,x,a,c)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fu(r,x!==null?x.cachePool:null),x!==null?ty(r,x):y0(),ny(r);else return c=r.lanes=536870912,Jy(n,r,x!==null?x.baseLanes|a:a,a,c)}else x!==null?(Fu(r,x.cachePool),ty(r,x),Er(),r.memoizedState=null):(n!==null&&Fu(r,null),y0(),Er());return sn(n,r,f,a),r.child}function ic(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Jy(n,r,a,c,f){var x=d0();return x=x===null?null:{parent:Pt._currentValue,pool:x},r.memoizedState={baseLanes:a,cachePool:x},n!==null&&Fu(r,null),y0(),ny(r),n!==null&&No(n,r,c,!0),r.childLanes=f,null}function th(n,r){return r=ih({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function e1(n,r,a){return Ra(r,n.child,null,a),n=th(r,r.pendingProps),n.flags|=2,Gn(r),r.memoizedState=null,n}function eT(n,r,a){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(qe){if(c.mode==="hidden")return n=th(r,c),r.lanes=536870912,ic(null,n);if(b0(r),(n=ht)?(n=dv(n,mi),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:pr!==null?{id:cs,overflow:us}:null,retryLane:536870912,hydrationErrors:null},a=Px(n),a.return=r,r.child=a,tn=r,ht=null)):n=null,n===null)throw xr(r);return r.lanes=536870912,null}return th(r,c)}var x=n.memoizedState;if(x!==null){var _=x.dehydrated;if(b0(r),f)if(r.flags&256)r.flags&=-257,r=e1(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ft||No(n,r,a,!1),f=(a&n.childLanes)!==0,Ft||f){if(c=ot,c!==null&&(_=Tn(c,a),_!==0&&_!==x.retryLane))throw x.retryLane=_,wa(n,_),kn(c,n,_),U0;dh(),r=e1(n,r,a)}else n=x.treeContext,ht=gi(_.nextSibling),tn=r,qe=!0,gr=null,mi=!1,n!==null&&Vx(r,n),r=th(r,c),r.flags|=4096;return r}return n=ks(n.child,{mode:c.mode,children:c.children}),n.ref=r.ref,r.child=n,n.return=r,n}function nh(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function z0(n,r,a,c,f){return Ta(r),a=_0(n,r,a,c,void 0,f),c=E0(),n!==null&&!Ft?(A0(n,r,f),Ls(n,r,f)):(qe&&c&&i0(r),r.flags|=1,sn(n,r,a,f),r.child)}function t1(n,r,a,c,f,x){return Ta(r),r.updateQueue=null,a=sy(r,c,a,f),iy(n),c=E0(),n!==null&&!Ft?(A0(n,r,x),Ls(n,r,x)):(qe&&c&&i0(r),r.flags|=1,sn(n,r,a,x),r.child)}function n1(n,r,a,c,f){if(Ta(r),r.stateNode===null){var x=Ao,_=a.contextType;typeof _=="object"&&_!==null&&(x=nn(_)),x=new a(c,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=F0,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=c,x.state=r.memoizedState,x.refs={},m0(r),_=a.contextType,x.context=typeof _=="object"&&_!==null?nn(_):Ao,x.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(L0(r,a,_,c),x.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(_=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),_!==x.state&&F0.enqueueReplaceState(x,x.state,null),Zl(r,c,x,f),Wl(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){x=r.stateNode;var P=r.memoizedProps,G=Ia(a,P);x.props=G;var te=x.context,oe=a.contextType;_=Ao,typeof oe=="object"&&oe!==null&&(_=nn(oe));var ue=a.getDerivedStateFromProps;oe=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P||te!==_)&&zy(r,x,c,_),vr=!1;var ie=r.memoizedState;x.state=ie,Zl(r,c,x,f),Wl(),te=r.memoizedState,P||ie!==te||vr?(typeof ue=="function"&&(L0(r,a,ue,c),te=r.memoizedState),(G=vr||Uy(r,a,G,c,ie,te,_))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=te),x.props=c,x.state=te,x.context=_,c=G):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{x=r.stateNode,p0(n,r),_=r.memoizedProps,oe=Ia(a,_),x.props=oe,ue=r.pendingProps,ie=x.context,te=a.contextType,G=Ao,typeof te=="object"&&te!==null&&(G=nn(te)),P=a.getDerivedStateFromProps,(te=typeof P=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==ue||ie!==G)&&zy(r,x,c,G),vr=!1,ie=r.memoizedState,x.state=ie,Zl(r,c,x,f),Wl();var re=r.memoizedState;_!==ue||ie!==re||vr||n!==null&&n.dependencies!==null&&Pu(n.dependencies)?(typeof P=="function"&&(L0(r,a,P,c),re=r.memoizedState),(oe=vr||Uy(r,a,oe,c,ie,re,G)||n!==null&&n.dependencies!==null&&Pu(n.dependencies))?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,re,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,re,G)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===n.memoizedProps&&ie===n.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&ie===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=re),x.props=c,x.state=re,x.context=G,c=oe):(typeof x.componentDidUpdate!="function"||_===n.memoizedProps&&ie===n.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&ie===n.memoizedState||(r.flags|=1024),c=!1)}return x=c,nh(n,r),c=(r.flags&128)!==0,x||c?(x=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,n!==null&&c?(r.child=Ra(r,n.child,null,f),r.child=Ra(r,null,a,f)):sn(n,r,a,f),r.memoizedState=x.state,n=r.child):n=Ls(n,r,f),n}function i1(n,r,a,c){return Ea(),r.flags|=256,sn(n,r,a,c),r.child}var H0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function q0(n){return{baseLanes:n,cachePool:Gx()}}function $0(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Yn),n}function s1(n,r,a){var c=r.pendingProps,f=!1,x=(r.flags&128)!==0,_;if((_=x)||(_=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(qe){if(f?_r(r):Er(),(n=ht)?(n=dv(n,mi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:pr!==null?{id:cs,overflow:us}:null,retryLane:536870912,hydrationErrors:null},a=Px(n),a.return=r,r.child=a,tn=r,ht=null)):n=null,n===null)throw xr(r);return Sm(n)?r.lanes=32:r.lanes=536870912,null}var P=c.children;return c=c.fallback,f?(Er(),f=r.mode,P=ih({mode:"hidden",children:P},f),c=_a(c,f,a,null),P.return=r,c.return=r,P.sibling=c,r.child=P,c=r.child,c.memoizedState=q0(a),c.childLanes=$0(n,_,a),r.memoizedState=H0,ic(null,c)):(_r(r),G0(r,P))}var G=n.memoizedState;if(G!==null&&(P=G.dehydrated,P!==null)){if(x)r.flags&256?(_r(r),r.flags&=-257,r=K0(n,r,a)):r.memoizedState!==null?(Er(),r.child=n.child,r.flags|=128,r=null):(Er(),P=c.fallback,f=r.mode,c=ih({mode:"visible",children:c.children},f),P=_a(P,f,a,null),P.flags|=2,c.return=r,P.return=r,c.sibling=P,r.child=c,Ra(r,n.child,null,a),c=r.child,c.memoizedState=q0(a),c.childLanes=$0(n,_,a),r.memoizedState=H0,r=ic(null,c));else if(_r(r),Sm(P)){if(_=P.nextSibling&&P.nextSibling.dataset,_)var te=_.dgst;_=te,c=Error(s(419)),c.stack="",c.digest=_,$l({value:c,source:null,stack:null}),r=K0(n,r,a)}else if(Ft||No(n,r,a,!1),_=(a&n.childLanes)!==0,Ft||_){if(_=ot,_!==null&&(c=Tn(_,a),c!==0&&c!==G.retryLane))throw G.retryLane=c,wa(n,c),kn(_,n,c),U0;Cm(P)||dh(),r=K0(n,r,a)}else Cm(P)?(r.flags|=192,r.child=n.child,r=null):(n=G.treeContext,ht=gi(P.nextSibling),tn=r,qe=!0,gr=null,mi=!1,n!==null&&Vx(r,n),r=G0(r,c.children),r.flags|=4096);return r}return f?(Er(),P=c.fallback,f=r.mode,G=n.child,te=G.sibling,c=ks(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,te!==null?P=ks(te,P):(P=_a(P,f,a,null),P.flags|=2),P.return=r,c.return=r,c.sibling=P,r.child=c,ic(null,c),c=r.child,P=n.child.memoizedState,P===null?P=q0(a):(f=P.cachePool,f!==null?(G=Pt._currentValue,f=f.parent!==G?{parent:G,pool:G}:f):f=Gx(),P={baseLanes:P.baseLanes|a,cachePool:f}),c.memoizedState=P,c.childLanes=$0(n,_,a),r.memoizedState=H0,ic(n.child,c)):(_r(r),a=n.child,n=a.sibling,a=ks(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function G0(n,r){return r=ih({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function ih(n,r){return n=qn(22,n,null,r),n.lanes=0,n}function K0(n,r,a){return Ra(r,n.child,null,a),n=G0(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function r1(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),l0(n.return,r,a)}function Y0(n,r,a,c,f,x){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:x}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=a,_.tailMode=f,_.treeForkCount=x)}function a1(n,r,a){var c=r.pendingProps,f=c.revealOrder,x=c.tail;c=c.children;var _=St.current,P=(_&2)!==0;if(P?(_=_&1|2,r.flags|=128):_&=1,W(St,_),sn(n,r,c,a),c=qe?ql:0,!P&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&r1(n,a,r);else if(n.tag===19)r1(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&$u(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Y0(r,!1,f,a,x,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&$u(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Y0(r,!0,a,null,x,c);break;case"together":Y0(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ls(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Cr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(No(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ks(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ks(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function X0(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Pu(n)))}function tT(n,r,a){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),yr(r,Pt,n.memoizedState.cache),Ea();break;case 27:case 5:An(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:yr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,b0(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(_r(r),r.flags|=128,null):(a&r.child.childLanes)!==0?s1(n,r,a):(_r(r),n=Ls(n,r,a),n!==null?n.sibling:null);_r(r);break;case 19:var f=(n.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(No(n,r,a,!1),c=(a&r.childLanes)!==0),f){if(c)return a1(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(St,St.current),c)break;return null;case 22:return r.lanes=0,Zy(n,r,a,r.pendingProps);case 24:yr(r,Pt,n.memoizedState.cache)}return Ls(n,r,a)}function o1(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ft=!0;else{if(!X0(n,a)&&(r.flags&128)===0)return Ft=!1,tT(n,r,a);Ft=(n.flags&131072)!==0}else Ft=!1,qe&&(r.flags&1048576)!==0&&Fx(r,ql,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(n=Sa(r.elementType),r.type=n,typeof n=="function")e0(n)?(c=Ia(n,c),r.tag=1,r=n1(null,r,n,c,a)):(r.tag=0,r=z0(null,r,n,c,a));else{if(n!=null){var f=n.$$typeof;if(f===M){r.tag=11,r=Xy(null,r,n,c,a);break e}else if(f===A){r.tag=14,r=Qy(null,r,n,c,a);break e}}throw r=de(n)||n,Error(s(306,r,""))}}return r;case 0:return z0(n,r,r.type,r.pendingProps,a);case 1:return c=r.type,f=Ia(c,r.pendingProps),n1(n,r,c,f,a);case 3:e:{if(Ee(r,r.stateNode.containerInfo),n===null)throw Error(s(387));c=r.pendingProps;var x=r.memoizedState;f=x.element,p0(n,r),Zl(r,c,null,a);var _=r.memoizedState;if(c=_.cache,yr(r,Pt,c),c!==x.cache&&c0(r,[Pt],a,!0),Wl(),c=_.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=i1(n,r,c,a);break e}else if(c!==f){f=hi(Error(s(424)),r),$l(f),r=i1(n,r,c,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=gi(n.firstChild),tn=r,qe=!0,gr=null,mi=!0,a=Zx(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ea(),c===f){r=Ls(n,r,a);break e}sn(n,r,c,a)}r=r.child}return r;case 26:return nh(n,r),n===null?(a=yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,n=r.pendingProps,c=vh(ye.current).createElement(a),c[Bt]=r,c[Xt]=n,rn(c,a,n),Ot(c),r.stateNode=c):r.memoizedState=yv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return An(r),n===null&&qe&&(c=r.stateNode=pv(r.type,r.pendingProps,ye.current),tn=r,mi=!0,f=ht,Ir(r.type)?(Nm=f,ht=gi(c.firstChild)):ht=f),sn(n,r,r.pendingProps.children,a),nh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&qe&&((f=c=ht)&&(c=IT(c,r.type,r.pendingProps,mi),c!==null?(r.stateNode=c,tn=r,ht=gi(c.firstChild),mi=!1,f=!0):f=!1),f||xr(r)),An(r),f=r.type,x=r.pendingProps,_=n!==null?n.memoizedProps:null,c=x.children,Em(f,x)?c=null:_!==null&&Em(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=_0(n,r,G4,null,null,a),yc._currentValue=f),nh(n,r),sn(n,r,c,a),r.child;case 6:return n===null&&qe&&((n=a=ht)&&(a=kT(a,r.pendingProps,mi),a!==null?(r.stateNode=a,tn=r,ht=null,n=!0):n=!1),n||xr(r)),null;case 13:return s1(n,r,a);case 4:return Ee(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Ra(r,null,c,a):sn(n,r,c,a),r.child;case 11:return Xy(n,r,r.type,r.pendingProps,a);case 7:return sn(n,r,r.pendingProps,a),r.child;case 8:return sn(n,r,r.pendingProps.children,a),r.child;case 12:return sn(n,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,yr(r,r.type,c.value),sn(n,r,c.children,a),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,Ta(r),f=nn(f),c=c(f),r.flags|=1,sn(n,r,c,a),r.child;case 14:return Qy(n,r,r.type,r.pendingProps,a);case 15:return Wy(n,r,r.type,r.pendingProps,a);case 19:return a1(n,r,a);case 31:return eT(n,r,a);case 22:return Zy(n,r,a,r.pendingProps);case 24:return Ta(r),c=nn(Pt),n===null?(f=d0(),f===null&&(f=ot,x=u0(),f.pooledCache=x,x.refCount++,x!==null&&(f.pooledCacheLanes|=a),f=x),r.memoizedState={parent:c,cache:f},m0(r),yr(r,Pt,f)):((n.lanes&a)!==0&&(p0(n,r),Zl(r,null,null,a),Wl()),f=n.memoizedState,x=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),yr(r,Pt,c)):(c=x.cache,yr(r,Pt,c),c!==f.cache&&c0(r,[Pt],a,!0))),sn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fs(n){n.flags|=4}function Q0(n,r,a,c,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(B1())n.flags|=8192;else throw Na=Uu,f0}else n.flags&=-16777217}function l1(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ev(r))if(B1())n.flags|=8192;else throw Na=Uu,f0}function sh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?oo():536870912,n.lanes|=r,Vo|=r)}function sc(n,r){if(!qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function dt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function nT(n,r,a){var c=r.pendingProps;switch(s0(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return dt(r),null;case 3:return a=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Os(Pt),We(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(So(r)?Fs(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,a0())),dt(r),null;case 26:var f=r.type,x=r.memoizedState;return n===null?(Fs(r),x!==null?(dt(r),l1(r,x)):(dt(r),Q0(r,f,null,c,a))):x?x!==n.memoizedState?(Fs(r),dt(r),l1(r,x)):(dt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==c&&Fs(r),dt(r),Q0(r,f,n,c,a)),null;case 27:if(Ui(r),a=ye.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&Fs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return dt(r),null}n=Z.current,So(r)?Ux(r):(n=pv(f,c,a),r.stateNode=n,Fs(r))}return dt(r),null;case 5:if(Ui(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&Fs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return dt(r),null}if(x=Z.current,So(r))Ux(r);else{var _=vh(ye.current);switch(x){case 1:x=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:x=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":x=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":x=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":x=_.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?x.multiple=!0:c.size&&(x.size=c.size);break;default:x=typeof c.is=="string"?_.createElement(f,{is:c.is}):_.createElement(f)}}x[Bt]=r,x[Xt]=c;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)x.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=x;e:switch(rn(x,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Fs(r)}}return dt(r),Q0(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&Fs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(n=ye.current,So(r)){if(n=r.stateNode,a=r.memoizedProps,c=null,f=tn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[Bt]=r,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||sv(n.nodeValue,a)),n||xr(r,!0)}else n=vh(n).createTextNode(c),n[Bt]=r,r.stateNode=n}return dt(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(c=So(r),a!==null){if(n===null){if(!c)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Bt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),n=!1}else a=a0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(Gn(r),r):(Gn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return dt(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=So(r),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Bt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),f=!1}else f=a0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Gn(r),r):(Gn(r),null)}return Gn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==f&&(c.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),sh(r,r.updateQueue),dt(r),null);case 4:return We(),n===null&&ym(r.stateNode.containerInfo),dt(r),null;case 10:return Os(r.type),dt(r),null;case 19:if(K(St),c=r.memoizedState,c===null)return dt(r),null;if(f=(r.flags&128)!==0,x=c.rendering,x===null)if(f)sc(c,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(x=$u(n),x!==null){for(r.flags|=128,sc(c,!1),n=x.updateQueue,r.updateQueue=n,sh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Mx(a,n),a=a.sibling;return W(St,St.current&1|2),qe&&js(r,c.treeForkCount),r.child}n=n.sibling}c.tail!==null&&kt()>ch&&(r.flags|=128,f=!0,sc(c,!1),r.lanes=4194304)}else{if(!f)if(n=$u(x),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,sh(r,n),sc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!x.alternate&&!qe)return dt(r),null}else 2*kt()-c.renderingStartTime>ch&&a!==536870912&&(r.flags|=128,f=!0,sc(c,!1),r.lanes=4194304);c.isBackwards?(x.sibling=r.child,r.child=x):(n=c.last,n!==null?n.sibling=x:r.child=x,c.last=x)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=kt(),n.sibling=null,a=St.current,W(St,f?a&1|2:a&1),qe&&js(r,c.treeForkCount),n):(dt(r),null);case 22:case 23:return Gn(r),v0(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),a=r.updateQueue,a!==null&&sh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),n!==null&&K(Ca),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Os(Pt),dt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function iT(n,r){switch(s0(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Os(Pt),We(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ui(r),null;case 31:if(r.memoizedState!==null){if(Gn(r),r.alternate===null)throw Error(s(340));Ea()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Gn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ea()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return K(St),null;case 4:return We(),null;case 10:return Os(r.type),null;case 22:case 23:return Gn(r),v0(),n!==null&&K(Ca),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Os(Pt),null;case 25:return null;default:return null}}function c1(n,r){switch(s0(r),r.tag){case 3:Os(Pt),We();break;case 26:case 27:case 5:Ui(r);break;case 4:We();break;case 31:r.memoizedState!==null&&Gn(r);break;case 13:Gn(r);break;case 19:K(St);break;case 10:Os(r.type);break;case 22:case 23:Gn(r),v0(),n!==null&&K(Ca);break;case 24:Os(Pt)}}function rc(n,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&n)===n){c=void 0;var x=a.create,_=a.inst;c=x(),_.destroy=c}a=a.next}while(a!==f)}}catch(P){nt(r,r.return,P)}}function Ar(n,r,a){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var x=f.next;c=x;do{if((c.tag&n)===n){var _=c.inst,P=_.destroy;if(P!==void 0){_.destroy=void 0,f=r;var G=a,te=P;try{te()}catch(oe){nt(f,G,oe)}}}c=c.next}while(c!==x)}}catch(oe){nt(r,r.return,oe)}}function u1(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{ey(r,a)}catch(c){nt(n,n.return,c)}}}function h1(n,r,a){a.props=Ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){nt(n,r,c)}}function ac(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(f){nt(n,r,f)}}function hs(n,r){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){nt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nt(n,r,f)}else a.current=null}function d1(n){var r=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){nt(n,n.return,f)}}function W0(n,r,a){try{var c=n.stateNode;TT(c,n.type,a,r),c[Xt]=r}catch(f){nt(n,n.return,f)}}function f1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ir(n.type)||n.tag===4}function Z0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||f1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ir(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function J0(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ni));else if(c!==4&&(c===27&&Ir(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(J0(n,r,a),n=n.sibling;n!==null;)J0(n,r,a),n=n.sibling}function rh(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(c===27&&Ir(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(rh(n,r,a),n=n.sibling;n!==null;)rh(n,r,a),n=n.sibling}function m1(n){var r=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);rn(r,c,a),r[Bt]=n,r[Xt]=a}catch(x){nt(n,n.return,x)}}var Vs=!1,Vt=!1,em=!1,p1=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function sT(n,r){if(n=n.containerInfo,wm=Ch,n=Sx(n),Kf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var _=0,P=-1,G=-1,te=0,oe=0,ue=n,ie=null;t:for(;;){for(var re;ue!==a||f!==0&&ue.nodeType!==3||(P=_+f),ue!==x||c!==0&&ue.nodeType!==3||(G=_+c),ue.nodeType===3&&(_+=ue.nodeValue.length),(re=ue.firstChild)!==null;)ie=ue,ue=re;for(;;){if(ue===n)break t;if(ie===a&&++te===f&&(P=_),ie===x&&++oe===c&&(G=_),(re=ue.nextSibling)!==null)break;ue=ie,ie=ue.parentNode}ue=re}a=P===-1||G===-1?null:{start:P,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:n,selectionRange:a},Ch=!1,Wt=r;Wt!==null;)if(r=Wt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Wt=n;else for(;Wt!==null;){switch(r=Wt,x=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,a=r,f=x.memoizedProps,x=x.memoizedState,c=a.stateNode;try{var be=Ia(a.type,f);n=c.getSnapshotBeforeUpdate(be,x),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ce){nt(a,a.return,Ce)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Tm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Tm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Wt=n;break}Wt=r.return}}function g1(n,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:zs(n,a),c&4&&rc(5,a);break;case 1:if(zs(n,a),c&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(_){nt(a,a.return,_)}else{var f=Ia(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){nt(a,a.return,_)}}c&64&&u1(a),c&512&&ac(a,a.return);break;case 3:if(zs(n,a),c&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ey(n,r)}catch(_){nt(a,a.return,_)}}break;case 27:r===null&&c&4&&m1(a);case 26:case 5:zs(n,a),r===null&&c&4&&d1(a),c&512&&ac(a,a.return);break;case 12:zs(n,a);break;case 31:zs(n,a),c&4&&v1(n,a);break;case 13:zs(n,a),c&4&&b1(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=fT.bind(null,a),jT(n,a))));break;case 22:if(c=a.memoizedState!==null||Vs,!c){r=r!==null&&r.memoizedState!==null||Vt,f=Vs;var x=Vt;Vs=c,(Vt=r)&&!x?Hs(n,a,(a.subtreeFlags&8772)!==0):zs(n,a),Vs=f,Vt=x}break;case 30:break;default:zs(n,a)}}function x1(n){var r=n.alternate;r!==null&&(n.alternate=null,x1(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&co(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,Nn=!1;function Us(n,r,a){for(a=a.child;a!==null;)y1(n,r,a),a=a.sibling}function y1(n,r,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:Vt||hs(a,r),Us(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vt||hs(a,r);var c=xt,f=Nn;Ir(a.type)&&(xt=a.stateNode,Nn=!1),Us(n,r,a),pc(a.stateNode),xt=c,Nn=f;break;case 5:Vt||hs(a,r);case 6:if(c=xt,f=Nn,xt=null,Us(n,r,a),xt=c,Nn=f,xt!==null)if(Nn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(a.stateNode)}catch(x){nt(a,r,x)}else try{xt.removeChild(a.stateNode)}catch(x){nt(a,r,x)}break;case 18:xt!==null&&(Nn?(n=xt,uv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Yo(n)):uv(xt,a.stateNode));break;case 4:c=xt,f=Nn,xt=a.stateNode.containerInfo,Nn=!0,Us(n,r,a),xt=c,Nn=f;break;case 0:case 11:case 14:case 15:Ar(2,a,r),Vt||Ar(4,a,r),Us(n,r,a);break;case 1:Vt||(hs(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&h1(a,r,c)),Us(n,r,a);break;case 21:Us(n,r,a);break;case 22:Vt=(c=Vt)||a.memoizedState!==null,Us(n,r,a),Vt=c;break;default:Us(n,r,a)}}function v1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Yo(n)}catch(a){nt(r,r.return,a)}}}function b1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yo(n)}catch(a){nt(r,r.return,a)}}function rT(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new p1),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new p1),r;default:throw Error(s(435,n.tag))}}function ah(n,r){var a=rT(n);r.forEach(function(c){if(!a.has(c)){a.add(c);var f=mT.bind(null,n,c);c.then(f,f)}})}function Rn(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],x=n,_=r,P=_;e:for(;P!==null;){switch(P.tag){case 27:if(Ir(P.type)){xt=P.stateNode,Nn=!1;break e}break;case 5:xt=P.stateNode,Nn=!1;break e;case 3:case 4:xt=P.stateNode.containerInfo,Nn=!0;break e}P=P.return}if(xt===null)throw Error(s(160));y1(x,_,f),xt=null,Nn=!1,x=f.alternate,x!==null&&(x.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)w1(r,n),r=r.sibling}var Bi=null;function w1(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(r,n),Dn(n),c&4&&(Ar(3,n,n.return),rc(3,n),Ar(5,n,n.return));break;case 1:Rn(r,n),Dn(n),c&512&&(Vt||a===null||hs(a,a.return)),c&64&&Vs&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=Bi;if(Rn(r,n),Dn(n),c&512&&(Vt||a===null||hs(a,a.return)),c&4){var x=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":x=f.getElementsByTagName("title")[0],(!x||x[Wi]||x[Bt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=f.createElement(c),f.head.insertBefore(x,f.querySelector("head > title"))),rn(x,c,a),x[Bt]=n,Ot(x),c=x;break e;case"link":var _=wv("link","href",f).get(c+(a.href||""));if(_){for(var P=0;P<_.length;P++)if(x=_[P],x.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&x.getAttribute("rel")===(a.rel==null?null:a.rel)&&x.getAttribute("title")===(a.title==null?null:a.title)&&x.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(P,1);break t}}x=f.createElement(c),rn(x,c,a),f.head.appendChild(x);break;case"meta":if(_=wv("meta","content",f).get(c+(a.content||""))){for(P=0;P<_.length;P++)if(x=_[P],x.getAttribute("content")===(a.content==null?null:""+a.content)&&x.getAttribute("name")===(a.name==null?null:a.name)&&x.getAttribute("property")===(a.property==null?null:a.property)&&x.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&x.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(P,1);break t}}x=f.createElement(c),rn(x,c,a),f.head.appendChild(x);break;default:throw Error(s(468,c))}x[Bt]=n,Ot(x),c=x}n.stateNode=c}else _v(f,n.type,n.stateNode);else n.stateNode=bv(f,c,n.memoizedProps);else x!==c?(x===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):x.count--,c===null?_v(f,n.type,n.stateNode):bv(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&W0(n,n.memoizedProps,a.memoizedProps)}break;case 27:Rn(r,n),Dn(n),c&512&&(Vt||a===null||hs(a,a.return)),a!==null&&c&4&&W0(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Rn(r,n),Dn(n),c&512&&(Vt||a===null||hs(a,a.return)),n.flags&32){f=n.stateNode;try{Sn(f,"")}catch(be){nt(n,n.return,be)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,W0(n,f,a!==null?a.memoizedProps:f)),c&1024&&(em=!0);break;case 6:if(Rn(r,n),Dn(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(be){nt(n,n.return,be)}}break;case 3:if(_h=null,f=Bi,Bi=bh(r.containerInfo),Rn(r,n),Bi=f,Dn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Yo(r.containerInfo)}catch(be){nt(n,n.return,be)}em&&(em=!1,_1(n));break;case 4:c=Bi,Bi=bh(n.stateNode.containerInfo),Rn(r,n),Dn(n),Bi=c;break;case 12:Rn(r,n),Dn(n);break;case 31:Rn(r,n),Dn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ah(n,c)));break;case 13:Rn(r,n),Dn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lh=kt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ah(n,c)));break;case 22:f=n.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,te=Vs,oe=Vt;if(Vs=te||f,Vt=oe||G,Rn(r,n),Vt=oe,Vs=te,Dn(n),c&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||G||Vs||Vt||ka(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){G=a=r;try{if(x=G.stateNode,f)_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{P=G.stateNode;var ue=G.memoizedProps.style,ie=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;P.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(be){nt(G,G.return,be)}}}else if(r.tag===6){if(a===null){G=r;try{G.stateNode.nodeValue=f?"":G.memoizedProps}catch(be){nt(G,G.return,be)}}}else if(r.tag===18){if(a===null){G=r;try{var re=G.stateNode;f?hv(re,!0):hv(G.stateNode,!1)}catch(be){nt(G,G.return,be)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,ah(n,a))));break;case 19:Rn(r,n),Dn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ah(n,c)));break;case 30:break;case 21:break;default:Rn(r,n),Dn(n)}}function Dn(n){var r=n.flags;if(r&2){try{for(var a,c=n.return;c!==null;){if(f1(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,x=Z0(n);rh(n,x,f);break;case 5:var _=a.stateNode;a.flags&32&&(Sn(_,""),a.flags&=-33);var P=Z0(n);rh(n,P,_);break;case 3:case 4:var G=a.stateNode.containerInfo,te=Z0(n);J0(n,te,G);break;default:throw Error(s(161))}}catch(oe){nt(n,n.return,oe)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function _1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;_1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function zs(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)g1(n,r.alternate,r),r=r.sibling}function ka(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ar(4,r,r.return),ka(r);break;case 1:hs(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&h1(r,r.return,a),ka(r);break;case 27:pc(r.stateNode);case 26:case 5:hs(r,r.return),ka(r);break;case 22:r.memoizedState===null&&ka(r);break;case 30:ka(r);break;default:ka(r)}n=n.sibling}}function Hs(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=n,x=r,_=x.flags;switch(x.tag){case 0:case 11:case 15:Hs(f,x,a),rc(4,x);break;case 1:if(Hs(f,x,a),c=x,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(te){nt(c,c.return,te)}if(c=x,f=c.updateQueue,f!==null){var P=c.stateNode;try{var G=f.shared.hiddenCallbacks;if(G!==null)for(f.shared.hiddenCallbacks=null,f=0;f<G.length;f++)Jx(G[f],P)}catch(te){nt(c,c.return,te)}}a&&_&64&&u1(x),ac(x,x.return);break;case 27:m1(x);case 26:case 5:Hs(f,x,a),a&&c===null&&_&4&&d1(x),ac(x,x.return);break;case 12:Hs(f,x,a);break;case 31:Hs(f,x,a),a&&_&4&&v1(f,x);break;case 13:Hs(f,x,a),a&&_&4&&b1(f,x);break;case 22:x.memoizedState===null&&Hs(f,x,a),ac(x,x.return);break;case 30:break;default:Hs(f,x,a)}r=r.sibling}}function tm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Gl(a))}function nm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Gl(n))}function Oi(n,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E1(n,r,a,c),r=r.sibling}function E1(n,r,a,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Oi(n,r,a,c),f&2048&&rc(9,r);break;case 1:Oi(n,r,a,c);break;case 3:Oi(n,r,a,c),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Gl(n)));break;case 12:if(f&2048){Oi(n,r,a,c),n=r.stateNode;try{var x=r.memoizedProps,_=x.id,P=x.onPostCommit;typeof P=="function"&&P(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(G){nt(r,r.return,G)}}else Oi(n,r,a,c);break;case 31:Oi(n,r,a,c);break;case 13:Oi(n,r,a,c);break;case 23:break;case 22:x=r.stateNode,_=r.alternate,r.memoizedState!==null?x._visibility&2?Oi(n,r,a,c):oc(n,r):x._visibility&2?Oi(n,r,a,c):(x._visibility|=2,Po(n,r,a,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&tm(_,r);break;case 24:Oi(n,r,a,c),f&2048&&nm(r.alternate,r);break;default:Oi(n,r,a,c)}}function Po(n,r,a,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var x=n,_=r,P=a,G=c,te=_.flags;switch(_.tag){case 0:case 11:case 15:Po(x,_,P,G,f),rc(8,_);break;case 23:break;case 22:var oe=_.stateNode;_.memoizedState!==null?oe._visibility&2?Po(x,_,P,G,f):oc(x,_):(oe._visibility|=2,Po(x,_,P,G,f)),f&&te&2048&&tm(_.alternate,_);break;case 24:Po(x,_,P,G,f),f&&te&2048&&nm(_.alternate,_);break;default:Po(x,_,P,G,f)}r=r.sibling}}function oc(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,c=r,f=c.flags;switch(c.tag){case 22:oc(a,c),f&2048&&tm(c.alternate,c);break;case 24:oc(a,c),f&2048&&nm(c.alternate,c);break;default:oc(a,c)}r=r.sibling}}var lc=8192;function Lo(n,r,a){if(n.subtreeFlags&lc)for(n=n.child;n!==null;)A1(n,r,a),n=n.sibling}function A1(n,r,a){switch(n.tag){case 26:Lo(n,r,a),n.flags&lc&&n.memoizedState!==null&&$T(a,Bi,n.memoizedState,n.memoizedProps);break;case 5:Lo(n,r,a);break;case 3:case 4:var c=Bi;Bi=bh(n.stateNode.containerInfo),Lo(n,r,a),Bi=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=lc,lc=16777216,Lo(n,r,a),lc=c):Lo(n,r,a));break;default:Lo(n,r,a)}}function T1(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function cc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];Wt=c,S1(c,n)}T1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)C1(n),n=n.sibling}function C1(n){switch(n.tag){case 0:case 11:case 15:cc(n),n.flags&2048&&Ar(9,n,n.return);break;case 3:cc(n);break;case 12:cc(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,oh(n)):cc(n);break;default:cc(n)}}function oh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];Wt=c,S1(c,n)}T1(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ar(8,r,r.return),oh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,oh(r));break;default:oh(r)}n=n.sibling}}function S1(n,r){for(;Wt!==null;){var a=Wt;switch(a.tag){case 0:case 11:case 15:Ar(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Gl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Wt=c;else e:for(a=n;Wt!==null;){c=Wt;var f=c.sibling,x=c.return;if(x1(c),c===a){Wt=null;break e}if(f!==null){f.return=x,Wt=f;break e}Wt=x}}}var aT={getCacheForType:function(n){var r=nn(Pt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return nn(Pt).controller.signal}},oT=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ot=null,Pe=null,Fe=0,tt=0,Kn=null,Tr=!1,Fo=!1,im=!1,qs=0,Et=0,Cr=0,ja=0,sm=0,Yn=0,Vo=0,uc=null,In=null,rm=!1,lh=0,N1=0,ch=1/0,uh=null,Sr=null,Gt=0,Nr=null,Uo=null,$s=0,am=0,om=null,R1=null,hc=0,lm=null;function Xn(){return(Qe&2)!==0&&Fe!==0?Fe&-Fe:q.T!==null?mm():hu()}function D1(){if(Yn===0)if((Fe&536870912)===0||qe){var n=Ns;Ns<<=1,(Ns&3932160)===0&&(Ns=262144),Yn=n}else Yn=536870912;return n=$n.current,n!==null&&(n.flags|=32),Yn}function kn(n,r,a){(n===ot&&(tt===2||tt===9)||n.cancelPendingCommit!==null)&&(zo(n,0),Rr(n,Fe,Yn,!1)),Ki(n,a),((Qe&2)===0||n!==ot)&&(n===ot&&((Qe&2)===0&&(ja|=a),Et===4&&Rr(n,Fe,Yn,!1)),ds(n))}function I1(n,r,a){if((Qe&6)!==0)throw Error(s(327));var c=!a&&(r&127)===0&&(r&n.expiredLanes)===0||Vn(n,r),f=c?uT(n,r):um(n,r,!0),x=c;do{if(f===0){Fo&&!c&&Rr(n,r,0,!1);break}else{if(a=n.current.alternate,x&&!lT(a)){f=um(n,r,!1),x=!1;continue}if(f===2){if(x=r,n.errorRecoveryDisabledLanes&x)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var P=n;f=uc;var G=P.current.memoizedState.isDehydrated;if(G&&(zo(P,_).flags|=256),_=um(P,_,!1),_!==2){if(im&&!G){P.errorRecoveryDisabledLanes|=x,ja|=x,f=4;break e}x=In,In=f,x!==null&&(In===null?In=x:In.push.apply(In,x))}f=_}if(x=!1,f!==2)continue}}if(f===1){zo(n,0),Rr(n,r,0,!0);break}e:{switch(c=n,x=f,x){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Rr(c,r,Yn,!Tr);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=lh+300-kt(),10<f)){if(Rr(c,r,Yn,!Tr),si(c,0,!0)!==0)break e;$s=r,c.timeoutHandle=lv(k1.bind(null,c,a,In,uh,rm,r,Yn,ja,Vo,Tr,x,"Throttled",-0,0),f);break e}k1(c,a,In,uh,rm,r,Yn,ja,Vo,Tr,x,null,-0,0)}}break}while(!0);ds(n)}function k1(n,r,a,c,f,x,_,P,G,te,oe,ue,ie,re){if(n.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ni},A1(r,x,ue);var be=(x&62914560)===x?lh-kt():(x&4194048)===x?N1-kt():0;if(be=GT(ue,be),be!==null){$s=x,n.cancelPendingCommit=be(V1.bind(null,n,r,x,a,c,f,_,P,G,oe,ue,null,ie,re)),Rr(n,x,_,!te);return}}V1(n,r,x,a,c,f,_,P,G)}function lT(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],x=f.getSnapshot;f=f.value;try{if(!Hn(x(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Rr(n,r,a,c){r&=~sm,r&=~ja,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var f=r;0<f;){var x=31-yt(f),_=1<<x;c[x]=-1,f&=~_}a!==0&&Yi(n,a,r)}function hh(){return(Qe&6)===0?(dc(0),!1):!0}function cm(){if(Pe!==null){if(tt===0)var n=Pe.return;else n=Pe,Bs=Aa=null,T0(n),ko=null,Yl=0,n=Pe;for(;n!==null;)c1(n.alternate,n),n=n.return;Pe=null}}function zo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,NT(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),$s=0,cm(),ot=n,Pe=a=ks(n.current,null),Fe=r,tt=0,Kn=null,Tr=!1,Fo=Vn(n,r),im=!1,Vo=Yn=sm=ja=Cr=Et=0,In=uc=null,rm=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var f=31-yt(c),x=1<<f;r|=n[f],c&=~x}return qs=r,ku(),a}function j1(n,r){Oe=null,q.H=nc,r===Io||r===Vu?(r=Xx(),tt=3):r===f0?(r=Xx(),tt=4):tt=r===U0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Kn=r,Pe===null&&(Et=1,eh(n,hi(r,n.current)))}function B1(){var n=$n.current;return n===null?!0:(Fe&4194048)===Fe?pi===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?n===pi:!1}function O1(){var n=q.H;return q.H=nc,n===null?nc:n}function M1(){var n=q.A;return q.A=aT,n}function dh(){Et=4,Tr||(Fe&4194048)!==Fe&&$n.current!==null||(Fo=!0),(Cr&134217727)===0&&(ja&134217727)===0||ot===null||Rr(ot,Fe,Yn,!1)}function um(n,r,a){var c=Qe;Qe|=2;var f=O1(),x=M1();(ot!==n||Fe!==r)&&(uh=null,zo(n,r)),r=!1;var _=Et;e:do try{if(tt!==0&&Pe!==null){var P=Pe,G=Kn;switch(tt){case 8:cm(),_=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var te=tt;if(tt=0,Kn=null,Ho(n,P,G,te),a&&Fo){_=0;break e}break;default:te=tt,tt=0,Kn=null,Ho(n,P,G,te)}}cT(),_=Et;break}catch(oe){j1(n,oe)}while(!0);return r&&n.shellSuspendCounter++,Bs=Aa=null,Qe=c,q.H=f,q.A=x,Pe===null&&(ot=null,Fe=0,ku()),_}function cT(){for(;Pe!==null;)P1(Pe)}function uT(n,r){var a=Qe;Qe|=2;var c=O1(),f=M1();ot!==n||Fe!==r?(uh=null,ch=kt()+500,zo(n,r)):Fo=Vn(n,r);e:do try{if(tt!==0&&Pe!==null){r=Pe;var x=Kn;t:switch(tt){case 1:tt=0,Kn=null,Ho(n,r,x,1);break;case 2:case 9:if(Kx(x)){tt=0,Kn=null,L1(r);break}r=function(){tt!==2&&tt!==9||ot!==n||(tt=7),ds(n)},x.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Kx(x)?(tt=0,Kn=null,L1(r)):(tt=0,Kn=null,Ho(n,r,x,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var P=Pe;if(_?Ev(_):P.stateNode.complete){tt=0,Kn=null;var G=P.sibling;if(G!==null)Pe=G;else{var te=P.return;te!==null?(Pe=te,fh(te)):Pe=null}break t}}tt=0,Kn=null,Ho(n,r,x,5);break;case 6:tt=0,Kn=null,Ho(n,r,x,6);break;case 8:cm(),Et=6;break e;default:throw Error(s(462))}}hT();break}catch(oe){j1(n,oe)}while(!0);return Bs=Aa=null,q.H=c,q.A=f,Qe=a,Pe!==null?0:(ot=null,Fe=0,ku(),Et)}function hT(){for(;Pe!==null&&!cn();)P1(Pe)}function P1(n){var r=o1(n.alternate,n,qs);n.memoizedProps=n.pendingProps,r===null?fh(n):Pe=r}function L1(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=t1(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=t1(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:T0(r);default:c1(a,r),r=Pe=Mx(r,qs),r=o1(a,r,qs)}n.memoizedProps=n.pendingProps,r===null?fh(n):Pe=r}function Ho(n,r,a,c){Bs=Aa=null,T0(r),ko=null,Yl=0;var f=r.return;try{if(J4(n,f,r,a,Fe)){Et=1,eh(n,hi(a,n.current)),Pe=null;return}}catch(x){if(f!==null)throw Pe=f,x;Et=1,eh(n,hi(a,n.current)),Pe=null;return}r.flags&32768?(qe||c===1?n=!0:Fo||(Fe&536870912)!==0?n=!1:(Tr=n=!0,(c===2||c===9||c===3||c===6)&&(c=$n.current,c!==null&&c.tag===13&&(c.flags|=16384))),F1(r,n)):fh(r)}function fh(n){var r=n;do{if((r.flags&32768)!==0){F1(r,Tr);return}n=r.return;var a=nT(r.alternate,r,qs);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=n}while(r!==null);Et===0&&(Et=5)}function F1(n,r){do{var a=iT(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);Et=6,Pe=null}function V1(n,r,a,c,f,x,_,P,G){n.cancelPendingCommit=null;do mh();while(Gt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(x=r.lanes|r.childLanes,x|=Zf,Al(n,a,x,_,P,G),n===ot&&(Pe=ot=null,Fe=0),Uo=r,Nr=n,$s=a,am=x,om=f,R1=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,pT($i,function(){return $1(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,f=X.p,X.p=2,_=Qe,Qe|=4;try{sT(n,r,a)}finally{Qe=_,X.p=f,q.T=c}}Gt=1,U1(),z1(),H1()}}function U1(){if(Gt===1){Gt=0;var n=Nr,r=Uo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var c=X.p;X.p=2;var f=Qe;Qe|=4;try{w1(r,n);var x=_m,_=Sx(n.containerInfo),P=x.focusedElem,G=x.selectionRange;if(_!==P&&P&&P.ownerDocument&&Cx(P.ownerDocument.documentElement,P)){if(G!==null&&Kf(P)){var te=G.start,oe=G.end;if(oe===void 0&&(oe=te),"selectionStart"in P)P.selectionStart=te,P.selectionEnd=Math.min(oe,P.value.length);else{var ue=P.ownerDocument||document,ie=ue&&ue.defaultView||window;if(ie.getSelection){var re=ie.getSelection(),be=P.textContent.length,Ce=Math.min(G.start,be),at=G.end===void 0?Ce:Math.min(G.end,be);!re.extend&&Ce>at&&(_=at,at=Ce,Ce=_);var Q=Tx(P,Ce),Y=Tx(P,at);if(Q&&Y&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var ee=ue.createRange();ee.setStart(Q.node,Q.offset),re.removeAllRanges(),Ce>at?(re.addRange(ee),re.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),re.addRange(ee))}}}}for(ue=[],re=P;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ue.length;P++){var le=ue[P];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Ch=!!wm,_m=wm=null}finally{Qe=f,X.p=c,q.T=a}}n.current=r,Gt=2}}function z1(){if(Gt===2){Gt=0;var n=Nr,r=Uo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var c=X.p;X.p=2;var f=Qe;Qe|=4;try{g1(n,r.alternate,r)}finally{Qe=f,X.p=c,q.T=a}}Gt=3}}function H1(){if(Gt===4||Gt===3){Gt=0,Pn();var n=Nr,r=Uo,a=$s,c=R1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,Uo=Nr=null,q1(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Sr=null),Ti(a),r=r.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Ln,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=q.T,f=X.p,X.p=2,q.T=null;try{for(var x=n.onRecoverableError,_=0;_<c.length;_++){var P=c[_];x(P.value,{componentStack:P.stack})}}finally{q.T=r,X.p=f}}($s&3)!==0&&mh(),ds(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===lm?hc++:(hc=0,lm=n):hc=0,dc(0)}}function q1(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Gl(r)))}function mh(){return U1(),z1(),H1(),$1()}function $1(){if(Gt!==5)return!1;var n=Nr,r=am;am=0;var a=Ti($s),c=q.T,f=X.p;try{X.p=32>a?32:a,q.T=null,a=om,om=null;var x=Nr,_=$s;if(Gt=0,Uo=Nr=null,$s=0,(Qe&6)!==0)throw Error(s(331));var P=Qe;if(Qe|=4,C1(x.current),E1(x,x.current,_,a),Qe=P,dc(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Ln,x)}catch{}return!0}finally{X.p=f,q.T=c,q1(n,r)}}function G1(n,r,a){r=hi(a,r),r=V0(n.stateNode,r,2),n=wr(n,r,2),n!==null&&(Ki(n,2),ds(n))}function nt(n,r,a){if(n.tag===3)G1(n,n,a);else for(;r!==null;){if(r.tag===3){G1(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sr===null||!Sr.has(c))){n=hi(a,n),a=Ky(2),c=wr(r,a,2),c!==null&&(Yy(a,c,r,n),Ki(c,2),ds(c));break}}r=r.return}}function hm(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new oT;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(a)||(im=!0,f.add(a),n=dT.bind(null,n,r,a),r.then(n,n))}function dT(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ot===n&&(Fe&a)===a&&(Et===4||Et===3&&(Fe&62914560)===Fe&&300>kt()-lh?(Qe&2)===0&&zo(n,0):sm|=a,Vo===Fe&&(Vo=0)),ds(n)}function K1(n,r){r===0&&(r=oo()),n=wa(n,r),n!==null&&(Ki(n,r),ds(n))}function fT(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),K1(n,a)}function mT(n,r){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),K1(n,a)}function pT(n,r){return ut(n,r)}var ph=null,qo=null,dm=!1,gh=!1,fm=!1,Dr=0;function ds(n){n!==qo&&n.next===null&&(qo===null?ph=qo=n:qo=qo.next=n),gh=!0,dm||(dm=!0,xT())}function dc(n,r){if(!fm&&gh){fm=!0;do for(var a=!1,c=ph;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var x=0;else{var _=c.suspendedLanes,P=c.pingedLanes;x=(1<<31-yt(42|n)+1)-1,x&=f&~(_&~P),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(a=!0,W1(c,x))}else x=Fe,x=si(c,c===ot?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(x&3)===0||Vn(c,x)||(a=!0,W1(c,x));c=c.next}while(a);fm=!1}}function gT(){Y1()}function Y1(){gh=dm=!1;var n=0;Dr!==0&&ST()&&(n=Dr);for(var r=kt(),a=null,c=ph;c!==null;){var f=c.next,x=X1(c,r);x===0?(c.next=null,a===null?ph=f:a.next=f,f===null&&(qo=a)):(a=c,(n!==0||(x&3)!==0)&&(gh=!0)),c=f}Gt!==0&&Gt!==5||dc(n),Dr!==0&&(Dr=0)}function X1(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var _=31-yt(x),P=1<<_,G=f[_];G===-1?((P&a)===0||(P&c)!==0)&&(f[_]=ao(P,r)):G<=r&&(n.expiredLanes|=P),x&=~P}if(r=ot,a=Fe,a=si(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===r&&(tt===2||tt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&It(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Vn(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(c!==null&&It(c),Ti(a)){case 2:case 8:a=Ei;break;case 32:a=$i;break;case 268435456:a=ca;break;default:a=$i}return c=Q1.bind(null,n),a=ut(a,c),n.callbackPriority=r,n.callbackNode=a,r}return c!==null&&c!==null&&It(c),n.callbackPriority=2,n.callbackNode=null,2}function Q1(n,r){if(Gt!==0&&Gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(mh()&&n.callbackNode!==a)return null;var c=Fe;return c=si(n,n===ot?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(I1(n,c,r),X1(n,kt()),n.callbackNode!=null&&n.callbackNode===a?Q1.bind(null,n):null)}function W1(n,r){if(mh())return null;I1(n,r,!0)}function xT(){RT(function(){(Qe&6)!==0?ut(ni,gT):Y1()})}function mm(){if(Dr===0){var n=Ro;n===0&&(n=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),Dr=n}return Dr}function Z1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:mo(""+n)}function J1(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function yT(n,r,a,c,f){if(r==="submit"&&a&&a.stateNode===f){var x=Z1((f[Xt]||null).action),_=c.submitter;_&&(r=(r=_[Xt]||null)?Z1(r.formAction):_.getAttribute("formAction"),r!==null&&(x=r,_=null));var P=new rs("action","action",null,c,f);n.push({event:P,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Dr!==0){var G=_?J1(f,_):new FormData(f);B0(a,{pending:!0,data:G,method:f.method,action:x},null,G)}}else typeof x=="function"&&(P.preventDefault(),G=_?J1(f,_):new FormData(f),B0(a,{pending:!0,data:G,method:f.method,action:x},x,G))},currentTarget:f}]})}}for(var pm=0;pm<Wf.length;pm++){var gm=Wf[pm],vT=gm.toLowerCase(),bT=gm[0].toUpperCase()+gm.slice(1);ji(vT,"on"+bT)}ji(Dx,"onAnimationEnd"),ji(Ix,"onAnimationIteration"),ji(kx,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(M4,"onTransitionRun"),ji(P4,"onTransitionStart"),ji(L4,"onTransitionCancel"),ji(jx,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),es("onBeforeInput",["compositionend","keypress","textInput","paste"]),es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function ev(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var x=void 0;if(r)for(var _=c.length-1;0<=_;_--){var P=c[_],G=P.instance,te=P.currentTarget;if(P=P.listener,G!==x&&f.isPropagationStopped())break e;x=P,f.currentTarget=te;try{x(f)}catch(oe){Iu(oe)}f.currentTarget=null,x=G}else for(_=0;_<c.length;_++){if(P=c[_],G=P.instance,te=P.currentTarget,P=P.listener,G!==x&&f.isPropagationStopped())break e;x=P,f.currentTarget=te;try{x(f)}catch(oe){Iu(oe)}f.currentTarget=null,x=G}}}}function Le(n,r){var a=r[lo];a===void 0&&(a=r[lo]=new Set);var c=n+"__bubble";a.has(c)||(tv(r,n,2,!1),a.add(c))}function xm(n,r,a){var c=0;r&&(c|=4),tv(a,n,c,r)}var xh="_reactListening"+Math.random().toString(36).slice(2);function ym(n){if(!n[xh]){n[xh]=!0,Tl.forEach(function(a){a!=="selectionchange"&&(wT.has(a)||xm(a,!1,n),xm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[xh]||(r[xh]=!0,xm("selectionchange",!1,r))}}function tv(n,r,a,c){switch(Dv(r)){case 2:var f=XT;break;case 8:f=QT;break;default:f=jm}a=f.bind(null,r,a,n),f=void 0,!fa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function vm(n,r,a,c,f){var x=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var P=c.stateNode.containerInfo;if(P===f)break;if(_===4)for(_=c.return;_!==null;){var G=_.tag;if((G===3||G===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;P!==null;){if(_=Zi(P),_===null)return;if(G=_.tag,G===5||G===6||G===26||G===27){c=x=_;continue e}P=P.parentNode}}c=c.return}hr(function(){var te=x,oe=oi(a),ue=[];e:{var ie=Bx.get(n);if(ie!==void 0){var re=rs,be=n;switch(n){case"keypress":if(pa(a)===0)break e;case"keydown":case"keyup":re=Nu;break;case"focusin":be="focus",re=xa;break;case"focusout":be="blur",re=xa;break;case"beforeblur":case"afterblur":re=xa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=w;break;case Dx:case Ix:case kx:re=wu;break;case jx:re=V;break;case"scroll":case"scrollend":re=Pl;break;case"wheel":re=se;break;case"copy":case"cut":case"paste":re=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Is;break;case"toggle":case"beforetoggle":re=Be}var Ce=(r&4)!==0,at=!Ce&&(n==="scroll"||n==="scrollend"),Q=Ce?ie!==null?ie+"Capture":null:ie;Ce=[];for(var Y=te,ee;Y!==null;){var le=Y;if(ee=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||ee===null||Q===null||(le=Ri(Y,Q),le!=null&&Ce.push(mc(Y,le,ee))),at)break;Y=Y.return}0<Ce.length&&(ie=new re(ie,be,null,a,oe),ue.push({event:ie,listeners:Ce}))}}if((r&7)===0){e:{if(ie=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",ie&&a!==Bl&&(be=a.relatedTarget||a.fromElement)&&(Zi(be)||be[Qi]))break e;if((re||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,re?(be=a.relatedTarget||a.toElement,re=te,be=be?Zi(be):null,be!==null&&(at=l(be),Ce=be.tag,be!==at||Ce!==5&&Ce!==27&&Ce!==6)&&(be=null)):(re=null,be=te),re!==be)){if(Ce=Ll,le="onMouseLeave",Q="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=Is,le="onPointerLeave",Q="onPointerEnter",Y="pointer"),at=re==null?ie:Un(re),ee=be==null?ie:Un(be),ie=new Ce(le,Y+"leave",re,a,oe),ie.target=at,ie.relatedTarget=ee,le=null,Zi(oe)===te&&(Ce=new Ce(Q,Y+"enter",be,a,oe),Ce.target=ee,Ce.relatedTarget=at,le=Ce),at=le,re&&be)t:{for(Ce=_T,Q=re,Y=be,ee=0,le=Q;le;le=Ce(le))ee++;le=0;for(var Ae=Y;Ae;Ae=Ce(Ae))le++;for(;0<ee-le;)Q=Ce(Q),ee--;for(;0<le-ee;)Y=Ce(Y),le--;for(;ee--;){if(Q===Y||Y!==null&&Q===Y.alternate){Ce=Q;break t}Q=Ce(Q),Y=Ce(Y)}Ce=null}else Ce=null;re!==null&&nv(ue,ie,re,Ce,!1),be!==null&&at!==null&&nv(ue,at,be,Ce,!0)}}e:{if(ie=te?Un(te):window,re=ie.nodeName&&ie.nodeName.toLowerCase(),re==="select"||re==="input"&&ie.type==="file")var Ke=vx;else if(xx(ie))if(bx)Ke=j4;else{Ke=I4;var _e=D4}else re=ie.nodeName,!re||re.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&fo(te.elementType)&&(Ke=vx):Ke=k4;if(Ke&&(Ke=Ke(n,te))){yx(ue,Ke,a,oe);break e}_e&&_e(n,ie,te),n==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&Il(ie,"number",ie.value)}switch(_e=te?Un(te):window,n){case"focusin":(xx(_e)||_e.contentEditable==="true")&&(wo=_e,Yf=te,Hl=null);break;case"focusout":Hl=Yf=wo=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Nx(ue,a,oe);break;case"selectionchange":if(O4)break;case"keydown":case"keyup":Nx(ue,a,oe)}var Me;if(Xe)e:{switch(n){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else bo?ya(n,a)&&(Ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(ls&&a.locale!=="ko"&&(bo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&bo&&(Me=Ml()):(ss=oe,Ol="value"in ss?ss.value:ss.textContent,bo=!0)),_e=yh(te,Ve),0<_e.length&&(Ve=new os(Ve,n,null,a,oe),ue.push({event:Ve,listeners:_e}),Me?Ve.data=Me:(Me=vo(a),Me!==null&&(Ve.data=Me)))),(Me=ci?C4(n,a):S4(n,a))&&(Ve=yh(te,"onBeforeInput"),0<Ve.length&&(_e=new os("onBeforeInput","beforeinput",null,a,oe),ue.push({event:_e,listeners:Ve}),_e.data=Me)),yT(ue,n,te,a,oe)}ev(ue,r)})}function mc(n,r,a){return{instance:n,listener:r,currentTarget:a}}function yh(n,r){for(var a=r+"Capture",c=[];n!==null;){var f=n,x=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||x===null||(f=Ri(n,a),f!=null&&c.unshift(mc(n,f,x)),f=Ri(n,r),f!=null&&c.push(mc(n,f,x))),n.tag===3)return c;n=n.return}return[]}function _T(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function nv(n,r,a,c,f){for(var x=r._reactName,_=[];a!==null&&a!==c;){var P=a,G=P.alternate,te=P.stateNode;if(P=P.tag,G!==null&&G===c)break;P!==5&&P!==26&&P!==27||te===null||(G=te,f?(te=Ri(a,x),te!=null&&_.unshift(mc(a,te,G))):f||(te=Ri(a,x),te!=null&&_.push(mc(a,te,G)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var ET=/\r\n?/g,AT=/\u0000|\uFFFD/g;function iv(n){return(typeof n=="string"?n:""+n).replace(ET,`
`).replace(AT,"")}function sv(n,r){return r=iv(r),iv(n)===r}function rt(n,r,a,c,f,x){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Sn(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Sn(n,""+c);break;case"className":zn(n,"class",c);break;case"tabIndex":zn(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(n,a,c);break;case"style":jl(n,c,x);break;case"data":if(r!=="object"){zn(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=mo(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(a==="formAction"?(r!=="input"&&rt(n,r,"name",f.name,f,null),rt(n,r,"formEncType",f.formEncType,f,null),rt(n,r,"formMethod",f.formMethod,f,null),rt(n,r,"formTarget",f.formTarget,f,null)):(rt(n,r,"encType",f.encType,f,null),rt(n,r,"method",f.method,f,null),rt(n,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=mo(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=Ni);break;case"onScroll":c!=null&&Le("scroll",n);break;case"onScrollEnd":c!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=mo(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Le("beforetoggle",n),Le("toggle",n),uo(n,"popover",c);break;case"xlinkActuate":Mt(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mt(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mt(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mt(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mt(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":uo(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,uo(n,a,c))}}function bm(n,r,a,c,f,x){switch(a){case"style":jl(n,c,x);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof c=="string"?Sn(n,c):(typeof c=="number"||typeof c=="bigint")&&Sn(n,""+c);break;case"onScroll":c!=null&&Le("scroll",n);break;case"onScrollEnd":c!=null&&Le("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),x=n[Xt]||null,x=x!=null?x[a]:null,typeof x=="function"&&n.removeEventListener(r,x,f),typeof c=="function")){typeof x!="function"&&x!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,c,f);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):uo(n,a,c)}}}function rn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var c=!1,f=!1,x;for(x in a)if(a.hasOwnProperty(x)){var _=a[x];if(_!=null)switch(x){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(n,r,x,_,a,null)}}f&&rt(n,r,"srcSet",a.srcSet,a,null),c&&rt(n,r,"src",a.src,a,null);return;case"input":Le("invalid",n);var P=x=_=f=null,G=null,te=null;for(c in a)if(a.hasOwnProperty(c)){var oe=a[c];if(oe!=null)switch(c){case"name":f=oe;break;case"type":_=oe;break;case"checked":G=oe;break;case"defaultChecked":te=oe;break;case"value":x=oe;break;case"defaultValue":P=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:rt(n,r,c,oe,a,null)}}pu(n,x,P,G,te,_,f,!1);return;case"select":Le("invalid",n),c=_=x=null;for(f in a)if(a.hasOwnProperty(f)&&(P=a[f],P!=null))switch(f){case"value":x=P;break;case"defaultValue":_=P;break;case"multiple":c=P;default:rt(n,r,f,P,a,null)}r=x,a=_,n.multiple=!!c,r!=null?or(n,!!c,r,!1):a!=null&&or(n,!!c,a,!0);return;case"textarea":Le("invalid",n),x=f=c=null;for(_ in a)if(a.hasOwnProperty(_)&&(P=a[_],P!=null))switch(_){case"value":c=P;break;case"defaultValue":f=P;break;case"children":x=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:rt(n,r,_,P,a,null)}lr(n,c,f,x);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(c=a[G],c!=null))switch(G){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:rt(n,r,G,c,a,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(c=0;c<fc.length;c++)Le(fc[c],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in a)if(a.hasOwnProperty(te)&&(c=a[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(n,r,te,c,a,null)}return;default:if(fo(r)){for(oe in a)a.hasOwnProperty(oe)&&(c=a[oe],c!==void 0&&bm(n,r,oe,c,a,void 0));return}}for(P in a)a.hasOwnProperty(P)&&(c=a[P],c!=null&&rt(n,r,P,c,a,null))}function TT(n,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,x=null,_=null,P=null,G=null,te=null,oe=null;for(re in a){var ue=a[re];if(a.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":G=ue;default:c.hasOwnProperty(re)||rt(n,r,re,null,c,ue)}}for(var ie in c){var re=c[ie];if(ue=a[ie],c.hasOwnProperty(ie)&&(re!=null||ue!=null))switch(ie){case"type":x=re;break;case"name":f=re;break;case"checked":te=re;break;case"defaultChecked":oe=re;break;case"value":_=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:re!==ue&&rt(n,r,ie,re,c,ue)}}ho(n,_,P,G,te,oe,x,f);return;case"select":re=_=P=ie=null;for(x in a)if(G=a[x],a.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":re=G;default:c.hasOwnProperty(x)||rt(n,r,x,null,c,G)}for(f in c)if(x=c[f],G=a[f],c.hasOwnProperty(f)&&(x!=null||G!=null))switch(f){case"value":ie=x;break;case"defaultValue":P=x;break;case"multiple":_=x;default:x!==G&&rt(n,r,f,x,c,G)}r=P,a=_,c=re,ie!=null?or(n,!!a,ie,!1):!!c!=!!a&&(r!=null?or(n,!!a,r,!0):or(n,!!a,a?[]:"",!1));return;case"textarea":re=ie=null;for(P in a)if(f=a[P],a.hasOwnProperty(P)&&f!=null&&!c.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:rt(n,r,P,null,c,f)}for(_ in c)if(f=c[_],x=a[_],c.hasOwnProperty(_)&&(f!=null||x!=null))switch(_){case"value":ie=f;break;case"defaultValue":re=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==x&&rt(n,r,_,f,c,x)}gu(n,ie,re);return;case"option":for(var be in a)if(ie=a[be],a.hasOwnProperty(be)&&ie!=null&&!c.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:rt(n,r,be,null,c,ie)}for(G in c)if(ie=c[G],re=a[G],c.hasOwnProperty(G)&&ie!==re&&(ie!=null||re!=null))switch(G){case"selected":n.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:rt(n,r,G,ie,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)ie=a[Ce],a.hasOwnProperty(Ce)&&ie!=null&&!c.hasOwnProperty(Ce)&&rt(n,r,Ce,null,c,ie);for(te in c)if(ie=c[te],re=a[te],c.hasOwnProperty(te)&&ie!==re&&(ie!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:rt(n,r,te,ie,c,re)}return;default:if(fo(r)){for(var at in a)ie=a[at],a.hasOwnProperty(at)&&ie!==void 0&&!c.hasOwnProperty(at)&&bm(n,r,at,void 0,c,ie);for(oe in c)ie=c[oe],re=a[oe],!c.hasOwnProperty(oe)||ie===re||ie===void 0&&re===void 0||bm(n,r,oe,ie,c,re);return}}for(var Q in a)ie=a[Q],a.hasOwnProperty(Q)&&ie!=null&&!c.hasOwnProperty(Q)&&rt(n,r,Q,null,c,ie);for(ue in c)ie=c[ue],re=a[ue],!c.hasOwnProperty(ue)||ie===re||ie==null&&re==null||rt(n,r,ue,ie,c,re)}function rv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CT(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],x=f.transferSize,_=f.initiatorType,P=f.duration;if(x&&P&&rv(_)){for(_=0,P=f.responseEnd,c+=1;c<a.length;c++){var G=a[c],te=G.startTime;if(te>P)break;var oe=G.transferSize,ue=G.initiatorType;oe&&rv(ue)&&(G=G.responseEnd,_+=oe*(G<P?1:(P-te)/(G-te)))}if(--c,r+=8*(x+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var wm=null,_m=null;function vh(n){return n.nodeType===9?n:n.ownerDocument}function av(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Em(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Am=null;function ST(){var n=window.event;return n&&n.type==="popstate"?n===Am?!1:(Am=n,!0):(Am=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,NT=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(n){return cv.resolve(null).then(n).catch(DT)}:lv;function DT(n){setTimeout(function(){throw n})}function Ir(n){return n==="head"}function uv(n,r){var a=r,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(f),Yo(r);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")pc(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,pc(a);for(var x=a.firstChild;x;){var _=x.nextSibling,P=x.nodeName;x[Wi]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=_}}else a==="body"&&pc(n.ownerDocument.body);a=f}while(a);Yo(r)}function hv(n,r){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function Tm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tm(a),co(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function IT(n,r,a,c){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Wi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var x=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=gi(n.nextSibling),n===null)break}return null}function kT(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=gi(n.nextSibling),n===null))return null;return n}function dv(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=gi(n.nextSibling),n===null))return null;return n}function Cm(n){return n.data==="$?"||n.data==="$~"}function Sm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function jT(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function gi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Nm=null;function fv(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return gi(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function mv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function pv(n,r,a){switch(r=vh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function pc(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);co(n)}var xi=new Map,gv=new Set;function bh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Gs=X.d;X.d={f:BT,r:OT,D:MT,C:PT,L:LT,m:FT,X:UT,S:VT,M:zT};function BT(){var n=Gs.f(),r=hh();return n||r}function OT(n){var r=ai(n);r!==null&&r.tag===5&&r.type==="form"?jy(r):Gs.r(n)}var $o=typeof document>"u"?null:document;function xv(n,r,a){var c=$o;if(c&&typeof r=="string"&&r){var f=Cn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),gv.has(f)||(gv.add(f),n={rel:n,crossOrigin:a,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),rn(r,"link",n),Ot(r),c.head.appendChild(r)))}}function MT(n){Gs.D(n),xv("dns-prefetch",n,null)}function PT(n,r){Gs.C(n,r),xv("preconnect",n,r)}function LT(n,r,a){Gs.L(n,r,a);var c=$o;if(c&&n&&r){var f='link[rel="preload"][as="'+Cn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Cn(a.imageSizes)+'"]')):f+='[href="'+Cn(n)+'"]';var x=f;switch(r){case"style":x=Go(n);break;case"script":x=Ko(n)}xi.has(x)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),xi.set(x,n),c.querySelector(f)!==null||r==="style"&&c.querySelector(gc(x))||r==="script"&&c.querySelector(xc(x))||(r=c.createElement("link"),rn(r,"link",n),Ot(r),c.head.appendChild(r)))}}function FT(n,r){Gs.m(n,r);var a=$o;if(a&&n){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Cn(c)+'"][href="'+Cn(n)+'"]',x=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ko(n)}if(!xi.has(x)&&(n=v({rel:"modulepreload",href:n},r),xi.set(x,n),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xc(x)))return}c=a.createElement("link"),rn(c,"link",n),Ot(c),a.head.appendChild(c)}}}function VT(n,r,a){Gs.S(n,r,a);var c=$o;if(c&&n){var f=Ji(c).hoistableStyles,x=Go(n);r=r||"default";var _=f.get(x);if(!_){var P={loading:0,preload:null};if(_=c.querySelector(gc(x)))P.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=xi.get(x))&&Rm(n,a);var G=_=c.createElement("link");Ot(G),rn(G,"link",n),G._p=new Promise(function(te,oe){G.onload=te,G.onerror=oe}),G.addEventListener("load",function(){P.loading|=1}),G.addEventListener("error",function(){P.loading|=2}),P.loading|=4,wh(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:P},f.set(x,_)}}}function UT(n,r){Gs.X(n,r);var a=$o;if(a&&n){var c=Ji(a).hoistableScripts,f=Ko(n),x=c.get(f);x||(x=a.querySelector(xc(f)),x||(n=v({src:n,async:!0},r),(r=xi.get(f))&&Dm(n,r),x=a.createElement("script"),Ot(x),rn(x,"link",n),a.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(f,x))}}function zT(n,r){Gs.M(n,r);var a=$o;if(a&&n){var c=Ji(a).hoistableScripts,f=Ko(n),x=c.get(f);x||(x=a.querySelector(xc(f)),x||(n=v({src:n,async:!0,type:"module"},r),(r=xi.get(f))&&Dm(n,r),x=a.createElement("script"),Ot(x),rn(x,"link",n),a.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(f,x))}}function yv(n,r,a,c){var f=(f=ye.current)?bh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Go(a.href),a=Ji(f).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Go(a.href);var x=Ji(f).hoistableStyles,_=x.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,_),(x=f.querySelector(gc(n)))&&!x._p&&(_.instance=x,_.state.loading=5),xi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xi.set(n,a),x||HT(f,n,a,_.state))),r&&c===null)throw Error(s(528,""));return _}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ko(a),a=Ji(f).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Go(n){return'href="'+Cn(n)+'"'}function gc(n){return'link[rel="stylesheet"]['+n+"]"}function vv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function HT(n,r,a,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),rn(r,"link",a),Ot(r),n.head.appendChild(r))}function Ko(n){return'[src="'+Cn(n)+'"]'}function xc(n){return"script[async]"+n}function bv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+Cn(a.href)+'"]');if(c)return r.instance=c,Ot(c),c;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ot(c),rn(c,"style",f),wh(c,a.precedence,n),r.instance=c;case"stylesheet":f=Go(a.href);var x=n.querySelector(gc(f));if(x)return r.state.loading|=4,r.instance=x,Ot(x),x;c=vv(a),(f=xi.get(f))&&Rm(c,f),x=(n.ownerDocument||n).createElement("link"),Ot(x);var _=x;return _._p=new Promise(function(P,G){_.onload=P,_.onerror=G}),rn(x,"link",c),r.state.loading|=4,wh(x,a.precedence,n),r.instance=x;case"script":return x=Ko(a.src),(f=n.querySelector(xc(x)))?(r.instance=f,Ot(f),f):(c=a,(f=xi.get(x))&&(c=v({},a),Dm(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ot(f),rn(f,"link",c),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,wh(c,a.precedence,n));return r.instance}function wh(n,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,x=f,_=0;_<c.length;_++){var P=c[_];if(P.dataset.precedence===r)x=P;else if(x!==f)break}x?x.parentNode.insertBefore(n,x.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Rm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Dm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var _h=null;function wv(n,r,a){if(_h===null){var c=new Map,f=_h=new Map;f.set(a,c)}else f=_h,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var x=a[f];if(!(x[Wi]||x[Bt]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var _=x.getAttribute(r)||"";_=n+_;var P=c.get(_);P?P.push(x):c.set(_,[x])}}return c}function _v(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function qT(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ev(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function $T(n,r,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Go(c.href),x=r.querySelector(gc(f));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Eh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=x,Ot(x);return}x=r.ownerDocument||r,c=vv(c),(f=xi.get(f))&&Rm(c,f),x=x.createElement("link"),Ot(x);var _=x;_._p=new Promise(function(P,G){_.onload=P,_.onerror=G}),rn(x,"link",c),a.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Eh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var Im=0;function GT(n,r){return n.stylesheets&&n.count===0&&Th(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&Th(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+r);0<n.imgBytes&&Im===0&&(Im=62500*CT());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Th(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>Im?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Th(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ah=null;function Th(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ah=new Map,r.forEach(KT,n),Ah=null,Eh.call(n))}function KT(n,r){if(!(r.state.loading&4)){var a=Ah.get(n);if(a)var c=a.get(null);else{a=new Map,Ah.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<f.length;x++){var _=f[x];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),c=_)}c&&a.set(null,c)}f=r.instance,_=f.getAttribute("data-precedence"),x=a.get(_)||c,x===c&&a.set(null,f),a.set(_,f),this.count++,c=Eh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),x?x.parentNode.insertBefore(f,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var yc={$$typeof:j,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function YT(n,r,a,c,f,x,_,P,G){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=x,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Av(n,r,a,c,f,x,_,P,G,te,oe,ue){return n=new YT(n,r,a,_,G,te,oe,ue,P),r=1,x===!0&&(r|=24),x=qn(3,null,null,r),n.current=x,x.stateNode=n,r=u0(),r.refCount++,n.pooledCache=r,r.refCount++,x.memoizedState={element:c,isDehydrated:a,cache:r},m0(x),n}function Tv(n){return n?(n=Ao,n):Ao}function Cv(n,r,a,c,f,x){f=Tv(f),c.context===null?c.context=f:c.pendingContext=f,c=br(r),c.payload={element:a},x=x===void 0?null:x,x!==null&&(c.callback=x),a=wr(n,c,r),a!==null&&(kn(a,n,r),Ql(a,n,r))}function Sv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function km(n,r){Sv(n,r),(n=n.alternate)&&Sv(n,r)}function Nv(n){if(n.tag===13||n.tag===31){var r=wa(n,67108864);r!==null&&kn(r,n,67108864),km(n,67108864)}}function Rv(n){if(n.tag===13||n.tag===31){var r=Xn();r=Xi(r);var a=wa(n,r);a!==null&&kn(a,n,r),km(n,r)}}var Ch=!0;function XT(n,r,a,c){var f=q.T;q.T=null;var x=X.p;try{X.p=2,jm(n,r,a,c)}finally{X.p=x,q.T=f}}function QT(n,r,a,c){var f=q.T;q.T=null;var x=X.p;try{X.p=8,jm(n,r,a,c)}finally{X.p=x,q.T=f}}function jm(n,r,a,c){if(Ch){var f=Bm(c);if(f===null)vm(n,r,c,Sh,a),Iv(n,c);else if(ZT(f,n,r,a,c))c.stopPropagation();else if(Iv(n,c),r&4&&-1<WT.indexOf(n)){for(;f!==null;){var x=ai(f);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var _=ii(x.pendingLanes);if(_!==0){var P=x;for(P.pendingLanes|=2,P.entangledLanes|=2;_;){var G=1<<31-yt(_);P.entanglements[1]|=G,_&=~G}ds(x),(Qe&6)===0&&(ch=kt()+500,dc(0))}}break;case 31:case 13:P=wa(x,2),P!==null&&kn(P,x,2),hh(),km(x,2)}if(x=Bm(c),x===null&&vm(n,r,c,Sh,a),x===f)break;f=x}f!==null&&c.stopPropagation()}else vm(n,r,c,null,a)}}function Bm(n){return n=oi(n),Om(n)}var Sh=null;function Om(n){if(Sh=null,n=Zi(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=u(r),n!==null)return n;n=null}else if(a===31){if(n=p(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Sh=n,null}function Dv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case ni:return 2;case Ei:return 8;case $i:case io:return 32;case ca:return 268435456;default:return 32}default:return 32}}var Mm=!1,kr=null,jr=null,Br=null,vc=new Map,bc=new Map,Or=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(n,r){switch(n){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":vc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(r.pointerId)}}function wc(n,r,a,c,f,x){return n===null||n.nativeEvent!==x?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:x,targetContainers:[f]},r!==null&&(r=ai(r),r!==null&&Nv(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function ZT(n,r,a,c,f){switch(r){case"focusin":return kr=wc(kr,n,r,a,c,f),!0;case"dragenter":return jr=wc(jr,n,r,a,c,f),!0;case"mouseover":return Br=wc(Br,n,r,a,c,f),!0;case"pointerover":var x=f.pointerId;return vc.set(x,wc(vc.get(x)||null,n,r,a,c,f)),!0;case"gotpointercapture":return x=f.pointerId,bc.set(x,wc(bc.get(x)||null,n,r,a,c,f)),!0}return!1}function kv(n){var r=Zi(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){n.blockedOn=r,Ci(n.priority,function(){Rv(a)});return}}else if(r===31){if(r=p(a),r!==null){n.blockedOn=r,Ci(n.priority,function(){Rv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Nh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Bm(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Bl=c,a.target.dispatchEvent(c),Bl=null}else return r=ai(a),r!==null&&Nv(r),n.blockedOn=a,!1;r.shift()}return!0}function jv(n,r,a){Nh(n)&&a.delete(r)}function JT(){Mm=!1,kr!==null&&Nh(kr)&&(kr=null),jr!==null&&Nh(jr)&&(jr=null),Br!==null&&Nh(Br)&&(Br=null),vc.forEach(jv),bc.forEach(jv)}function Rh(n,r){n.blockedOn===r&&(n.blockedOn=null,Mm||(Mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,JT)))}var Dh=null;function Bv(n){Dh!==n&&(Dh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Dh===n&&(Dh=null);for(var r=0;r<n.length;r+=3){var a=n[r],c=n[r+1],f=n[r+2];if(typeof c!="function"){if(Om(c||a)===null)continue;break}var x=ai(a);x!==null&&(n.splice(r,3),r-=3,B0(x,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Yo(n){function r(G){return Rh(G,n)}kr!==null&&Rh(kr,n),jr!==null&&Rh(jr,n),Br!==null&&Rh(Br,n),vc.forEach(r),bc.forEach(r);for(var a=0;a<Or.length;a++){var c=Or[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)kv(a),a.blockedOn===null&&Or.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],x=a[c+1],_=f[Xt]||null;if(typeof x=="function")_||Bv(a);else if(_){var P=null;if(x&&x.hasAttribute("formAction")){if(f=x,_=x[Xt]||null)P=_.formAction;else if(Om(f)!==null)continue}else P=_.action;typeof P=="function"?a[c+1]=P:(a.splice(c,3),c-=3),Bv(a)}}}function Ov(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Pm(n){this._internalRoot=n}Ih.prototype.render=Pm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,c=Xn();Cv(a,c,n,r,null,null)},Ih.prototype.unmount=Pm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Cv(n.current,2,null,n,null,null),hh(),r[Qi]=null}};function Ih(n){this._internalRoot=n}Ih.prototype.unstable_scheduleHydration=function(n){if(n){var r=hu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Or.length&&r!==0&&r<Or[a].priority;a++);Or.splice(a,0,n),a===0&&kv(n)}};var Mv=e.version;if(Mv!=="19.2.1")throw Error(s(527,Mv,"19.2.1"));X.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var eC={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{Ln=kh.inject(eC),jt=kh}catch{}}return Ec.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,c="",f=Hy,x=qy,_=$y;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Av(n,1,!1,null,null,a,c,null,f,x,_,Ov),n[Qi]=r.current,ym(n),new Pm(r)},Ec.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var c=!1,f="",x=Hy,_=qy,P=$y,G=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(x=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.formState!==void 0&&(G=a.formState)),r=Av(n,1,!0,r,a??null,c,f,G,x,_,P,Ov),r.context=Tv(null),a=r.current,c=Xn(),c=Xi(c),f=br(c),f.callback=null,wr(a,f,c),a=c,r.current.lanes=a,Ki(r,a),ds(r),n[Qi]=r.current,ym(n),new Ih(r)},Ec.version="19.2.1",Ec}var Gv;function dC(){if(Gv)return Um.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=hC(),Um.exports}var fC=dC();var Kv="popstate";function mC(i={}){function e(o,l){let{pathname:u="/",search:p="",hash:g=""}=Ka(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),pp("",{pathname:u,search:p,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let u=o.document.querySelector("base"),p="";if(u&&u.getAttribute("href")){let g=o.location.href,m=g.indexOf("#");p=m===-1?g:g.slice(0,m)}return p+"#"+(typeof l=="string"?l:Fc(l))}function s(o,l){vi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return gC(e,t,s,i)}function bt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function vi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pC(){return Math.random().toString(36).substring(2,10)}function Yv(i,e){return{usr:i.state,key:i.key,idx:e}}function pp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ka(e):e,state:t,key:e&&e.key||s||pC()}}function Fc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ka(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function gC(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,p="POP",g=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function v(){p="POP";let k=y(),U=k==null?null:k-m;m=k,g&&g({action:p,location:B.location,delta:U})}function b(k,U){p="PUSH";let S=pp(B.location,k,U);t&&t(S,k),m=y()+1;let j=Yv(S,m),M=B.createHref(S);try{u.pushState(j,"",M)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(M)}l&&g&&g({action:p,location:B.location,delta:1})}function N(k,U){p="REPLACE";let S=pp(B.location,k,U);t&&t(S,k),m=y();let j=Yv(S,m),M=B.createHref(S);u.replaceState(j,"",M),l&&g&&g({action:p,location:B.location,delta:0})}function I(k){return xC(k)}let B={get action(){return p},get location(){return i(o,u)},listen(k){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Kv,v),g=k,()=>{o.removeEventListener(Kv,v),g=null}},createHref(k){return e(o,k)},createURL:I,encodeLocation(k){let U=I(k);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:b,replace:N,go(k){return u.go(k)}};return B}function xC(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),bt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Fc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Iw(i,e,t="/"){return yC(i,e,t,!1)}function yC(i,e,t,s){let o=typeof e=="string"?Ka(e):e,l=Zs(o.pathname||"/",t);if(l==null)return null;let u=kw(i);vC(u);let p=null;for(let g=0;p==null&&g<u.length;++g){let m=DC(l);p=NC(u[g],m,s)}return p}function kw(i,e=[],t=[],s="",o=!1){let l=(u,p,g=o,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&g)return;bt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=Xs([s,y.relativePath]),b=t.concat(y);u.children&&u.children.length>0&&(bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),kw(u.children,e,b,v,g)),!(u.path==null&&!u.index)&&e.push({path:v,score:CC(v,u.index),routesMeta:b})};return i.forEach((u,p)=>{if(u.path===""||!u.path?.includes("?"))l(u,p);else for(let g of jw(u.path))l(u,p,!0,g)}),e}function jw(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=jw(s.join("/")),p=[];return p.push(...u.map(g=>g===""?l:[l,g].join("/"))),o&&p.push(...u),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function vC(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:SC(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var bC=/^:[\w-]+$/,wC=3,_C=2,EC=1,AC=10,TC=-2,Xv=i=>i==="*";function CC(i,e){let t=i.split("/"),s=t.length;return t.some(Xv)&&(s+=TC),e&&(s+=_C),t.filter(o=>!Xv(o)).reduce((o,l)=>o+(bC.test(l)?wC:l===""?EC:AC),s)}function SC(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function NC(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",u=[];for(let p=0;p<s.length;++p){let g=s[p],m=p===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Md({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},y),b=g.route;if(!v&&m&&t&&!s[s.length-1].route.index&&(v=Md({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Xs([l,v.pathname]),pathnameBase:OC(Xs([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=Xs([l,v.pathnameBase]))}return u}function Md(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=RC(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:v},b)=>{if(y==="*"){let I=p[b]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const N=p[b];return v&&!N?m[y]=void 0:m[y]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:i}}function RC(i,e=!1,t=!0){vi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function DC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Zs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var IC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kC=i=>IC.test(i);function jC(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Ka(i):i,l;if(t)if(kC(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=Qv(t.substring(1),"/"):l=Qv(t,e)}else l=e;return{pathname:l,search:MC(s),hash:PC(o)}}function Qv(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function $m(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BC(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bw(i){let e=BC(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Ow(i,e,t,s=!1){let o;typeof i=="string"?o=Ka(i):(o={...i},bt(!o.pathname||!o.pathname.includes("?"),$m("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),$m("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),$m("#","search","hash",o)));let l=i===""||o.pathname==="",u=l?"/":o.pathname,p;if(u==null)p=t;else{let v=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}p=v>=0?e[v]:"/"}let g=jC(o,p),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(m||y)&&(g.pathname+="/"),g}var Xs=i=>i.join("/").replace(/\/\/+/g,"/"),OC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),MC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,PC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function LC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function FC(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Mw=["POST","PUT","PATCH","DELETE"];new Set(Mw);var VC=["GET",...Mw];new Set(VC);var xl=$.createContext(null);xl.displayName="DataRouter";var af=$.createContext(null);af.displayName="DataRouterState";$.createContext(!1);var Pw=$.createContext({isTransitioning:!1});Pw.displayName="ViewTransition";var UC=$.createContext(new Map);UC.displayName="Fetchers";var zC=$.createContext(null);zC.displayName="Await";var Vi=$.createContext(null);Vi.displayName="Navigation";var Wc=$.createContext(null);Wc.displayName="Location";var Cs=$.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var Jp=$.createContext(null);Jp.displayName="RouteError";function HC(i,{relative:e}={}){bt(Zc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=$.useContext(Vi),{hash:o,pathname:l,search:u}=Jc(i,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Xs([t,l])),s.createHref({pathname:p,search:u,hash:o})}function Zc(){return $.useContext(Wc)!=null}function sr(){return bt(Zc(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Wc).location}var Lw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fw(i){$.useContext(Vi).static||$.useLayoutEffect(i)}function ei(){let{isDataRoute:i}=$.useContext(Cs);return i?nS():qC()}function qC(){bt(Zc(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(xl),{basename:e,navigator:t}=$.useContext(Vi),{matches:s}=$.useContext(Cs),{pathname:o}=sr(),l=JSON.stringify(Bw(s)),u=$.useRef(!1);return Fw(()=>{u.current=!0}),$.useCallback((g,m={})=>{if(vi(u.current,Lw),!u.current)return;if(typeof g=="number"){t.go(g);return}let y=Ow(g,JSON.parse(l),o,m.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xs([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,o,i])}$.createContext(null);function Vw(){let{matches:i}=$.useContext(Cs),e=i[i.length-1];return e?e.params:{}}function Jc(i,{relative:e}={}){let{matches:t}=$.useContext(Cs),{pathname:s}=sr(),o=JSON.stringify(Bw(t));return $.useMemo(()=>Ow(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function $C(i,e){return Uw(i,e)}function Uw(i,e,t,s,o){bt(Zc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=$.useContext(Vi),{matches:u}=$.useContext(Cs),p=u[u.length-1],g=p?p.params:{},m=p?p.pathname:"/",y=p?p.pathnameBase:"/",v=p&&p.route;{let S=v&&v.path||"";zw(m,!v||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let b=sr(),N;if(e){let S=typeof e=="string"?Ka(e):e;bt(y==="/"||S.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${S.pathname}" was given in the \`location\` prop.`),N=S}else N=b;let I=N.pathname||"/",B=I;if(y!=="/"){let S=y.replace(/^\//,"").split("/");B="/"+I.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=Iw(i,{pathname:B});vi(v||k!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),vi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=QC(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},g,S.params),pathname:Xs([y,l.encodeLocation?l.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?y:Xs([y,l.encodeLocation?l.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),u,t,s,o);return e&&U?$.createElement(Wc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},U):U}function GC(){let i=tS(),e=LC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,u)}var KC=$.createElement(GC,null),YC=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?$.createElement(Cs.Provider,{value:this.props.routeContext},$.createElement(Jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XC({routeContext:i,match:e,children:t}){let s=$.useContext(xl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Cs.Provider,{value:i},t)}function QC(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,u=t?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);bt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let p=!1,g=-1;if(t)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:b,errors:N}=t,I=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!N||N[v.route.id]===void 0);if(v.route.lazy||I){p=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let m=t&&s?(y,v)=>{s(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:FC(t.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,b)=>{let N,I=!1,B=null,k=null;t&&(N=u&&v.route.id?u[v.route.id]:void 0,B=v.route.errorElement||KC,p&&(g<0&&b===0?(zw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,k=null):g===b&&(I=!0,k=v.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,b+1)),S=()=>{let j;return N?j=B:I?j=k:v.route.Component?j=$.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=y,$.createElement(XC,{match:v,routeContext:{outlet:y,matches:U,isDataRoute:t!=null},children:j})};return t&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?$.createElement(YC,{location:t.location,revalidation:t.revalidation,component:B,error:N,children:S(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:m}):S()},null)}function eg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WC(i){let e=$.useContext(xl);return bt(e,eg(i)),e}function ZC(i){let e=$.useContext(af);return bt(e,eg(i)),e}function JC(i){let e=$.useContext(Cs);return bt(e,eg(i)),e}function tg(i){let e=JC(i),t=e.matches[e.matches.length-1];return bt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function eS(){return tg("useRouteId")}function tS(){let i=$.useContext(Jp),e=ZC("useRouteError"),t=tg("useRouteError");return i!==void 0?i:e.errors?.[t]}function nS(){let{router:i}=WC("useNavigate"),e=tg("useNavigate"),t=$.useRef(!1);return Fw(()=>{t.current=!0}),$.useCallback(async(o,l={})=>{vi(t.current,Lw),t.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var Wv={};function zw(i,e,t){!e&&!Wv[i]&&(Wv[i]=!0,vi(!1,t))}$.memo(iS);function iS({routes:i,future:e,state:t,unstable_onError:s}){return Uw(i,void 0,t,s,e)}function dn(i){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sS({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){bt(!Zc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=$.useMemo(()=>({basename:p,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[p,o,l,u]);typeof t=="string"&&(t=Ka(t));let{pathname:m="/",search:y="",hash:v="",state:b=null,key:N="default"}=t,I=$.useMemo(()=>{let B=Zs(m,p);return B==null?null:{location:{pathname:B,search:y,hash:v,state:b,key:N},navigationType:s}},[p,m,y,v,b,N,s]);return vi(I!=null,`<Router basename="${p}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:$.createElement(Vi.Provider,{value:g},$.createElement(Wc.Provider,{children:e,value:I}))}function rS({children:i,location:e}){return $C(gp(i),e)}function gp(i,e=[]){let t=[];return $.Children.forEach(i,(s,o)=>{if(!$.isValidElement(s))return;let l=[...e,o];if(s.type===$.Fragment){t.push.apply(t,gp(s.props.children,l));return}bt(s.type===dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=gp(s.props.children,l)),t.push(u)}),t}var zh="get",Hh="application/x-www-form-urlencoded";function of(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function aS(i){return of(i)&&i.tagName.toLowerCase()==="button"}function oS(i){return of(i)&&i.tagName.toLowerCase()==="form"}function lS(i){return of(i)&&i.tagName.toLowerCase()==="input"}function cS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function uS(i,e){return i.button===0&&(!e||e==="_self")&&!cS(i)}var jh=null;function hS(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var dS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gm(i){return i!=null&&!dS.has(i)?(vi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hh}"`),null):i}function fS(i,e){let t,s,o,l,u;if(oS(i)){let p=i.getAttribute("action");s=p?Zs(p,e):null,t=i.getAttribute("method")||zh,o=Gm(i.getAttribute("enctype"))||Hh,l=new FormData(i)}else if(aS(i)||lS(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(s=g?Zs(g,e):null,t=i.getAttribute("formmethod")||p.getAttribute("method")||zh,o=Gm(i.getAttribute("formenctype"))||Gm(p.getAttribute("enctype"))||Hh,l=new FormData(p,i),!hS()){let{name:m,type:y,value:v}=i;if(y==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,v)}}else{if(of(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zh,s=null,o=Hh,u=i}return l&&o==="text/plain"&&(u=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ng(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function mS(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Zs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function pS(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function xS(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await pS(l,t);return u.links?u.links():[]}return[]}));return wS(s.flat(1).filter(gS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(i,e,t,s,o,l){let u=(g,m)=>t[m]?g.route.id!==t[m].route.id:!0,p=(g,m)=>t[m].pathname!==g.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,m)=>u(g,m)||p(g,m)):l==="data"?e.filter((g,m)=>{let y=s.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(u(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function yS(i,e,{includeHydrateFallback:t}={}){return vS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function vS(i){return[...new Set(i)]}function bS(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function wS(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(bS(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function Hw(){let i=$.useContext(xl);return ng(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function _S(){let i=$.useContext(af);return ng(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ig=$.createContext(void 0);ig.displayName="FrameworkContext";function qw(){let i=$.useContext(ig);return ng(i,"You must render this element inside a <HydratedRouter> element"),i}function ES(i,e){let t=$.useContext(ig),[s,o]=$.useState(!1),[l,u]=$.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,b=$.useRef(null);$.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let B=U=>{U.forEach(S=>{u(S.isIntersecting)})},k=new IntersectionObserver(B,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[i]),$.useEffect(()=>{if(s){let B=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(B)}}},[s]);let N=()=>{o(!0)},I=()=>{o(!1),u(!1)};return t?i!=="intent"?[l,b,{}]:[l,b,{onFocus:Ac(p,N),onBlur:Ac(g,I),onMouseEnter:Ac(m,N),onMouseLeave:Ac(y,I),onTouchStart:Ac(v,N)}]:[!1,b,{}]}function Ac(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function AS({page:i,...e}){let{router:t}=Hw(),s=$.useMemo(()=>Iw(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?$.createElement(CS,{page:i,matches:s,...e}):null}function TS(i){let{manifest:e,routeModules:t}=qw(),[s,o]=$.useState([]);return $.useEffect(()=>{let l=!1;return xS(i,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[i,e,t]),s}function CS({page:i,matches:e,...t}){let s=sr(),{manifest:o,routeModules:l}=qw(),{basename:u}=Hw(),{loaderData:p,matches:g}=_S(),m=$.useMemo(()=>Zv(i,e,g,o,s,"data"),[i,e,g,o,s]),y=$.useMemo(()=>Zv(i,e,g,o,s,"assets"),[i,e,g,o,s]),v=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let I=new Set,B=!1;if(e.forEach(U=>{let S=o.routes[U.route.id];!S||!S.hasLoader||(!m.some(j=>j.route.id===U.route.id)&&U.route.id in p&&l[U.route.id]?.shouldRevalidate||S.hasClientLoader?B=!0:I.add(U.route.id))}),I.size===0)return[];let k=mS(i,u,"data");return B&&I.size>0&&k.searchParams.set("_routes",e.filter(U=>I.has(U.route.id)).map(U=>U.route.id).join(",")),[k.pathname+k.search]},[u,p,s,o,m,e,i,l]),b=$.useMemo(()=>yS(y,o),[y,o]),N=TS(y);return $.createElement($.Fragment,null,v.map(I=>$.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),b.map(I=>$.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),N.map(({key:I,link:B})=>$.createElement("link",{key:I,nonce:t.nonce,...B})))}function SS(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$w&&(window.__reactRouterVersion="7.10.1")}catch{}function NS({basename:i,children:e,unstable_useTransitions:t,window:s}){let o=$.useRef();o.current==null&&(o.current=mC({window:s,v5Compat:!0}));let l=o.current,[u,p]=$.useState({action:l.action,location:l.location}),g=$.useCallback(m=>{t===!1?p(m):$.startTransition(()=>p(m))},[t]);return $.useLayoutEffect(()=>l.listen(g),[l,g]),$.createElement(sS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t===!0})}var Gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=$.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:u,state:p,target:g,to:m,preventScrollReset:y,viewTransition:v,...b},N){let{basename:I,unstable_useTransitions:B}=$.useContext(Vi),k=typeof m=="string"&&Gw.test(m),U,S=!1;if(typeof m=="string"&&k&&(U=m,$w))try{let E=new URL(window.location.href),R=m.startsWith("//")?new URL(E.protocol+m):new URL(m),F=Zs(R.pathname,I);R.origin===E.origin&&F!=null?m=F+R.search+R.hash:S=!0}catch{vi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=HC(m,{relative:o}),[M,z,H]=ES(s,b),A=kS(m,{replace:u,state:p,target:g,preventScrollReset:y,relative:o,viewTransition:v,unstable_useTransitions:B});function D(E){e&&e(E),E.defaultPrevented||A(E)}let C=$.createElement("a",{...b,...H,href:U||j,onClick:S||l?e:D,ref:SS(N,z),target:g,"data-discover":!k&&t==="render"?"true":void 0});return M&&!k?$.createElement($.Fragment,null,C,$.createElement(AS,{page:j})):C});Rt.displayName="Link";var RS=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:p,children:g,...m},y){let v=Jc(u,{relative:m.relative}),b=sr(),N=$.useContext(af),{navigator:I,basename:B}=$.useContext(Vi),k=N!=null&&PS(v)&&p===!0,U=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,S=b.pathname,j=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(S=S.toLowerCase(),j=j?j.toLowerCase():null,U=U.toLowerCase()),j&&B&&(j=Zs(j,B)||j);const M=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let z=S===U||!o&&S.startsWith(U)&&S.charAt(M)==="/",H=j!=null&&(j===U||!o&&j.startsWith(U)&&j.charAt(U.length)==="/"),A={isActive:z,isPending:H,isTransitioning:k},D=z?e:void 0,C;typeof s=="function"?C=s(A):C=[s,z?"active":null,H?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let E=typeof l=="function"?l(A):l;return $.createElement(Rt,{...m,"aria-current":D,className:C,ref:y,style:E,to:u,viewTransition:p},typeof g=="function"?g(A):g)});RS.displayName="NavLink";var DS=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:u=zh,action:p,onSubmit:g,relative:m,preventScrollReset:y,viewTransition:v,...b},N)=>{let{unstable_useTransitions:I}=$.useContext(Vi),B=OS(),k=MS(p,{relative:m}),U=u.toLowerCase()==="get"?"get":"post",S=typeof p=="string"&&Gw.test(p),j=M=>{if(g&&g(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,H=z?.getAttribute("formmethod")||u,A=()=>B(z||M.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:o,state:l,relative:m,preventScrollReset:y,viewTransition:v});I&&t!==!1?$.startTransition(()=>A()):A()};return $.createElement("form",{ref:N,method:U,action:k,onSubmit:s?g:j,...b,"data-discover":!S&&i==="render"?"true":void 0})});DS.displayName="Form";function IS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kw(i){let e=$.useContext(xl);return bt(e,IS(i)),e}function kS(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:u,unstable_useTransitions:p}={}){let g=ei(),m=sr(),y=Jc(i,{relative:l});return $.useCallback(v=>{if(uS(v,e)){v.preventDefault();let b=t!==void 0?t:Fc(m)===Fc(y),N=()=>g(i,{replace:b,state:s,preventScrollReset:o,relative:l,viewTransition:u});p?$.startTransition(()=>N()):N()}},[m,g,y,t,s,e,i,o,l,u,p])}var jS=0,BS=()=>`__${String(++jS)}__`;function OS(){let{router:i}=Kw("useSubmit"),{basename:e}=$.useContext(Vi),t=eS(),s=i.fetch,o=i.navigate;return $.useCallback(async(l,u={})=>{let{action:p,method:g,encType:m,formData:y,body:v}=fS(l,e);if(u.navigate===!1){let b=u.fetcherKey||BS();await s(b,t,u.action||p,{preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||g,formEncType:u.encType||m,flushSync:u.flushSync})}else await o(u.action||p,{preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||g,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,o,e,t])}function MS(i,{relative:e}={}){let{basename:t}=$.useContext(Vi),s=$.useContext(Cs);bt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Jc(i||".",{relative:e})},u=sr();if(i==null){l.search=u.search;let p=new URLSearchParams(l.search),g=p.getAll("index");if(g.some(y=>y==="")){p.delete("index"),g.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();l.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Xs([t,l.pathname])),Fc(l)}function PS(i,{relative:e}={}){let t=$.useContext(Pw);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Kw("useViewTransitionState"),o=Jc(i,{relative:e});if(!t.isTransitioning)return!1;let l=Zs(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=Zs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Md(o.pathname,u)!=null||Md(o.pathname,l)!=null}function Km({category:i,title:e,description:t,profileImageUrl:s,authorName:o,timestamp:l,commentsCount:u}){return h.jsxs("div",{className:"border border-white/30 px-4 py-4 rounded-3xl bg-white/10 backdrop-blur-xl shadow-2xl shadow-black/20 flex flex-col hover:bg-white/15 transition-all duration-300",children:[h.jsx("div",{className:"border border-white/30 rounded-full w-fit px-3 py-1.5 bg-white/20 backdrop-blur-md",children:h.jsx("h2",{className:"text-white/90 text-sm font-bold drop-shadow-md",children:i})}),h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"text-white font-bold text-[20px]",children:e}),h.jsx("p",{className:"leading-tight text-gray-300",children:t})]}),h.jsxs("div",{className:"text-white mt-4 flex items-center gap-4 text-gray-400 text-sm",children:[h.jsx("img",{src:s,alt:`${o}'s profile`,className:"w-8 h-8 object-cover rounded-full"}),h.jsx("span",{children:o}),l&&h.jsx("span",{children:l}),u!==void 0&&h.jsxs("span",{children:[u," comments"]})]})]})}const LS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Jv=i=>{const e=FS(i);return e.charAt(0).toUpperCase()+e.slice(1)},Yw=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),VS=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var US={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zS=$.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:u,...p},g)=>$.createElement("svg",{ref:g,...US,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:Yw("lucide",o),...!l&&!VS(p)&&{"aria-hidden":"true"},...p},[...u.map(([m,y])=>$.createElement(m,y)),...Array.isArray(l)?l:[l]]));const De=(i,e)=>{const t=$.forwardRef(({className:s,...o},l)=>$.createElement(zS,{ref:l,iconNode:e,className:Yw(`lucide-${LS(Jv(i))}`,`lucide-${i}`,s),...o}));return t.displayName=Jv(i),t};const HS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sg=De("arrow-left",HS);const qS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$S=De("arrow-right",qS);const GS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],KS=De("award",GS);const YS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],XS=De("book-open",YS);const QS=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],Xw=De("cake",QS);const WS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rg=De("calendar",WS);const ZS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JS=De("check",ZS);const e6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],t6=De("chevron-down",e6);const n6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],i6=De("chevron-left",n6);const s6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],r6=De("chevron-right",s6);const a6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lf=De("circle-alert",a6);const o6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qw=De("circle-check-big",o6);const l6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ww=De("clock",l6);const c6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],u6=De("external-link",c6);const h6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],d6=De("eye-off",h6);const f6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ag=De("eye",f6);const m6=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],p6=De("facebook",m6);const g6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xp=De("file-text",g6);const x6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],y6=De("funnel",x6);const v6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],cf=De("heart",v6);const b6=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],w6=De("instagram",b6);const _6=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],E6=De("linkedin",_6);const A6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],eb=De("lock",A6);const T6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zw=De("log-out",T6);const C6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Jw=De("mail",C6);const S6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ym=De("map-pin",S6);const N6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],uf=De("message-circle",N6);const R6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hf=De("phone",R6);const D6=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],I6=De("pin",D6);const k6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],df=De("plus",k6);const j6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],og=De("search",j6);const B6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yp=De("send",B6);const O6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],e_=De("share-2",O6);const M6=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],t_=De("sparkles",M6);const P6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],L6=De("square-pen",P6);const F6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],V6=De("star",F6);const U6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],z6=De("tag",U6);const H6=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],vp=De("thumbs-up",H6);const q6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$6=De("trash-2",q6);const G6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],n_=De("trending-up",G6);const K6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Y6=De("triangle-alert",K6);const X6=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Q6=De("twitter",X6);const W6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Z6=De("upload",W6);const J6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ff=De("user",J6);const e3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],t3=De("users",e3);const n3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Xm=De("video",n3);const i3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bp=De("x",i3),s3=()=>{const[i,e]=$.useState(!1),[t,s]=$.useState(!1);$.useEffect(()=>{const l=setTimeout(()=>{e(!0),setTimeout(()=>s(!0),50)},100);return()=>clearTimeout(l)},[]);const o=()=>{s(!1),setTimeout(()=>{e(!1),sessionStorage.setItem("hasSeenPopup","true")},300)};return i?h.jsx("div",{className:`fixed inset-0 bg-black/40 z-[9999] flex items-center justify-center p-4 transition-opacity duration-500 ${t?"opacity-100":"opacity-0"}`,children:h.jsxs("div",{className:`bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 max-w-sm w-full p-6 transition-all duration-500 ${t?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-white drop-shadow-lg",children:"Need Immediate Help?"}),h.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Crisis support available 24/7"})]}),h.jsx("button",{onClick:o,className:"text-white/90 hover:text-white hover:bg-white/10 p-1 rounded-lg transition-all duration-200","aria-label":"Close popup",children:h.jsx(bp,{size:20})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(hf,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"988 Suicide & Crisis Lifeline"}),h.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Call or text 988"})]})]})}),h.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(uf,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"Crisis Text Line"}),h.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Text HOME to 741741"})]})]})}),h.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(lf,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"SAMHSA Helpline"}),h.jsx("p",{className:"text-white/70 text-sm font-medium",children:"1-800-662-4357 (free, 24/7)"})]})]})}),h.jsx("button",{onClick:o,className:"w-full bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold py-2 px-4 rounded-2xl transition-all duration-300 border border-white/30 shadow-lg mt-4 drop-shadow-md",children:"Close"})]})]})}):null},tb="/BPA-2025/assets/tsplanding-BdYZ5Q6_.png",r3="/BPA-2025/assets/pexels-creationhill-1681010-BvCsMv-_.jpg",a3="/BPA-2025/assets/pexels-olly-733872-BJ7-d401.jpg",o3="/BPA-2025/assets/pexels-olly-774095-BrmVMZ_7.jpg";function l3(){const i=ei(),[e,t]=$.useState(!1),[s,o]=$.useState(!1),[l,u]=$.useState(!1),[p,g]=$.useState(!1),[m,y]=$.useState(!1),v=sessionStorage.getItem("hasSeenPopup");$.useEffect(()=>{if(g(!0),!v){const B=setTimeout(()=>{y(!0)},2e3);return()=>clearTimeout(B)}},[]);const b=()=>{e||(t(!0),setTimeout(()=>{o(!0),t(!1),sessionStorage.setItem("hasVisitedHome","true"),window.scrollTo(0,0)},400))},N=()=>{e||(t(!0),setTimeout(()=>{o(!1),t(!1),u(!1)},400))},I=()=>{if(!s)b();else{const B=document.getElementById("main-content");B&&B.scrollIntoView({behavior:"smooth",block:"start"})}};return $.useEffect(()=>{let B=0;const k=S=>{if(!S.isTrusted)return;const j=S.deltaY>0;j&&!s&&!e&&!l?(S.preventDefault(),u(!0),b()):!j&&s&&!e&&window.scrollY===0&&(S.preventDefault(),N())},U=S=>{if(!S.isTrusted)return;const j=S.touches[0];if(!j)return;const M=j.clientY,z=B>M;B=M,z&&!s&&!e&&!l?(S.preventDefault(),u(!0),b()):!z&&s&&!e&&window.scrollY===0&&(S.preventDefault(),N())};return window.addEventListener("wheel",k,{passive:!1}),window.addEventListener("touchstart",U,{passive:!1}),window.addEventListener("touchmove",U,{passive:!1}),()=>{window.removeEventListener("wheel",k),window.removeEventListener("touchstart",U),window.removeEventListener("touchmove",U)}},[s,e,l]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:`
                    radial-gradient(circle at 15% 20%, rgba(56, 189, 248, 0.5) 0%, transparent 40%),
                    radial-gradient(circle at 85% 25%, rgba(14, 165, 233, 0.45) 0%, transparent 35%),
                    radial-gradient(circle at 35% 65%, rgba(125, 211, 252, 0.4) 0%, transparent 45%),
                    radial-gradient(circle at 75% 75%, rgba(2, 132, 199, 0.5) 0%, transparent 50%),
                    radial-gradient(circle at 50% 45%, rgba(96, 165, 250, 0.35) 0%, transparent 55%),
                    radial-gradient(circle at 5% 85%, rgba(3, 105, 161, 0.4) 0%, transparent 40%),
                    radial-gradient(circle at 90% 10%, rgba(186, 230, 253, 0.3) 0%, transparent 35%),
                    radial-gradient(circle at 60% 90%, rgba(7, 89, 133, 0.35) 0%, transparent 40%),
                    linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #38bdf8 100%)
                `,opacity:p?1:0,transition:"opacity 800ms ease-out"},children:[h.jsxs("section",{className:`min-h-screen flex items-center justify-center overflow-hidden ${s&&!e?"hidden":""}`,style:{position:s&&!e?"relative":"fixed",top:s&&!e?void 0:0,left:s&&!e?void 0:0,right:s&&!e?void 0:0,bottom:s&&!e?void 0:0,zIndex:s&&!e?void 0:50,backgroundImage:`url(${tb})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:e?0:1,transition:"opacity 1000ms cubic-bezier(0.4, 0.0, 0.2, 1)"},children:[h.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${tb})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",transform:e?"scale(3)":"scale(1)",transformOrigin:"center center",transition:"transform 600ms cubic-bezier(0.4, 0.0, 0.2, 1)"}}),h.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(12, 74, 110, 0.8) 0%, rgba(3, 105, 161, 0.7) 50%, rgba(56, 189, 248, 0.6) 100%)",opacity:e?1:0,transition:"opacity 600ms cubic-bezier(0.4, 0.0, 0.2, 1)"}}),h.jsx("div",{className:"absolute inset-0",style:{background:"rgba(0, 0, 0, 0.3)",opacity:e?0:1,transition:"opacity 1000ms cubic-bezier(0.4, 0.0, 0.2, 1)"}}),h.jsxs("div",{className:"z-10 px-4 sm:px-8 md:px-16 lg:px-24 text-center max-w-5xl",style:{opacity:e?0:1,transform:e?"scale(0.9)":"scale(1)",transition:"all 900ms cubic-bezier(0.4, 0.0, 0.2, 1)"},children:[h.jsx("h1",{className:"text-4xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-black text-white mb-4 sm:mb-6 md:mb-8 leading-tight drop-shadow-2xl tracking-tight",children:"#RiseAbove"}),h.jsx("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl text-white/95 mb-8 sm:mb-12 md:mb-16 leading-relaxed font-semibold px-2",children:"Join thousands of others who have overcome their fears"}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center px-2",children:[h.jsx("button",{onClick:()=>i("/counseling"),className:"px-6 sm:px-8 md:px-10 py-3 sm:py-4 md:py-5 bg-white/25 hover:bg-white/35 backdrop-blur-xl text-white font-bold text-base sm:text-lg rounded-full border border-white/40 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg hover:scale-105",children:"Get Support"}),h.jsx("button",{onClick:I,className:"px-6 sm:px-8 md:px-10 py-3 sm:py-4 md:py-5 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-semibold text-base sm:text-lg rounded-full border border-white/30 shadow-xl transition-all duration-300 hover:scale-105",children:"View The Change"})]})]}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-48 z-20 -mb-8",children:h.jsxs("svg",{viewBox:"0 0 1200 200",preserveAspectRatio:"none",className:"w-full h-full",children:[h.jsx("path",{d:"M0,100 C200,140 300,80 450,110 C600,140 750,90 900,120 C1050,150 1150,100 1200,130 L1200,200 L0,200 Z",fill:"url(#soft-blue1)",opacity:"0.4"}),h.jsx("path",{d:"M0,85 C150,55 350,105 500,75 C650,45 800,95 950,65 C1100,35 1180,75 1200,85 L1200,200 L0,200 Z",fill:"url(#soft-blue2)",opacity:"0.35"}),h.jsx("path",{d:"M0,70 C100,100 250,50 400,80 C550,110 700,60 850,90 C1000,120 1120,70 1200,100 L1200,200 L0,200 Z",fill:"url(#soft-white1)",opacity:"0.3"}),h.jsx("path",{d:"M0,60 C180,80 320,40 520,70 C720,100 880,50 1050,80 C1150,95 1180,60 1200,75 L1200,200 L0,200 Z",fill:"url(#soft-blue3)",opacity:"0.25"}),h.jsx("path",{d:"M0,50 C220,70 380,30 580,60 C780,90 920,40 1100,65 C1170,75 1190,45 1200,60 L1200,200 L0,200 Z",fill:"url(#soft-white2)",opacity:"0.2"}),h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"soft-blue1",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"#bfdbfe",stopOpacity:"0.6"}),h.jsx("stop",{offset:"50%",stopColor:"#dbeafe",stopOpacity:"0.7"}),h.jsx("stop",{offset:"100%",stopColor:"#eff6ff",stopOpacity:"0.3"})]}),h.jsxs("linearGradient",{id:"soft-blue2",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"#93c5fd",stopOpacity:"0.5"}),h.jsx("stop",{offset:"50%",stopColor:"#bfdbfe",stopOpacity:"0.6"}),h.jsx("stop",{offset:"100%",stopColor:"#dbeafe",stopOpacity:"0.2"})]}),h.jsxs("linearGradient",{id:"soft-white1",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.5"}),h.jsx("stop",{offset:"50%",stopColor:"#f0f9ff",stopOpacity:"0.4"}),h.jsx("stop",{offset:"100%",stopColor:"#e0f2fe",stopOpacity:"0.1"})]}),h.jsxs("linearGradient",{id:"soft-blue3",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"#7dd3fc",stopOpacity:"0.4"}),h.jsx("stop",{offset:"50%",stopColor:"#bae6fd",stopOpacity:"0.3"}),h.jsx("stop",{offset:"100%",stopColor:"#e0f2fe",stopOpacity:"0.1"})]}),h.jsxs("linearGradient",{id:"soft-white2",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.4"}),h.jsx("stop",{offset:"50%",stopColor:"#f0f9ff",stopOpacity:"0.3"}),h.jsx("stop",{offset:"100%",stopColor:"#dbeafe",stopOpacity:"0"})]})]})]})})]}),h.jsxs("section",{id:"main-content",className:"relative flex flex-col items-center pb-32",style:{background:"radial-gradient(ellipse at 20% 10%, #0A0F2A 0%, #6A1E55 35%, #D76F86 65%, #FFA54C 95%), linear-gradient(155deg, #0A0F2A 0%, #5A1648 40%, #C86080 70%, #FF954A 100%)",opacity:s?1:0,transform:s?"translateY(0)":"translateY(20px)",transition:"all 800ms cubic-bezier(0.4, 0.0, 0.2, 1)",pointerEvents:s?"auto":"none"},children:[h.jsxs("div",{className:"w-full py-12 sm:py-16 md:py-20 lg:py-24 relative space-y-20 sm:space-y-28 md:space-y-40",children:[h.jsx("div",{className:"w-full px-4 sm:px-6 md:px-12 lg:px-16 xl:px-24",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center max-w-[1600px] mx-auto",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-400/20 to-blue-500/20 rounded-full blur-3xl"}),h.jsx("img",{src:r3,alt:"Sarah's Journey",className:"relative z-10 w-full h-64 sm:h-80 md:h-96 lg:h-[500px] xl:h-[600px] object-cover rounded-2xl sm:rounded-3xl shadow-2xl"})]}),h.jsxs("div",{className:"relative space-y-4 sm:space-y-6",children:[h.jsx("div",{className:"absolute -top-4 sm:-top-6 -left-4 sm:-left-6 text-white/10 text-7xl sm:text-[100px] md:text-[120px] font-serif leading-none",children:'"'}),h.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2 relative z-10",children:"Mike's Journey"}),h.jsx("div",{className:"h-1 w-16 sm:w-20 md:w-24 bg-gradient-to-r from-sky-400 to-blue-500 rounded-full mb-4 sm:mb-6"}),h.jsx("p",{className:"text-white/95 text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed",children:"For years, I battled with depression that felt like an endless darkness. Some days, getting out of bed seemed impossible. I felt completely alone in my struggle."}),h.jsx("p",{className:"text-white/95 text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed",children:"Finding Nimbus changed everything. The community welcomed me with open arms, and through their support and the professional counseling I found here, I slowly began to see light again."}),h.jsx("p",{className:"text-white/95 text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed",children:"Today, I'm not just survivingI'm thriving. I've learned to manage my mental health, and I'm passionate about helping others who are going through what I experienced. Recovery is possible."}),h.jsxs("p",{className:"text-white/70 text-sm sm:text-base md:text-lg font-semibold mt-6 sm:mt-8 italic flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Mike B., 2 years on her journey"]})]})]})}),h.jsx("div",{className:"w-full px-4 sm:px-6 md:px-12 lg:px-16 xl:px-24",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center max-w-[1600px] mx-auto",children:[h.jsxs("div",{className:"relative order-2 lg:order-1 space-y-4 sm:space-y-6",children:[h.jsx("div",{className:"absolute -top-4 sm:-top-6 -right-4 sm:-right-6 text-white/10 text-7xl sm:text-[100px] md:text-[120px] font-serif leading-none",children:'"'}),h.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2 relative z-10",children:"Sarah's Recovery"}),h.jsx("div",{className:"h-1 w-16 sm:w-20 md:w-24 bg-gradient-to-r from-blue-400 to-sky-500 rounded-full mb-4 sm:mb-6"}),h.jsx("p",{className:"text-white/95 text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed",children:"My addiction to substances nearly cost me everythingmy family, my career, my life. I hit rock bottom and didn't know if I could ever climb back up."}),h.jsx("p",{className:"text-white/95 text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed",children:"Through Nimbus, I connected with others who understood my pain without judgment. The resources here pointed me toward professional treatment, and the community kept me accountable during my darkest moments."}),h.jsx("p",{className:"text-white/95 text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed",children:"I've been clean for 18 months now. I've rebuilt relationships with my family and found purpose in mentoring others in recovery. Every day is a choice, and Nimbus helps me make the right one."}),h.jsxs("p",{className:"text-white/70 text-sm sm:text-base md:text-lg font-semibold mt-6 sm:mt-8 italic flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Sarah R., 18 months sober"]})]}),h.jsxs("div",{className:"relative order-1 lg:order-2",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-bl from-blue-400/20 to-sky-500/20 rounded-full blur-3xl"}),h.jsx("img",{src:a3,alt:"Michael's Recovery",className:"relative z-10 w-full h-64 sm:h-80 md:h-96 lg:h-[500px] xl:h-[600px] object-cover rounded-2xl sm:rounded-3xl shadow-2xl"})]})]})}),h.jsx("div",{className:"w-full px-4 sm:px-6 md:px-12 lg:px-16 xl:px-24",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center max-w-[1600px] mx-auto",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-300/20 to-blue-600/20 rounded-full blur-3xl"}),h.jsx("img",{src:o3,alt:"Jessica's Transformation",className:"relative z-10 w-full h-64 sm:h-80 md:h-96 lg:h-[500px] xl:h-[600px] object-cover rounded-2xl sm:rounded-3xl shadow-2xl"})]}),h.jsxs("div",{className:"relative space-y-4 sm:space-y-6",children:[h.jsx("div",{className:"absolute -top-4 sm:-top-6 -left-4 sm:-left-6 text-white/10 text-7xl sm:text-[100px] md:text-[120px] font-serif leading-none",children:'"'}),h.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2 relative z-10",children:"Jessica's Transformation"}),h.jsx("div",{className:"h-1 w-16 sm:w-20 md:w-24 bg-gradient-to-r from-sky-300 to-blue-600 rounded-full mb-4 sm:mb-6"}),h.jsx("p",{className:"text-white/95 text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed",children:"Anxiety controlled my life for so long. Panic attacks would strike without warning, keeping me isolated and afraid to leave my home. I felt trapped in my own mind."}),h.jsx("p",{className:"text-white/95 text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed",children:"Nimbus gave me the courage to seek help. The forum discussions taught me I wasn't alone, and the professional counselors here gave me tools to manage my anxiety effectively."}),h.jsx("p",{className:"text-white/95 text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed",children:"Now I'm living life on my terms. I travel, I've made new friends, and I even started my own business. The anxiety hasn't disappeared, but I've learned to live alongside it rather than letting it control me."}),h.jsxs("p",{className:"text-white/70 text-sm sm:text-base md:text-lg font-semibold mt-6 sm:mt-8 italic flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Jessica L., reclaiming her life"]})]})]})})]}),h.jsx("div",{className:"w-full py-12 sm:py-16 md:py-20 px-4 sm:px-6 md:px-12 lg:px-16 xl:px-24",children:h.jsxs("div",{className:"max-w-[1600px] mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-10 md:gap-12 items-center",children:[h.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:"Latest Discussions"}),h.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[h.jsx(Km,{category:"Mental Health",title:"How to manage anxiety?",description:"Looking for tips and strategies to cope with anxiety.",profileImageUrl:"home/person1.jpg",authorName:"John Doe",timestamp:"2 hours ago",commentsCount:5}),h.jsx(Km,{category:"Support",title:"Dealing with stress at work",description:"Anyone else struggling with work-life balance?",profileImageUrl:"home/person2.jpg",authorName:"Jane Smith",timestamp:"5 hours ago",commentsCount:12}),h.jsx(Km,{category:"Wellness",title:"Meditation tips for beginners",description:"Starting my mindfulness journey, any advice?",profileImageUrl:"home/person3.jpg",authorName:"Mike Johnson",timestamp:"1 day ago",commentsCount:8})]}),h.jsx("button",{onClick:()=>i("/forum"),className:"px-6 sm:px-8 md:px-10 py-3 sm:py-4 bg-white/15 hover:bg-white/25 backdrop-blur-xl text-white font-bold text-base sm:text-lg rounded-full border border-white/30 shadow-xl transition-all duration-300 hover:scale-105",children:"View More Discussions"})]}),h.jsx("div",{className:"lg:sticky lg:top-24",children:h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl sm:rounded-3xl p-8 sm:p-10 md:p-12 border border-white/20 shadow-2xl h-full flex flex-col justify-center items-center text-center space-y-4 sm:space-y-6",children:[h.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white/20 rounded-full flex items-center justify-center mb-3 sm:mb-4",children:h.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),h.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:"Still need more help?"}),h.jsx("p",{className:"text-white/80 text-sm sm:text-base md:text-lg",children:"Connect with a professional counselor who can provide personalized support"}),h.jsx("button",{onClick:()=>i("/counseling"),className:"px-8 sm:px-10 md:px-12 py-4 sm:py-5 bg-white/20 hover:bg-white/30 backdrop-blur-xl text-white font-bold text-base sm:text-lg rounded-full border border-white/40 shadow-2xl shadow-black/20 transition-all duration-300 hover:scale-105",children:"Book an appointment now"})]})})]})})]})]}),m&&h.jsx(s3,{})]})}function c3(){return h.jsx("div",{className:"min-h-screen pt-32 px-4",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Education"}),h.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:h.jsx("p",{className:"text-white/80 text-lg",children:"Education page coming soon..."})})]})})}function u3(){return h.jsx("div",{className:"min-h-screen pt-32 px-4",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Get Help"}),h.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:h.jsx("p",{className:"text-white/80 text-lg",children:"Help page coming soon..."})})]})})}const h3=()=>{};var nb={};const i_=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},d3=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],u=i[t++],p=i[t++],g=((o&7)<<18|(l&63)<<12|(u&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],u=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},s_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],u=o+1<i.length,p=u?i[o+1]:0,g=o+2<i.length,m=g?i[o+2]:0,y=l>>2,v=(l&3)<<4|p>>4;let b=(p&15)<<2|m>>6,N=m&63;g||(N=64,u||(b=64)),s.push(t[y],t[v],t[b],t[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(i_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):d3(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const m=o<i.length?t[i.charAt(o)]:64;++o;const v=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||p==null||m==null||v==null)throw new f3;const b=l<<2|p>>4;if(s.push(b),m!==64){const N=p<<4&240|m>>2;if(s.push(N),v!==64){const I=m<<6&192|v;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class f3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m3=function(i){const e=i_(i);return s_.encodeByteArray(e,!0)},Pd=function(i){return m3(i).replace(/\./g,"")},r_=function(i){try{return s_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const g3=()=>p3().__FIREBASE_DEFAULTS__,x3=()=>{if(typeof process>"u"||typeof nb>"u")return;const i=nb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},y3=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&r_(i[1]);return e&&JSON.parse(e)},mf=()=>{try{return h3()||g3()||x3()||y3()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},a_=i=>mf()?.emulatorHosts?.[i],o_=i=>{const e=a_(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},l_=()=>mf()?.config,c_=i=>mf()?.[`_${i}`];class v3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function na(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lg(i){return(await fetch(i,{credentials:"include"})).ok}function u_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Pd(JSON.stringify(t)),Pd(JSON.stringify(u)),""].join(".")}const kc={};function b3(){const i={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?i.emulator.push(e):i.prod.push(e);return i}function w3(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let ib=!1;function cg(i,e){if(typeof window>"u"||typeof document>"u"||!na(window.location.host)||kc[i]===e||kc[i]||ib)return;kc[i]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=b3().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function p(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,N){b.setAttribute("width","24"),b.setAttribute("id",N),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{ib=!0,u()},b}function y(b,N){b.setAttribute("id",N),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=w3(s),N=t("text"),I=document.getElementById(N)||document.createElement("span"),B=t("learnmore"),k=document.getElementById(B)||document.createElement("a"),U=t("preprendIcon"),S=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const j=b.element;p(j),y(k,B);const M=m();g(S,U),j.append(S,I,k,M),document.body.appendChild(j)}l?(I.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function E3(){const i=mf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h_(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function T3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C3(){const i=xn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function S3(){return!E3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d_(){try{return typeof indexedDB=="object"}catch{return!1}}function f_(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function N3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const R3="FirebaseError";class wi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=R3,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?D3(l,s):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new wi(o,p,s)}}function D3(i,e){return i.replace(I3,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const I3=/\{\$([^}]+)}/g;function k3(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Es(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],u=e[o];if(sb(l)&&sb(u)){if(!Es(l,u))return!1}else if(l!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function sb(i){return i!==null&&typeof i=="object"}function eu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Sc(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function j3(i,e){const t=new B3(i,e);return t.subscribe.bind(t)}class B3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");O3(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Qm),o.error===void 0&&(o.error=Qm),o.complete===void 0&&(o.complete=Qm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O3(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Qm(){}const M3=1e3,P3=2,L3=14400*1e3,F3=.5;function rb(i,e=M3,t=P3){const s=e*Math.pow(t,i),o=Math.round(F3*s*(Math.random()-.5)*2);return Math.min(L3,s+o)}function ct(i){return i&&i._delegate?i._delegate:i}class bi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Oa="[DEFAULT]";class V3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new v3;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z3(e))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oa){return this.instances.has(e)}getOptions(e=Oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:U3(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Oa){return this.component?this.component.multipleInstances?e:Oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U3(i){return i===Oa?void 0:i}function z3(i){return i.instantiationMode==="EAGER"}class H3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new V3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const q3={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},$3=Ue.INFO,G3={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},K3=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=G3[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pf{constructor(e){this.name=e,this._logLevel=$3,this._logHandler=K3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Y3=(i,e)=>e.some(t=>i instanceof t);let ab,ob;function X3(){return ab||(ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q3(){return ob||(ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m_=new WeakMap,wp=new WeakMap,p_=new WeakMap,Wm=new WeakMap,ug=new WeakMap;function W3(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",u)},l=()=>{t($r(i.result)),o()},u=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&m_.set(t,i)}).catch(()=>{}),ug.set(e,i),e}function Z3(i){if(wp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",u),i.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",u),i.addEventListener("abort",u)});wp.set(i,e)}let _p={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return wp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||p_.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $r(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function J3(i){_p=i(_p)}function e5(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Zm(this),e,...t);return p_.set(s,e.sort?e.sort():[e]),$r(s)}:Q3().includes(i)?function(...e){return i.apply(Zm(this),e),$r(m_.get(this))}:function(...e){return $r(i.apply(Zm(this),e))}}function t5(i){return typeof i=="function"?e5(i):(i instanceof IDBTransaction&&Z3(i),Y3(i,X3())?new Proxy(i,_p):i)}function $r(i){if(i instanceof IDBRequest)return W3(i);if(Wm.has(i))return Wm.get(i);const e=t5(i);return e!==i&&(Wm.set(i,e),ug.set(e,i)),e}const Zm=i=>ug.get(i);function g_(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const u=indexedDB.open(i,e),p=$r(u);return s&&u.addEventListener("upgradeneeded",g=>{s($r(u.result),g.oldVersion,g.newVersion,$r(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const n5=["get","getKey","getAll","getAllKeys","count"],i5=["put","add","delete","clear"],Jm=new Map;function lb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=i5.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||n5.includes(t)))return;const l=async function(u,...p){const g=this.transaction(u,o?"readwrite":"readonly");let m=g.store;return s&&(m=m.index(p.shift())),(await Promise.all([m[t](...p),o&&g.done]))[0]};return Jm.set(e,l),l}J3(i=>({...i,get:(e,t,s)=>lb(e,t)||i.get(e,t,s),has:(e,t)=>!!lb(e,t)||i.has(e,t)}));class s5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(r5(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function r5(i){return i.getComponent()?.type==="VERSION"}const Ep="@firebase/app",cb="0.14.6";const Js=new pf("@firebase/app"),a5="@firebase/app-compat",o5="@firebase/analytics-compat",l5="@firebase/analytics",c5="@firebase/app-check-compat",u5="@firebase/app-check",h5="@firebase/auth",d5="@firebase/auth-compat",f5="@firebase/database",m5="@firebase/data-connect",p5="@firebase/database-compat",g5="@firebase/functions",x5="@firebase/functions-compat",y5="@firebase/installations",v5="@firebase/installations-compat",b5="@firebase/messaging",w5="@firebase/messaging-compat",_5="@firebase/performance",E5="@firebase/performance-compat",A5="@firebase/remote-config",T5="@firebase/remote-config-compat",C5="@firebase/storage",S5="@firebase/storage-compat",N5="@firebase/firestore",R5="@firebase/ai",D5="@firebase/firestore-compat",I5="firebase",k5="12.6.0";const Ap="[DEFAULT]",j5={[Ep]:"fire-core",[a5]:"fire-core-compat",[l5]:"fire-analytics",[o5]:"fire-analytics-compat",[u5]:"fire-app-check",[c5]:"fire-app-check-compat",[h5]:"fire-auth",[d5]:"fire-auth-compat",[f5]:"fire-rtdb",[m5]:"fire-data-connect",[p5]:"fire-rtdb-compat",[g5]:"fire-fn",[x5]:"fire-fn-compat",[y5]:"fire-iid",[v5]:"fire-iid-compat",[b5]:"fire-fcm",[w5]:"fire-fcm-compat",[_5]:"fire-perf",[E5]:"fire-perf-compat",[A5]:"fire-rc",[T5]:"fire-rc-compat",[C5]:"fire-gcs",[S5]:"fire-gcs-compat",[N5]:"fire-fst",[D5]:"fire-fst-compat",[R5]:"fire-vertex","fire-js":"fire-js",[I5]:"fire-js-all"};const Ld=new Map,B5=new Map,Tp=new Map;function ub(i,e){try{i.container.addComponent(e)}catch(t){Js.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Pi(i){const e=i.name;if(Tp.has(e))return Js.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,i);for(const t of Ld.values())ub(t,i);for(const t of B5.values())ub(t,i);return!0}function ia(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Qn(i){return i==null?!1:i.settings!==void 0}const O5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Ya("app","Firebase",O5);class M5{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const Xa=k5;function x_(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Ap,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(t||(t=l_()),!t)throw Gr.create("no-options");const l=Ld.get(o);if(l){if(Es(t,l.options)&&Es(s,l.config))return l;throw Gr.create("duplicate-app",{appName:o})}const u=new H3(o);for(const g of Tp.values())u.addComponent(g);const p=new M5(t,s,u);return Ld.set(o,p),p}function gf(i=Ap){const e=Ld.get(i);if(!e&&i===Ap&&l_())return x_();if(!e)throw Gr.create("no-app",{appName:i});return e}function On(i,e,t){let s=j5[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Js.warn(u.join(" "));return}Pi(new bi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const P5="firebase-heartbeat-database",L5=1,Vc="firebase-heartbeat-store";let ep=null;function y_(){return ep||(ep=g_(P5,L5,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Vc)}catch(t){console.warn(t)}}}}).catch(i=>{throw Gr.create("idb-open",{originalErrorMessage:i.message})})),ep}async function F5(i){try{const t=(await y_()).transaction(Vc),s=await t.objectStore(Vc).get(v_(i));return await t.done,s}catch(e){if(e instanceof wi)Js.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e?.message});Js.warn(t.message)}}}async function hb(i,e){try{const s=(await y_()).transaction(Vc,"readwrite");await s.objectStore(Vc).put(e,v_(i)),await s.done}catch(t){if(t instanceof wi)Js.warn(t.message);else{const s=Gr.create("idb-set",{originalErrorMessage:t?.message});Js.warn(s.message)}}}function v_(i){return`${i.name}!${i.options.appId}`}const V5=1024,U5=30;class z5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new q5(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=db();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>U5){const o=$5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Js.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=db(),{heartbeatsToSend:t,unsentEntries:s}=H5(this._heartbeatsCache.heartbeats),o=Pd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Js.warn(e),""}}}function db(){return new Date().toISOString().substring(0,10)}function H5(i,e=V5){const t=[];let s=i.slice();for(const o of i){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),fb(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),fb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class q5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d_()?f_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await F5(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fb(i){return Pd(JSON.stringify({version:2,heartbeats:i})).length}function $5(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function G5(i){Pi(new bi("platform-logger",e=>new s5(e),"PRIVATE")),Pi(new bi("heartbeat",e=>new z5(e),"PRIVATE")),On(Ep,cb,i),On(Ep,cb,"esm2020"),On("fire-js","")}G5("");var K5="firebase",Y5="12.6.0";On(K5,Y5,"app");const b_="@firebase/installations",hg="0.6.19";const w_=1e4,__=`w:${hg}`,E_="FIS_v2",X5="https://firebaseinstallations.googleapis.com/v1",Q5=3600*1e3,W5="installations",Z5="Installations";const J5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Va=new Ya(W5,Z5,J5);function A_(i){return i instanceof wi&&i.code.includes("request-failed")}function T_({projectId:i}){return`${X5}/projects/${i}/installations`}function C_(i){return{token:i.token,requestStatus:2,expiresIn:tN(i.expiresIn),creationTime:Date.now()}}async function S_(i,e){const s=(await e.json()).error;return Va.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function N_({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function eN(i,{refreshToken:e}){const t=N_(i);return t.append("Authorization",nN(e)),t}async function R_(i){const e=await i();return e.status>=500&&e.status<600?i():e}function tN(i){return Number(i.replace("s","000"))}function nN(i){return`${E_} ${i}`}async function iN({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=T_(i),o=N_(i),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:E_,appId:i.appId,sdkVersion:__},p={method:"POST",headers:o,body:JSON.stringify(u)},g=await R_(()=>fetch(s,p));if(g.ok){const m=await g.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:C_(m.authToken)}}else throw await S_("Create Installation",g)}function D_(i){return new Promise(e=>{setTimeout(e,i)})}function sN(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const rN=/^[cdef][\w-]{21}$/,Cp="";function aN(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=oN(i);return rN.test(t)?t:Cp}catch{return Cp}}function oN(i){return sN(i).substr(0,22)}function xf(i){return`${i.appName}!${i.appId}`}const I_=new Map;function k_(i,e){const t=xf(i);j_(t,e),lN(t,e)}function j_(i,e){const t=I_.get(i);if(t)for(const s of t)s(e)}function lN(i,e){const t=cN();t&&t.postMessage({key:i,fid:e}),uN()}let Ma=null;function cN(){return!Ma&&"BroadcastChannel"in self&&(Ma=new BroadcastChannel("[Firebase] FID Change"),Ma.onmessage=i=>{j_(i.data.key,i.data.fid)}),Ma}function uN(){I_.size===0&&Ma&&(Ma.close(),Ma=null)}const hN="firebase-installations-database",dN=1,Ua="firebase-installations-store";let tp=null;function dg(){return tp||(tp=g_(hN,dN,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ua)}}})),tp}async function Fd(i,e){const t=xf(i),o=(await dg()).transaction(Ua,"readwrite"),l=o.objectStore(Ua),u=await l.get(t);return await l.put(e,t),await o.done,(!u||u.fid!==e.fid)&&k_(i,e.fid),e}async function B_(i){const e=xf(i),s=(await dg()).transaction(Ua,"readwrite");await s.objectStore(Ua).delete(e),await s.done}async function yf(i,e){const t=xf(i),o=(await dg()).transaction(Ua,"readwrite"),l=o.objectStore(Ua),u=await l.get(t),p=e(u);return p===void 0?await l.delete(t):await l.put(p,t),await o.done,p&&(!u||u.fid!==p.fid)&&k_(i,p.fid),p}async function fg(i){let e;const t=await yf(i.appConfig,s=>{const o=fN(s),l=mN(i,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Cp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function fN(i){const e=i||{fid:aN(),registrationStatus:0};return O_(e)}function mN(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Va.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=pN(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gN(i)}:{installationEntry:e}}async function pN(i,e){try{const t=await iN(i,e);return Fd(i.appConfig,t)}catch(t){throw A_(t)&&t.customData.serverCode===409?await B_(i.appConfig):await Fd(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function gN(i){let e=await mb(i.appConfig);for(;e.registrationStatus===1;)await D_(100),e=await mb(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await fg(i);return s||t}return e}function mb(i){return yf(i,e=>{if(!e)throw Va.create("installation-not-found");return O_(e)})}function O_(i){return xN(i)?{fid:i.fid,registrationStatus:0}:i}function xN(i){return i.registrationStatus===1&&i.registrationTime+w_<Date.now()}async function yN({appConfig:i,heartbeatServiceProvider:e},t){const s=vN(i,t),o=eN(i,t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:__,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(u)},g=await R_(()=>fetch(s,p));if(g.ok){const m=await g.json();return C_(m)}else throw await S_("Generate Auth Token",g)}function vN(i,{fid:e}){return`${T_(i)}/${e}/authTokens:generate`}async function mg(i,e=!1){let t;const s=await yf(i.appConfig,l=>{if(!M_(l))throw Va.create("not-registered");const u=l.authToken;if(!e&&_N(u))return l;if(u.requestStatus===1)return t=bN(i,e),l;{if(!navigator.onLine)throw Va.create("app-offline");const p=AN(l);return t=wN(i,p),p}});return t?await t:s.authToken}async function bN(i,e){let t=await pb(i.appConfig);for(;t.authToken.requestStatus===1;)await D_(100),t=await pb(i.appConfig);const s=t.authToken;return s.requestStatus===0?mg(i,e):s}function pb(i){return yf(i,e=>{if(!M_(e))throw Va.create("not-registered");const t=e.authToken;return TN(t)?{...e,authToken:{requestStatus:0}}:e})}async function wN(i,e){try{const t=await yN(i,e),s={...e,authToken:t};return await Fd(i.appConfig,s),t}catch(t){if(A_(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await B_(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Fd(i.appConfig,s)}throw t}}function M_(i){return i!==void 0&&i.registrationStatus===2}function _N(i){return i.requestStatus===2&&!EN(i)}function EN(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+Q5}function AN(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function TN(i){return i.requestStatus===1&&i.requestTime+w_<Date.now()}async function CN(i){const e=i,{installationEntry:t,registrationPromise:s}=await fg(e);return s?s.catch(console.error):mg(e).catch(console.error),t.fid}async function SN(i,e=!1){const t=i;return await NN(t),(await mg(t,e)).token}async function NN(i){const{registrationPromise:e}=await fg(i);e&&await e}function RN(i){if(!i||!i.options)throw np("App Configuration");if(!i.name)throw np("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw np(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function np(i){return Va.create("missing-app-config-values",{valueName:i})}const P_="installations",DN="installations-internal",IN=i=>{const e=i.getProvider("app").getImmediate(),t=RN(e),s=ia(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},kN=i=>{const e=i.getProvider("app").getImmediate(),t=ia(e,P_).getImmediate();return{getId:()=>CN(t),getToken:o=>SN(t,o)}};function jN(){Pi(new bi(P_,IN,"PUBLIC")),Pi(new bi(DN,kN,"PRIVATE"))}jN();On(b_,hg);On(b_,hg,"esm2020");const Vd="analytics",BN="firebase_id",ON="origin",MN=60*1e3,PN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pg="https://www.googletagmanager.com/gtag/js";const En=new pf("@firebase/analytics");const LN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jn=new Ya("analytics","Analytics",LN);function FN(i){if(!i.startsWith(pg)){const e=Jn.create("invalid-gtag-resource",{gtagURL:i});return En.warn(e.message),""}return i}function L_(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function VN(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function UN(i,e){const t=VN("firebase-js-sdk-policy",{createScriptURL:FN}),s=document.createElement("script"),o=`${pg}?l=${i}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function zN(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function HN(i,e,t,s,o,l){const u=s[o];try{if(u)await e[u];else{const g=(await L_(t)).find(m=>m.measurementId===o);g&&await e[g.appId]}}catch(p){En.error(p)}i("config",o,l)}async function qN(i,e,t,s,o){try{let l=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const p=await L_(t);for(const g of u){const m=p.find(v=>v.measurementId===g),y=m&&e[m.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",s,o||{})}catch(l){En.error(l)}}function $N(i,e,t,s){async function o(l,...u){try{if(l==="event"){const[p,g]=u;await qN(i,e,t,p,g)}else if(l==="config"){const[p,g]=u;await HN(i,e,t,s,p,g)}else if(l==="consent"){const[p,g]=u;i("consent",p,g)}else if(l==="get"){const[p,g,m]=u;i("get",p,g,m)}else if(l==="set"){const[p]=u;i("set",p)}else i(l,...u)}catch(p){En.error(p)}}return o}function GN(i,e,t,s,o){let l=function(...u){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=$N(l,i,e,t),{gtagCore:l,wrappedGtag:window[o]}}function KN(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(pg)&&t.src.includes(i))return t;return null}const YN=30,XN=1e3;class QN{constructor(e={},t=XN){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const F_=new QN;function WN(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function ZN(i){const{appId:e,apiKey:t}=i,s={method:"GET",headers:WN(t)},o=PN.replace("{app-id}",e),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let u="";try{const p=await l.json();p.error?.message&&(u=p.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function JN(i,e=F_,t){const{appId:s,apiKey:o,measurementId:l}=i.options;if(!s)throw Jn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw Jn.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new n8;return setTimeout(async()=>{p.abort()},MN),V_({appId:s,apiKey:o,measurementId:l},u,p,e)}async function V_(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=F_){const{appId:l,measurementId:u}=i;try{await e8(s,e)}catch(p){if(u)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:u};throw p}try{const p=await ZN(i);return o.deleteThrottleMetadata(l),p}catch(p){const g=p;if(!t8(g)){if(o.deleteThrottleMetadata(l),u)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:u};throw p}const m=Number(g?.customData?.httpStatus)===503?rb(t,o.intervalMillis,YN):rb(t,o.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return o.setThrottleMetadata(l,y),En.debug(`Calling attemptFetch again in ${m} millis`),V_(i,y,s,o)}}function e8(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(l),s(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function t8(i){if(!(i instanceof wi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class n8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function i8(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const l=await e,u={...s,send_to:l};i("event",t,u)}}async function s8(i,e,t,s){if(s&&s.global){const o={};for(const l of Object.keys(t))o[`user_properties.${l}`]=t[l];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:t})}}async function r8(){if(d_())try{await f_()}catch(i){return En.warn(Jn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return En.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function a8(i,e,t,s,o,l,u){const p=JN(i);p.then(b=>{t[b.measurementId]=b.appId,i.options.measurementId&&b.measurementId!==i.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>En.error(b)),e.push(p);const g=r8().then(b=>{if(b)return s.getId()}),[m,y]=await Promise.all([p,g]);KN(l)||UN(l,m.measurementId),o("js",new Date);const v=u?.config??{};return v[ON]="firebase",v.update=!0,y!=null&&(v[BN]=y),o("config",m.measurementId,v),m.measurementId}class o8{constructor(e){this.app=e}_delete(){return delete el[this.app.options.appId],Promise.resolve()}}let el={},gb=[];const xb={};let ip="dataLayer",l8="gtag",yb,gg,vb=!1;function c8(){const i=[];if(h_()&&i.push("This is a browser extension environment."),N3()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Jn.create("invalid-analytics-context",{errorInfo:e});En.warn(t.message)}}function u8(i,e,t){c8();const s=i.options.appId;if(!s)throw Jn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jn.create("no-api-key");if(el[s]!=null)throw Jn.create("already-exists",{id:s});if(!vb){zN(ip);const{wrappedGtag:l,gtagCore:u}=GN(el,gb,xb,ip,l8);gg=l,yb=u,vb=!0}return el[s]=a8(i,gb,xb,e,yb,ip,t),new o8(i)}function h8(i=gf()){i=ct(i);const e=ia(i,Vd);return e.isInitialized()?e.getImmediate():d8(i)}function d8(i,e={}){const t=ia(i,Vd);if(t.isInitialized()){const o=t.getImmediate();if(Es(e,t.getOptions()))return o;throw Jn.create("already-initialized")}return t.initialize({options:e})}function f8(i,e,t){i=ct(i),s8(gg,el[i.app.options.appId],e,t).catch(s=>En.error(s))}function m8(i,e,t,s){i=ct(i),i8(gg,el[i.app.options.appId],e,t,s).catch(o=>En.error(o))}const bb="@firebase/analytics",wb="0.10.19";function p8(){Pi(new bi(Vd,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return u8(s,o,t)},"PUBLIC")),Pi(new bi("analytics-internal",i,"PRIVATE")),On(bb,wb),On(bb,wb,"esm2020");function i(e){try{const t=e.getProvider(Vd).getImmediate();return{logEvent:(s,o,l)=>m8(t,s,o,l),setUserProperties:(s,o)=>f8(t,s,o)}}catch(t){throw Jn.create("interop-component-reg-failed",{reason:t})}}}p8();function U_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g8=U_,z_=new Ya("auth","Firebase",U_());const Ud=new pf("@firebase/auth");function x8(i,...e){Ud.logLevel<=Ue.WARN&&Ud.warn(`Auth (${Xa}): ${i}`,...e)}function qh(i,...e){Ud.logLevel<=Ue.ERROR&&Ud.error(`Auth (${Xa}): ${i}`,...e)}function Li(i,...e){throw xg(i,...e)}function gs(i,...e){return xg(i,...e)}function H_(i,e,t){const s={...g8(),[e]:t};return new Ya("auth","Firebase",s).create(e,{appName:i.name})}function Qs(i){return H_(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return z_.create(i,...e)}function Ne(i,e,...t){if(!i)throw xg(e,...t)}function Ks(i){const e="INTERNAL ASSERTION FAILED: "+i;throw qh(e),new Error(e)}function er(i,e){i||Ks(e)}function Sp(){return typeof self<"u"&&self.location?.href||""}function y8(){return _b()==="http:"||_b()==="https:"}function _b(){return typeof self<"u"&&self.location?.protocol||null}function v8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y8()||h_()||"connection"in navigator)?navigator.onLine:!0}function b8(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,er(t>e,"Short delay should be less than long delay!"),this.isMobile=_3()||T3()}get(){return v8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yg(i,e){er(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class q_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const w8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E8=new tu(3e4,6e4);function sa(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function rr(i,e,t,s,o={}){return $_(i,o,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const p=eu({key:i.config.apiKey,...u}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const m={method:e,headers:g,...l};return A3()||(m.referrerPolicy="no-referrer"),i.emulatorConfig&&na(i.emulatorConfig.host)&&(m.credentials="include"),q_.fetch()(await G_(i,i.config.apiHost,t,p),m)})}async function $_(i,e,t){i._canInitEmulator=!1;const s={...w8,...e};try{const o=new T8(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Bh(i,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const p=l.ok?u.errorMessage:u.error.message,[g,m]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(i,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Bh(i,"email-already-in-use",u);if(g==="USER_DISABLED")throw Bh(i,"user-disabled",u);const y=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw H_(i,y,m);Li(i,y)}}catch(o){if(o instanceof wi)throw o;Li(i,"network-request-failed",{message:String(o)})}}async function nu(i,e,t,s,o={}){const l=await rr(i,e,t,s,o);return"mfaPendingCredential"in l&&Li(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function G_(i,e,t,s){const o=`${e}${t}?${s}`,l=i,u=l.config.emulator?yg(i.config,o):`${i.config.apiScheme}://${o}`;return _8.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function A8(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class T8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(gs(this.auth,"network-request-failed")),E8.get())})}}function Bh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=gs(i,e,s);return o.customData._tokenResponse=t,o}function Eb(i){return i!==void 0&&i.enterprise!==void 0}class C8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return A8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S8(i,e){return rr(i,"GET","/v2/recaptchaConfig",sa(i,e))}async function N8(i,e){return rr(i,"POST","/v1/accounts:delete",e)}async function zd(i,e){return rr(i,"POST","/v1/accounts:lookup",e)}function jc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R8(i,e=!1){const t=ct(i),s=await t.getIdToken(e),o=vg(s);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:s,authTime:jc(sp(o.auth_time)),issuedAtTime:jc(sp(o.iat)),expirationTime:jc(sp(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function sp(i){return Number(i)*1e3}function vg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const o=r_(t);return o?JSON.parse(o):(qh("Failed to decode base64 JWT payload"),null)}catch(o){return qh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ab(i){const e=vg(i);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ol(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof wi&&D8(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function D8({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class I8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hd(i){const e=i.auth,t=await i.getIdToken(),s=await ol(i,zd(e,{idToken:t}));Ne(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?K_(o.providerUserInfo):[],u=j8(i.providerData,l),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!u?.length,m=p?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Np(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(i,y)}async function k8(i){const e=ct(i);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j8(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function K_(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function B8(i,e){const t=await $_(i,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,u=await G_(i,o,"/v1/token",`key=${l}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return i.emulatorConfig&&na(i.emulatorConfig.host)&&(g.credentials="include"),q_.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function O8(i,e){return rr(i,"POST","/v2/accounts:revokeToken",sa(i,e))}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ab(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=Ab(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await B8(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,u=new tl;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Ne(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Ks("not implemented")}}function Pr(i,e){Ne(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Mi{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new I8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ol(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return R8(this,e)}reload(){return k8(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Hd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await ol(this,N8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:N,providerData:I,stsTokenManager:B}=t;Ne(v&&B,e,"internal-error");const k=tl.fromJSON(this.name,B);Ne(typeof v=="string",e,"internal-error"),Pr(s,e.name),Pr(o,e.name),Ne(typeof b=="boolean",e,"internal-error"),Ne(typeof N=="boolean",e,"internal-error"),Pr(l,e.name),Pr(u,e.name),Pr(p,e.name),Pr(g,e.name),Pr(m,e.name),Pr(y,e.name);const U=new Mi({uid:v,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:N,photoURL:u,phoneNumber:l,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:y});return I&&Array.isArray(I)&&(U.providerData=I.map(S=>({...S}))),g&&(U._redirectEventId=g),U}static async _fromIdTokenResponse(e,t,s=!1){const o=new tl;o.updateFromServerResponse(t);const l=new Mi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hd(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?K_(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,p=new tl;p.updateFromIdToken(s);const g=new Mi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,m),g}}const Tb=new Map;function Ys(i){er(i instanceof Function,"Expected a class definition");let e=Tb.get(i);return e?(er(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Tb.set(i,e),e)}class Y_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Y_.type="NONE";const Cb=Y_;function $h(i,e,t){return`firebase:${i}:${e}:${t}`}class nl{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=$h(this.userKey,o.apiKey,l),this.fullPersistenceKey=$h("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zd(this.auth,{idToken:e}).catch(()=>{});return t?Mi._fromGetAccountInfoResponse(this.auth,t,e):null}return Mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new nl(Ys(Cb),e,s);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||Ys(Cb);const u=$h(s,e.config.apiKey,e.name);let p=null;for(const m of t)try{const y=await m._get(u);if(y){let v;if(typeof y=="string"){const b=await zd(e,{idToken:y}).catch(()=>{});if(!b)break;v=await Mi._fromGetAccountInfoResponse(e,b,y)}else v=Mi._fromJSON(e,y);m!==l&&(p=v),l=m;break}}catch{}const g=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new nl(l,e,s):(l=g[0],p&&await l._set(u,p.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new nl(l,e,s))}}function Sb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eE(e))return"Blackberry";if(tE(e))return"Webos";if(Q_(e))return"Safari";if((e.includes("chrome/")||W_(e))&&!e.includes("edge/"))return"Chrome";if(J_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function X_(i=xn()){return/firefox\//i.test(i)}function Q_(i=xn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W_(i=xn()){return/crios\//i.test(i)}function Z_(i=xn()){return/iemobile/i.test(i)}function J_(i=xn()){return/android/i.test(i)}function eE(i=xn()){return/blackberry/i.test(i)}function tE(i=xn()){return/webos/i.test(i)}function bg(i=xn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function M8(i=xn()){return bg(i)&&!!window.navigator?.standalone}function P8(){return C3()&&document.documentMode===10}function nE(i=xn()){return bg(i)||J_(i)||tE(i)||eE(i)||/windows phone/i.test(i)||Z_(i)}function iE(i,e=[]){let t;switch(i){case"Browser":t=Sb(xn());break;case"Worker":t=`${Sb(xn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xa}/${s}`}class L8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,p)=>{try{const g=e(l);u(g)}catch(g){p(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function F8(i,e={}){return rr(i,"GET","/v2/passwordPolicy",sa(i,e))}const V8=6;class U8{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??V8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class z8{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nb(this),this.idTokenSubscription=new Nb(this),this.beforeStateQueue=new L8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ys(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zd(this,{idToken:e}),s=await Mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===u)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Qs(this));const t=e?ct(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F8(this),t=new U8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await O8(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ys(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Ys(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(p,this,"internal-error"),p.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&x8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qa(i){return ct(i)}class Nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=j3(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H8(i){vf=i}function sE(i){return vf.loadJS(i)}function q8(){return vf.recaptchaEnterpriseScript}function $8(){return vf.gapiScript}function G8(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class K8{constructor(){this.enterprise=new Y8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Y8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const X8="recaptcha-enterprise",rE="NO_RECAPTCHA";class Q8{constructor(e){this.type=X8,this.auth=Qa(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,p)=>{S8(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new C8(g);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(g=>{p(g)})})}function o(l,u,p){const g=window.grecaptcha;Eb(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(rE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K8().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(p=>{if(!t&&Eb(window.grecaptcha))o(p,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=q8();g.length!==0&&(g+=p),sE(g).then(()=>{o(p,l,u)}).catch(m=>{u(m)})}}).catch(p=>{u(p)})})}}async function Rb(i,e,t,s=!1,o=!1){const l=new Q8(i);let u;if(o)u=rE;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Rp(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Rb(i,e,t,t==="getOobCode");return s(i,l)}else return s(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Rb(i,e,t,t==="getOobCode");return s(i,u)}else return Promise.reject(l)})}function W8(i,e){const t=ia(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Es(l,e??{}))return o;Li(o,"already-initialized")}return t.initialize({options:e})}function Z8(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ys);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function J8(i,e,t){const s=Qa(i);Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=aE(e),{host:u,port:p}=eR(e),g=p===null?"":`:${p}`,m={url:`${l}//${u}${g}/`},y=Object.freeze({host:u,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ne(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ne(Es(m,s.config.emulator)&&Es(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,na(u)?(lg(`${l}//${u}${g}`),cg("Auth",!0)):tR()}function aE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function eR(i){const e=aE(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Db(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Db(u)}}}function Db(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function tR(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class wg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ks("not implemented")}_getIdTokenResponse(e){return Ks("not implemented")}_linkToIdToken(e,t){return Ks("not implemented")}_getReauthenticationResolver(e){return Ks("not implemented")}}async function nR(i,e){return rr(i,"POST","/v1/accounts:signUp",e)}async function iR(i,e){return nu(i,"POST","/v1/accounts:signInWithPassword",sa(i,e))}async function sR(i,e){return nu(i,"POST","/v1/accounts:signInWithEmailLink",sa(i,e))}async function rR(i,e){return nu(i,"POST","/v1/accounts:signInWithEmailLink",sa(i,e))}class Uc extends wg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Uc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Uc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rp(e,t,"signInWithPassword",iR);case"emailLink":return sR(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rp(e,s,"signUpPassword",nR);case"emailLink":return rR(e,{idToken:t,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function il(i,e){return nu(i,"POST","/v1/accounts:signInWithIdp",sa(i,e))}const aR="http://localhost";class za extends wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const u=new za(s,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return il(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,il(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,il(e,t)}buildRequest(){const e={requestUri:aR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eu(t)}return e}}function oR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lR(i){const e=Cc(Sc(i)).link,t=e?Cc(Sc(e)).deep_link_id:null,s=Cc(Sc(i)).deep_link_id;return(s?Cc(Sc(s)).link:null)||s||t||e||i}class _g{constructor(e){const t=Cc(Sc(e)),s=t.apiKey??null,o=t.oobCode??null,l=oR(t.mode??null);Ne(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=lR(e);try{return new _g(t)}catch{return null}}}class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,t){return Uc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=_g.parseLink(t);return Ne(s,"argument-error"),Uc._fromEmailAndCode(e,s.code,s.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends oE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fr extends iu{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class Vr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return za._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Vr.credential(t,s)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";class Ur extends iu{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";class zr extends iu{constructor(){super("twitter.com")}static credential(e,t){return za._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return zr.credential(t,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";async function cR(i,e){return nu(i,"POST","/v1/accounts:signUp",sa(i,e))}class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Mi._fromIdTokenResponse(e,s,o),u=Ib(s);return new Ha({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Ib(s);return new Ha({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Ib(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class qd extends wi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new qd(e,t,s,o)}}function lE(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qd._fromErrorAndOperation(i,l,e,s):l})}async function uR(i,e,t=!1){const s=await ol(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ha._forOperation(i,"link",s)}async function hR(i,e,t=!1){const{auth:s}=i;if(Qn(s.app))return Promise.reject(Qs(s));const o="reauthenticate";try{const l=await ol(i,lE(s,o,e,i),t);Ne(l.idToken,s,"internal-error");const u=vg(l.idToken);Ne(u,s,"internal-error");const{sub:p}=u;return Ne(i.uid===p,s,"user-mismatch"),Ha._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Li(s,"user-mismatch"),l}}async function cE(i,e,t=!1){if(Qn(i.app))return Promise.reject(Qs(i));const s="signIn",o=await lE(i,s,e),l=await Ha._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}async function dR(i,e){return cE(Qa(i),e)}async function uE(i){const e=Qa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fR(i,e,t){if(Qn(i.app))return Promise.reject(Qs(i));const s=Qa(i),u=await Rp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&uE(i),g}),p=await Ha._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(p.user),p}function mR(i,e,t){return Qn(i.app)?Promise.reject(Qs(i)):dR(ct(i),yl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&uE(i),s})}async function pR(i,e){return rr(i,"POST","/v1/accounts:update",e)}async function gR(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=ct(i),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await ol(s,pR(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const p=s.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function xR(i,e,t,s){return ct(i).onIdTokenChanged(e,t,s)}function yR(i,e,t){return ct(i).beforeAuthStateChanged(e,t)}function bf(i,e,t,s){return ct(i).onAuthStateChanged(e,t,s)}function hE(i){return ct(i).signOut()}const $d="__sak";class dE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vR=1e3,bR=10;class fE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,g)=>{this.notifyListeners(u,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);P8()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bR):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fE.type="LOCAL";const wR=fE;class mE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mE.type="SESSION";const pE=mE;function _R(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new wf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(u).map(async m=>m(t.origin,l)),g=await _R(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];function Eg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class ER{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((p,g)=>{const m=Eg("",20);o.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(b.data.response);break;default:clearTimeout(y),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function xs(){return window}function AR(i){xs().location.href=i}function gE(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function TR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CR(){return navigator?.serviceWorker?.controller||null}function SR(){return gE()?self:null}const xE="firebaseLocalStorageDb",NR=1,Gd="firebaseLocalStorage",yE="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _f(i,e){return i.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function RR(){const i=indexedDB.deleteDatabase(xE);return new su(i).toPromise()}function Dp(){const i=indexedDB.open(xE,NR);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Gd,{keyPath:yE})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Gd)?e(s):(s.close(),await RR(),e(await Dp()))})})}async function kb(i,e,t){const s=_f(i,!0).put({[yE]:e,value:t});return new su(s).toPromise()}async function DR(i,e){const t=_f(i,!1).get(e),s=await new su(t).toPromise();return s===void 0?null:s.value}function jb(i,e){const t=_f(i,!0).delete(e);return new su(t).toPromise()}const IR=800,kR=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>kR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(SR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await kb(e,$d,"1"),await jb(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>kb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>DR(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=_f(o,!1).getAll();return new su(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const jR=vE;new tu(3e4,6e4);function BR(i,e){return e?Ys(e):(Ne(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Ag extends wg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,t){return il(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function OR(i){return cE(i.auth,new Ag(i),i.bypassAuthState)}function MR(i){const{auth:e,user:t}=i;return Ne(t,e,"internal-error"),hR(t,new Ag(i),i.bypassAuthState)}async function PR(i){const{auth:e,user:t}=i;return Ne(t,e,"internal-error"),uR(t,new Ag(i),i.bypassAuthState)}class bE{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:u,type:p}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:Li(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LR=new tu(2e3,1e4);class Jo extends bE{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LR.get())};e()}}Jo.currentPopupAction=null;const FR="pendingRedirect",Gh=new Map;class VR extends bE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const s=await UR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UR(i,e){const t=qR(e),s=HR(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function zR(i,e){Gh.set(i._key(),e)}function HR(i){return Ys(i._redirectPersistence)}function qR(i){return $h(FR,i.config.apiKey,i.name)}async function $R(i,e,t=!1){if(Qn(i.app))return Promise.reject(Qs(i));const s=Qa(i),o=BR(s,e),u=await new VR(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const GR=600*1e3;class KR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!wE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(gs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bb(e))}saveEventToCache(e){this.cachedEventUids.add(Bb(e)),this.lastProcessedEventTime=Date.now()}}function Bb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function wE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function YR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(i);default:return!1}}async function XR(i,e={}){return rr(i,"GET","/v1/projects",e)}const QR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WR=/^https?/;async function ZR(i){if(i.config.emulator)return;const{authorizedDomains:e}=await XR(i);for(const t of e)try{if(JR(t))return}catch{}Li(i,"unauthorized-domain")}function JR(i){const e=Sp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!WR.test(t))return!1;if(QR.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const eD=new tu(3e4,6e4);function Ob(){const i=xs().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function tD(i){return new Promise((e,t)=>{function s(){Ob(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ob(),t(gs(i,"network-request-failed"))},timeout:eD.get()})}if(xs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xs().gapi?.load)s();else{const o=G8("iframefcb");return xs()[o]=()=>{gapi.load?s():t(gs(i,"network-request-failed"))},sE(`${$8()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function nD(i){return Kh=Kh||tD(i),Kh}const iD=new tu(5e3,15e3),sD="__/auth/iframe",rD="emulator/auth/iframe",aD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lD(i){const e=i.config;Ne(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?yg(e,rD):`https://${i.config.authDomain}/${sD}`,s={apiKey:e.apiKey,appName:i.name,v:Xa},o=oD.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${eu(s).slice(1)}`}async function cD(i){const e=await nD(i),t=xs().gapi;return Ne(t,i,"internal-error"),e.open({where:document.body,url:lD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aD,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const u=gs(i,"network-request-failed"),p=xs().setTimeout(()=>{l(u)},iD.get());function g(){xs().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{l(u)})}))}const uD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hD=500,dD=600,fD="_blank",mD="http://localhost";class Mb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pD(i,e,t,s=hD,o=dD){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...uD,width:s.toString(),height:o.toString(),top:l,left:u},m=xn().toLowerCase();t&&(p=W_(m)?fD:t),X_(m)&&(e=e||mD,g.scrollbars="yes");const y=Object.entries(g).reduce((b,[N,I])=>`${b}${N}=${I},`,"");if(M8(m)&&p!=="_self")return gD(e||"",p),new Mb(null);const v=window.open(e||"",p,y);Ne(v,i,"popup-blocked");try{v.focus()}catch{}return new Mb(v)}function gD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const xD="__/auth/handler",yD="emulator/auth/handler",vD=encodeURIComponent("fac");async function Pb(i,e,t,s,o,l){Ne(i.config.authDomain,i,"auth-domain-config-required"),Ne(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Xa,eventId:o};if(e instanceof oE){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",k3(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof iu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}i.tenantId&&(u.tid=i.tenantId);const p=u;for(const y of Object.keys(p))p[y]===void 0&&delete p[y];const g=await i._getAppCheckToken(),m=g?`#${vD}=${encodeURIComponent(g)}`:"";return`${bD(i)}?${eu(p).slice(1)}${m}`}function bD({config:i}){return i.emulator?yg(i,yD):`https://${i.authDomain}/${xD}`}const rp="webStorageSupport";class wD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=$R,this._overrideRedirectResult=zR}async _openPopup(e,t,s,o){er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Pb(e,t,s,Sp(),o);return pD(e,l,Eg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Pb(e,t,s,Sp(),o);return AR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(er(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await cD(e),s=new KR(e);return t.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rp,{type:rp},o=>{const l=o?.[0]?.[rp];l!==void 0&&t(!!l),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nE()||Q_()||bg()}}const _D=wD;var Lb="@firebase/auth",Fb="1.11.1";class ED{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TD(i){Pi(new bi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=s.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:u,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iE(i)},m=new z8(s,o,l,g);return Z8(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Pi(new bi("auth-internal",e=>{const t=Qa(e.getProvider("auth").getImmediate());return(s=>new ED(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(Lb,Fb,AD(i)),On(Lb,Fb,"esm2020")}const CD=300,SD=c_("authIdTokenMaxAge")||CD;let Vb=null;const ND=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>SD)return;const o=t?.token;Vb!==o&&(Vb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RD(i=gf()){const e=ia(i,"auth");if(e.isInitialized())return e.getImmediate();const t=W8(i,{popupRedirectResolver:_D,persistence:[jR,wR,pE]}),s=c_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=ND(l.toString());yR(t,u,()=>u(t.currentUser)),xR(t,p=>u(p))}}const o=a_("auth");return o&&J8(t,`http://${o}`),t}function DD(){return document.getElementsByTagName("head")?.[0]??document}H8({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=gs("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",DD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TD("Browser");var Ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kr,_E;(function(){var i;function e(A,D){function C(){}C.prototype=D.prototype,A.F=D.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(E,R,F){for(var O=Array(arguments.length-2),de=2;de<arguments.length;de++)O[de-2]=arguments[de];return D.prototype[R].apply(E,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,D,C){C||(C=0);const E=Array(16);if(typeof D=="string")for(var R=0;R<16;++R)E[R]=D.charCodeAt(C++)|D.charCodeAt(C++)<<8|D.charCodeAt(C++)<<16|D.charCodeAt(C++)<<24;else for(R=0;R<16;++R)E[R]=D[C++]|D[C++]<<8|D[C++]<<16|D[C++]<<24;D=A.g[0],C=A.g[1],R=A.g[2];let F=A.g[3],O;O=D+(F^C&(R^F))+E[0]+3614090360&4294967295,D=C+(O<<7&4294967295|O>>>25),O=F+(R^D&(C^R))+E[1]+3905402710&4294967295,F=D+(O<<12&4294967295|O>>>20),O=R+(C^F&(D^C))+E[2]+606105819&4294967295,R=F+(O<<17&4294967295|O>>>15),O=C+(D^R&(F^D))+E[3]+3250441966&4294967295,C=R+(O<<22&4294967295|O>>>10),O=D+(F^C&(R^F))+E[4]+4118548399&4294967295,D=C+(O<<7&4294967295|O>>>25),O=F+(R^D&(C^R))+E[5]+1200080426&4294967295,F=D+(O<<12&4294967295|O>>>20),O=R+(C^F&(D^C))+E[6]+2821735955&4294967295,R=F+(O<<17&4294967295|O>>>15),O=C+(D^R&(F^D))+E[7]+4249261313&4294967295,C=R+(O<<22&4294967295|O>>>10),O=D+(F^C&(R^F))+E[8]+1770035416&4294967295,D=C+(O<<7&4294967295|O>>>25),O=F+(R^D&(C^R))+E[9]+2336552879&4294967295,F=D+(O<<12&4294967295|O>>>20),O=R+(C^F&(D^C))+E[10]+4294925233&4294967295,R=F+(O<<17&4294967295|O>>>15),O=C+(D^R&(F^D))+E[11]+2304563134&4294967295,C=R+(O<<22&4294967295|O>>>10),O=D+(F^C&(R^F))+E[12]+1804603682&4294967295,D=C+(O<<7&4294967295|O>>>25),O=F+(R^D&(C^R))+E[13]+4254626195&4294967295,F=D+(O<<12&4294967295|O>>>20),O=R+(C^F&(D^C))+E[14]+2792965006&4294967295,R=F+(O<<17&4294967295|O>>>15),O=C+(D^R&(F^D))+E[15]+1236535329&4294967295,C=R+(O<<22&4294967295|O>>>10),O=D+(R^F&(C^R))+E[1]+4129170786&4294967295,D=C+(O<<5&4294967295|O>>>27),O=F+(C^R&(D^C))+E[6]+3225465664&4294967295,F=D+(O<<9&4294967295|O>>>23),O=R+(D^C&(F^D))+E[11]+643717713&4294967295,R=F+(O<<14&4294967295|O>>>18),O=C+(F^D&(R^F))+E[0]+3921069994&4294967295,C=R+(O<<20&4294967295|O>>>12),O=D+(R^F&(C^R))+E[5]+3593408605&4294967295,D=C+(O<<5&4294967295|O>>>27),O=F+(C^R&(D^C))+E[10]+38016083&4294967295,F=D+(O<<9&4294967295|O>>>23),O=R+(D^C&(F^D))+E[15]+3634488961&4294967295,R=F+(O<<14&4294967295|O>>>18),O=C+(F^D&(R^F))+E[4]+3889429448&4294967295,C=R+(O<<20&4294967295|O>>>12),O=D+(R^F&(C^R))+E[9]+568446438&4294967295,D=C+(O<<5&4294967295|O>>>27),O=F+(C^R&(D^C))+E[14]+3275163606&4294967295,F=D+(O<<9&4294967295|O>>>23),O=R+(D^C&(F^D))+E[3]+4107603335&4294967295,R=F+(O<<14&4294967295|O>>>18),O=C+(F^D&(R^F))+E[8]+1163531501&4294967295,C=R+(O<<20&4294967295|O>>>12),O=D+(R^F&(C^R))+E[13]+2850285829&4294967295,D=C+(O<<5&4294967295|O>>>27),O=F+(C^R&(D^C))+E[2]+4243563512&4294967295,F=D+(O<<9&4294967295|O>>>23),O=R+(D^C&(F^D))+E[7]+1735328473&4294967295,R=F+(O<<14&4294967295|O>>>18),O=C+(F^D&(R^F))+E[12]+2368359562&4294967295,C=R+(O<<20&4294967295|O>>>12),O=D+(C^R^F)+E[5]+4294588738&4294967295,D=C+(O<<4&4294967295|O>>>28),O=F+(D^C^R)+E[8]+2272392833&4294967295,F=D+(O<<11&4294967295|O>>>21),O=R+(F^D^C)+E[11]+1839030562&4294967295,R=F+(O<<16&4294967295|O>>>16),O=C+(R^F^D)+E[14]+4259657740&4294967295,C=R+(O<<23&4294967295|O>>>9),O=D+(C^R^F)+E[1]+2763975236&4294967295,D=C+(O<<4&4294967295|O>>>28),O=F+(D^C^R)+E[4]+1272893353&4294967295,F=D+(O<<11&4294967295|O>>>21),O=R+(F^D^C)+E[7]+4139469664&4294967295,R=F+(O<<16&4294967295|O>>>16),O=C+(R^F^D)+E[10]+3200236656&4294967295,C=R+(O<<23&4294967295|O>>>9),O=D+(C^R^F)+E[13]+681279174&4294967295,D=C+(O<<4&4294967295|O>>>28),O=F+(D^C^R)+E[0]+3936430074&4294967295,F=D+(O<<11&4294967295|O>>>21),O=R+(F^D^C)+E[3]+3572445317&4294967295,R=F+(O<<16&4294967295|O>>>16),O=C+(R^F^D)+E[6]+76029189&4294967295,C=R+(O<<23&4294967295|O>>>9),O=D+(C^R^F)+E[9]+3654602809&4294967295,D=C+(O<<4&4294967295|O>>>28),O=F+(D^C^R)+E[12]+3873151461&4294967295,F=D+(O<<11&4294967295|O>>>21),O=R+(F^D^C)+E[15]+530742520&4294967295,R=F+(O<<16&4294967295|O>>>16),O=C+(R^F^D)+E[2]+3299628645&4294967295,C=R+(O<<23&4294967295|O>>>9),O=D+(R^(C|~F))+E[0]+4096336452&4294967295,D=C+(O<<6&4294967295|O>>>26),O=F+(C^(D|~R))+E[7]+1126891415&4294967295,F=D+(O<<10&4294967295|O>>>22),O=R+(D^(F|~C))+E[14]+2878612391&4294967295,R=F+(O<<15&4294967295|O>>>17),O=C+(F^(R|~D))+E[5]+4237533241&4294967295,C=R+(O<<21&4294967295|O>>>11),O=D+(R^(C|~F))+E[12]+1700485571&4294967295,D=C+(O<<6&4294967295|O>>>26),O=F+(C^(D|~R))+E[3]+2399980690&4294967295,F=D+(O<<10&4294967295|O>>>22),O=R+(D^(F|~C))+E[10]+4293915773&4294967295,R=F+(O<<15&4294967295|O>>>17),O=C+(F^(R|~D))+E[1]+2240044497&4294967295,C=R+(O<<21&4294967295|O>>>11),O=D+(R^(C|~F))+E[8]+1873313359&4294967295,D=C+(O<<6&4294967295|O>>>26),O=F+(C^(D|~R))+E[15]+4264355552&4294967295,F=D+(O<<10&4294967295|O>>>22),O=R+(D^(F|~C))+E[6]+2734768916&4294967295,R=F+(O<<15&4294967295|O>>>17),O=C+(F^(R|~D))+E[13]+1309151649&4294967295,C=R+(O<<21&4294967295|O>>>11),O=D+(R^(C|~F))+E[4]+4149444226&4294967295,D=C+(O<<6&4294967295|O>>>26),O=F+(C^(D|~R))+E[11]+3174756917&4294967295,F=D+(O<<10&4294967295|O>>>22),O=R+(D^(F|~C))+E[2]+718787259&4294967295,R=F+(O<<15&4294967295|O>>>17),O=C+(F^(R|~D))+E[9]+3951481745&4294967295,A.g[0]=A.g[0]+D&4294967295,A.g[1]=A.g[1]+(R+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+F&4294967295}s.prototype.v=function(A,D){D===void 0&&(D=A.length);const C=D-this.blockSize,E=this.C;let R=this.h,F=0;for(;F<D;){if(R==0)for(;F<=C;)o(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<D;)if(E[R++]=A.charCodeAt(F++),R==this.blockSize){o(this,E),R=0;break}}else for(;F<D;)if(E[R++]=A[F++],R==this.blockSize){o(this,E),R=0;break}}this.h=R,this.o+=D},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var D=1;D<A.length-8;++D)A[D]=0;D=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=D&255,D/=256;for(this.v(A),A=Array(16),D=0,C=0;C<4;++C)for(let E=0;E<32;E+=8)A[D++]=this.g[C]>>>E&255;return A};function l(A,D){var C=p;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=D(A)}function u(A,D){this.h=D;const C=[];let E=!0;for(let R=A.length-1;R>=0;R--){const F=A[R]|0;E&&F==D||(C[R]=F,E=!1)}this.g=C}var p={};function g(A){return-128<=A&&A<128?l(A,function(D){return new u([D|0],D<0?-1:0)}):new u([A|0],A<0?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return v;if(A<0)return k(m(-A));const D=[];let C=1;for(let E=0;A>=C;E++)D[E]=A/C|0,C*=4294967296;return new u(D,0)}function y(A,D){if(A.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(A.charAt(0)=="-")return k(y(A.substring(1),D));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(D,8));let E=v;for(let F=0;F<A.length;F+=8){var R=Math.min(8,A.length-F);const O=parseInt(A.substring(F,F+R),D);R<8?(R=m(Math.pow(D,R)),E=E.j(R).add(m(O))):(E=E.j(C),E=E.add(m(O)))}return E}var v=g(0),b=g(1),N=g(16777216);i=u.prototype,i.m=function(){if(B(this))return-k(this).m();let A=0,D=1;for(let C=0;C<this.g.length;C++){const E=this.i(C);A+=(E>=0?E:4294967296+E)*D,D*=4294967296}return A},i.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I(this))return"0";if(B(this))return"-"+k(this).toString(A);const D=m(Math.pow(A,6));var C=this;let E="";for(;;){const R=M(C,D).g;C=U(C,R.j(D));let F=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=R,I(C))return F+E;for(;F.length<6;)F="0"+F;E=F+E}},i.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function I(A){if(A.h!=0)return!1;for(let D=0;D<A.g.length;D++)if(A.g[D]!=0)return!1;return!0}function B(A){return A.h==-1}i.l=function(A){return A=U(this,A),B(A)?-1:I(A)?0:1};function k(A){const D=A.g.length,C=[];for(let E=0;E<D;E++)C[E]=~A.g[E];return new u(C,~A.h).add(b)}i.abs=function(){return B(this)?k(this):this},i.add=function(A){const D=Math.max(this.g.length,A.g.length),C=[];let E=0;for(let R=0;R<=D;R++){let F=E+(this.i(R)&65535)+(A.i(R)&65535),O=(F>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);E=O>>>16,F&=65535,O&=65535,C[R]=O<<16|F}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(A,D){return A.add(k(D))}i.j=function(A){if(I(this)||I(A))return v;if(B(this))return B(A)?k(this).j(k(A)):k(k(this).j(A));if(B(A))return k(this.j(k(A)));if(this.l(N)<0&&A.l(N)<0)return m(this.m()*A.m());const D=this.g.length+A.g.length,C=[];for(var E=0;E<2*D;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(let R=0;R<A.g.length;R++){const F=this.i(E)>>>16,O=this.i(E)&65535,de=A.i(R)>>>16,ne=A.i(R)&65535;C[2*E+2*R]+=O*ne,S(C,2*E+2*R),C[2*E+2*R+1]+=F*ne,S(C,2*E+2*R+1),C[2*E+2*R+1]+=O*de,S(C,2*E+2*R+1),C[2*E+2*R+2]+=F*de,S(C,2*E+2*R+2)}for(A=0;A<D;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=D;A<2*D;A++)C[A]=0;return new u(C,0)};function S(A,D){for(;(A[D]&65535)!=A[D];)A[D+1]+=A[D]>>>16,A[D]&=65535,D++}function j(A,D){this.g=A,this.h=D}function M(A,D){if(I(D))throw Error("division by zero");if(I(A))return new j(v,v);if(B(A))return D=M(k(A),D),new j(k(D.g),k(D.h));if(B(D))return D=M(A,k(D)),new j(k(D.g),D.h);if(A.g.length>30){if(B(A)||B(D))throw Error("slowDivide_ only works with positive integers.");for(var C=b,E=D;E.l(A)<=0;)C=z(C),E=z(E);var R=H(C,1),F=H(E,1);for(E=H(E,2),C=H(C,2);!I(E);){var O=F.add(E);O.l(A)<=0&&(R=R.add(C),F=O),E=H(E,1),C=H(C,1)}return D=U(A,R.j(D)),new j(R,D)}for(R=v;A.l(D)>=0;){for(C=Math.max(1,Math.floor(A.m()/D.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=E<=48?1:Math.pow(2,E-48),F=m(C),O=F.j(D);B(O)||O.l(A)>0;)C-=E,F=m(C),O=F.j(D);I(F)&&(F=b),R=R.add(F),A=U(A,O)}return new j(R,A)}i.B=function(A){return M(this,A).h},i.and=function(A){const D=Math.max(this.g.length,A.g.length),C=[];for(let E=0;E<D;E++)C[E]=this.i(E)&A.i(E);return new u(C,this.h&A.h)},i.or=function(A){const D=Math.max(this.g.length,A.g.length),C=[];for(let E=0;E<D;E++)C[E]=this.i(E)|A.i(E);return new u(C,this.h|A.h)},i.xor=function(A){const D=Math.max(this.g.length,A.g.length),C=[];for(let E=0;E<D;E++)C[E]=this.i(E)^A.i(E);return new u(C,this.h^A.h)};function z(A){const D=A.g.length+1,C=[];for(let E=0;E<D;E++)C[E]=A.i(E)<<1|A.i(E-1)>>>31;return new u(C,A.h)}function H(A,D){const C=D>>5;D%=32;const E=A.g.length-C,R=[];for(let F=0;F<E;F++)R[F]=D>0?A.i(F+C)>>>D|A.i(F+C+1)<<32-D:A.i(F+C);return new u(R,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,_E=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Kr=u}).apply(typeof Ub<"u"?Ub:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var EE,Nc,AE,Yh,Ip,TE,CE,SE;(function(){var i,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var w=0;w<d.length;++w){var T=d[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=t(this);function o(d,w){if(w)e:{var T=s;d=d.split(".");for(var V=0;V<d.length-1;V++){var J=d[V];if(!(J in T))break e;T=T[J]}d=d[d.length-1],V=T[d],w=w(V),w!=V&&w!=null&&e(T,d,{configurable:!0,writable:!0,value:w})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(w){var T=[],V;for(V in w)Object.prototype.hasOwnProperty.call(w,V)&&T.push([V,w[V]]);return T}});var l=l||{},u=this||self;function p(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function g(d,w,T){return d.call.apply(d.bind,arguments)}function m(d,w,T){return m=g,m.apply(null,arguments)}function y(d,w){var T=Array.prototype.slice.call(arguments,1);return function(){var V=T.slice();return V.push.apply(V,arguments),d.apply(this,V)}}function v(d,w){function T(){}T.prototype=w.prototype,d.Z=w.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(V,J,se){for(var pe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)pe[Be-2]=arguments[Be];return w.prototype[J].apply(V,pe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function N(d){const w=d.length;if(w>0){const T=Array(w);for(let V=0;V<w;V++)T[V]=d[V];return T}return[]}function I(d,w){for(let V=1;V<arguments.length;V++){const J=arguments[V];var T=typeof J;if(T=T!="object"?T:J?Array.isArray(J)?"array":T:"null",T=="array"||T=="object"&&typeof J.length=="number"){T=d.length||0;const se=J.length||0;d.length=T+se;for(let pe=0;pe<se;pe++)d[T+pe]=J[pe]}else d.push(J)}}class B{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function k(d){u.setTimeout(()=>{throw d},0)}function U(){var d=A;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class S{constructor(){this.h=this.g=null}add(w,T){const V=j.get();V.set(w,T),this.h?this.h.next=V:this.g=V,this.h=V}}var j=new B(()=>new M,d=>d.reset());class M{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let z,H=!1,A=new S,D=()=>{const d=Promise.resolve(void 0);z=()=>{d.then(C)}};function C(){for(var d;d=U();){try{d.h.call(d.g)}catch(T){k(T)}var w=j;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}H=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function de(d,w){R.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}v(de,R),de.prototype.init=function(d,w){const T=this.type=d.type,V=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(T=="mouseover"?w=d.fromElement:T=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),q=0;function X(d,w,T,V,J){this.listener=d,this.proxy=null,this.src=w,this.type=T,this.capture=!!V,this.ha=J,this.key=++q,this.da=this.fa=!1}function ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function fe(d,w,T){for(const V in d)w.call(T,d[V],V,d)}function me(d,w){for(const T in d)w.call(void 0,d[T],T,d)}function L(d){const w={};for(const T in d)w[T]=d[T];return w}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(d,w){let T,V;for(let J=1;J<arguments.length;J++){V=arguments[J];for(T in V)d[T]=V[T];for(let se=0;se<K.length;se++)T=K[se],Object.prototype.hasOwnProperty.call(V,T)&&(d[T]=V[T])}}function Z(d){this.src=d,this.g={},this.h=0}Z.prototype.add=function(d,w,T,V,J){const se=d.toString();d=this.g[se],d||(d=this.g[se]=[],this.h++);const pe=ye(d,w,V,J);return pe>-1?(w=d[pe],T||(w.fa=!1)):(w=new X(w,this.src,se,!!V,J),w.fa=T,d.push(w)),w};function xe(d,w){const T=w.type;if(T in d.g){var V=d.g[T],J=Array.prototype.indexOf.call(V,w,void 0),se;(se=J>=0)&&Array.prototype.splice.call(V,J,1),se&&(ae(w),d.g[T].length==0&&(delete d.g[T],d.h--))}}function ye(d,w,T,V){for(let J=0;J<d.length;++J){const se=d[J];if(!se.da&&se.listener==w&&se.capture==!!T&&se.ha==V)return J}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Ee={};function We(d,w,T,V,J){if(Array.isArray(w)){for(let se=0;se<w.length;se++)We(d,w[se],T,V,J);return null}return T=_i(T),d&&d[ne]?d.J(w,T,p(V)?!!V.capture:!1,J):An(d,w,T,!1,V,J)}function An(d,w,T,V,J,se){if(!w)throw Error("Invalid event type");const pe=p(J)?!!J.capture:!!J;let Be=Mn(d);if(Be||(d[Se]=Be=new Z(d)),T=Be.add(w,T,V,pe,se),T.proxy)return T;if(V=Ui(),T.proxy=V,V.src=d,V.listener=T,d.addEventListener)F||(J=pe),J===void 0&&(J=!1),d.addEventListener(w.toString(),V,J);else if(d.attachEvent)d.attachEvent(mt(w.toString()),V);else if(d.addListener&&d.removeListener)d.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ui(){function d(T){return w.call(d.src,d.listener,T)}const w=zi;return d}function ti(d,w,T,V,J){if(Array.isArray(w))for(var se=0;se<w.length;se++)ti(d,w[se],T,V,J);else V=p(V)?!!V.capture:!!V,T=_i(T),d&&d[ne]?(d=d.i,se=String(w).toString(),se in d.g&&(w=d.g[se],T=ye(w,T,V,J),T>-1&&(ae(w[T]),Array.prototype.splice.call(w,T,1),w.length==0&&(delete d.g[se],d.h--)))):d&&(d=Mn(d))&&(w=d.g[w.toString()],d=-1,w&&(d=ye(w,T,V,J)),(T=d>-1?w[d]:null)&&Yt(T))}function Yt(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[ne])xe(w.i,d);else{var T=d.type,V=d.proxy;w.removeEventListener?w.removeEventListener(T,V,d.capture):w.detachEvent?w.detachEvent(mt(T),V):w.addListener&&w.removeListener&&w.removeListener(V),(T=Mn(w))?(xe(T,d),T.h==0&&(T.src=null,w[Se]=null)):ae(d)}}}function mt(d){return d in Ee?Ee[d]:Ee[d]="on"+d}function zi(d,w){if(d.da)d=!0;else{w=new de(w,this);const T=d.listener,V=d.ha||d.src;d.fa&&Yt(d),d=T.call(V,w)}return d}function Mn(d){return d=d[Se],d instanceof Z?d:null}var Hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function _i(d){return typeof d=="function"?d:(d[Hi]||(d[Hi]=function(w){return d.handleEvent(w)}),d[Hi])}function pt(){E.call(this),this.i=new Z(this),this.M=this,this.G=null}v(pt,E),pt.prototype[ne]=!0,pt.prototype.removeEventListener=function(d,w,T,V){ti(this,d,w,T,V)};function ut(d,w){var T,V=d.G;if(V)for(T=[];V;V=V.G)T.push(V);if(d=d.M,V=w.type||w,typeof w=="string")w=new R(w,d);else if(w instanceof R)w.target=w.target||d;else{var J=w;w=new R(V,d),W(w,J)}J=!0;let se,pe;if(T)for(pe=T.length-1;pe>=0;pe--)se=w.g=T[pe],J=It(se,V,!0,w)&&J;if(se=w.g=d,J=It(se,V,!0,w)&&J,J=It(se,V,!1,w)&&J,T)for(pe=0;pe<T.length;pe++)se=w.g=T[pe],J=It(se,V,!1,w)&&J}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const T=d.g[w];for(let V=0;V<T.length;V++)ae(T[V]);delete d.g[w],d.h--}}this.G=null},pt.prototype.J=function(d,w,T,V){return this.i.add(String(d),w,!1,T,V)},pt.prototype.K=function(d,w,T,V){return this.i.add(String(d),w,!0,T,V)};function It(d,w,T,V){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let J=!0;for(let se=0;se<w.length;++se){const pe=w[se];if(pe&&!pe.da&&pe.capture==T){const Be=pe.listener,Ct=pe.ha||pe.src;pe.fa&&xe(d.i,pe),J=Be.call(Ct,V)!==!1&&J}}return J&&!V.defaultPrevented}function cn(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:u.setTimeout(d,w||0)}function Pn(d){d.g=cn(()=>{d.g=null,d.i&&(d.i=!1,Pn(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class kt extends E{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(d){E.call(this),this.h=d,this.g={}}v(qi,E);var ni=[];function Ei(d){fe(d.g,function(w,T){this.g.hasOwnProperty(T)&&Yt(w)},d),d.g={}}qi.prototype.N=function(){qi.Z.N.call(this),Ei(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=u.JSON.stringify,io=u.JSON.parse,ca=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ai(){}function Gi(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){R.call(this,"d")}v(jt,R);function yn(){R.call(this,"c")}v(yn,R);var yt={},so=null;function Ss(){return so=so||new pt}yt.Ia="serverreachability";function ro(d){R.call(this,yt.Ia,d)}v(ro,R);function Fn(d){const w=Ss();ut(w,new ro(w))}yt.STAT_EVENT="statevent";function Ns(d,w){R.call(this,yt.STAT_EVENT,d),this.stat=w}v(Ns,R);function vt(d){const w=Ss();ut(w,new Ns(w,d))}yt.Ja="timingevent";function ii(d,w){R.call(this,yt.Ja,d),this.size=w}v(ii,R);function si(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},w)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function ao(d,w,T,V,J,se){d.info(function(){if(d.g)if(se){var pe="",Be=se.split("&");for(let Xe=0;Xe<Be.length;Xe++){var Ct=Be[Xe].split("=");if(Ct.length>1){const gt=Ct[0];Ct=Ct[1];const ci=gt.split("_");pe=ci.length>=2&&ci[1]=="type"?pe+(gt+"="+Ct+"&"):pe+(gt+"=redacted&")}}}else pe=null;else pe=se;return"XMLHTTP REQ ("+V+") [attempt "+J+"]: "+w+`
`+T+`
`+pe})}function oo(d,w,T,V,J,se,pe){d.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+J+"]: "+w+`
`+T+`
`+se+" "+pe})}function ri(d,w,T,V){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Al(d,T)+(V?" "+V:"")})}function Ki(d,w){d.info(function(){return"TIMEOUT: "+w})}Vn.prototype.info=function(){};function Al(d,w){if(!d.g)return w;if(!w)return null;try{const se=JSON.parse(w);if(se){for(d=0;d<se.length;d++)if(Array.isArray(se[d])){var T=se[d];if(!(T.length<2)){var V=T[1];if(Array.isArray(V)&&!(V.length<1)){var J=V[0];if(J!="noop"&&J!="stop"&&J!="close")for(let pe=1;pe<V.length;pe++)V[pe]=""}}}}return $i(se)}catch{return w}}var Yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$t={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tn;function Xi(){}v(Xi,Ai),Xi.prototype.g=function(){return new XMLHttpRequest},Tn=new Xi;function Ti(d){return encodeURIComponent(String(d))}function hu(d){var w=1;d=d.split(":");const T=[];for(;w>0&&d.length;)T.push(d.shift()),w--;return d.length&&T.push(d.join(":")),T}function Ci(d,w,T,V){this.j=d,this.i=w,this.l=T,this.S=V||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}var Bt={},Xt={};function Qi(d,w,T){d.M=1,d.A=ua(Mt(w)),d.u=T,d.R=!0,lo(d,null)}function lo(d,w){d.F=Date.now(),Wi(d),d.B=Mt(d.A);var T=d.B,V=d.S;Array.isArray(V)||(V=[String(V)]),fo(T.i,"t",V),d.C=0,T=d.j.L,d.h=new Si,d.g=Cu(d.j,T?w:null,!d.u),d.P>0&&(d.O=new kt(m(d.Y,d,d.g),d.P)),w=d.V,T=d.g,V=d.ba;var J="readystatechange";Array.isArray(J)||(J&&(ni[0]=J.toString()),J=ni);for(let se=0;se<J.length;se++){const pe=We(T,J[se],V||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=d.J?L(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Fn(),ao(d.i,d.v,d.B,d.l,d.S,d.u)}Ci.prototype.ba=function(d){d=d.target;const w=this.O;w&&Di(d)==3?w.j():this.Y(d)},Ci.prototype.Y=function(d){try{if(d==this.g)e:{const Be=Di(this.g),Ct=this.g.ya(),Xe=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Be!=4||Ct==7||(Ct==8||Xe<=0?Fn(3):Fn(2)),Zi(this);var w=this.g.ca();this.X=w;var T=qf(this);if(this.o=w==200,oo(this.i,this.v,this.B,this.l,this.S,Be,w),this.o){if(this.U&&!this.L){t:{if(this.g){var V,J=this.g;if((V=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(V)){var se=V;break t}}se=null}if(d=se)ri(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ji(this,d);else{this.o=!1,this.m=3,vt(12),Un(this),ai(this);break e}}if(this.R){d=!0;let gt;for(;!this.K&&this.C<T.length;)if(gt=fu(this,T),gt==Xt){Be==4&&(this.m=4,vt(14),d=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Bt){this.m=4,vt(15),ri(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else ri(this.i,this.l,gt,null),Ji(this,gt);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||T.length!=0||this.h.h||(this.m=1,vt(16),d=!1),this.o=this.o&&d,!d)ri(this.i,this.l,T,"[Invalid Chunked Response]"),Un(this),ai(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Fl(pe),pe.P=!0,vt(11))}}else ri(this.i,this.l,T,null),Ji(this,T);Be==4&&Un(this),this.o&&!this.K&&(Be==4?_u(this.j,this):(this.o=!1,Wi(this)))}else Ds(this.g),w==400&&T.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Un(this),ai(this)}}}catch{}finally{}};function qf(d){if(!du(d))return d.g.la();const w=en(d.g);if(w==="")return"";let T="";const V=w.length,J=Di(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Un(d),ai(d),"";d.h.i=new u.TextDecoder}for(let se=0;se<V;se++)d.h.h=!0,T+=d.h.i.decode(w[se],{stream:!(J&&se==V-1)});return w.length=0,d.h.g+=T,d.C=0,d.h.g}function du(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function fu(d,w){var T=d.C,V=w.indexOf(`
`,T);return V==-1?Xt:(T=Number(w.substring(T,V)),isNaN(T)?Bt:(V+=1,V+T>w.length?Xt:(w=w.slice(V,V+T),d.C=V+T,w)))}Ci.prototype.cancel=function(){this.K=!0,Un(this)};function Wi(d){d.T=Date.now()+d.H,co(d,d.H)}function co(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=si(m(d.aa,d),w)}function Zi(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Ci.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ki(this.i,this.B),this.M!=2&&(Fn(),vt(17)),Un(this),this.m=2,ai(this)):co(this,this.T-d)};function ai(d){d.j.I==0||d.K||_u(d.j,d)}function Un(d){Zi(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,Ei(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function Ji(d,w){try{var T=d.j;if(T.I!=0&&(T.g==d||ts(T.h,d))){if(!d.L&&ts(T.h,d)&&T.I==3){try{var V=T.Ba.g.parse(w)}catch{V=null}if(Array.isArray(V)&&V.length==3){var J=V;if(J[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)yo(T),fr(T);else break e;xa(T),vt(18)}}else T.xa=J[1],0<T.xa-T.K&&J[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=si(m(T.Va,T),6e3));es(T.h)<=1&&T.ta&&(T.ta=void 0)}else os(T,11)}else if((d.L||T.g==d)&&yo(T),!O(w))for(J=T.Ba.g.parse(w),w=0;w<J.length;w++){let Xe=J[w];const gt=Xe[0];if(!(gt<=T.K))if(T.K=gt,Xe=Xe[1],T.I==2)if(Xe[0]=="c"){T.M=Xe[1],T.ba=Xe[2];const ci=Xe[3];ci!=null&&(T.ka=ci,T.j.info("VER="+T.ka));const ls=Xe[4];ls!=null&&(T.za=ls,T.j.info("SVER="+T.za));const Ii=Xe[5];Ii!=null&&typeof Ii=="number"&&Ii>0&&(V=1.5*Ii,T.O=V,T.j.info("backChannelRequestTimeoutMs_="+V)),V=T;const ki=d.g;if(ki){const ya=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var se=V.h;se.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Sl(se,se.h),se.h=null))}if(V.G){const vo=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(V.wa=vo,et(V.J,V.G,vo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),V=T;var pe=d;if(V.na=Tu(V,V.L?V.ba:null,V.W),pe.L){Nl(V.h,pe);var Be=pe,Ct=V.O;Ct&&(Be.H=Ct),Be.D&&(Zi(Be),Wi(Be)),V.g=pe}else bu(V);T.i.length>0&&as(T)}else Xe[0]!="stop"&&Xe[0]!="close"||os(T,7);else T.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?os(T,7):Pl(T):Xe[0]!="noop"&&T.l&&T.l.qa(Xe),T.A=0)}}Fn(4)}catch{}}var Ot=class{constructor(d,w){this.g=d,this.map=w}};function Tl(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function es(d){return d.h?1:d.g?d.g.size:0}function ts(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Sl(d,w){d.g?d.g.add(w):d.h=w}function Nl(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Tl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const T of d.g.values())w=w.concat(T.G);return w}return N(d.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(d,w){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const V=d[T].indexOf("=");let J,se=null;V>=0?(J=d[T].substring(0,V),se=d[T].substring(V+1)):J=d[T],w(J,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function zn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof zn?(this.l=d.l,Qt(this,d.j),this.o=d.o,this.g=d.g,ar(this,d.u),this.h=d.h,Dl(this,yu(d.i)),this.m=d.m):d&&(w=String(d).match(mu))?(this.l=!1,Qt(this,w[1]||"",!0),this.o=ns(w[2]||""),this.g=ns(w[3]||"",!0),ar(this,w[4]),this.h=ns(w[5]||"",!0),Dl(this,w[6]||"",!0),this.m=ns(w[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}zn.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(ha(w,ho,!0),":");var T=this.g;return(T||w=="file")&&(d.push("//"),(w=this.o)&&d.push(ha(w,ho,!0),"@"),d.push(Ti(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(ha(T,T.charAt(0)=="/"?Il:pu,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",ha(T,gu)),d.join("")},zn.prototype.resolve=function(d){const w=Mt(this);let T=!!d.j;T?Qt(w,d.j):T=!!d.o,T?w.o=d.o:T=!!d.g,T?w.g=d.g:T=d.u!=null;var V=d.h;if(T)ar(w,d.u);else if(T=!!d.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var J=w.h.lastIndexOf("/");J!=-1&&(V=w.h.slice(0,J+1)+V)}if(J=V,J==".."||J==".")V="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){V=J.lastIndexOf("/",0)==0,J=J.split("/");const se=[];for(let pe=0;pe<J.length;){const Be=J[pe++];Be=="."?V&&pe==J.length&&se.push(""):Be==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),V&&pe==J.length&&se.push("")):(se.push(Be),V=!0)}V=se.join("/")}else V=J}return T?w.h=V:T=d.i.toString()!=="",T?Dl(w,yu(d.i)):T=!!d.m,T&&(w.m=d.m),w};function Mt(d){return new zn(d)}function Qt(d,w,T){d.j=T?ns(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function ar(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function Dl(d,w,T){w instanceof lr?(d.i=w,mo(d.i,d.l)):(T||(w=ha(w,or)),d.i=new lr(w,d.l))}function et(d,w,T){d.i.set(w,T)}function ua(d){return et(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ns(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ha(d,w,T){return typeof d=="string"?(d=encodeURI(d).replace(w,Cn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Cn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ho=/[#\/\?@]/g,pu=/[#\?:]/g,Il=/[#\?]/g,or=/[#\?@]/g,gu=/#/g;function lr(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Sn(d){d.g||(d.g=new Map,d.h=0,d.i&&uo(d.i,function(w,T){d.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}i=lr.prototype,i.add=function(d,w){Sn(this),this.i=null,d=cr(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(w),this.h+=1,this};function xu(d,w){Sn(d),w=cr(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function kl(d,w){return Sn(d),w=cr(d,w),d.g.has(w)}i.forEach=function(d,w){Sn(this),this.g.forEach(function(T,V){T.forEach(function(J){d.call(w,J,V,this)},this)},this)};function jl(d,w){Sn(d);let T=[];if(typeof w=="string")kl(d,w)&&(T=T.concat(d.g.get(cr(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)T=T.concat(d[w]);return T}i.set=function(d,w){return Sn(this),this.i=null,d=cr(this,d),kl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},i.get=function(d,w){return d?(d=jl(this,d),d.length>0?String(d[0]):w):w};function fo(d,w,T){xu(d,w),T.length>0&&(d.i=null,d.g.set(cr(d,w),N(T)),d.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let V=0;V<w.length;V++){var T=w[V];const J=Ti(T);T=jl(this,T);for(let se=0;se<T.length;se++){let pe=J;T[se]!==""&&(pe+="="+Ti(T[se])),d.push(pe)}}return this.i=d.join("&")};function yu(d){const w=new lr;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function cr(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function mo(d,w){w&&!d.j&&(Sn(d),d.i=null,d.g.forEach(function(T,V){const J=V.toLowerCase();V!=J&&(xu(this,V),fo(this,J,T))},d)),d.j=w}function Ni(d,w){const T=new Vn;if(u.Image){const V=new Image;V.onload=y(oi,T,"TestLoadImage: loaded",!0,w,V),V.onerror=y(oi,T,"TestLoadImage: error",!1,w,V),V.onabort=y(oi,T,"TestLoadImage: abort",!1,w,V),V.ontimeout=y(oi,T,"TestLoadImage: timeout",!1,w,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=d}else w(!1)}function Bl(d,w){const T=new Vn,V=new AbortController,J=setTimeout(()=>{V.abort(),oi(T,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:V.signal}).then(se=>{clearTimeout(J),se.ok?oi(T,"TestPingServer: ok",!0,w):oi(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),oi(T,"TestPingServer: error",!1,w)})}function oi(d,w,T,V,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),V(T)}catch{}}function ur(){this.g=new ca}function is(d){this.i=d.Sb||null,this.h=d.ab||!1}v(is,Ai),is.prototype.g=function(){return new da(this.i,this.h)};function da(d,w){pt.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(da,pt),i=da.prototype,i.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,Ri(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||u).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},i.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;po(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function po(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}i.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?hr(this):Ri(this),this.readyState==3&&po(this)}},i.Oa=function(d){this.g&&(this.response=this.responseText=d,hr(this))},i.Na=function(d){this.g&&(this.response=d,hr(this))},i.ga=function(){this.g&&hr(this)};function hr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ri(d)}i.setRequestHeader=function(d,w){this.A.append(d,w)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=w.next();return d.join(`\r
`)};function Ri(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function li(d){let w="";return fe(d,function(T,V){w+=V,w+=":",w+=T,w+=`\r
`}),w}function fa(d,w,T){e:{for(V in T){var V=!1;break e}V=!0}V||(T=li(T),typeof d=="string"?T!=null&&Ti(T):et(d,w,T))}function it(d){pt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(it,pt);var ss=/^https?$/i,Ol=["POST","PUT"];i=it.prototype,i.Fa=function(d){this.H=d},i.ea=function(d,w,T,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tn.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(se){ma(this,se);return}if(d=T||"",T=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var J in V)T.set(J,V[J]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const se of V.keys())T.set(se,V.get(se));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),J=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Ol,w,void 0)>=0)||V||J||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,pe]of T)this.g.setRequestHeader(se,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(se){ma(this,se)}};function ma(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,Ml(d),Rs(d)}function Ml(d){d.A||(d.A=!0,ut(d,"complete"),ut(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,ut(this,"complete"),ut(this,"abort"),Rs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rs(this,!0)),it.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?pa(this):this.Xa())},i.Xa=function(){pa(this)};function pa(d){if(d.h&&typeof l<"u"){if(d.v&&Di(d)==4)setTimeout(d.Ca.bind(d),0);else if(ut(d,"readystatechange"),Di(d)==4){d.h=!1;try{const se=d.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var V;if(V=se===0){let pe=String(d.D).match(mu)[1]||null;!pe&&u.self&&u.self.location&&(pe=u.self.location.protocol.slice(0,-1)),V=!ss.test(pe?pe.toLowerCase():"")}T=V}if(T)ut(d,"complete"),ut(d,"success");else{d.o=6;try{var J=Di(d)>2?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.ca()+"]",Ml(d)}}finally{Rs(d)}}}}function Rs(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,w||ut(d,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Di(d){return d.g?d.g.readyState:0}i.ca=function(){try{return Di(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),io(w)}};function en(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(d){const w={};d=(d.g&&Di(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<d.length;V++){if(O(d[V]))continue;var T=hu(d[V]);const J=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=w[J]||[];w[J]=se,se.push(T)}me(w,function(V){return V.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(d,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||w}function dr(d){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rs("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rs("baseRetryDelayMs",5e3,d),this.Za=rs("retryDelaySeedMs",1e4,d),this.Ta=rs("forwardChannelMaxRetries",2,d),this.va=rs("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(d&&d.concurrentRequestLimit),this.Ba=new ur,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=dr.prototype,i.ka=8,i.I=1,i.connect=function(d,w,T,V){vt(0),this.W=d,this.H=w||{},T&&V!==void 0&&(this.H.OSID=T,this.H.OAID=V),this.F=this.X,this.J=Tu(this,null,this.W),as(this)};function Pl(d){if(go(d),d.I==3){var w=d.V++,T=Mt(d.J);if(et(T,"SID",d.M),et(T,"RID",w),et(T,"TYPE","terminate"),ga(d,T),w=new Ci(d,d.j,w),w.M=2,w.A=ua(Mt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.A,T=!0),T||(w.g=Cu(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Wi(w)}Au(d)}function fr(d){d.g&&(Fl(d),d.g.cancel(),d.g=null)}function go(d){fr(d),d.v&&(u.clearTimeout(d.v),d.v=null),yo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function as(d){if(!Cl(d.h)&&!d.m){d.m=!0;var w=d.Ea;z||D(),H||(z(),H=!0),A.add(w,d),d.D=0}}function xo(d,w){return es(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=si(m(d.Ea,d,w),Eu(d,d.D)),d.D++,!0)}i.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const J=new Ci(this,this.j,d);let se=this.o;if(this.U&&(se?(se=L(se),W(se,this.U)):se=this.U),this.u!==null||this.R||(J.J=se,se=null),this.S)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var V=this.i[T];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(w+=V,w>4096){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=vu(this,J,w),T=Mt(this.J),et(T,"RID",d),et(T,"CVER",22),this.G&&et(T,"X-HTTP-Session-Id",this.G),ga(this,T),se&&(this.R?w="headers="+Ti(li(se))+"&"+w:this.u&&fa(T,this.u,se)),Sl(this.h,J),this.Ra&&et(T,"TYPE","init"),this.S?(et(T,"$req",w),et(T,"SID","null"),J.U=!0,Qi(J,T,null)):Qi(J,T,w),this.I=2}}else this.I==3&&(d?Ll(this,d):this.i.length==0||Cl(this.h)||Ll(this))};function Ll(d,w){var T;w?T=w.l:T=d.V++;const V=Mt(d.J);et(V,"SID",d.M),et(V,"RID",T),et(V,"AID",d.K),ga(d,V),d.u&&d.o&&fa(V,d.u,d.o),T=new Ci(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),w&&(d.i=w.G.concat(d.i)),w=vu(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Sl(d.h,T),Qi(T,V,w)}function ga(d,w){d.H&&fe(d.H,function(T,V){et(w,V,T)}),d.l&&fe({},function(T,V){et(w,V,T)})}function vu(d,w,T){T=Math.min(d.i.length,T);const V=d.l?m(d.l.Ka,d.l,d):null;e:{var J=d.i;let Be=-1;for(;;){const Ct=["count="+T];Be==-1?T>0?(Be=J[0].g,Ct.push("ofs="+Be)):Be=0:Ct.push("ofs="+Be);let Xe=!0;for(let gt=0;gt<T;gt++){var se=J[gt].g;const ci=J[gt].map;if(se-=Be,se<0)Be=Math.max(0,J[gt].g-100),Xe=!1;else try{se="req"+se+"_"||"";try{var pe=ci instanceof Map?ci:Object.entries(ci);for(const[ls,Ii]of pe){let ki=Ii;p(Ii)&&(ki=$i(Ii)),Ct.push(se+ls+"="+encodeURIComponent(ki))}}catch(ls){throw Ct.push(se+"type="+encodeURIComponent("_badmap")),ls}}catch{V&&V(ci)}}if(Xe){pe=Ct.join("&");break e}}pe=void 0}return d=d.i.splice(0,T),w.G=d,pe}function bu(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;z||D(),H||(z(),H=!0),A.add(w,d),d.A=0}}function xa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=si(m(d.Da,d),Eu(d,d.A)),d.A++,!0)}i.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=si(m(this.Wa,this),d)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),fr(this),wu(this))};function Fl(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function wu(d){d.g=new Ci(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=Mt(d.na);et(w,"RID","rpc"),et(w,"SID",d.M),et(w,"AID",d.K),et(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&et(w,"TO",d.ia),et(w,"TYPE","xmlhttp"),ga(d,w),d.u&&d.o&&fa(w,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=ua(Mt(w)),T.u=null,T.R=!0,lo(T,d)}i.Va=function(){this.C!=null&&(this.C=null,fr(this),xa(this),vt(19))};function yo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function _u(d,w){var T=null;if(d.g==w){yo(d),Fl(d),d.g=null;var V=2}else if(ts(d.h,w))T=w.G,Nl(d.h,w),V=1;else return;if(d.I!=0){if(w.o)if(V==1){T=w.u?w.u.length:0,w=Date.now()-w.F;var J=d.D;V=Ss(),ut(V,new ii(V,T)),as(d)}else bu(d);else if(J=w.m,J==3||J==0&&w.X>0||!(V==1&&xo(d,w)||V==2&&xa(d)))switch(T&&T.length>0&&(w=d.h,w.i=w.i.concat(T)),J){case 1:os(d,5);break;case 4:os(d,10);break;case 3:os(d,6);break;default:os(d,2)}}}function Eu(d,w){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*w}function os(d,w){if(d.j.info("Error code "+w),w==2){var T=m(d.bb,d),V=d.Ua;const J=!V;V=new zn(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qt(V,"https"),ua(V),J?Ni(V.toString(),T):Bl(V.toString(),T)}else vt(2);d.I=0,d.l&&d.l.pa(w),Au(d),go(d)}i.bb=function(d){d?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Au(d){if(d.I=0,d.ja=[],d.l){const w=Rl(d.h);(w.length!=0||d.i.length!=0)&&(I(d.ja,w),I(d.ja,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.oa()}}function Tu(d,w,T){var V=T instanceof zn?Mt(T):new zn(T);if(V.g!="")w&&(V.g=w+"."+V.g),ar(V,V.u);else{var J=u.location;V=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;const se=new zn(null);V&&Qt(se,V),w&&(se.g=w),J&&ar(se,J),T&&(se.h=T),V=se}return T=d.G,w=d.wa,T&&w&&et(V,T,w),et(V,"VER",d.ka),ga(d,V),V}function Cu(d,w,T){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new it(new is({ab:T})):new it(d.ma),w.Fa(d.L),w}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}i=Su.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function mr(){}mr.prototype.g=function(d,w){return new vn(d,w)};function vn(d,w){pt.call(this),this.g=new dr(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!O(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!O(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Is(this)}v(vn,pt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Pl(this.g)},vn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=$i(d),d=T);w.i.push(new Ot(w.Ya++,d)),w.I==3&&as(w)},vn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,vn.Z.N.call(this)};function Nu(d){jt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const T in w){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}v(Nu,jt);function Ru(){yn.call(this),this.status=1}v(Ru,yn);function Is(d){this.g=d}v(Is,Su),Is.prototype.ra=function(){ut(this.g,"a")},Is.prototype.qa=function(d){ut(this.g,new Nu(d))},Is.prototype.pa=function(d){ut(this.g,new Ru)},Is.prototype.oa=function(){ut(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,SE=function(){return new mr},CE=function(){return Ss()},TE=yt,Ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Yh=Yi,$t.COMPLETE="complete",AE=$t,Gi.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Nc=Gi,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,EE=it}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const zb="@firebase/firestore",Hb="4.9.2";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let vl="12.3.0";const qa=new pf("@firebase/firestore");function Xo(){return qa.logLevel}function ve(i,...e){if(qa.logLevel<=Ue.DEBUG){const t=e.map(Tg);qa.debug(`Firestore (${vl}): ${i}`,...t)}}function tr(i,...e){if(qa.logLevel<=Ue.ERROR){const t=e.map(Tg);qa.error(`Firestore (${vl}): ${i}`,...t)}}function ll(i,...e){if(qa.logLevel<=Ue.WARN){const t=e.map(Tg);qa.warn(`Firestore (${vl}): ${i}`,...t)}}function Tg(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Re(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,NE(i,s,t)}function NE(i,e,t){let s=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw tr(s),new Error(s)}function Je(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||NE(e,o,s)}function je(i,e){return i}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ws{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class RE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ID{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(mn.UNAUTHENTICATED)))}shutdown(){}}class kD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class jD{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ws,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ws)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new RE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class BD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new BD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const s=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new qb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PD(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function ze(i,e){return i<e?-1:i>e?1:0}function kp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),l=e.charAt(s);if(o!==l)return ap(o)===ap(l)?ze(o,l):ap(o)?1:-1}return ze(i.length,e.length)}const LD=55296,FD=57343;function ap(i){const e=i.charCodeAt(0);return e>=LD&&e<=FD}function cl(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}const $b="__name__";class fs{constructor(e,t,s){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Re(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return fs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fs?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=fs.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const s=fs.isNumericId(e),o=fs.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?fs.extractNumericId(e).compare(fs.extractNumericId(t)):kp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class lt extends fs{construct(e,t,s){return new lt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const VD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends fs{construct(e,t,s){return new on(e,t,s)}static isValidIdentifier(e){return VD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$b}static keyField(){return new on([$b])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ge(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ge(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(s+=p,o++):(l(),o++)}if(l(),u)throw new ge(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(lt.fromString(e))}static fromName(e){return new Te(lt.fromString(e).popFirst(5))}static empty(){return new Te(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new lt(e.slice()))}}function DE(i,e,t){if(!t)throw new ge(ce.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function UD(i,e,t,s){if(e===!0&&s===!0)throw new ge(ce.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Gb(i){if(!Te.isDocumentKey(i))throw new ge(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Kb(i){if(Te.isDocumentKey(i))throw new ge(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function IE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ef(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function Xr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ef(i);throw new ge(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Ht(i,e){const t={typeString:i};return e&&(t.value=e),t}function ru(i,e){if(!IE(i))throw new ge(ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const u=i[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ge(ce.INVALID_ARGUMENT,t);return!0}const Yb=-62135596800,Xb=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Xb);return new ft(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Yb)throw new ge(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xb}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ht("string",ft._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ft(0,0))}static max(){return new Ie(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zc=-1;function zD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new ft(t+1,0):new ft(t,s));return new Qr(o,Te.empty(),e)}function HD(i){return new Qr(i.readTime,i.key,zc)}class Qr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Qr(Ie.min(),Te.empty(),zc)}static max(){return new Qr(Ie.max(),Te.empty(),zc)}}function qD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:ze(i.largestBatchId,e.largestBatchId))}const $D="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bl(i){if(i.code!==ce.FAILED_PRECONDITION||i.message!==$D)throw i;ve("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):he.reject(t)}static resolve(e){return new he(((t,s)=>{t(e)}))}static reject(e){return new he(((t,s)=>{s(e)}))}static waitFor(e){return new he(((t,s)=>{let o=0,l=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++l,u&&l===o&&t()}),(g=>s(g)))})),u=!0,l===o&&t()}))}static or(e){let t=he.resolve(!1);for(const s of e)t=t.next((o=>o?he.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new he(((s,o)=>{const l=e.length,u=new Array(l);let p=0;for(let g=0;g<l;g++){const m=g;t(e[m]).next((y=>{u[m]=y,++p,p===l&&s(u)}),(y=>o(y)))}}))}static doWhile(e,t){return new he(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function KD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wl(i){return i.name==="IndexedDbTransactionError"}class Af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Af.ce=-1;const Sg=-1;function Tf(i){return i==null}function Kd(i){return i===0&&1/i==-1/0}function YD(i){return typeof i=="number"&&Number.isInteger(i)&&!Kd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const kE="";function XD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Qb(e)),e=QD(i.get(t),e);return Qb(e)}function QD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case kE:t+="";break;default:t+=l}}return t}function Qb(i){return i+kE+""}function Wb(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ra(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function jE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class wt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??an.RED,this.left=o??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new an(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zb(this.data.getIterator())}getIteratorFrom(e){return new Zb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class Zb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new Kt(on.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new BE("Invalid base64 string: "+l):l}})(e);return new ln(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const WD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if(Je(!!i,39018),typeof i=="string"){let e=0;const t=WD.exec(i);if(Je(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(i.seconds),nanos:Dt(i.nanos)}}function Dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zr(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}const OE="server_timestamp",ME="__type__",PE="__previous_value__",LE="__local_write_time__";function Ng(i){return(i?.mapValue?.fields||{})[ME]?.stringValue===OE}function Cf(i){const e=i.mapValue.fields[PE];return Ng(e)?Cf(e):e}function Hc(i){const e=Wr(i.mapValue.fields[LE].timestampValue);return new ft(e.seconds,e.nanos)}class ZD{constructor(e,t,s,o,l,u,p,g,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=y}}const Yd="(default)";class qc{constructor(e,t){this.projectId=e,this.database=t||Yd}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Yd}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}const FE="__type__",JD="__max__",Ph={mapValue:{}},VE="__vector__",Xd="value";function Jr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ng(i)?4:tI(i)?9007199254740991:eI(i)?10:11:Re(28295,{value:i})}function As(i,e){if(i===e)return!0;const t=Jr(i);if(t!==Jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Hc(i).isEqual(Hc(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Wr(o.timestampValue),p=Wr(l.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return Zr(o.bytesValue).isEqual(Zr(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return Dt(o.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Dt(o.integerValue)===Dt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Dt(o.doubleValue),p=Dt(l.doubleValue);return u===p?Kd(u)===Kd(p):isNaN(u)&&isNaN(p)}return!1})(i,e);case 9:return cl(i.arrayValue.values||[],e.arrayValue.values||[],As);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},p=l.mapValue.fields||{};if(Wb(u)!==Wb(p))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(p[g]===void 0||!As(u[g],p[g])))return!1;return!0})(i,e);default:return Re(52216,{left:i})}}function $c(i,e){return(i.values||[]).find((t=>As(t,e)))!==void 0}function ul(i,e){if(i===e)return 0;const t=Jr(i),s=Jr(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return(function(l,u){const p=Dt(l.integerValue||l.doubleValue),g=Dt(u.integerValue||u.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return Jb(i.timestampValue,e.timestampValue);case 4:return Jb(Hc(i),Hc(e));case 5:return kp(i.stringValue,e.stringValue);case 6:return(function(l,u){const p=Zr(l),g=Zr(u);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(l,u){const p=l.split("/"),g=u.split("/");for(let m=0;m<p.length&&m<g.length;m++){const y=ze(p[m],g[m]);if(y!==0)return y}return ze(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,u){const p=ze(Dt(l.latitude),Dt(u.latitude));return p!==0?p:ze(Dt(l.longitude),Dt(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return e2(i.arrayValue,e.arrayValue);case 10:return(function(l,u){const p=l.fields||{},g=u.fields||{},m=p[Xd]?.arrayValue,y=g[Xd]?.arrayValue,v=ze(m?.values?.length||0,y?.values?.length||0);return v!==0?v:e2(m,y)})(i.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Ph.mapValue&&u===Ph.mapValue)return 0;if(l===Ph.mapValue)return 1;if(u===Ph.mapValue)return-1;const p=l.fields||{},g=Object.keys(p),m=u.fields||{},y=Object.keys(m);g.sort(),y.sort();for(let v=0;v<g.length&&v<y.length;++v){const b=kp(g[v],y[v]);if(b!==0)return b;const N=ul(p[g[v]],m[y[v]]);if(N!==0)return N}return ze(g.length,y.length)})(i.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function Jb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const t=Wr(i),s=Wr(e),o=ze(t.seconds,s.seconds);return o!==0?o:ze(t.nanos,s.nanos)}function e2(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=ul(t[o],s[o]);if(l)return l}return ze(t.length,s.length)}function hl(i){return jp(i)}function jp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=Wr(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Zr(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Te.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=jp(l);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of s)l?l=!1:o+=",",o+=`${u}:${jp(t.fields[u])}`;return o+"}"})(i.mapValue):Re(61005,{value:i})}function Xh(i){switch(Jr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(i);return e?16+Xh(e):16;case 5:return 2*i.stringValue.length;case 6:return Zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Xh(l)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ra(s.fields,((l,u)=>{o+=l.length+Xh(u)})),o})(i.mapValue);default:throw Re(13486,{value:i})}}function t2(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Bp(i){return!!i&&"integerValue"in i}function Rg(i){return!!i&&"arrayValue"in i}function n2(i){return!!i&&"nullValue"in i}function i2(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Qh(i){return!!i&&"mapValue"in i}function eI(i){return(i?.mapValue?.fields||{})[FE]?.stringValue===VE}function Bc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ra(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Bc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bc(i.arrayValue.values[t]);return e}return{...i}}function tI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===JD}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=on.emptyPath(),s={},o=[];e.forEach(((u,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=p.popLast()}u?s[p.lastSegment()]=Bc(u):o.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return As(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Qh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ra(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new Bn(Bc(this.value))}}function UE(i){const e=[];return ra(i.fields,((t,s)=>{const o=new on([t]);if(Qh(s)){const l=UE(s.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new Wn(e)}class pn{constructor(e,t,s,o,l,u,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(e){return new pn(e,0,Ie.min(),Ie.min(),Ie.min(),Bn.empty(),0)}static newFoundDocument(e,t,s,o){return new pn(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new pn(e,2,t,Ie.min(),Ie.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,Ie.min(),Ie.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qd{constructor(e,t){this.position=e,this.inclusive=t}}function s2(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],u=i.position[o];if(l.field.isKeyField()?s=Te.comparator(Te.fromName(u.referenceValue),t.key):s=ul(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function r2(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!As(i.position[t],e.position[t]))return!1;return!0}class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function nI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class zE{}class zt extends zE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new sI(e,t,s):t==="array-contains"?new oI(e,s):t==="in"?new lI(e,s):t==="not-in"?new cI(e,s):t==="array-contains-any"?new uI(e,s):new zt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new rI(e,s):new aI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ul(t,this.value)):t!==null&&Jr(this.value)===Jr(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends zE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Fi(e,t)}matches(e){return HE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HE(i){return i.op==="and"}function qE(i){return iI(i)&&HE(i)}function iI(i){for(const e of i.filters)if(e instanceof Fi)return!1;return!0}function Op(i){if(i instanceof zt)return i.field.canonicalString()+i.op.toString()+hl(i.value);if(qE(i))return i.filters.map((e=>Op(e))).join(",");{const e=i.filters.map((t=>Op(t))).join(",");return`${i.op}(${e})`}}function $E(i,e){return i instanceof zt?(function(s,o){return o instanceof zt&&s.op===o.op&&s.field.isEqual(o.field)&&As(s.value,o.value)})(i,e):i instanceof Fi?(function(s,o){return o instanceof Fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,u,p)=>l&&$E(u,o.filters[p])),!0):!1})(i,e):void Re(19439)}function GE(i){return i instanceof zt?(function(t){return`${t.field.canonicalString()} ${t.op} ${hl(t.value)}`})(i):i instanceof Fi?(function(t){return t.op.toString()+" {"+t.getFilters().map(GE).join(" ,")+"}"})(i):"Filter"}class sI extends zt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class rI extends zt{constructor(e,t){super(e,"in",t),this.keys=KE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aI extends zt{constructor(e,t){super(e,"not-in",t),this.keys=KE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function KE(i,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class oI extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rg(t)&&$c(t.arrayValue,this.value)}}class lI extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$c(this.value.arrayValue,t)}}class cI extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$c(this.value.arrayValue,t)}}class uI extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>$c(this.value.arrayValue,s)))}}class hI{constructor(e,t=null,s=[],o=[],l=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=u,this.endAt=p,this.Te=null}}function a2(i,e=null,t=[],s=[],o=null,l=null,u=null){return new hI(i,e,t,s,o,l,u)}function Dg(i){const e=je(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Op(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>hl(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>hl(s))).join(",")),e.Te=t}return e.Te}function Ig(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!nI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!$E(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!r2(i.startAt,e.startAt)&&r2(i.endAt,e.endAt)}function Mp(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class _l{constructor(e,t=null,s=[],o=[],l=null,u="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dI(i,e,t,s,o,l,u,p){return new _l(i,e,t,s,o,l,u,p)}function kg(i){return new _l(i)}function o2(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function YE(i){return i.collectionGroup!==null}function Oc(i){const e=je(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new Kt(on.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Gc(l,s))})),t.has(on.keyField().canonicalString())||e.Ie.push(new Gc(on.keyField(),s))}return e.Ie}function ys(i){const e=je(i);return e.Ee||(e.Ee=fI(e,Oc(i))),e.Ee}function fI(i,e){if(i.limitType==="F")return a2(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Gc(o.field,l)}));const t=i.endAt?new Qd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Qd(i.startAt.position,i.startAt.inclusive):null;return a2(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Pp(i,e){const t=i.filters.concat([e]);return new _l(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Wd(i,e,t){return new _l(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Sf(i,e){return Ig(ys(i),ys(e))&&i.limitType===e.limitType}function XE(i){return`${Dg(ys(i))}|lt:${i.limitType}`}function Qo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>GE(o))).join(", ")}]`),Tf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>hl(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>hl(o))).join(",")),`Target(${s})`})(ys(i))}; limitType=${i.limitType})`}function Nf(i,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Te.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(i,e)&&(function(s,o){for(const l of Oc(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(u,p,g){const m=s2(u,p,g);return u.inclusive?m<=0:m<0})(s.startAt,Oc(s),o)||s.endAt&&!(function(u,p,g){const m=s2(u,p,g);return u.inclusive?m>=0:m>0})(s.endAt,Oc(s),o))})(i,e)}function mI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function QE(i){return(e,t)=>{let s=!1;for(const o of Oc(i)){const l=pI(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function pI(i,e,t){const s=i.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,u,p){const g=u.data.field(l),m=p.data.field(l);return g!==null&&m!==null?ul(g,m):Re(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:i.dir})}}class Wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}const gI=new wt(Te.comparator);function nr(){return gI}const WE=new wt(Te.comparator);function Rc(...i){let e=WE;for(const t of i)e=e.insert(t.key,t);return e}function ZE(i){let e=WE;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Pa(){return Mc()}function JE(){return Mc()}function Mc(){return new Wa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const xI=new wt(Te.comparator),yI=new Kt(Te.comparator);function He(...i){let e=yI;for(const t of i)e=e.add(t);return e}const vI=new Kt(ze);function bI(){return vI}function jg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function eA(i){return{integerValue:""+i}}function tA(i,e){return YD(e)?eA(e):jg(i,e)}class Rf{constructor(){this._=void 0}}function wI(i,e,t){return i instanceof Kc?(function(o,l){const u={fields:{[ME]:{stringValue:OE},[LE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ng(l)&&(l=Cf(l)),l&&(u.fields[PE]=l),{mapValue:u}})(t,e):i instanceof dl?iA(i,e):i instanceof fl?sA(i,e):(function(o,l){const u=nA(o,l),p=l2(u)+l2(o.Ae);return Bp(u)&&Bp(o.Ae)?eA(p):jg(o.serializer,p)})(i,e)}function _I(i,e,t){return i instanceof dl?iA(i,e):i instanceof fl?sA(i,e):t}function nA(i,e){return i instanceof Yc?(function(s){return Bp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Kc extends Rf{}class dl extends Rf{constructor(e){super(),this.elements=e}}function iA(i,e){const t=rA(e);for(const s of i.elements)t.some((o=>As(o,s)))||t.push(s);return{arrayValue:{values:t}}}class fl extends Rf{constructor(e){super(),this.elements=e}}function sA(i,e){let t=rA(e);for(const s of i.elements)t=t.filter((o=>!As(o,s)));return{arrayValue:{values:t}}}class Yc extends Rf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function l2(i){return Dt(i.integerValue||i.doubleValue)}function rA(i){return Rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Df{constructor(e,t){this.field=e,this.transform=t}}function EI(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof dl&&o instanceof dl||s instanceof fl&&o instanceof fl?cl(s.elements,o.elements,As):s instanceof Yc&&o instanceof Yc?As(s.Ae,o.Ae):s instanceof Kc&&o instanceof Kc})(i.transform,e.transform)}class AI{constructor(e,t){this.version=e,this.transformResults=t}}class vs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class If{}function aA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new lA(i.key,vs.none()):new au(i.key,i.data,vs.none());{const t=i.data,s=Bn.empty();let o=new Kt(on.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),o=o.add(l)}return new aa(i.key,s,new Wn(o.toArray()),vs.none())}}function TI(i,e,t){i instanceof au?(function(o,l,u){const p=o.value.clone(),g=u2(o.fieldTransforms,l,u.transformResults);p.setAll(g),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,t):i instanceof aa?(function(o,l,u){if(!Wh(o.precondition,l))return void l.convertToUnknownDocument(u.version);const p=u2(o.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(oA(o)),g.setAll(p),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(i,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Pc(i,e,t,s){return i instanceof au?(function(l,u,p,g){if(!Wh(l.precondition,u))return p;const m=l.value.clone(),y=h2(l.fieldTransforms,g,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(i,e,t,s):i instanceof aa?(function(l,u,p,g){if(!Wh(l.precondition,u))return p;const m=h2(l.fieldTransforms,g,u),y=u.data;return y.setAll(oA(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(i,e,t,s):(function(l,u,p){return Wh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(i,e,t)}function CI(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=nA(s.transform,o||null);l!=null&&(t===null&&(t=Bn.empty()),t.set(s.field,l))}return t||null}function c2(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&cl(s,o,((l,u)=>EI(l,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class au extends If{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class aa extends If{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function oA(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function u2(i,e,t){const s=new Map;Je(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const l=i[o],u=l.transform,p=e.data.field(l.field);s.set(l.field,_I(u,p,t[o]))}return s}function h2(i,e,t){const s=new Map;for(const o of i){const l=o.transform,u=t.data.field(o.field);s.set(o.field,wI(l,u,e))}return s}class lA extends If{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SI extends If{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&TI(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Pc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Pc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=JE();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=t.has(o.key)?null:p;const g=aA(u,p);g!==null&&s.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),He())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((t,s)=>c2(t,s)))&&cl(this.baseMutations,e.baseMutations,((t,s)=>c2(t,s)))}}class Bg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return xI})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,s[u].version);return new Bg(e,t,s,o)}}class RI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DI{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ut,Ge;function II(i){switch(i){case ce.OK:return Re(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function cA(i){if(i===void 0)return tr("GRPC error has no .code"),ce.UNKNOWN;switch(i){case Ut.OK:return ce.OK;case Ut.CANCELLED:return ce.CANCELLED;case Ut.UNKNOWN:return ce.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ce.INTERNAL;case Ut.UNAVAILABLE:return ce.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ce.NOT_FOUND;case Ut.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ut.ABORTED:return ce.ABORTED;case Ut.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ut.DATA_LOSS:return ce.DATA_LOSS;default:return Re(39323,{code:i})}}(Ge=Ut||(Ut={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function kI(){return new TextEncoder}const jI=new Kr([4294967295,4294967295],0);function d2(i){const e=kI().encode(i),t=new _E;return t.update(e),new Uint8Array(t.digest())}function f2(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Kr([t,s],0),new Kr([o,l],0)]}class Og{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Dc(`Invalid padding: ${t}`);if(s<0)throw new Dc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Kr.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Kr.fromNumber(s)));return o.compare(jI)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=d2(e),[s,o]=f2(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,o,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Og(l,o,t);return s.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const t=d2(e),[s,o]=f2(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new kf(Ie.min(),o,new wt(ze),nr(),He())}}class ou{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ou(s,t,He(),He(),He())}}class Zh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class uA{constructor(e,t){this.targetId=e,this.Ce=t}}class hA{constructor(e,t,s=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class m2{constructor(){this.ve=0,this.Fe=p2(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),s=He();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Re(38017,{changeType:l})}})),new ou(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=p2()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BI{constructor(e){this.Ge=e,this.ze=new Map,this.je=nr(),this.Je=Lh(),this.He=Lh(),this.Ye=new wt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Mp(l))if(s===0){const u=new Te(l.path);this.et(t,u,pn.newNoDocument(u,Ie.min()))}else Je(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const p=this.ut(e),g=p?this.ct(p,e,u):1;if(g!==0){this.it(t);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let u,p;try{u=Zr(s).toUint8Array()}catch(g){if(g instanceof BE)return ll("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Og(u,o,l)}catch(g){return ll(g instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const p=this.ot(u);if(p){if(l.current&&Mp(p.target)){const g=new Te(p.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,pn.newNoDocument(g,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let s=He();this.He.forEach(((l,u)=>{let p=!0;u.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new kf(e,t,this.Ye,this.je,s);return this.je=nr(),this.Je=Lh(),this.He=Lh(),this.Ye=new wt(ze),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new m2,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Kt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Kt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m2),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Lh(){return new wt(Te.comparator)}function p2(){return new wt(Te.comparator)}const OI={asc:"ASCENDING",desc:"DESCENDING"},MI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PI={and:"AND",or:"OR"};class LI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lp(i,e){return i.useProto3Json||Tf(e)?e:{value:e}}function Zd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function FI(i,e){return Zd(i,e.toTimestamp())}function bs(i){return Je(!!i,49232),Ie.fromTimestamp((function(t){const s=Wr(t);return new ft(s.seconds,s.nanos)})(i))}function Mg(i,e){return Fp(i,e).canonicalString()}function Fp(i,e){const t=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function fA(i){const e=lt.fromString(i);return Je(yA(e),10190,{key:e.toString()}),e}function Vp(i,e){return Mg(i.databaseId,e.path)}function op(i,e){const t=fA(e);if(t.get(1)!==i.databaseId.projectId)throw new ge(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ge(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(pA(t))}function mA(i,e){return Mg(i.databaseId,e)}function VI(i){const e=fA(i);return e.length===4?lt.emptyPath():pA(e)}function Up(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pA(i){return Je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function g2(i,e,t){return{name:Vp(i,e),fields:t.value.mapValue.fields}}function UI(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(Je(y===void 0||typeof y=="string",58123),ln.fromBase64String(y||"")):(Je(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ln.fromUint8Array(y||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(m){const y=m.code===void 0?ce.UNKNOWN:cA(m.code);return new ge(y,m.message||"")})(u);t=new hA(s,o,l,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=op(i,s.document.name),l=bs(s.document.updateTime),u=s.document.createTime?bs(s.document.createTime):Ie.min(),p=new Bn({mapValue:{fields:s.document.fields}}),g=pn.newFoundDocument(o,l,u,p),m=s.targetIds||[],y=s.removedTargetIds||[];t=new Zh(m,y,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=op(i,s.document),l=s.readTime?bs(s.readTime):Ie.min(),u=pn.newNoDocument(o,l),p=s.removedTargetIds||[];t=new Zh([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=op(i,s.document),l=s.removedTargetIds||[];t=new Zh([],l,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,u=new DI(o,l),p=s.targetId;t=new uA(p,u)}}return t}function zI(i,e){let t;if(e instanceof au)t={update:g2(i,e.key,e.value)};else if(e instanceof lA)t={delete:Vp(i,e.key)};else if(e instanceof aa)t={update:g2(i,e.key,e.data),updateMask:WI(e.fieldMask)};else{if(!(e instanceof SI))return Re(16599,{Vt:e.type});t={verify:Vp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const p=u.transform;if(p instanceof Kc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof dl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof fl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw Re(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:FI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(i,e.precondition)),t}function HI(i,e){return i&&i.length>0?(Je(e!==void 0,14353),i.map((t=>(function(o,l){let u=o.updateTime?bs(o.updateTime):bs(l);return u.isEqual(Ie.min())&&(u=bs(l)),new AI(u,o.transformResults||[])})(t,e)))):[]}function qI(i,e){return{documents:[mA(i,e.path)]}}function $I(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=mA(i,o);const l=(function(m){if(m.length!==0)return xA(Fi.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((y=>(function(b){return{field:Wo(b.field),direction:YI(b.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=Lp(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function GI(i){let e=VI(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Je(s===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(v){const b=gA(v);return b instanceof Fi&&qE(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((b=>(function(I){return new Gc(Zo(I.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(b)))})(t.orderBy));let p=null;t.limit&&(p=(function(v){let b;return b=typeof v=="object"?v.value:v,Tf(b)?null:b})(t.limit));let g=null;t.startAt&&(g=(function(v){const b=!!v.before,N=v.values||[];return new Qd(N,b)})(t.startAt));let m=null;return t.endAt&&(m=(function(v){const b=!v.before,N=v.values||[];return new Qd(N,b)})(t.endAt)),dI(e,o,u,l,p,"F",g,m)}function KI(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Zo(t.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Zo(t.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Zo(t.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zo(t.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(i):i.fieldFilter!==void 0?(function(t){return zt.create(Zo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Fi.create(t.compositeFilter.filters.map((s=>gA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(i):Re(30097,{filter:i})}function YI(i){return OI[i]}function XI(i){return MI[i]}function QI(i){return PI[i]}function Wo(i){return{fieldPath:i.canonicalString()}}function Zo(i){return on.fromServerFormat(i.fieldPath)}function xA(i){return i instanceof zt?(function(t){if(t.op==="=="){if(i2(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NAN"}};if(n2(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(i2(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NAN"}};if(n2(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(t.field),op:XI(t.op),value:t.value}}})(i):i instanceof Fi?(function(t){const s=t.getFilters().map((o=>xA(o)));return s.length===1?s[0]:{compositeFilter:{op:QI(t.op),filters:s}}})(i):Re(54877,{filter:i})}function WI(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function yA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class qr{constructor(e,t,s,o,l=Ie.min(),u=Ie.min(),p=ln.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZI{constructor(e){this.yt=e}}function JI(i){const e=GI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Wd(e,e.limit,"L"):e}class ek{constructor(){this.Cn=new tk}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Qr.min())}updateCollectionGroup(e,t,s){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class tk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Kt(lt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(lt.comparator)).toArray()}}const x2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vA=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(vA,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}const y2="LruGarbageCollector",nk=1048576;function v2([i,e],[t,s]){const o=ze(i,t);return o===0?ze(e,s):o}class ik{constructor(e){this.Ir=e,this.buffer=new Kt(v2),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();v2(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(y2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wl(t)?ve(y2,"Ignoring IndexedDB error during garbage collection: ",t):await bl(t)}await this.Vr(3e5)}))}}class rk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Af.ce);const s=new ik(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(x2)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x2):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,u,p,g,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(s=v,p=Date.now(),this.removeTargets(e,s,t)))).next((v=>(l=v,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(m=Date.now(),Xo()<=Ue.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${l} targets in `+(g-p)+`ms
	Removed ${v} documents in `+(m-g)+`ms
Total Duration: ${m-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:v}))))}}function ak(i,e){return new rk(i,e)}class ok{constructor(){this.changes=new Wa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?he.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ck{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Pc(s.mutation,o,Wn.empty(),ft.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=He()){const o=Pa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let u=Rc();return l.forEach(((p,g)=>{u=u.insert(p,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=Pa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,He())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,p)=>{t.set(u,p)}))}))}computeViews(e,t,s,o){let l=nr();const u=Mc(),p=(function(){return Mc()})();return t.forEach(((g,m)=>{const y=s.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof aa)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Pc(y.mutation,m,y.mutation.getFieldMask(),ft.now())):u.set(m.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>p.set(m,new lk(y,u.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=Mc();let o=new wt(((u,p)=>u-p)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const p of u)p.keys().forEach((g=>{const m=t.get(g);if(m===null)return;let y=s.get(g)||Wn.empty();y=p.applyToLocalView(m,y),s.set(g,y);const v=(o.get(p.batchId)||He()).add(g);o=o.insert(p.batchId,v)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,y=g.value,v=JE();y.forEach((b=>{if(!l.has(b)){const N=aA(t.get(b),s.get(b));N!==null&&v.set(b,N),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return he.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):he.resolve(Pa());let p=zc,g=l;return u.next((m=>he.forEach(m,((y,v)=>(p<v.largestBatchId&&(p=v.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{g=g.insert(y,b)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,g,m,He()))).next((y=>({batchId:p,changes:ZE(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((s=>{let o=Rc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let u=Rc();return this.indexManager.getCollectionParents(e,l).next((p=>he.forEach(p,(g=>{const m=(function(v,b){return new _l(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,o).next((y=>{y.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((u=>{l.forEach(((g,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,pn.newInvalidDocument(y)))}));let p=Rc();return u.forEach(((g,m)=>{const y=l.get(g);y!==void 0&&Pc(y.mutation,m,Wn.empty(),ft.now()),Nf(t,m)&&(p=p.insert(g,m))})),p}))}}class uk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return he.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:bs(o.createTime)}})(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:JI(o.bundledQuery),readTime:bs(o.readTime)}})(t)),he.resolve()}}class hk{constructor(){this.overlays=new wt(Te.comparator),this.qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Pa();return he.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),he.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),he.resolve()}getOverlaysForCollection(e,t,s){const o=Pa(),l=t.length+1,u=new Te(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return he.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new wt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>s){let y=l.get(m.largestBatchId);y===null&&(y=Pa(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const p=Pa(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,y)=>p.set(m,y))),!(p.size()>=o)););return he.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new RI(t,s));let l=this.qr.get(t);l===void 0&&(l=He(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}class dk{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}class Pg{constructor(){this.Qr=new Kt(Zt.$r),this.Ur=new Kt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Zt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Zt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Te(new lt([])),s=new Zt(t,e),o=new Zt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new lt([])),s=new Zt(t,e),o=new Zt(t,e+1);let l=He();return this.Ur.forEachInRange([s,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Zt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}class fk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Zt.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new NI(l,t,s,o);this.mutationQueue.push(u);for(const p of o)this.Zr=this.Zr.add(new Zt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Sg:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Zt(t,0),o=new Zt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(u=>{const p=this.Xr(u.Yr);l.push(p)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Kt(ze);return t.forEach((o=>{const l=new Zt(o,0),u=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(p=>{s=s.add(p.Yr)}))})),he.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Te.isDocumentKey(l)||(l=l.child(""));const u=new Zt(new Te(l),0);let p=new Kt(ze);return this.Zr.forEachWhile((g=>{const m=g.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Yr)),!0)}),u),he.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return he.forEach(t.mutations,(o=>{const l=new Zt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Zt(t,0),o=this.Zr.firstAfterOrEqual(s);return he.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mk{constructor(e){this.ri=e,this.docs=(function(){return new wt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return he.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let s=nr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():pn.newInvalidDocument(o))})),he.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=nr();const u=t.path,p=new Te(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:y}}=g.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||qD(HD(y),s)<=0||(o.has(y.key)||Nf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Re(9500)}ii(e,t){return he.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new pk(this)}getSize(e){return he.resolve(this.size)}}class pk extends ok{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),he.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class gk{constructor(e){this.persistence=e,this.si=new Wa((t=>Dg(t)),Ig),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Pg,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),he.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Pr(t),he.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((u,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),he.waitFor(l).next((()=>o))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return he.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),he.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return he.resolve(s)}containsKey(e,t){return he.resolve(this._i.containsKey(t))}}class bA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Af(0),this.li=!1,this.li=!0,this.hi=new dk,this.referenceDelegate=e(this),this.Pi=new gk(this),this.indexManager=new ek,this.remoteDocumentCache=(function(o){return new mk(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ZI(t),this.Ii=new uk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new fk(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ve("MemoryPersistence","Starting transaction:",e);const o=new xk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return he.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class xk extends GD{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.Ri=new Pg,this.Vi=null}static mi(e){return new Lg(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),he.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(s=>{const o=Te.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ie.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return he.or([()=>he.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Jd{constructor(e,t){this.persistence=e,this.pi=new Wa((s=>XD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ak(this,t)}static mi(e,t){return new Jd(e,t)}Ei(){}di(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return he.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?he.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((p=>{p||(s++,l.removeEntry(u,Ie.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),he.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xh(e.data.value)),t}br(e,t,s){return he.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return he.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=He(),o=He();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Fg(e,t.fromCache,s,o)}}class yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return S3()?8:KD(xn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new yk;return this.Ss(e,t,u).next((p=>{if(l.result=p,this.Vs)return this.bs(e,t,u,p.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Xo()<=Ue.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(Xo()<=Ue.DEBUG&&ve("QueryEngine","Query:",Qo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Xo()<=Ue.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(t))):he.resolve())}ys(e,t){if(o2(t))return he.resolve(null);let s=ys(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Wd(t,null,"F"),s=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=He(...l);return this.ps.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const m=this.Ds(t,p);return this.Cs(t,m,u,g.readTime)?this.ys(e,Wd(t,null,"F")):this.vs(e,m,t,g)}))))})))))}ws(e,t,s,o){return o2(t)||o.isEqual(Ie.min())?he.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,s,o)?he.resolve(null):(Xo()<=Ue.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qo(t)),this.vs(e,u,t,zD(o,zc)).next((p=>p)))}))}Ds(e,t){let s=new Kt(QE(e));return t.forEach(((o,l)=>{Nf(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return Xo()<=Ue.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.ps.getDocumentsMatchingQuery(e,t,Qr.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Vg="LocalStore",bk=3e8;class wk{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new wt(ze),this.xs=new Wa((l=>Dg(l)),Ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ck(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function _k(i,e,t,s){return new wk(i,e,t,s)}async function wA(i,e){const t=je(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],p=[];let g=He();for(const m of o){u.push(m.batchId);for(const y of m.mutations)g=g.add(y.key)}for(const m of l){p.push(m.batchId);for(const y of m.mutations)g=g.add(y.key)}return t.localDocuments.getDocuments(s,g).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:p})))}))}))}function Ek(i,e){const t=je(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,m,y){const v=m.batch,b=v.keys();let N=he.resolve();return b.forEach((I=>{N=N.next((()=>y.getEntry(g,I))).next((B=>{const k=m.docVersions.get(I);Je(k!==null,48541),B.version.compareTo(k)<0&&(v.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),y.addEntry(B)))}))})),N.next((()=>p.mutationQueue.removeMutationBatch(g,v)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=He();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(g=g.add(p.batch.mutations[m].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function _A(i){const e=je(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Ak(i,e){const t=je(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((y,v)=>{const b=o.get(v);if(!b)return;p.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,y.addedDocuments,v))));let N=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?N=N.withResumeToken(ln.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,s)),o=o.insert(v,N),(function(B,k,U){return B.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=bk?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(b,N,y)&&p.push(t.Pi.updateTargetData(l,N))}));let g=nr(),m=He();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),p.push(Tk(l,u,e.documentUpdates).next((y=>{g=y.ks,m=y.qs}))),!s.isEqual(Ie.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));p.push(y)}return he.waitFor(p).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,m))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function Tk(i,e,t){let s=He(),o=He();return t.forEach((l=>s=s.add(l))),e.getEntries(i,s).next((l=>{let u=nr();return t.forEach(((p,g)=>{const m=l.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(p,g.readTime),u=u.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),u=u.insert(p,g)):ve(Vg,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function Ck(i,e){const t=je(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Sg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Sk(i,e){const t=je(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,he.resolve(o)):t.Pi.allocateTargetId(s).next((u=>(o=new qr(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function zp(i,e,t){const s=je(i),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!wl(u))throw u;ve(Vg,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function b2(i,e,t){const s=je(i);let o=Ie.min(),l=He();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,m,y){const v=je(g),b=v.xs.get(y);return b!==void 0?he.resolve(v.Ms.get(b)):v.Pi.getTargetData(m,y)})(s,u,ys(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,p.targetId).next((g=>{l=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,t?o:Ie.min(),t?l:He()))).next((p=>(Nk(s,mI(e),p),{documents:p,Qs:l})))))}function Nk(i,e,t){let s=i.Os.get(e)||Ie.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),i.Os.set(e,s)}class w2{constructor(){this.activeTargetIds=bI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rk{constructor(){this.Mo=new w2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new w2,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dk{Oo(e){}shutdown(){}}const _2="ConnectivityMonitor";class E2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(_2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(_2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fh=null;function Hp(){return Fh===null?Fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fh++,"0x"+Fh.toString(16)}const lp="RestConnection",Ik={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Yd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const u=Hp(),p=this.zo(e,t.toUriEncodedString());ve(lp,`Sending RPC '${e}' ${u}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:m}=new URL(p),y=na(m);return this.Jo(e,p,g,s,y).then((v=>(ve(lp,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw ll(lp,`RPC '${e}' ${u} failed with error: `,v,"url: ",p,"request:",s),v}))}Ho(e,t,s,o,l,u){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=Ik[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class jk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class Bk extends kk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const u=Hp();return new Promise(((p,g)=>{const m=new EE;m.setWithCredentials(!0),m.listenOnce(AE.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Yh.NO_ERROR:const v=m.getResponseJson();ve(hn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),p(v);break;case Yh.TIMEOUT:ve(hn,`RPC '${e}' ${u} timed out`),g(new ge(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:const b=m.getStatus();if(ve(hn,`RPC '${e}' ${u} failed with status:`,b,"response text:",m.getResponseText()),b>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const I=N?.error;if(I&&I.status&&I.message){const B=(function(U){const S=U.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(S)>=0?S:ce.UNKNOWN})(I.status);g(new ge(B,I.message))}else g(new ge(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new ge(ce.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ve(hn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);ve(hn,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",y,s,15)}))}T_(e,t,s){const o=Hp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=SE(),p=CE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const y=l.join("");ve(hn,`Creating RPC '${e}' stream ${o}: ${y}`,g);const v=u.createWebChannel(y,g);this.I_(v);let b=!1,N=!1;const I=new jk({Yo:k=>{N?ve(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(b||(ve(hn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),b=!0),ve(hn,`RPC '${e}' stream ${o} sending:`,k),v.send(k))},Zo:()=>v.close()}),B=(k,U,S)=>{k.listen(U,(j=>{try{S(j)}catch(M){setTimeout((()=>{throw M}),0)}}))};return B(v,Nc.EventType.OPEN,(()=>{N||(ve(hn,`RPC '${e}' stream ${o} transport opened.`),I.o_())})),B(v,Nc.EventType.CLOSE,(()=>{N||(N=!0,ve(hn,`RPC '${e}' stream ${o} transport closed`),I.a_(),this.E_(v))})),B(v,Nc.EventType.ERROR,(k=>{N||(N=!0,ll(hn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),I.a_(new ge(ce.UNAVAILABLE,"The operation could not be completed")))})),B(v,Nc.EventType.MESSAGE,(k=>{if(!N){const U=k.data[0];Je(!!U,16349);const S=U,j=S?.error||S[0]?.error;if(j){ve(hn,`RPC '${e}' stream ${o} received error:`,j);const M=j.status;let z=(function(D){const C=Ut[D];if(C!==void 0)return cA(C)})(M),H=j.message;z===void 0&&(z=ce.INTERNAL,H="Unknown error status: "+M+" with message "+j.message),N=!0,I.a_(new ge(z,H)),v.close()}else ve(hn,`RPC '${e}' stream ${o} received:`,U),I.u_(U)}})),B(p,TE.STAT_EVENT,(k=>{k.stat===Ip.PROXY?ve(hn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Ip.NOPROXY&&ve(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function cp(){return typeof document<"u"?document:null}function jf(i){return new LI(i,!0)}class EA{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const A2="PersistentStream";class AA{constructor(e,t,s,o,l,u,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ge(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(A2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(A2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ok extends AA{constructor(e,t,s,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=UI(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?bs(u.readTime):Ie.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Up(this.serializer),t.addTarget=(function(l,u){let p;const g=u.target;if(p=Mp(g)?{documents:qI(l,g)}:{query:$I(l,g).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=dA(l,u.resumeToken);const m=Lp(l,u.expectedCount);m!==null&&(p.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ie.min())>0){p.readTime=Zd(l,u.snapshotVersion.toTimestamp());const m=Lp(l,u.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const s=KI(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Up(this.serializer),t.removeTarget=e,this.q_(t)}}class Mk extends AA{constructor(e,t,s,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=HI(e.writeResults,e.commitTime),s=bs(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Up(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>zI(this.serializer,s)))};this.q_(t)}}class Pk{}class Lk extends Pk{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Fp(t,s),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ce.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.Ho(e,Fp(t,s),o,u,p,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Fk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $a="RemoteStore";class Vk{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Za(this)&&(ve($a,"Restarting streams for network reachability change."),await(async function(g){const m=je(g);m.Ea.add(4),await lu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Bf(m)})(this))}))})),this.Ra=new Fk(s,o)}}async function Bf(i){if(Za(i))for(const e of i.da)await e(!0)}async function lu(i){for(const e of i.da)await e(!1)}function TA(i,e){const t=je(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),qg(t)?Hg(t):El(t).O_()&&zg(t,e))}function Ug(i,e){const t=je(i),s=El(t);t.Ia.delete(e),s.O_()&&CA(t,e),t.Ia.size===0&&(s.O_()?s.L_():Za(t)&&t.Ra.set("Unknown"))}function zg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}El(i).Y_(e)}function CA(i,e){i.Va.Ue(e),El(i).Z_(e)}function Hg(i){i.Va=new BI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),El(i).start(),i.Ra.ua()}function qg(i){return Za(i)&&!El(i).x_()&&i.Ia.size>0}function Za(i){return je(i).Ea.size===0}function SA(i){i.Va=void 0}async function Uk(i){i.Ra.set("Online")}async function zk(i){i.Ia.forEach(((e,t)=>{zg(i,e)}))}async function Hk(i,e){SA(i),qg(i)?(i.Ra.ha(e),Hg(i)):i.Ra.set("Unknown")}async function qk(i,e,t){if(i.Ra.set("Online"),e instanceof hA&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const p of l.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){ve($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ef(i,s)}else if(e instanceof Zh?i.Va.Ze(e):e instanceof uA?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ie.min()))try{const s=await _A(i.localStore);t.compareTo(s)>=0&&await(function(l,u){const p=l.Va.Tt(u);return p.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(g.resumeToken,u))}})),p.targetMismatches.forEach(((g,m)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(ln.EMPTY_BYTE_STRING,y.snapshotVersion)),CA(l,g);const v=new qr(y.target,g,m,y.sequenceNumber);zg(l,v)})),l.remoteSyncer.applyRemoteEvent(p)})(i,t)}catch(s){ve($a,"Failed to raise snapshot:",s),await ef(i,s)}}async function ef(i,e,t){if(!wl(e))throw e;i.Ea.add(1),await lu(i),i.Ra.set("Offline"),t||(t=()=>_A(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ve($a,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Bf(i)}))}function NA(i,e){return e().catch((t=>ef(i,t,e)))}async function Of(i){const e=je(i),t=ea(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sg;for(;$k(e);)try{const o=await Ck(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,Gk(e,o)}catch(o){await ef(e,o)}RA(e)&&DA(e)}function $k(i){return Za(i)&&i.Ta.length<10}function Gk(i,e){i.Ta.push(e);const t=ea(i);t.O_()&&t.X_&&t.ea(e.mutations)}function RA(i){return Za(i)&&!ea(i).x_()&&i.Ta.length>0}function DA(i){ea(i).start()}async function Kk(i){ea(i).ra()}async function Yk(i){const e=ea(i);for(const t of i.Ta)e.ea(t.mutations)}async function Xk(i,e,t){const s=i.Ta.shift(),o=Bg.from(s,e,t);await NA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Of(i)}async function Qk(i,e){e&&ea(i).X_&&await(async function(s,o){if((function(u){return II(u)&&u!==ce.ABORTED})(o.code)){const l=s.Ta.shift();ea(s).B_(),await NA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Of(s)}})(i,e),RA(i)&&DA(i)}async function T2(i,e){const t=je(i);t.asyncQueue.verifyOperationInProgress(),ve($a,"RemoteStore received new credentials");const s=Za(t);t.Ea.add(3),await lu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bf(t)}async function Wk(i,e){const t=je(i);e?(t.Ea.delete(2),await Bf(t)):e||(t.Ea.add(2),await lu(t),t.Ra.set("Unknown"))}function El(i){return i.ma||(i.ma=(function(t,s,o){const l=je(t);return l.sa(),new Ok(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Uk.bind(null,i),t_:zk.bind(null,i),r_:Hk.bind(null,i),H_:qk.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),qg(i)?Hg(i):i.Ra.set("Unknown")):(await i.ma.stop(),SA(i))}))),i.ma}function ea(i){return i.fa||(i.fa=(function(t,s,o){const l=je(t);return l.sa(),new Mk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Kk.bind(null,i),r_:Qk.bind(null,i),ta:Yk.bind(null,i),na:Xk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Of(i)):(await i.fa.stop(),i.Ta.length>0&&(ve($a,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class $g{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const u=Date.now()+s,p=new $g(e,t,u,o,l);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(i,e){if(tr("AsyncQueue",`${e}: ${i}`),wl(i))return new ge(ce.UNAVAILABLE,`${e}: ${i}`);throw i}class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=Rc(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new sl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class C2{constructor(){this.ga=new wt(Te.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class pl{constructor(e,t,s,o,l,u,p,g,m){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,t,s,o,l){const u=[];return t.forEach((p=>{u.push({type:0,doc:p})})),new pl(e,t,sl.emptySet(t),u,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class Zk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Jk{constructor(){this.queries=S2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=je(t),l=o.queries;o.queries=S2(),l.forEach(((u,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ge(ce.ABORTED,"Firestore shutting down"))}}function S2(){return new Wa((i=>XE(i)),Sf)}async function IA(i,e){const t=je(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new Zk,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const p=Gg(u,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Kg(t)}async function kA(i,e){const t=je(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function e9(i,e){const t=je(i);let s=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const p of u.Sa)p.Fa(o)&&(s=!0);u.wa=o}}s&&Kg(t)}function t9(i,e,t){const s=je(i),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Kg(i){i.Ca.forEach((e=>{e.next()}))}var qp,N2;(N2=qp||(qp={})).Ma="default",N2.Cache="cache";class jA{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new pl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qp.Cache}}class BA{constructor(e){this.key=e}}class OA{constructor(e){this.key=e}}class n9{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=QE(e),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new C2,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,v)=>{const b=o.get(y),N=Nf(this.query,v)?v:null,I=!!b&&this.mutatedKeys.has(b.key),B=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let k=!1;b&&N?b.data.isEqual(N.data)?I!==B&&(s.track({type:3,doc:N}),k=!0):this.su(b,N)||(s.track({type:2,doc:N}),k=!0,(g&&this.eu(N,g)>0||m&&this.eu(N,m)<0)&&(p=!0)):!b&&N?(s.track({type:0,doc:N}),k=!0):b&&!N&&(s.track({type:1,doc:b}),k=!0,(g||m)&&(p=!0)),k&&(N?(u=u.add(N),l=B?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(N,I){const B=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:k})}};return B(N)-B(I)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,m=g!==this.Za;return this.Za=g,u.length!==0||m?{snapshot:new pl(this.query,e.tu,l,u,e.mutatedKeys,g===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new OA(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new BA(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yg="SyncEngine";class i9{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class s9{constructor(e){this.key=e,this.hu=!1}}class r9{constructor(e,t,s,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Wa((p=>XE(p)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new wt(Te.comparator),this.Au=new Map,this.Ru=new Pg,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a9(i,e,t=!0){const s=UA(i);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await MA(s,e,t,!0),o}async function o9(i,e){const t=UA(i);await MA(t,e,!0,!1)}async function MA(i,e,t,s){const o=await Sk(i.localStore,ys(e)),l=o.targetId,u=i.sharedClientState.addLocalQueryTarget(l,t);let p;return s&&(p=await l9(i,e,l,u==="current",o.resumeToken)),i.isPrimaryClient&&t&&TA(i.remoteStore,o),p}async function l9(i,e,t,s,o){i.pu=(v,b,N)=>(async function(B,k,U,S){let j=k.view.ru(U);j.Cs&&(j=await b2(B.localStore,k.query,!1).then((({documents:A})=>k.view.ru(A,j))));const M=S&&S.targetChanges.get(k.targetId),z=S&&S.targetMismatches.get(k.targetId)!=null,H=k.view.applyChanges(j,B.isPrimaryClient,M,z);return D2(B,k.targetId,H.au),H.snapshot})(i,v,b,N);const l=await b2(i.localStore,e,!0),u=new n9(e,l.Qs),p=u.ru(l.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),m=u.applyChanges(p,i.isPrimaryClient,g);D2(i,t,m.au);const y=new i9(e,t,u);return i.Tu.set(e,y),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),m.snapshot}async function c9(i,e,t){const s=je(i),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((u=>!Sf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ug(s.remoteStore,o.targetId),$p(s,o.targetId)})).catch(bl)):($p(s,o.targetId),await zp(s.localStore,o.targetId,!0))}async function u9(i,e){const t=je(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ug(t.remoteStore,s.targetId))}async function h9(i,e,t){const s=y9(i);try{const o=await(function(u,p){const g=je(u),m=ft.now(),y=p.reduce(((N,I)=>N.add(I.key)),He());let v,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let I=nr(),B=He();return g.Ns.getEntries(N,y).next((k=>{I=k,I.forEach(((U,S)=>{S.isValidDocument()||(B=B.add(U))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,I))).next((k=>{v=k;const U=[];for(const S of p){const j=CI(S,v.get(S.key).overlayedDocument);j!=null&&U.push(new aa(S.key,j,UE(j.value.mapValue),vs.exists(!0)))}return g.mutationQueue.addMutationBatch(N,m,U,p)})).next((k=>{b=k;const U=k.applyToLocalDocumentSet(v,B);return g.documentOverlayCache.saveOverlays(N,k.batchId,U)}))})).then((()=>({batchId:b.batchId,changes:ZE(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,p,g){let m=u.Vu[u.currentUser.toKey()];m||(m=new wt(ze)),m=m.insert(p,g),u.Vu[u.currentUser.toKey()]=m})(s,o.batchId,t),await cu(s,o.changes),await Of(s.remoteStore)}catch(o){const l=Gg(o,"Failed to persist write");t.reject(l)}}async function PA(i,e){const t=je(i);try{const s=await Ak(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Je(u.hu,14607):o.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await cu(t,s,e)}catch(s){await bl(s)}}function R2(i,e,t){const s=je(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const g=je(u);g.onlineState=p;let m=!1;g.queries.forEach(((y,v)=>{for(const b of v.Sa)b.va(p)&&(m=!0)})),m&&Kg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function d9(i,e,t){const s=je(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let u=new wt(Te.comparator);u=u.insert(l,pn.newNoDocument(l,Ie.min()));const p=He().add(l),g=new kf(Ie.min(),new Map,new wt(ze),u,p);await PA(s,g),s.du=s.du.remove(l),s.Au.delete(e),Xg(s)}else await zp(s.localStore,e,!1).then((()=>$p(s,e,t))).catch(bl)}async function f9(i,e){const t=je(i),s=e.batch.batchId;try{const o=await Ek(t.localStore,e);FA(t,s,null),LA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await cu(t,o)}catch(o){await bl(o)}}async function m9(i,e,t){const s=je(i);try{const o=await(function(u,p){const g=je(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return g.mutationQueue.lookupMutationBatch(m,p).next((v=>(Je(v!==null,37113),y=v.keys(),g.mutationQueue.removeMutationBatch(m,v)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,y,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>g.localDocuments.getDocuments(m,y)))}))})(s.localStore,e);FA(s,e,t),LA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await cu(s,o)}catch(o){await bl(o)}}function LA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function FA(i,e,t){const s=je(i);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function $p(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||VA(i,s)}))}function VA(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Ug(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Xg(i))}function D2(i,e,t){for(const s of t)s instanceof BA?(i.Ru.addReference(s.key,e),p9(i,s)):s instanceof OA?(ve(Yg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||VA(i,s.key)):Re(19791,{wu:s})}function p9(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ve(Yg,"New document in limbo: "+t),i.Eu.add(s),Xg(i))}function Xg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Te(lt.fromString(e)),s=i.fu.next();i.Au.set(s,new s9(t)),i.du=i.du.insert(t,s),TA(i.remoteStore,new qr(ys(kg(t.path)),s,"TargetPurposeLimboResolution",Af.ce))}}async function cu(i,e,t){const s=je(i),o=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{u.push(s.pu(g,e,t).then((m=>{if((m||t)&&s.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(m){o.push(m);const y=Fg.As(g.targetId,m);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(g,m){const y=je(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>he.forEach(m,(b=>he.forEach(b.Es,(N=>y.persistence.referenceDelegate.addReference(v,b.targetId,N))).next((()=>he.forEach(b.ds,(N=>y.persistence.referenceDelegate.removeReference(v,b.targetId,N)))))))))}catch(v){if(!wl(v))throw v;ve(Vg,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const N=y.Ms.get(b),I=N.snapshotVersion,B=N.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(b,B)}}})(s.localStore,l))}async function g9(i,e){const t=je(i);if(!t.currentUser.isEqual(e)){ve(Yg,"User change. New user:",e.toKey());const s=await wA(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((p=>{p.forEach((g=>{g.reject(new ge(ce.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cu(t,s.Ls)}}function x9(i,e){const t=je(i),s=t.Au.get(e);if(s&&s.hu)return He().add(s.key);{let o=He();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const p=t.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function UA(i){const e=je(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=PA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d9.bind(null,e),e.Pu.H_=e9.bind(null,e.eventManager),e.Pu.yu=t9.bind(null,e.eventManager),e}function y9(i){const e=je(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m9.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _k(this.persistence,new vk,e.initialUser,this.serializer)}Cu(e){return new bA(Lg.mi,this.serializer)}Du(e){return new Rk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class v9 extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Je(this.persistence.referenceDelegate instanceof Jd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sk(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new bA((s=>Jd.mi(s,t)),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>R2(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=g9.bind(null,this.syncEngine),await Wk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jk})()}createDatastore(e){const t=jf(e.databaseInfo.databaseId),s=(function(l){return new Bk(l)})(e.databaseInfo);return(function(l,u,p,g){return new Lk(l,u,p,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,u,p){return new Vk(s,o,l,u,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>R2(this.syncEngine,t,0)),(function(){return E2.v()?new E2:new Dk})())}createSyncEngine(e,t){return(function(o,l,u,p,g,m,y){const v=new r9(o,l,u,p,g,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=je(t);ve($a,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gp.provider={build:()=>new Gp};class zA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ta="FirestoreClient";class b9{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=Cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ve(ta,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ve(ta,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Gg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function up(i,e){i.asyncQueue.verifyOperationInProgress(),ve(ta,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await wA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function I2(i,e){i.asyncQueue.verifyOperationInProgress();const t=await w9(i);ve(ta,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>T2(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>T2(e.remoteStore,o))),i._onlineComponents=e}async function w9(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ve(ta,"Using user provided OfflineComponentProvider");try{await up(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ll("Error using user provided cache. Falling back to memory cache: "+t),await up(i,new tf)}}else ve(ta,"Using default OfflineComponentProvider"),await up(i,new v9(void 0));return i._offlineComponents}async function HA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ve(ta,"Using user provided OnlineComponentProvider"),await I2(i,i._uninitializedComponentsProvider._online)):(ve(ta,"Using default OnlineComponentProvider"),await I2(i,new Gp))),i._onlineComponents}function _9(i){return HA(i).then((e=>e.syncEngine))}async function qA(i){const e=await HA(i),t=e.eventManager;return t.onListen=a9.bind(null,e.syncEngine),t.onUnlisten=c9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=o9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=u9.bind(null,e.syncEngine),t}function E9(i,e,t={}){const s=new Ws;return i.asyncQueue.enqueueAndForget((async()=>(function(l,u,p,g,m){const y=new zA({next:b=>{y.Nu(),u.enqueueAndForget((()=>kA(l,v)));const N=b.docs.has(p);!N&&b.fromCache?m.reject(new ge(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&b.fromCache&&g&&g.source==="server"?m.reject(new ge(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new jA(kg(p.path),y,{includeMetadataChanges:!0,qa:!0});return IA(l,v)})(await qA(i),i.asyncQueue,e,t,s))),s.promise}function A9(i,e,t={}){const s=new Ws;return i.asyncQueue.enqueueAndForget((async()=>(function(l,u,p,g,m){const y=new zA({next:b=>{y.Nu(),u.enqueueAndForget((()=>kA(l,v))),b.fromCache&&g.source==="server"?m.reject(new ge(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new jA(p,y,{includeMetadataChanges:!0,qa:!0});return IA(l,v)})(await qA(i),i.asyncQueue,e,t,s))),s.promise}function $A(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const k2=new Map;const GA="firestore.googleapis.com",j2=!0;class B2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GA,this.ssl=j2}else this.host=e.host,this.ssl=e.ssl??j2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nk)throw new ge(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$A(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ID;switch(s.type){case"firstParty":return new OD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=k2.get(t);s&&(ve("ComponentProvider","Removing Datastore"),k2.delete(t),s.terminate())})(this),Promise.resolve()}}function T9(i,e,t,s={}){i=Xr(i,Mf);const o=na(e),l=i._getSettings(),u={...l,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${t}`;o&&(lg(`https://${p}`),cg("Firestore",!0)),l.host!==GA&&l.host!==p&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:p,ssl:o,emulatorOptions:s};if(!Es(g,u)&&(i._setSettings(g),s.mockUserToken)){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=mn.MOCK_USER;else{m=u_(s.mockUserToken,i._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ge(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mn(v)}i._authCredentials=new kD(new RE(m,y))}}class oa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class qt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(ru(t,qt._jsonSchema))return new qt(e,s||null,new Te(lt.fromString(t.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Ht("string",qt._jsonSchemaVersion),referencePath:Ht("string")};class Yr extends oa{constructor(e,t,s){super(e,t,kg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Te(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function gn(i,e,...t){if(i=ct(i),DE("collection","path",e),i instanceof Mf){const s=lt.fromString(e,...t);return Kb(s),new Yr(i,null,s)}{if(!(i instanceof qt||i instanceof Yr))throw new ge(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...t));return Kb(s),new Yr(i.firestore,null,s)}}function _n(i,e,...t){if(i=ct(i),arguments.length===1&&(e=Cg.newId()),DE("doc","path",e),i instanceof Mf){const s=lt.fromString(e,...t);return Gb(s),new qt(i,null,new Te(s))}{if(!(i instanceof qt||i instanceof Yr))throw new ge(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...t));return Gb(s),new qt(i.firestore,i instanceof Yr?i.converter:null,new Te(s))}}const O2="AsyncQueue";class M2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EA(this,"async_queue_retry"),this._c=()=>{const s=cp();s&&ve(O2,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=cp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=cp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;ve(O2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",P2(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=$g.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:P2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function P2(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class uu extends Mf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new M2,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M2(e),this._firestoreClient=void 0,await e}}}function C9(i,e){const t=typeof i=="object"?i:gf(),s=typeof i=="string"?i:Yd,o=ia(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=o_("firestore");l&&T9(o,...l)}return o}function Qg(i){if(i._terminated)throw new ge(ce.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||S9(i),i._firestoreClient}function S9(i){const e=i._freezeSettings(),t=(function(o,l,u,p){return new ZD(o,l,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$A(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new b9(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(i._componentsProvider))}class yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yi(ln.fromBase64String(e))}catch(t){throw new ge(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yi(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,yi._jsonSchema))return yi.fromBase64String(e.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:Ht("string",yi._jsonSchemaVersion),bytes:Ht("string")};class Pf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ja{constructor(e){this._methodName=e}}class ws{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(ru(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:Ht("string",ws._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class _s{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,_s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new _s(e.vectorValues);throw new ge(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:Ht("string",_s._jsonSchemaVersion),vectorValues:Ht("object")};const N9=/^__.*__$/;class R9{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new au(e,this.data,t,this.fieldTransforms)}}class KA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new aa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:i})}}class Lf{constructor(e,t,s,o,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YA(this.Ac)&&N9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class D9{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||jf(e)}Cc(e,t,s,o=!1){return new Lf({Ac:e,methodName:t,Dc:s,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wg(i){const e=i._freezeSettings(),t=jf(i._databaseId);return new D9(i._databaseId,!!e.ignoreUndefinedProperties,t)}function I9(i,e,t,s,o,l={}){const u=i.Cc(l.merge||l.mergeFields?2:0,e,t,o);nx("Data must be an object, but it was:",u,s);const p=QA(s,u);let g,m;if(l.merge)g=new Wn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=Kp(e,v,t);if(!u.contains(b))throw new ge(ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ZA(y,b)||y.push(b)}g=new Wn(y),m=u.fieldTransforms.filter((v=>g.covers(v.field)))}else g=null,m=u.fieldTransforms;return new R9(new Bn(p),g,m)}class Ff extends Ja{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}function XA(i,e,t){return new Lf({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zg extends Ja{_toFieldTransform(e){return new Df(e.path,new Kc)}isEqual(e){return e instanceof Zg}}class Jg extends Ja{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=XA(this,e,!0),s=this.vc.map((l=>eo(l,t))),o=new dl(s);return new Df(e.path,o)}isEqual(e){return e instanceof Jg&&Es(this.vc,e.vc)}}class ex extends Ja{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=XA(this,e,!0),s=this.vc.map((l=>eo(l,t))),o=new fl(s);return new Df(e.path,o)}isEqual(e){return e instanceof ex&&Es(this.vc,e.vc)}}class tx extends Ja{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Yc(e.serializer,tA(e.serializer,this.Fc));return new Df(e.path,t)}isEqual(e){return e instanceof tx&&this.Fc===e.Fc}}function k9(i,e,t,s){const o=i.Cc(1,e,t);nx("Data must be an object, but it was:",o,s);const l=[],u=Bn.empty();ra(s,((g,m)=>{const y=ix(e,g,t);m=ct(m);const v=o.yc(y);if(m instanceof Ff)l.push(y);else{const b=eo(m,v);b!=null&&(l.push(y),u.set(y,b))}}));const p=new Wn(l);return new KA(u,p,o.fieldTransforms)}function j9(i,e,t,s,o,l){const u=i.Cc(1,e,t),p=[Kp(e,s,t)],g=[o];if(l.length%2!=0)throw new ge(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)p.push(Kp(e,l[b])),g.push(l[b+1]);const m=[],y=Bn.empty();for(let b=p.length-1;b>=0;--b)if(!ZA(m,p[b])){const N=p[b];let I=g[b];I=ct(I);const B=u.yc(N);if(I instanceof Ff)m.push(N);else{const k=eo(I,B);k!=null&&(m.push(N),y.set(N,k))}}const v=new Wn(m);return new KA(y,v,u.fieldTransforms)}function B9(i,e,t,s=!1){return eo(t,i.Cc(s?4:3,e))}function eo(i,e){if(WA(i=ct(i)))return nx("Unsupported field value:",e,i),QA(i,e);if(i instanceof Ja)return(function(s,o){if(!YA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let u=0;for(const p of s){let g=eo(p,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}})(i,e)}return(function(s,o){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ft.fromDate(s);return{timestampValue:Zd(o.serializer,l)}}if(s instanceof ft){const l=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zd(o.serializer,l)}}if(s instanceof ws)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yi)return{bytesValue:dA(o.serializer,s._byteString)};if(s instanceof qt){const l=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _s)return(function(u,p){return{mapValue:{fields:{[FE]:{stringValue:VE},[Xd]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return jg(p.serializer,m)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ef(s)}`)})(i,e)}function QA(i,e){const t={};return jE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(i,((s,o)=>{const l=eo(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function WA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof ws||i instanceof yi||i instanceof qt||i instanceof Ja||i instanceof _s)}function nx(i,e,t){if(!WA(t)||!IE(t)){const s=Ef(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Kp(i,e,t){if((e=ct(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return ix(i,e);throw nf("Field path arguments must be of type string or ",i,!1,void 0,t)}const O9=new RegExp("[~\\*/\\[\\]]");function ix(i,e,t){if(e.search(O9)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Pf(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function nf(i,e,t,s,o){const l=s&&!s.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${s}`),u&&(g+=` in document ${o}`),g+=")"),new ge(ce.INVALID_ARGUMENT,p+i+g)}function ZA(i,e){return i.some((t=>t.isEqual(e)))}class JA{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class M9 extends JA{data(){return super.data()}}function Vf(i,e){return typeof e=="string"?ix(i,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}function P9(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sx{}class rx extends sx{}function ir(i,e,...t){let s=[];e instanceof sx&&s.push(e),s=s.concat(t),(function(l){const u=l.filter((g=>g instanceof ax)).length,p=l.filter((g=>g instanceof Uf)).length;if(u>1||u>0&&p>0)throw new ge(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Uf extends rx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Uf(e,t,s)}_apply(e){const t=this._parse(e);return e4(e._query,t),new oa(e.firestore,e.converter,Pp(e._query,t))}_parse(e){const t=Wg(e.firestore);return(function(l,u,p,g,m,y,v){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){F2(v,y);const I=[];for(const B of v)I.push(L2(g,l,B));b={arrayValue:{values:I}}}else b=L2(g,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||F2(v,y),b=B9(p,u,v,y==="in"||y==="not-in");return zt.create(m,y,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rl(i,e,t){const s=e,o=Vf("where",i);return Uf._create(o,s,t)}class ax extends sx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ax(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const p=l.getFlattenedFilters();for(const g of p)e4(u,g),u=Pp(u,g)})(e._query,t),new oa(e.firestore,e.converter,Pp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ox extends rx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ox(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new ge(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(l,u)})(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new _l(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Xc(i,e="asc"){const t=e,s=Vf("orderBy",i);return ox._create(s,t)}class lx extends rx{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new lx(e,t,s)}_apply(e){return new oa(e.firestore,e.converter,Wd(e._query,this._limit,this._limitType))}}function L9(i){return lx._create("limit",i,"F")}function L2(i,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new ge(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(e)&&t.indexOf("/")!==-1)throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(lt.fromString(t));if(!Te.isDocumentKey(s))throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return t2(i,new Te(s))}if(t instanceof qt)return t2(i,t._key);throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(t)}.`)}function F2(i,e){if(!Array.isArray(i)||i.length===0)throw new ge(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e4(i,e){const t=(function(o,l){for(const u of o)for(const p of u.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class F9{convertValue(e,t="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ra(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Xd].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new _s(t)}convertGeoPoint(e){return new ws(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Cf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const t=Wr(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=lt.fromString(e);Je(yA(s),9688,{name:e});const o=new qc(s.get(1),s.get(3)),l=new Te(s.popFirst(5));return o.isEqual(t)||tr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function V9(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends JA{constructor(e,t,s,o,l,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=La._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:Ht("string",La._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Jh extends La{data(e={}){return super.data(e)}}class al{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ic(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Jh(this._firestore,this._userDataWriter,s.key,s,new Ic(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const g=new Jh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ic(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const g=new Jh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ic(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,y=-1;return p.type!==0&&(m=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),y=u.indexOf(p.doc.key)),{type:U9(p.type),doc:g,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U9(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}function cx(i){i=Xr(i,qt);const e=Xr(i.firestore,uu);return E9(Qg(e),i._key).then((t=>z9(e,i,t)))}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:Ht("string",al._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class t4 extends F9{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}}function Ts(i){i=Xr(i,oa);const e=Xr(i.firestore,uu),t=Qg(e),s=new t4(e);return P9(i._query),A9(t,i._query).then((o=>new al(e,s,i,o)))}function fn(i,e,t,...s){i=Xr(i,qt);const o=Xr(i.firestore,uu),l=Wg(o);let u;return u=typeof(e=ct(e))=="string"||e instanceof Pf?j9(l,"updateDoc",i._key,e,t,s):k9(l,"updateDoc",i._key,e),n4(o,[u.toMutation(i._key,vs.exists(!0))])}function gl(i,e){const t=Xr(i.firestore,uu),s=_n(i),o=V9(i.converter,e);return n4(t,[I9(Wg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,vs.exists(!1))]).then((()=>s))}function n4(i,e){return(function(s,o){const l=new Ws;return s.asyncQueue.enqueueAndForget((async()=>h9(await _9(s),o,l))),l.promise})(Qg(i),e)}function z9(i,e,t){const s=t.docs.get(e._key),o=new t4(i);return new La(i,o,e._key,s,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}function Qc(){return new Zg("serverTimestamp")}function sf(...i){return new Jg("arrayUnion",i)}function rf(...i){return new ex("arrayRemove",i)}function Ba(i){return new tx("increment",i)}(function(e,t=!0){(function(o){vl=o})(Xa),Pi(new bi("firestore",((s,{instanceIdentifier:o,options:l})=>{const u=s.getProvider("app").getImmediate(),p=new uu(new jD(s.getProvider("auth-internal")),new MD(u,s.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ge(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(m.options.projectId,y)})(u,o),u);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),On(zb,Hb,e),On(zb,Hb,"esm2020")})();const i4="firebasestorage.googleapis.com",s4="storageBucket",H9=120*1e3,q9=600*1e3;class Tt extends wi{constructor(e,t,s=0){super(hp(e),`Firebase Storage: ${t} (${hp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function hp(i){return"storage/"+i}function ux(){const i="An unknown error occurred, please check the error payload for server response.";return new Tt(At.UNKNOWN,i)}function $9(i){return new Tt(At.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function G9(i){return new Tt(At.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function K9(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(At.UNAUTHENTICATED,i)}function Y9(){return new Tt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function X9(i){return new Tt(At.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function Q9(){return new Tt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function W9(){return new Tt(At.CANCELED,"User canceled the upload/download.")}function Z9(i){return new Tt(At.INVALID_URL,"Invalid URL '"+i+"'.")}function J9(i){return new Tt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function e7(){return new Tt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+s4+"' property when initializing the app?")}function t7(){return new Tt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function n7(){return new Tt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function i7(i){return new Tt(At.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yp(i){return new Tt(At.INVALID_ARGUMENT,i)}function r4(){return new Tt(At.APP_DELETED,"The Firebase app was deleted.")}function s7(i){return new Tt(At.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lc(i,e){return new Tt(At.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Tc(i){throw new Tt(At.INTERNAL_ERROR,"Internal error: "+i)}class Zn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Zn.makeFromUrl(e,t)}catch{return new Zn(e,"")}if(s.path==="")return s;throw J9(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const u="(/(.*))?$",p=new RegExp("^gs://"+o+u,"i"),g={bucket:1,path:3};function m(M){M.path_=decodeURIComponent(M.path)}const y="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",N=new RegExp(`^https?://${v}/${y}/b/${o}/o${b}`,"i"),I={bucket:1,path:3},B=t===i4?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",U=new RegExp(`^https?://${B}/${o}/${k}`,"i"),j=[{regex:p,indices:g,postModify:l},{regex:N,indices:I,postModify:m},{regex:U,indices:{bucket:1,path:2},postModify:m}];for(let M=0;M<j.length;M++){const z=j[M],H=z.regex.exec(e);if(H){const A=H[z.indices.bucket];let D=H[z.indices.path];D||(D=""),s=new Zn(A,D),z.postModify(s);break}}if(s==null)throw Z9(e);return s}}class r7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function a7(i,e,t){let s=1,o=null,l=null,u=!1,p=0;function g(){return p===2}let m=!1;function y(...k){m||(m=!0,e.apply(null,k))}function v(k){o=setTimeout(()=>{o=null,i(N,g())},k)}function b(){l&&clearTimeout(l)}function N(k,...U){if(m){b();return}if(k){b(),y.call(null,k,...U);return}if(g()||u){b(),y.call(null,k,...U);return}s<64&&(s*=2);let j;p===1?(p=2,j=0):j=(s+Math.random())*1e3,v(j)}let I=!1;function B(k){I||(I=!0,b(),!m&&(o!==null?(k||(p=2),clearTimeout(o),v(0)):k||(p=1)))}return v(0),l=setTimeout(()=>{u=!0,B(!0)},t),B}function o7(i){i(!1)}function l7(i){return i!==void 0}function c7(i){return typeof i=="object"&&!Array.isArray(i)}function hx(i){return typeof i=="string"||i instanceof String}function V2(i){return dx()&&i instanceof Blob}function dx(){return typeof Blob<"u"}function U2(i,e,t,s){if(s<e)throw Yp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Yp(`Invalid value for '${i}'. Expected ${t} or less.`)}function fx(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function a4(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Fa;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Fa||(Fa={}));function u7(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}class h7{constructor(e,t,s,o,l,u,p,g,m,y,v,b=!0,N=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=g,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,B)=>{this.resolve_=I,this.reject_=B,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Vh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=p=>{const g=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const p=l.getErrorCode()===Fa.NO_ERROR,g=l.getStatus();if(!p||u7(g,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Fa.ABORT;s(!1,new Vh(!1,null,y));return}const m=this.successCodes_.indexOf(g)!==-1;s(!0,new Vh(m,l))})},t=(s,o)=>{const l=this.resolve_,u=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());l7(g)?l(g):l()}catch(g){u(g)}else if(p!==null){const g=ux();g.serverResponse=p.getErrorText(),this.errorCallback_?u(this.errorCallback_(p,g)):u(g)}else if(o.canceled){const g=this.appDelete_?r4():W9();u(g)}else{const g=Q9();u(g)}};this.canceled_?t(!1,new Vh(!1,null,!0)):this.backoffId_=a7(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&o7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function d7(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function f7(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function m7(i,e){e&&(i["X-Firebase-GMPID"]=e)}function p7(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function g7(i,e,t,s,o,l,u=!0,p=!1){const g=a4(i.urlParams),m=i.url+g,y=Object.assign({},i.headers);return m7(y,e),d7(y,t),f7(y,l),p7(y,s),new h7(m,i.method,y,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,u,p)}function x7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function y7(...i){const e=x7();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(dx())return new Blob(i);throw new Tt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function v7(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function b7(i){if(typeof atob>"u")throw i7("base-64");return atob(i)}const ps={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dp{constructor(e,t){this.data=e,this.contentType=t||null}}function w7(i,e){switch(i){case ps.RAW:return new dp(o4(e));case ps.BASE64:case ps.BASE64URL:return new dp(l4(i,e));case ps.DATA_URL:return new dp(E7(e),A7(e))}throw ux()}function o4(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=i.charCodeAt(++t);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function _7(i){let e;try{e=decodeURIComponent(i)}catch{throw Lc(ps.DATA_URL,"Malformed data URL.")}return o4(e)}function l4(i,e){switch(i){case ps.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Lc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ps.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Lc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=b7(e)}catch(o){throw o.message.includes("polyfill")?o:Lc(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class c4{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Lc(ps.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=T7(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function E7(i){const e=new c4(i);return e.base64?l4(ps.BASE64,e.rest):_7(e.rest)}function A7(i){return new c4(i).contentType}function T7(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class Hr{constructor(e,t){let s=0,o="";V2(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(V2(this.data_)){const s=this.data_,o=v7(s,e,t);return o===null?null:new Hr(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Hr(s,!0)}}static getBlob(...e){if(dx()){const t=e.map(s=>s instanceof Hr?s.data_:s);return new Hr(y7.apply(null,t))}else{const t=e.map(u=>hx(u)?w7(ps.RAW,u).data:u.data_);let s=0;t.forEach(u=>{s+=u.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(u=>{for(let p=0;p<u.length;p++)o[l++]=u[p]}),new Hr(o,!0)}}uploadData(){return this.data_}}function u4(i){let e;try{e=JSON.parse(i)}catch{return null}return c7(e)?e:null}function C7(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function S7(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function h4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function N7(i,e){return e}class wn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||N7}}let Uh=null;function R7(i){return!hx(i)||i.length<2?i:h4(i)}function d4(){if(Uh)return Uh;const i=[];i.push(new wn("bucket")),i.push(new wn("generation")),i.push(new wn("metageneration")),i.push(new wn("name","fullPath",!0));function e(l,u){return R7(u)}const t=new wn("name");t.xform=e,i.push(t);function s(l,u){return u!==void 0?Number(u):u}const o=new wn("size");return o.xform=s,i.push(o),i.push(new wn("timeCreated")),i.push(new wn("updated")),i.push(new wn("md5Hash",null,!0)),i.push(new wn("cacheControl",null,!0)),i.push(new wn("contentDisposition",null,!0)),i.push(new wn("contentEncoding",null,!0)),i.push(new wn("contentLanguage",null,!0)),i.push(new wn("contentType",null,!0)),i.push(new wn("metadata","customMetadata",!0)),Uh=i,Uh}function D7(i,e){function t(){const s=i.bucket,o=i.fullPath,l=new Zn(s,o);return e._makeStorageReference(l)}Object.defineProperty(i,"ref",{get:t})}function I7(i,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];s[u.local]=u.xform(s,e[u.server])}return D7(s,i),s}function f4(i,e,t){const s=u4(e);return s===null?null:I7(i,s,t)}function k7(i,e,t,s){const o=u4(e);if(o===null||!hx(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(m=>{const y=i.bucket,v=i.fullPath,b="/b/"+u(y)+"/o/"+u(v),N=fx(b,t,s),I=a4({alt:"media",token:m});return N+I})[0]}function j7(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=i[l.local])}return JSON.stringify(t)}class m4{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function p4(i){if(!i)throw ux()}function B7(i,e){function t(s,o){const l=f4(i,o,e);return p4(l!==null),l}return t}function O7(i,e){function t(s,o){const l=f4(i,o,e);return p4(l!==null),k7(l,o,i.host,i._protocol)}return t}function g4(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Y9():o=K9():t.getStatus()===402?o=G9(i.bucket):t.getStatus()===403?o=X9(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function M7(i){const e=g4(i);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=$9(i.path)),l.serverResponse=o.serverResponse,l}return t}function P7(i,e,t){const s=e.fullServerUrl(),o=fx(s,i.host,i._protocol),l="GET",u=i.maxOperationRetryTime,p=new m4(o,l,O7(i,t),u);return p.errorHandler=M7(e),p}function L7(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function F7(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=L7(null,e)),s}function V7(i,e,t,s,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function p(){let j="";for(let M=0;M<2;M++)j=j+Math.random().toString().slice(2);return j}const g=p();u["Content-Type"]="multipart/related; boundary="+g;const m=F7(e,s,o),y=j7(m,t),v="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+g+`\r
Content-Type: `+m.contentType+`\r
\r
`,b=`\r
--`+g+"--",N=Hr.getBlob(v,s,b);if(N===null)throw t7();const I={name:m.fullPath},B=fx(l,i.host,i._protocol),k="POST",U=i.maxUploadRetryTime,S=new m4(B,k,B7(i,t),U);return S.urlParams=I,S.headers=u,S.body=N.uploadData(),S.errorHandler=g4(e),S}class U7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,l){if(this.sent_)throw Tc("cannot .send() more than once");if(na(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class z7 extends U7{initXhr(){this.xhr_.responseType="text"}}function x4(){return new z7}class Ga{constructor(e,t){this._service=e,t instanceof Zn?this._location=t:this._location=Zn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ga(e,t)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h4(this._location.path)}get storage(){return this._service}get parent(){const e=C7(this._location.path);if(e===null)return null;const t=new Zn(this._location.bucket,e);return new Ga(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw s7(e)}}function H7(i,e,t){i._throwIfRoot("uploadBytes");const s=V7(i.storage,i._location,d4(),new Hr(e,!0),t);return i.storage.makeRequestWithTokens(s,x4).then(o=>({metadata:o,ref:i}))}function q7(i){i._throwIfRoot("getDownloadURL");const e=P7(i.storage,i._location,d4());return i.storage.makeRequestWithTokens(e,x4).then(t=>{if(t===null)throw n7();return t})}function $7(i,e){const t=S7(i._location.path,e),s=new Zn(i._location.bucket,t);return new Ga(i.storage,s)}function G7(i){return/^[A-Za-z]+:\/\//.test(i)}function K7(i,e){return new Ga(i,e)}function y4(i,e){if(i instanceof mx){const t=i;if(t._bucket==null)throw e7();const s=new Ga(t,t._bucket);return e!=null?y4(s,e):s}else return e!==void 0?$7(i,e):i}function Y7(i,e){if(e&&G7(e)){if(i instanceof mx)return K7(i,e);throw Yp("To use ref(service, url), the first argument must be a Storage instance.")}else return y4(i,e)}function z2(i,e){const t=e?.[s4];return t==null?null:Zn.makeFromBucketSpec(t,i)}function X7(i,e,t,s={}){i.host=`${e}:${t}`;const o=na(e);o&&(lg(`https://${i.host}/b`),cg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(i._overrideAuthToken=typeof l=="string"?l:u_(l,i.app.options.projectId))}class mx{constructor(e,t,s,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=i4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H9,this._maxUploadRetryTime=q9,this._requests=new Set,o!=null?this._bucket=Zn.makeFromBucketSpec(o,this._host):this._bucket=z2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=z2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){U2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){U2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ga(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new r7(r4());{const u=g7(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const H2="@firebase/storage",q2="0.14.0";const v4="storage";function Q7(i,e,t){return i=ct(i),H7(i,e,t)}function W7(i){return i=ct(i),q7(i)}function Z7(i,e){return i=ct(i),Y7(i,e)}function J7(i=gf(),e){i=ct(i);const s=ia(i,v4).getImmediate({identifier:e}),o=o_("storage");return o&&ej(s,...o),s}function ej(i,e,t,s={}){X7(i,e,t,s)}function tj(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new mx(t,s,o,e,Xa)}function nj(){Pi(new bi(v4,tj,"PUBLIC").setMultipleInstances(!0)),On(H2,q2,""),On(H2,q2,"esm2020")}nj();const b4={apiKey:"AIzaSyAvWBMxfjs90YP7ccPemiXiJtiVp2KkkcE",authDomain:"bpa-2025-b4fca.firebaseapp.com",projectId:"bpa-2025-b4fca",storageBucket:"bpa-2025-b4fca.firebasestorage.app",messagingSenderId:"608672657670",appId:"1:608672657670:web:d037bcb4fcea53f825ee87",measurementId:"G-TNPNG989TD"};b4.apiKey||console.warn("[firebase] VITE_FIREBASE_API_KEY is not set. Check your .env file or environment variables.");const zf=x_(b4);h8(zf);const we=RD(zf),Ze=C9(zf),ij=J7(zf),sj=async()=>{try{return(await Ts(gn(Ze,"counselors"))).docs.map(e=>({id:e.id,...e.data()}))}catch(i){return console.error("Error fetching counselors:",i),[]}},rj=async i=>{try{return(await gl(gn(Ze,"appointments"),{...i,createdAt:new Date().toISOString()})).id}catch(e){return console.error("Error creating appointment:",e),null}},fp=async i=>{try{const e=ir(gn(Ze,"appointments"),rl("userId","==",i));return(await Ts(e)).docs.map(o=>({id:o.id,...o.data()})).sort((o,l)=>new Date(l.date).getTime()-new Date(o.date).getTime())}catch(e){return console.error("Error fetching user appointments:",e),[]}},aj=async(i,e)=>{try{const t=ir(gn(Ze,"appointments"),rl("counselorId","==",i),rl("date","==",e),rl("status","==","scheduled"));return(await Ts(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){return console.error("Error fetching counselor appointments:",t),[]}},oj=async i=>{try{return await fn(_n(Ze,"appointments",i),{status:"cancelled"}),!0}catch(e){return console.error("Error cancelling appointment:",e),!1}};function lj(){const[i,e]=$.useState(null),[t,s]=$.useState([]),[o,l]=$.useState([]),[u,p]=$.useState(null),[g,m]=$.useState(new Date),[y,v]=$.useState(""),[b,N]=$.useState("online"),[I,B]=$.useState([]),[k,U]=$.useState([]),[S,j]=$.useState(!0),[M,z]=$.useState(""),[H,A]=$.useState("All"),[D,C]=$.useState(!1),E=["All","Anxiety & Depression","Trauma & PTSD","Family & Relationships","Self-Care","EMDR"];$.useEffect(()=>bf(we,X=>{e(X?X.uid:null)}),[]),$.useEffect(()=>{(async()=>{try{const X=await sj();if(s(X),i){const ae=await fp(i);l(ae)}}catch(X){console.error("Error loading data:",X)}finally{j(!1)}})()},[i]),$.useEffect(()=>{(async()=>{if(!u)return;const X=g.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),ae=u.availability[X]||[];B(ae);const fe=g.toISOString().split("T")[0],L=(await aj(u.id,fe)).map(K=>K.time);U(L)})()},[u,g]);const R=async()=>{if(!u||!y||!i||!we.currentUser){alert("Please select a counselor, date, and time");return}const q={counselorId:u.id,counselorName:u.name,userId:i,userName:we.currentUser.displayName||we.currentUser.email?.split("@")[0]||"User",userEmail:we.currentUser.email||"",date:g.toISOString().split("T")[0],time:y,duration:50,type:b,status:"scheduled",notes:M};try{await rj(q)?(alert("Appointment booked successfully!"),C(!1),v(""),z(""),p(null),setTimeout(async()=>{const ae=await fp(i);console.log("Fetched appointments:",ae),l(ae)},500)):alert("Failed to book appointment. Please try again.")}catch(X){console.error("Error booking appointment:",X),alert("An error occurred while booking. Please try again.")}},F=async q=>{if(confirm("Are you sure you want to cancel this appointment?"))try{if(await oj(q)){if(alert("Appointment cancelled successfully"),i){const ae=await fp(i);console.log("Fetched appointments after cancel:",ae),l(ae)}}else alert("Failed to cancel appointment")}catch(X){console.error("Error cancelling appointment:",X),alert("An error occurred while cancelling the appointment.")}},O=t.filter(q=>H==="All"?!0:q.tags.includes(H)),de=()=>{const q=new Date(g);q.setDate(q.getDate()+7),m(q)},ne=()=>{const q=new Date(g);q.setDate(q.getDate()-7),m(q)};return S?h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsx("p",{className:"text-white text-lg",children:"Loading..."})}):h.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 md:pt-24 px-2 sm:px-4 pb-8 sm:pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8 sm:mb-10 md:mb-12 px-2",children:[h.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-2 sm:mb-3",children:"Book Your Session"}),h.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Connect with a compassionate professional who understands"}),h.jsx("p",{className:"text-white/50 text-xs sm:text-sm mt-2",children:"Choose a counselor, find a time that works for you. All sessions are completely confidential and designed to support your mental health journey."})]}),h.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 mb-6 sm:mb-8 shadow-2xl shadow-black/20",children:h.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-wrap",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(y6,{size:18,className:"sm:w-5 sm:h-5 text-white/70"}),h.jsx("span",{className:"text-white/70 text-xs sm:text-sm font-medium",children:"Specialization:"})]}),E.map(q=>h.jsx("button",{onClick:()=>A(q),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-full font-medium text-xs sm:text-sm transition-all duration-200 border ${H===q?"bg-white/25 text-white border-white/40 shadow-lg":"bg-white/5 text-white/80 border-white/10 hover:bg-white/10"}`,children:q},q))]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[h.jsx("div",{className:"lg:col-span-2 space-y-4",children:O.length===0?h.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-8 sm:p-12 text-center",children:h.jsx("p",{className:"text-white/70 text-sm sm:text-base",children:"No counselors found for this specialization."})}):O.map(q=>h.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300",children:h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6",children:[h.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 rounded-full overflow-hidden flex-shrink-0 border-4 border-white/20 shadow-lg mx-auto sm:mx-0",children:h.jsx("img",{src:q.avatar,alt:q.name,className:"w-full h-full object-cover",onError:X=>{X.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(q.name)}&background=8B5CF6&color=fff&size=200`}})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between mb-2 gap-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:q.name}),h.jsx("p",{className:"text-white/80 text-xs sm:text-sm",children:q.credentials})]}),h.jsxs("div",{className:"flex items-center gap-1 bg-white/10 px-2 sm:px-3 py-1 rounded-full",children:[h.jsx(V6,{size:14,className:"sm:w-4 sm:h-4 text-yellow-400 fill-yellow-400"}),h.jsx("span",{className:"text-white font-semibold text-sm",children:q.rating.toFixed(1)}),h.jsxs("span",{className:"text-white/60 text-xs sm:text-sm",children:["(",q.reviewCount,")"]})]})]}),h.jsx("p",{className:"text-white/90 font-semibold mb-2 text-sm sm:text-base",children:q.specialization}),h.jsx("p",{className:"text-white/70 text-xs sm:text-sm mb-3 sm:mb-4 line-clamp-2",children:q.bio}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-xs sm:text-sm text-white/60 mb-3 sm:mb-4",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(KS,{size:14,className:"sm:w-4 sm:h-4"}),h.jsxs("span",{children:[q.yearsExperience,"+ years"]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(t3,{size:14,className:"sm:w-4 sm:h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Family & Relationship Therapy"}),h.jsx("span",{className:"sm:hidden",children:"Therapy"})]})]}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-3 sm:mb-4",children:q.tags.map(X=>h.jsx("span",{className:"text-[10px] sm:text-xs bg-white/10 text-white/80 px-2 sm:px-3 py-1 rounded-full border border-white/20",children:X},X))}),h.jsx("button",{onClick:()=>{p(q),C(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold px-4 sm:px-6 py-2.5 sm:py-3 rounded-full transition-all duration-200 shadow-lg text-sm sm:text-base",children:"View Profile & Book"})]})]})},q.id))}),h.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 shadow-xl shadow-black/10",children:[h.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[h.jsx(rg,{size:18,className:"sm:w-5 sm:h-5"}),"Your Appointments"]}),i?o.filter(q=>q.status==="scheduled").length===0?h.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"No upcoming appointments"}):h.jsx("div",{className:"space-y-3",children:o.filter(q=>q.status==="scheduled").slice(0,3).map(q=>h.jsxs("div",{className:"bg-white/5 rounded-xl sm:rounded-2xl p-3 sm:p-4 border border-white/10",children:[h.jsx("p",{className:"text-white font-semibold text-xs sm:text-sm",children:q.counselorName}),h.jsxs("p",{className:"text-white/70 text-[10px] sm:text-xs mt-1",children:[new Date(q.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," at ",q.time]}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[q.type==="online"?h.jsx(Xm,{size:12,className:"sm:w-3.5 sm:h-3.5 text-white/50"}):h.jsx(Ym,{size:12,className:"sm:w-3.5 sm:h-3.5 text-white/50"}),h.jsx("span",{className:"text-white/50 text-[10px] sm:text-xs capitalize",children:q.type})]}),h.jsx("button",{onClick:()=>F(q.id),className:"text-red-400 hover:text-red-300 text-[10px] sm:text-xs mt-2 transition-colors",children:"Cancel"})]},q.id))}):h.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Please log in to view appointments"})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 shadow-xl shadow-black/10",children:[h.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Session Information"}),h.jsxs("div",{className:"space-y-3 text-xs sm:text-sm",children:[h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(Ww,{size:14,className:"sm:w-4 sm:h-4 text-white/50 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white/90 font-medium",children:"Duration"}),h.jsx("p",{className:"text-white/60",children:"50 minutes per session"})]})]}),h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(Xm,{size:14,className:"sm:w-4 sm:h-4 text-white/50 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white/90 font-medium",children:"Online Sessions"}),h.jsx("p",{className:"text-white/60",children:"Secure video conferencing"})]})]}),h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(Ym,{size:14,className:"sm:w-4 sm:h-4 text-white/50 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white/90 font-medium",children:"In-Person"}),h.jsx("p",{className:"text-white/60",children:"Office locations available"})]})]})]})]})]})]}),D&&u&&h.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",children:h.jsxs("div",{className:"bg-[#0A0F2A] border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4 sm:mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-1",children:"Book Session"}),h.jsx("p",{className:"text-white/70 text-sm sm:text-base",children:u.name})]}),h.jsx("button",{onClick:()=>C(!1),className:"text-white/70 hover:text-white text-2xl sm:text-3xl leading-none",children:""})]}),h.jsxs("div",{className:"mb-4 sm:mb-6",children:[h.jsx("label",{className:"block text-white/90 text-xs sm:text-sm font-semibold mb-2 sm:mb-3",children:"Session Type"}),h.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[h.jsxs("button",{onClick:()=>N("online"),className:`flex-1 flex items-center justify-center gap-1 sm:gap-2 py-2 sm:py-3 px-2 sm:px-4 rounded-lg sm:rounded-xl font-medium text-xs sm:text-base transition-all ${b==="online"?"bg-white/20 text-white border-2 border-white/40":"bg-white/5 text-white/70 border-2 border-white/10 hover:bg-white/10"}`,children:[h.jsx(Xm,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"Online"]}),h.jsxs("button",{onClick:()=>N("in-person"),className:`flex-1 flex items-center justify-center gap-1 sm:gap-2 py-2 sm:py-3 px-2 sm:px-4 rounded-lg sm:rounded-xl font-medium text-xs sm:text-base transition-all ${b==="in-person"?"bg-white/20 text-white border-2 border-white/40":"bg-white/5 text-white/70 border-2 border-white/10 hover:bg-white/10"}`,children:[h.jsx(Ym,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"In-Person"]})]})]}),h.jsxs("div",{className:"mb-4 sm:mb-6",children:[h.jsx("label",{className:"block text-white/90 text-xs sm:text-sm font-semibold mb-2 sm:mb-3",children:"Select Date"}),h.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[h.jsx("button",{onClick:ne,className:"text-white/70 hover:text-white p-1",children:h.jsx(i6,{size:20,className:"sm:w-6 sm:h-6"})}),h.jsx("span",{className:"text-white font-semibold text-sm sm:text-base",children:g.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),h.jsx("button",{onClick:de,className:"text-white/70 hover:text-white p-1",children:h.jsx(r6,{size:20,className:"sm:w-6 sm:h-6"})})]}),h.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:Array.from({length:7},(q,X)=>{const ae=new Date(g);ae.setDate(ae.getDate()-ae.getDay()+X);const fe=ae.toDateString()===g.toDateString(),me=ae<new Date(new Date().setHours(0,0,0,0));return h.jsxs("button",{onClick:()=>!me&&m(ae),disabled:me,className:`p-1.5 sm:p-2 md:p-3 rounded-lg sm:rounded-xl text-center transition-all ${fe?"bg-white/20 border-2 border-white/40":me?"bg-white/5 text-white/30 cursor-not-allowed":"bg-white/5 hover:bg-white/10 border-2 border-transparent"}`,children:[h.jsx("div",{className:"text-white/60 text-[9px] sm:text-xs",children:ae.toLocaleDateString("en-US",{weekday:"short"})}),h.jsx("div",{className:"text-white font-semibold text-xs sm:text-sm md:text-base",children:ae.getDate()})]},X)})})]}),h.jsxs("div",{className:"mb-4 sm:mb-6",children:[h.jsx("label",{className:"block text-white/90 text-xs sm:text-sm font-semibold mb-2 sm:mb-3",children:"Select Time"}),I.length===0?h.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"No available times for this date"}):h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1.5 sm:gap-2",children:I.map(q=>{const X=k.includes(q),ae=y===q;return h.jsx("button",{onClick:()=>!X&&v(q),disabled:X,className:`py-1.5 sm:py-2 px-2 sm:px-3 rounded-lg sm:rounded-xl text-[11px] sm:text-sm font-medium transition-all ${ae?"bg-white/20 text-white border-2 border-white/40":X?"bg-white/5 text-white/30 line-through cursor-not-allowed":"bg-white/5 text-white/80 hover:bg-white/10 border-2 border-transparent"}`,children:q},q)})})]}),h.jsxs("div",{className:"mb-4 sm:mb-6",children:[h.jsx("label",{className:"block text-white/90 text-xs sm:text-sm font-semibold mb-2",children:"Notes (Optional)"}),h.jsx("textarea",{value:M,onChange:q=>z(q.target.value),rows:3,className:"w-full bg-white/5 border border-white/10 rounded-lg sm:rounded-xl px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Any specific topics you'd like to discuss..."})]}),h.jsxs("button",{onClick:R,disabled:!y||!i,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-3 sm:py-4 rounded-lg sm:rounded-xl text-sm sm:text-base transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[h.jsx(JS,{size:18,className:"sm:w-5 sm:h-5"}),"Confirm Booking"]})]})})]})})}var ed={exports:{}};function cj(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var td={exports:{}};const uj={},hj=Object.freeze(Object.defineProperty({__proto__:null,default:uj},Symbol.toStringTag,{value:"Module"})),dj=iC(hj);var fj=td.exports,$2;function $e(){return $2||($2=1,(function(i,e){(function(t,s){i.exports=s()})(fj,function(){var t=t||(function(s,o){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof Lm<"u"&&Lm.crypto&&(l=Lm.crypto),!l&&typeof cj=="function")try{l=dj}catch{}var u=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},p=Object.create||(function(){function S(){}return function(j){var M;return S.prototype=j,M=new S,S.prototype=null,M}})(),g={},m=g.lib={},y=m.Base=(function(){return{extend:function(S){var j=p(this);return S&&j.mixIn(S),(!j.hasOwnProperty("init")||this.init===j.init)&&(j.init=function(){j.$super.init.apply(this,arguments)}),j.init.prototype=j,j.$super=this,j},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var j in S)S.hasOwnProperty(j)&&(this[j]=S[j]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),v=m.WordArray=y.extend({init:function(S,j){S=this.words=S||[],j!=o?this.sigBytes=j:this.sigBytes=S.length*4},toString:function(S){return(S||N).stringify(this)},concat:function(S){var j=this.words,M=S.words,z=this.sigBytes,H=S.sigBytes;if(this.clamp(),z%4)for(var A=0;A<H;A++){var D=M[A>>>2]>>>24-A%4*8&255;j[z+A>>>2]|=D<<24-(z+A)%4*8}else for(var C=0;C<H;C+=4)j[z+C>>>2]=M[C>>>2];return this.sigBytes+=H,this},clamp:function(){var S=this.words,j=this.sigBytes;S[j>>>2]&=4294967295<<32-j%4*8,S.length=s.ceil(j/4)},clone:function(){var S=y.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var j=[],M=0;M<S;M+=4)j.push(u());return new v.init(j,S)}}),b=g.enc={},N=b.Hex={stringify:function(S){for(var j=S.words,M=S.sigBytes,z=[],H=0;H<M;H++){var A=j[H>>>2]>>>24-H%4*8&255;z.push((A>>>4).toString(16)),z.push((A&15).toString(16))}return z.join("")},parse:function(S){for(var j=S.length,M=[],z=0;z<j;z+=2)M[z>>>3]|=parseInt(S.substr(z,2),16)<<24-z%8*4;return new v.init(M,j/2)}},I=b.Latin1={stringify:function(S){for(var j=S.words,M=S.sigBytes,z=[],H=0;H<M;H++){var A=j[H>>>2]>>>24-H%4*8&255;z.push(String.fromCharCode(A))}return z.join("")},parse:function(S){for(var j=S.length,M=[],z=0;z<j;z++)M[z>>>2]|=(S.charCodeAt(z)&255)<<24-z%4*8;return new v.init(M,j)}},B=b.Utf8={stringify:function(S){try{return decodeURIComponent(escape(I.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return I.parse(unescape(encodeURIComponent(S)))}},k=m.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=B.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var j,M=this._data,z=M.words,H=M.sigBytes,A=this.blockSize,D=A*4,C=H/D;S?C=s.ceil(C):C=s.max((C|0)-this._minBufferSize,0);var E=C*A,R=s.min(E*4,H);if(E){for(var F=0;F<E;F+=A)this._doProcessBlock(z,F);j=z.splice(0,E),M.sigBytes-=R}return new v.init(j,R)},clone:function(){var S=y.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0});m.Hasher=k.extend({cfg:y.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var j=this._doFinalize();return j},blockSize:16,_createHelper:function(S){return function(j,M){return new S.init(M).finalize(j)}},_createHmacHelper:function(S){return function(j,M){return new U.HMAC.init(S,M).finalize(j)}}});var U=g.algo={};return g})(Math);return t})})(td)),td.exports}var nd={exports:{}},mj=nd.exports,G2;function Hf(){return G2||(G2=1,(function(i,e){(function(t,s){i.exports=s($e())})(mj,function(t){return(function(s){var o=t,l=o.lib,u=l.Base,p=l.WordArray,g=o.x64={};g.Word=u.extend({init:function(m,y){this.high=m,this.low=y}}),g.WordArray=u.extend({init:function(m,y){m=this.words=m||[],y!=s?this.sigBytes=y:this.sigBytes=m.length*8},toX32:function(){for(var m=this.words,y=m.length,v=[],b=0;b<y;b++){var N=m[b];v.push(N.high),v.push(N.low)}return p.create(v,this.sigBytes)},clone:function(){for(var m=u.clone.call(this),y=m.words=this.words.slice(0),v=y.length,b=0;b<v;b++)y[b]=y[b].clone();return m}})})(),t})})(nd)),nd.exports}var id={exports:{}},pj=id.exports,K2;function gj(){return K2||(K2=1,(function(i,e){(function(t,s){i.exports=s($e())})(pj,function(t){return(function(){if(typeof ArrayBuffer=="function"){var s=t,o=s.lib,l=o.WordArray,u=l.init,p=l.init=function(g){if(g instanceof ArrayBuffer&&(g=new Uint8Array(g)),(g instanceof Int8Array||typeof Uint8ClampedArray<"u"&&g instanceof Uint8ClampedArray||g instanceof Int16Array||g instanceof Uint16Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array)&&(g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength)),g instanceof Uint8Array){for(var m=g.byteLength,y=[],v=0;v<m;v++)y[v>>>2]|=g[v]<<24-v%4*8;u.call(this,y,m)}else u.apply(this,arguments)};p.prototype=l}})(),t.lib.WordArray})})(id)),id.exports}var sd={exports:{}},xj=sd.exports,Y2;function yj(){return Y2||(Y2=1,(function(i,e){(function(t,s){i.exports=s($e())})(xj,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=s.enc;u.Utf16=u.Utf16BE={stringify:function(g){for(var m=g.words,y=g.sigBytes,v=[],b=0;b<y;b+=2){var N=m[b>>>2]>>>16-b%4*8&65535;v.push(String.fromCharCode(N))}return v.join("")},parse:function(g){for(var m=g.length,y=[],v=0;v<m;v++)y[v>>>1]|=g.charCodeAt(v)<<16-v%2*16;return l.create(y,m*2)}},u.Utf16LE={stringify:function(g){for(var m=g.words,y=g.sigBytes,v=[],b=0;b<y;b+=2){var N=p(m[b>>>2]>>>16-b%4*8&65535);v.push(String.fromCharCode(N))}return v.join("")},parse:function(g){for(var m=g.length,y=[],v=0;v<m;v++)y[v>>>1]|=p(g.charCodeAt(v)<<16-v%2*16);return l.create(y,m*2)}};function p(g){return g<<8&4278255360|g>>>8&16711935}})(),t.enc.Utf16})})(sd)),sd.exports}var rd={exports:{}},vj=rd.exports,X2;function to(){return X2||(X2=1,(function(i,e){(function(t,s){i.exports=s($e())})(vj,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=s.enc;u.Base64={stringify:function(g){var m=g.words,y=g.sigBytes,v=this._map;g.clamp();for(var b=[],N=0;N<y;N+=3)for(var I=m[N>>>2]>>>24-N%4*8&255,B=m[N+1>>>2]>>>24-(N+1)%4*8&255,k=m[N+2>>>2]>>>24-(N+2)%4*8&255,U=I<<16|B<<8|k,S=0;S<4&&N+S*.75<y;S++)b.push(v.charAt(U>>>6*(3-S)&63));var j=v.charAt(64);if(j)for(;b.length%4;)b.push(j);return b.join("")},parse:function(g){var m=g.length,y=this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var b=0;b<y.length;b++)v[y.charCodeAt(b)]=b}var N=y.charAt(64);if(N){var I=g.indexOf(N);I!==-1&&(m=I)}return p(g,m,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function p(g,m,y){for(var v=[],b=0,N=0;N<m;N++)if(N%4){var I=y[g.charCodeAt(N-1)]<<N%4*2,B=y[g.charCodeAt(N)]>>>6-N%4*2,k=I|B;v[b>>>2]|=k<<24-b%4*8,b++}return l.create(v,b)}})(),t.enc.Base64})})(rd)),rd.exports}var ad={exports:{}},bj=ad.exports,Q2;function wj(){return Q2||(Q2=1,(function(i,e){(function(t,s){i.exports=s($e())})(bj,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=s.enc;u.Base64url={stringify:function(g,m){m===void 0&&(m=!0);var y=g.words,v=g.sigBytes,b=m?this._safe_map:this._map;g.clamp();for(var N=[],I=0;I<v;I+=3)for(var B=y[I>>>2]>>>24-I%4*8&255,k=y[I+1>>>2]>>>24-(I+1)%4*8&255,U=y[I+2>>>2]>>>24-(I+2)%4*8&255,S=B<<16|k<<8|U,j=0;j<4&&I+j*.75<v;j++)N.push(b.charAt(S>>>6*(3-j)&63));var M=b.charAt(64);if(M)for(;N.length%4;)N.push(M);return N.join("")},parse:function(g,m){m===void 0&&(m=!0);var y=g.length,v=m?this._safe_map:this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var N=0;N<v.length;N++)b[v.charCodeAt(N)]=N}var I=v.charAt(64);if(I){var B=g.indexOf(I);B!==-1&&(y=B)}return p(g,y,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function p(g,m,y){for(var v=[],b=0,N=0;N<m;N++)if(N%4){var I=y[g.charCodeAt(N-1)]<<N%4*2,B=y[g.charCodeAt(N)]>>>6-N%4*2,k=I|B;v[b>>>2]|=k<<24-b%4*8,b++}return l.create(v,b)}})(),t.enc.Base64url})})(ad)),ad.exports}var od={exports:{}},_j=od.exports,W2;function no(){return W2||(W2=1,(function(i,e){(function(t,s){i.exports=s($e())})(_j,function(t){return(function(s){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.algo,m=[];(function(){for(var B=0;B<64;B++)m[B]=s.abs(s.sin(B+1))*4294967296|0})();var y=g.MD5=p.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(B,k){for(var U=0;U<16;U++){var S=k+U,j=B[S];B[S]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var M=this._hash.words,z=B[k+0],H=B[k+1],A=B[k+2],D=B[k+3],C=B[k+4],E=B[k+5],R=B[k+6],F=B[k+7],O=B[k+8],de=B[k+9],ne=B[k+10],q=B[k+11],X=B[k+12],ae=B[k+13],fe=B[k+14],me=B[k+15],L=M[0],K=M[1],W=M[2],Z=M[3];L=v(L,K,W,Z,z,7,m[0]),Z=v(Z,L,K,W,H,12,m[1]),W=v(W,Z,L,K,A,17,m[2]),K=v(K,W,Z,L,D,22,m[3]),L=v(L,K,W,Z,C,7,m[4]),Z=v(Z,L,K,W,E,12,m[5]),W=v(W,Z,L,K,R,17,m[6]),K=v(K,W,Z,L,F,22,m[7]),L=v(L,K,W,Z,O,7,m[8]),Z=v(Z,L,K,W,de,12,m[9]),W=v(W,Z,L,K,ne,17,m[10]),K=v(K,W,Z,L,q,22,m[11]),L=v(L,K,W,Z,X,7,m[12]),Z=v(Z,L,K,W,ae,12,m[13]),W=v(W,Z,L,K,fe,17,m[14]),K=v(K,W,Z,L,me,22,m[15]),L=b(L,K,W,Z,H,5,m[16]),Z=b(Z,L,K,W,R,9,m[17]),W=b(W,Z,L,K,q,14,m[18]),K=b(K,W,Z,L,z,20,m[19]),L=b(L,K,W,Z,E,5,m[20]),Z=b(Z,L,K,W,ne,9,m[21]),W=b(W,Z,L,K,me,14,m[22]),K=b(K,W,Z,L,C,20,m[23]),L=b(L,K,W,Z,de,5,m[24]),Z=b(Z,L,K,W,fe,9,m[25]),W=b(W,Z,L,K,D,14,m[26]),K=b(K,W,Z,L,O,20,m[27]),L=b(L,K,W,Z,ae,5,m[28]),Z=b(Z,L,K,W,A,9,m[29]),W=b(W,Z,L,K,F,14,m[30]),K=b(K,W,Z,L,X,20,m[31]),L=N(L,K,W,Z,E,4,m[32]),Z=N(Z,L,K,W,O,11,m[33]),W=N(W,Z,L,K,q,16,m[34]),K=N(K,W,Z,L,fe,23,m[35]),L=N(L,K,W,Z,H,4,m[36]),Z=N(Z,L,K,W,C,11,m[37]),W=N(W,Z,L,K,F,16,m[38]),K=N(K,W,Z,L,ne,23,m[39]),L=N(L,K,W,Z,ae,4,m[40]),Z=N(Z,L,K,W,z,11,m[41]),W=N(W,Z,L,K,D,16,m[42]),K=N(K,W,Z,L,R,23,m[43]),L=N(L,K,W,Z,de,4,m[44]),Z=N(Z,L,K,W,X,11,m[45]),W=N(W,Z,L,K,me,16,m[46]),K=N(K,W,Z,L,A,23,m[47]),L=I(L,K,W,Z,z,6,m[48]),Z=I(Z,L,K,W,F,10,m[49]),W=I(W,Z,L,K,fe,15,m[50]),K=I(K,W,Z,L,E,21,m[51]),L=I(L,K,W,Z,X,6,m[52]),Z=I(Z,L,K,W,D,10,m[53]),W=I(W,Z,L,K,ne,15,m[54]),K=I(K,W,Z,L,H,21,m[55]),L=I(L,K,W,Z,O,6,m[56]),Z=I(Z,L,K,W,me,10,m[57]),W=I(W,Z,L,K,R,15,m[58]),K=I(K,W,Z,L,ae,21,m[59]),L=I(L,K,W,Z,C,6,m[60]),Z=I(Z,L,K,W,q,10,m[61]),W=I(W,Z,L,K,A,15,m[62]),K=I(K,W,Z,L,de,21,m[63]),M[0]=M[0]+L|0,M[1]=M[1]+K|0,M[2]=M[2]+W|0,M[3]=M[3]+Z|0},_doFinalize:function(){var B=this._data,k=B.words,U=this._nDataBytes*8,S=B.sigBytes*8;k[S>>>5]|=128<<24-S%32;var j=s.floor(U/4294967296),M=U;k[(S+64>>>9<<4)+15]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,k[(S+64>>>9<<4)+14]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,B.sigBytes=(k.length+1)*4,this._process();for(var z=this._hash,H=z.words,A=0;A<4;A++){var D=H[A];H[A]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return z},clone:function(){var B=p.clone.call(this);return B._hash=this._hash.clone(),B}});function v(B,k,U,S,j,M,z){var H=B+(k&U|~k&S)+j+z;return(H<<M|H>>>32-M)+k}function b(B,k,U,S,j,M,z){var H=B+(k&S|U&~S)+j+z;return(H<<M|H>>>32-M)+k}function N(B,k,U,S,j,M,z){var H=B+(k^U^S)+j+z;return(H<<M|H>>>32-M)+k}function I(B,k,U,S,j,M,z){var H=B+(U^(k|~S))+j+z;return(H<<M|H>>>32-M)+k}o.MD5=p._createHelper(y),o.HmacMD5=p._createHmacHelper(y)})(Math),t.MD5})})(od)),od.exports}var ld={exports:{}},Ej=ld.exports,Z2;function w4(){return Z2||(Z2=1,(function(i,e){(function(t,s){i.exports=s($e())})(Ej,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=o.Hasher,p=s.algo,g=[],m=p.SHA1=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,v){for(var b=this._hash.words,N=b[0],I=b[1],B=b[2],k=b[3],U=b[4],S=0;S<80;S++){if(S<16)g[S]=y[v+S]|0;else{var j=g[S-3]^g[S-8]^g[S-14]^g[S-16];g[S]=j<<1|j>>>31}var M=(N<<5|N>>>27)+U+g[S];S<20?M+=(I&B|~I&k)+1518500249:S<40?M+=(I^B^k)+1859775393:S<60?M+=(I&B|I&k|B&k)-1894007588:M+=(I^B^k)-899497514,U=k,k=B,B=I<<30|I>>>2,I=N,N=M}b[0]=b[0]+N|0,b[1]=b[1]+I|0,b[2]=b[2]+B|0,b[3]=b[3]+k|0,b[4]=b[4]+U|0},_doFinalize:function(){var y=this._data,v=y.words,b=this._nDataBytes*8,N=y.sigBytes*8;return v[N>>>5]|=128<<24-N%32,v[(N+64>>>9<<4)+14]=Math.floor(b/4294967296),v[(N+64>>>9<<4)+15]=b,y.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var y=u.clone.call(this);return y._hash=this._hash.clone(),y}});s.SHA1=u._createHelper(m),s.HmacSHA1=u._createHmacHelper(m)})(),t.SHA1})})(ld)),ld.exports}var cd={exports:{}},Aj=cd.exports,J2;function px(){return J2||(J2=1,(function(i,e){(function(t,s){i.exports=s($e())})(Aj,function(t){return(function(s){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.algo,m=[],y=[];(function(){function N(U){for(var S=s.sqrt(U),j=2;j<=S;j++)if(!(U%j))return!1;return!0}function I(U){return(U-(U|0))*4294967296|0}for(var B=2,k=0;k<64;)N(B)&&(k<8&&(m[k]=I(s.pow(B,1/2))),y[k]=I(s.pow(B,1/3)),k++),B++})();var v=[],b=g.SHA256=p.extend({_doReset:function(){this._hash=new u.init(m.slice(0))},_doProcessBlock:function(N,I){for(var B=this._hash.words,k=B[0],U=B[1],S=B[2],j=B[3],M=B[4],z=B[5],H=B[6],A=B[7],D=0;D<64;D++){if(D<16)v[D]=N[I+D]|0;else{var C=v[D-15],E=(C<<25|C>>>7)^(C<<14|C>>>18)^C>>>3,R=v[D-2],F=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;v[D]=E+v[D-7]+F+v[D-16]}var O=M&z^~M&H,de=k&U^k&S^U&S,ne=(k<<30|k>>>2)^(k<<19|k>>>13)^(k<<10|k>>>22),q=(M<<26|M>>>6)^(M<<21|M>>>11)^(M<<7|M>>>25),X=A+q+O+y[D]+v[D],ae=ne+de;A=H,H=z,z=M,M=j+X|0,j=S,S=U,U=k,k=X+ae|0}B[0]=B[0]+k|0,B[1]=B[1]+U|0,B[2]=B[2]+S|0,B[3]=B[3]+j|0,B[4]=B[4]+M|0,B[5]=B[5]+z|0,B[6]=B[6]+H|0,B[7]=B[7]+A|0},_doFinalize:function(){var N=this._data,I=N.words,B=this._nDataBytes*8,k=N.sigBytes*8;return I[k>>>5]|=128<<24-k%32,I[(k+64>>>9<<4)+14]=s.floor(B/4294967296),I[(k+64>>>9<<4)+15]=B,N.sigBytes=I.length*4,this._process(),this._hash},clone:function(){var N=p.clone.call(this);return N._hash=this._hash.clone(),N}});o.SHA256=p._createHelper(b),o.HmacSHA256=p._createHmacHelper(b)})(Math),t.SHA256})})(cd)),cd.exports}var ud={exports:{}},Tj=ud.exports,ew;function Cj(){return ew||(ew=1,(function(i,e){(function(t,s,o){i.exports=s($e(),px())})(Tj,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=s.algo,p=u.SHA256,g=u.SHA224=p.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var m=p._doFinalize.call(this);return m.sigBytes-=4,m}});s.SHA224=p._createHelper(g),s.HmacSHA224=p._createHmacHelper(g)})(),t.SHA224})})(ud)),ud.exports}var hd={exports:{}},Sj=hd.exports,tw;function _4(){return tw||(tw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Hf())})(Sj,function(t){return(function(){var s=t,o=s.lib,l=o.Hasher,u=s.x64,p=u.Word,g=u.WordArray,m=s.algo;function y(){return p.create.apply(p,arguments)}var v=[y(1116352408,3609767458),y(1899447441,602891725),y(3049323471,3964484399),y(3921009573,2173295548),y(961987163,4081628472),y(1508970993,3053834265),y(2453635748,2937671579),y(2870763221,3664609560),y(3624381080,2734883394),y(310598401,1164996542),y(607225278,1323610764),y(1426881987,3590304994),y(1925078388,4068182383),y(2162078206,991336113),y(2614888103,633803317),y(3248222580,3479774868),y(3835390401,2666613458),y(4022224774,944711139),y(264347078,2341262773),y(604807628,2007800933),y(770255983,1495990901),y(1249150122,1856431235),y(1555081692,3175218132),y(1996064986,2198950837),y(2554220882,3999719339),y(2821834349,766784016),y(2952996808,2566594879),y(3210313671,3203337956),y(3336571891,1034457026),y(3584528711,2466948901),y(113926993,3758326383),y(338241895,168717936),y(666307205,1188179964),y(773529912,1546045734),y(1294757372,1522805485),y(1396182291,2643833823),y(1695183700,2343527390),y(1986661051,1014477480),y(2177026350,1206759142),y(2456956037,344077627),y(2730485921,1290863460),y(2820302411,3158454273),y(3259730800,3505952657),y(3345764771,106217008),y(3516065817,3606008344),y(3600352804,1432725776),y(4094571909,1467031594),y(275423344,851169720),y(430227734,3100823752),y(506948616,1363258195),y(659060556,3750685593),y(883997877,3785050280),y(958139571,3318307427),y(1322822218,3812723403),y(1537002063,2003034995),y(1747873779,3602036899),y(1955562222,1575990012),y(2024104815,1125592928),y(2227730452,2716904306),y(2361852424,442776044),y(2428436474,593698344),y(2756734187,3733110249),y(3204031479,2999351573),y(3329325298,3815920427),y(3391569614,3928383900),y(3515267271,566280711),y(3940187606,3454069534),y(4118630271,4000239992),y(116418474,1914138554),y(174292421,2731055270),y(289380356,3203993006),y(460393269,320620315),y(685471733,587496836),y(852142971,1086792851),y(1017036298,365543100),y(1126000580,2618297676),y(1288033470,3409855158),y(1501505948,4234509866),y(1607167915,987167468),y(1816402316,1246189591)],b=[];(function(){for(var I=0;I<80;I++)b[I]=y()})();var N=m.SHA512=l.extend({_doReset:function(){this._hash=new g.init([new p.init(1779033703,4089235720),new p.init(3144134277,2227873595),new p.init(1013904242,4271175723),new p.init(2773480762,1595750129),new p.init(1359893119,2917565137),new p.init(2600822924,725511199),new p.init(528734635,4215389547),new p.init(1541459225,327033209)])},_doProcessBlock:function(I,B){for(var k=this._hash.words,U=k[0],S=k[1],j=k[2],M=k[3],z=k[4],H=k[5],A=k[6],D=k[7],C=U.high,E=U.low,R=S.high,F=S.low,O=j.high,de=j.low,ne=M.high,q=M.low,X=z.high,ae=z.low,fe=H.high,me=H.low,L=A.high,K=A.low,W=D.high,Z=D.low,xe=C,ye=E,Se=R,Ee=F,We=O,An=de,Ui=ne,ti=q,Yt=X,mt=ae,zi=fe,Mn=me,Hi=L,_i=K,pt=W,ut=Z,It=0;It<80;It++){var cn,Pn,kt=b[It];if(It<16)Pn=kt.high=I[B+It*2]|0,cn=kt.low=I[B+It*2+1]|0;else{var qi=b[It-15],ni=qi.high,Ei=qi.low,$i=(ni>>>1|Ei<<31)^(ni>>>8|Ei<<24)^ni>>>7,io=(Ei>>>1|ni<<31)^(Ei>>>8|ni<<24)^(Ei>>>7|ni<<25),ca=b[It-2],Ai=ca.high,Gi=ca.low,Ln=(Ai>>>19|Gi<<13)^(Ai<<3|Gi>>>29)^Ai>>>6,jt=(Gi>>>19|Ai<<13)^(Gi<<3|Ai>>>29)^(Gi>>>6|Ai<<26),yn=b[It-7],yt=yn.high,so=yn.low,Ss=b[It-16],ro=Ss.high,Fn=Ss.low;cn=io+so,Pn=$i+yt+(cn>>>0<io>>>0?1:0),cn=cn+jt,Pn=Pn+Ln+(cn>>>0<jt>>>0?1:0),cn=cn+Fn,Pn=Pn+ro+(cn>>>0<Fn>>>0?1:0),kt.high=Pn,kt.low=cn}var Ns=Yt&zi^~Yt&Hi,vt=mt&Mn^~mt&_i,ii=xe&Se^xe&We^Se&We,si=ye&Ee^ye&An^Ee&An,Vn=(xe>>>28|ye<<4)^(xe<<30|ye>>>2)^(xe<<25|ye>>>7),ao=(ye>>>28|xe<<4)^(ye<<30|xe>>>2)^(ye<<25|xe>>>7),oo=(Yt>>>14|mt<<18)^(Yt>>>18|mt<<14)^(Yt<<23|mt>>>9),ri=(mt>>>14|Yt<<18)^(mt>>>18|Yt<<14)^(mt<<23|Yt>>>9),Ki=v[It],Al=Ki.high,Yi=Ki.low,$t=ut+ri,Tn=pt+oo+($t>>>0<ut>>>0?1:0),$t=$t+vt,Tn=Tn+Ns+($t>>>0<vt>>>0?1:0),$t=$t+Yi,Tn=Tn+Al+($t>>>0<Yi>>>0?1:0),$t=$t+cn,Tn=Tn+Pn+($t>>>0<cn>>>0?1:0),Xi=ao+si,Ti=Vn+ii+(Xi>>>0<ao>>>0?1:0);pt=Hi,ut=_i,Hi=zi,_i=Mn,zi=Yt,Mn=mt,mt=ti+$t|0,Yt=Ui+Tn+(mt>>>0<ti>>>0?1:0)|0,Ui=We,ti=An,We=Se,An=Ee,Se=xe,Ee=ye,ye=$t+Xi|0,xe=Tn+Ti+(ye>>>0<$t>>>0?1:0)|0}E=U.low=E+ye,U.high=C+xe+(E>>>0<ye>>>0?1:0),F=S.low=F+Ee,S.high=R+Se+(F>>>0<Ee>>>0?1:0),de=j.low=de+An,j.high=O+We+(de>>>0<An>>>0?1:0),q=M.low=q+ti,M.high=ne+Ui+(q>>>0<ti>>>0?1:0),ae=z.low=ae+mt,z.high=X+Yt+(ae>>>0<mt>>>0?1:0),me=H.low=me+Mn,H.high=fe+zi+(me>>>0<Mn>>>0?1:0),K=A.low=K+_i,A.high=L+Hi+(K>>>0<_i>>>0?1:0),Z=D.low=Z+ut,D.high=W+pt+(Z>>>0<ut>>>0?1:0)},_doFinalize:function(){var I=this._data,B=I.words,k=this._nDataBytes*8,U=I.sigBytes*8;B[U>>>5]|=128<<24-U%32,B[(U+128>>>10<<5)+30]=Math.floor(k/4294967296),B[(U+128>>>10<<5)+31]=k,I.sigBytes=B.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var I=l.clone.call(this);return I._hash=this._hash.clone(),I},blockSize:1024/32});s.SHA512=l._createHelper(N),s.HmacSHA512=l._createHmacHelper(N)})(),t.SHA512})})(hd)),hd.exports}var dd={exports:{}},Nj=dd.exports,nw;function Rj(){return nw||(nw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Hf(),_4())})(Nj,function(t){return(function(){var s=t,o=s.x64,l=o.Word,u=o.WordArray,p=s.algo,g=p.SHA512,m=p.SHA384=g.extend({_doReset:function(){this._hash=new u.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var y=g._doFinalize.call(this);return y.sigBytes-=16,y}});s.SHA384=g._createHelper(m),s.HmacSHA384=g._createHmacHelper(m)})(),t.SHA384})})(dd)),dd.exports}var fd={exports:{}},Dj=fd.exports,iw;function Ij(){return iw||(iw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Hf())})(Dj,function(t){return(function(s){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.x64,m=g.Word,y=o.algo,v=[],b=[],N=[];(function(){for(var k=1,U=0,S=0;S<24;S++){v[k+5*U]=(S+1)*(S+2)/2%64;var j=U%5,M=(2*k+3*U)%5;k=j,U=M}for(var k=0;k<5;k++)for(var U=0;U<5;U++)b[k+5*U]=U+(2*k+3*U)%5*5;for(var z=1,H=0;H<24;H++){for(var A=0,D=0,C=0;C<7;C++){if(z&1){var E=(1<<C)-1;E<32?D^=1<<E:A^=1<<E-32}z&128?z=z<<1^113:z<<=1}N[H]=m.create(A,D)}})();var I=[];(function(){for(var k=0;k<25;k++)I[k]=m.create()})();var B=y.SHA3=p.extend({cfg:p.cfg.extend({outputLength:512}),_doReset:function(){for(var k=this._state=[],U=0;U<25;U++)k[U]=new m.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(k,U){for(var S=this._state,j=this.blockSize/2,M=0;M<j;M++){var z=k[U+2*M],H=k[U+2*M+1];z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,H=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360;var A=S[M];A.high^=H,A.low^=z}for(var D=0;D<24;D++){for(var C=0;C<5;C++){for(var E=0,R=0,F=0;F<5;F++){var A=S[C+5*F];E^=A.high,R^=A.low}var O=I[C];O.high=E,O.low=R}for(var C=0;C<5;C++)for(var de=I[(C+4)%5],ne=I[(C+1)%5],q=ne.high,X=ne.low,E=de.high^(q<<1|X>>>31),R=de.low^(X<<1|q>>>31),F=0;F<5;F++){var A=S[C+5*F];A.high^=E,A.low^=R}for(var ae=1;ae<25;ae++){var E,R,A=S[ae],fe=A.high,me=A.low,L=v[ae];L<32?(E=fe<<L|me>>>32-L,R=me<<L|fe>>>32-L):(E=me<<L-32|fe>>>64-L,R=fe<<L-32|me>>>64-L);var K=I[b[ae]];K.high=E,K.low=R}var W=I[0],Z=S[0];W.high=Z.high,W.low=Z.low;for(var C=0;C<5;C++)for(var F=0;F<5;F++){var ae=C+5*F,A=S[ae],xe=I[ae],ye=I[(C+1)%5+5*F],Se=I[(C+2)%5+5*F];A.high=xe.high^~ye.high&Se.high,A.low=xe.low^~ye.low&Se.low}var A=S[0],Ee=N[D];A.high^=Ee.high,A.low^=Ee.low}},_doFinalize:function(){var k=this._data,U=k.words;this._nDataBytes*8;var S=k.sigBytes*8,j=this.blockSize*32;U[S>>>5]|=1<<24-S%32,U[(s.ceil((S+1)/j)*j>>>5)-1]|=128,k.sigBytes=U.length*4,this._process();for(var M=this._state,z=this.cfg.outputLength/8,H=z/8,A=[],D=0;D<H;D++){var C=M[D],E=C.high,R=C.low;E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,A.push(R),A.push(E)}return new u.init(A,z)},clone:function(){for(var k=p.clone.call(this),U=k._state=this._state.slice(0),S=0;S<25;S++)U[S]=U[S].clone();return k}});o.SHA3=p._createHelper(B),o.HmacSHA3=p._createHmacHelper(B)})(Math),t.SHA3})})(fd)),fd.exports}var md={exports:{}},kj=md.exports,sw;function jj(){return sw||(sw=1,(function(i,e){(function(t,s){i.exports=s($e())})(kj,function(t){return(function(s){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.algo,m=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),b=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),N=u.create([0,1518500249,1859775393,2400959708,2840853838]),I=u.create([1352829926,1548603684,1836072691,2053994217,0]),B=g.RIPEMD160=p.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(H,A){for(var D=0;D<16;D++){var C=A+D,E=H[C];H[C]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var R=this._hash.words,F=N.words,O=I.words,de=m.words,ne=y.words,q=v.words,X=b.words,ae,fe,me,L,K,W,Z,xe,ye,Se;W=ae=R[0],Z=fe=R[1],xe=me=R[2],ye=L=R[3],Se=K=R[4];for(var Ee,D=0;D<80;D+=1)Ee=ae+H[A+de[D]]|0,D<16?Ee+=k(fe,me,L)+F[0]:D<32?Ee+=U(fe,me,L)+F[1]:D<48?Ee+=S(fe,me,L)+F[2]:D<64?Ee+=j(fe,me,L)+F[3]:Ee+=M(fe,me,L)+F[4],Ee=Ee|0,Ee=z(Ee,q[D]),Ee=Ee+K|0,ae=K,K=L,L=z(me,10),me=fe,fe=Ee,Ee=W+H[A+ne[D]]|0,D<16?Ee+=M(Z,xe,ye)+O[0]:D<32?Ee+=j(Z,xe,ye)+O[1]:D<48?Ee+=S(Z,xe,ye)+O[2]:D<64?Ee+=U(Z,xe,ye)+O[3]:Ee+=k(Z,xe,ye)+O[4],Ee=Ee|0,Ee=z(Ee,X[D]),Ee=Ee+Se|0,W=Se,Se=ye,ye=z(xe,10),xe=Z,Z=Ee;Ee=R[1]+me+ye|0,R[1]=R[2]+L+Se|0,R[2]=R[3]+K+W|0,R[3]=R[4]+ae+Z|0,R[4]=R[0]+fe+xe|0,R[0]=Ee},_doFinalize:function(){var H=this._data,A=H.words,D=this._nDataBytes*8,C=H.sigBytes*8;A[C>>>5]|=128<<24-C%32,A[(C+64>>>9<<4)+14]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,H.sigBytes=(A.length+1)*4,this._process();for(var E=this._hash,R=E.words,F=0;F<5;F++){var O=R[F];R[F]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return E},clone:function(){var H=p.clone.call(this);return H._hash=this._hash.clone(),H}});function k(H,A,D){return H^A^D}function U(H,A,D){return H&A|~H&D}function S(H,A,D){return(H|~A)^D}function j(H,A,D){return H&D|A&~D}function M(H,A,D){return H^(A|~D)}function z(H,A){return H<<A|H>>>32-A}o.RIPEMD160=p._createHelper(B),o.HmacRIPEMD160=p._createHmacHelper(B)})(),t.RIPEMD160})})(md)),md.exports}var pd={exports:{}},Bj=pd.exports,rw;function gx(){return rw||(rw=1,(function(i,e){(function(t,s){i.exports=s($e())})(Bj,function(t){(function(){var s=t,o=s.lib,l=o.Base,u=s.enc,p=u.Utf8,g=s.algo;g.HMAC=l.extend({init:function(m,y){m=this._hasher=new m.init,typeof y=="string"&&(y=p.parse(y));var v=m.blockSize,b=v*4;y.sigBytes>b&&(y=m.finalize(y)),y.clamp();for(var N=this._oKey=y.clone(),I=this._iKey=y.clone(),B=N.words,k=I.words,U=0;U<v;U++)B[U]^=1549556828,k[U]^=909522486;N.sigBytes=I.sigBytes=b,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var y=this._hasher,v=y.finalize(m);y.reset();var b=y.finalize(this._oKey.clone().concat(v));return b}})})()})})(pd)),pd.exports}var gd={exports:{}},Oj=gd.exports,aw;function Mj(){return aw||(aw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),px(),gx())})(Oj,function(t){return(function(){var s=t,o=s.lib,l=o.Base,u=o.WordArray,p=s.algo,g=p.SHA256,m=p.HMAC,y=p.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:g,iterations:25e4}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,b){for(var N=this.cfg,I=m.create(N.hasher,v),B=u.create(),k=u.create([1]),U=B.words,S=k.words,j=N.keySize,M=N.iterations;U.length<j;){var z=I.update(b).finalize(k);I.reset();for(var H=z.words,A=H.length,D=z,C=1;C<M;C++){D=I.finalize(D),I.reset();for(var E=D.words,R=0;R<A;R++)H[R]^=E[R]}B.concat(z),S[0]++}return B.sigBytes=j*4,B}});s.PBKDF2=function(v,b,N){return y.create(N).compute(v,b)}})(),t.PBKDF2})})(gd)),gd.exports}var xd={exports:{}},Pj=xd.exports,ow;function la(){return ow||(ow=1,(function(i,e){(function(t,s,o){i.exports=s($e(),w4(),gx())})(Pj,function(t){return(function(){var s=t,o=s.lib,l=o.Base,u=o.WordArray,p=s.algo,g=p.MD5,m=p.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:g,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,v){for(var b,N=this.cfg,I=N.hasher.create(),B=u.create(),k=B.words,U=N.keySize,S=N.iterations;k.length<U;){b&&I.update(b),b=I.update(y).finalize(v),I.reset();for(var j=1;j<S;j++)b=I.finalize(b),I.reset();B.concat(b)}return B.sigBytes=U*4,B}});s.EvpKDF=function(y,v,b){return m.create(b).compute(y,v)}})(),t.EvpKDF})})(xd)),xd.exports}var yd={exports:{}},Lj=yd.exports,lw;function Jt(){return lw||(lw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),la())})(Lj,function(t){t.lib.Cipher||(function(s){var o=t,l=o.lib,u=l.Base,p=l.WordArray,g=l.BufferedBlockAlgorithm,m=o.enc;m.Utf8;var y=m.Base64,v=o.algo,b=v.EvpKDF,N=l.Cipher=g.extend({cfg:u.extend(),createEncryptor:function(E,R){return this.create(this._ENC_XFORM_MODE,E,R)},createDecryptor:function(E,R){return this.create(this._DEC_XFORM_MODE,E,R)},init:function(E,R,F){this.cfg=this.cfg.extend(F),this._xformMode=E,this._key=R,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(E){return this._append(E),this._process()},finalize:function(E){E&&this._append(E);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function E(R){return typeof R=="string"?C:H}return function(R){return{encrypt:function(F,O,de){return E(O).encrypt(R,F,O,de)},decrypt:function(F,O,de){return E(O).decrypt(R,F,O,de)}}}})()});l.StreamCipher=N.extend({_doFinalize:function(){var E=this._process(!0);return E},blockSize:1});var I=o.mode={},B=l.BlockCipherMode=u.extend({createEncryptor:function(E,R){return this.Encryptor.create(E,R)},createDecryptor:function(E,R){return this.Decryptor.create(E,R)},init:function(E,R){this._cipher=E,this._iv=R}}),k=I.CBC=(function(){var E=B.extend();E.Encryptor=E.extend({processBlock:function(F,O){var de=this._cipher,ne=de.blockSize;R.call(this,F,O,ne),de.encryptBlock(F,O),this._prevBlock=F.slice(O,O+ne)}}),E.Decryptor=E.extend({processBlock:function(F,O){var de=this._cipher,ne=de.blockSize,q=F.slice(O,O+ne);de.decryptBlock(F,O),R.call(this,F,O,ne),this._prevBlock=q}});function R(F,O,de){var ne,q=this._iv;q?(ne=q,this._iv=s):ne=this._prevBlock;for(var X=0;X<de;X++)F[O+X]^=ne[X]}return E})(),U=o.pad={},S=U.Pkcs7={pad:function(E,R){for(var F=R*4,O=F-E.sigBytes%F,de=O<<24|O<<16|O<<8|O,ne=[],q=0;q<O;q+=4)ne.push(de);var X=p.create(ne,O);E.concat(X)},unpad:function(E){var R=E.words[E.sigBytes-1>>>2]&255;E.sigBytes-=R}};l.BlockCipher=N.extend({cfg:N.cfg.extend({mode:k,padding:S}),reset:function(){var E;N.reset.call(this);var R=this.cfg,F=R.iv,O=R.mode;this._xformMode==this._ENC_XFORM_MODE?E=O.createEncryptor:(E=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==E?this._mode.init(this,F&&F.words):(this._mode=E.call(O,this,F&&F.words),this._mode.__creator=E)},_doProcessBlock:function(E,R){this._mode.processBlock(E,R)},_doFinalize:function(){var E,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),E=this._process(!0)):(E=this._process(!0),R.unpad(E)),E},blockSize:128/32});var j=l.CipherParams=u.extend({init:function(E){this.mixIn(E)},toString:function(E){return(E||this.formatter).stringify(this)}}),M=o.format={},z=M.OpenSSL={stringify:function(E){var R,F=E.ciphertext,O=E.salt;return O?R=p.create([1398893684,1701076831]).concat(O).concat(F):R=F,R.toString(y)},parse:function(E){var R,F=y.parse(E),O=F.words;return O[0]==1398893684&&O[1]==1701076831&&(R=p.create(O.slice(2,4)),O.splice(0,4),F.sigBytes-=16),j.create({ciphertext:F,salt:R})}},H=l.SerializableCipher=u.extend({cfg:u.extend({format:z}),encrypt:function(E,R,F,O){O=this.cfg.extend(O);var de=E.createEncryptor(F,O),ne=de.finalize(R),q=de.cfg;return j.create({ciphertext:ne,key:F,iv:q.iv,algorithm:E,mode:q.mode,padding:q.padding,blockSize:E.blockSize,formatter:O.format})},decrypt:function(E,R,F,O){O=this.cfg.extend(O),R=this._parse(R,O.format);var de=E.createDecryptor(F,O).finalize(R.ciphertext);return de},_parse:function(E,R){return typeof E=="string"?R.parse(E,this):E}}),A=o.kdf={},D=A.OpenSSL={execute:function(E,R,F,O,de){if(O||(O=p.random(64/8)),de)var ne=b.create({keySize:R+F,hasher:de}).compute(E,O);else var ne=b.create({keySize:R+F}).compute(E,O);var q=p.create(ne.words.slice(R),F*4);return ne.sigBytes=R*4,j.create({key:ne,iv:q,salt:O})}},C=l.PasswordBasedCipher=H.extend({cfg:H.cfg.extend({kdf:D}),encrypt:function(E,R,F,O){O=this.cfg.extend(O);var de=O.kdf.execute(F,E.keySize,E.ivSize,O.salt,O.hasher);O.iv=de.iv;var ne=H.encrypt.call(this,E,R,de.key,O);return ne.mixIn(de),ne},decrypt:function(E,R,F,O){O=this.cfg.extend(O),R=this._parse(R,O.format);var de=O.kdf.execute(F,E.keySize,E.ivSize,R.salt,O.hasher);O.iv=de.iv;var ne=H.decrypt.call(this,E,R,de.key,O);return ne}})})()})})(yd)),yd.exports}var vd={exports:{}},Fj=vd.exports,cw;function Vj(){return cw||(cw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})(Fj,function(t){return t.mode.CFB=(function(){var s=t.lib.BlockCipherMode.extend();s.Encryptor=s.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize;o.call(this,l,u,g,p),this._prevBlock=l.slice(u,u+g)}}),s.Decryptor=s.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize,m=l.slice(u,u+g);o.call(this,l,u,g,p),this._prevBlock=m}});function o(l,u,p,g){var m,y=this._iv;y?(m=y.slice(0),this._iv=void 0):m=this._prevBlock,g.encryptBlock(m,0);for(var v=0;v<p;v++)l[u+v]^=m[v]}return s})(),t.mode.CFB})})(vd)),vd.exports}var bd={exports:{}},Uj=bd.exports,uw;function zj(){return uw||(uw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})(Uj,function(t){return t.mode.CTR=(function(){var s=t.lib.BlockCipherMode.extend(),o=s.Encryptor=s.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize,m=this._iv,y=this._counter;m&&(y=this._counter=m.slice(0),this._iv=void 0);var v=y.slice(0);p.encryptBlock(v,0),y[g-1]=y[g-1]+1|0;for(var b=0;b<g;b++)l[u+b]^=v[b]}});return s.Decryptor=o,s})(),t.mode.CTR})})(bd)),bd.exports}var wd={exports:{}},Hj=wd.exports,hw;function qj(){return hw||(hw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})(Hj,function(t){return t.mode.CTRGladman=(function(){var s=t.lib.BlockCipherMode.extend();function o(p){if((p>>24&255)===255){var g=p>>16&255,m=p>>8&255,y=p&255;g===255?(g=0,m===255?(m=0,y===255?y=0:++y):++m):++g,p=0,p+=g<<16,p+=m<<8,p+=y}else p+=1<<24;return p}function l(p){return(p[0]=o(p[0]))===0&&(p[1]=o(p[1])),p}var u=s.Encryptor=s.extend({processBlock:function(p,g){var m=this._cipher,y=m.blockSize,v=this._iv,b=this._counter;v&&(b=this._counter=v.slice(0),this._iv=void 0),l(b);var N=b.slice(0);m.encryptBlock(N,0);for(var I=0;I<y;I++)p[g+I]^=N[I]}});return s.Decryptor=u,s})(),t.mode.CTRGladman})})(wd)),wd.exports}var _d={exports:{}},$j=_d.exports,dw;function Gj(){return dw||(dw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})($j,function(t){return t.mode.OFB=(function(){var s=t.lib.BlockCipherMode.extend(),o=s.Encryptor=s.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize,m=this._iv,y=this._keystream;m&&(y=this._keystream=m.slice(0),this._iv=void 0),p.encryptBlock(y,0);for(var v=0;v<g;v++)l[u+v]^=y[v]}});return s.Decryptor=o,s})(),t.mode.OFB})})(_d)),_d.exports}var Ed={exports:{}},Kj=Ed.exports,fw;function Yj(){return fw||(fw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})(Kj,function(t){return t.mode.ECB=(function(){var s=t.lib.BlockCipherMode.extend();return s.Encryptor=s.extend({processBlock:function(o,l){this._cipher.encryptBlock(o,l)}}),s.Decryptor=s.extend({processBlock:function(o,l){this._cipher.decryptBlock(o,l)}}),s})(),t.mode.ECB})})(Ed)),Ed.exports}var Ad={exports:{}},Xj=Ad.exports,mw;function Qj(){return mw||(mw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})(Xj,function(t){return t.pad.AnsiX923={pad:function(s,o){var l=s.sigBytes,u=o*4,p=u-l%u,g=l+p-1;s.clamp(),s.words[g>>>2]|=p<<24-g%4*8,s.sigBytes+=p},unpad:function(s){var o=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=o}},t.pad.Ansix923})})(Ad)),Ad.exports}var Td={exports:{}},Wj=Td.exports,pw;function Zj(){return pw||(pw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})(Wj,function(t){return t.pad.Iso10126={pad:function(s,o){var l=o*4,u=l-s.sigBytes%l;s.concat(t.lib.WordArray.random(u-1)).concat(t.lib.WordArray.create([u<<24],1))},unpad:function(s){var o=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=o}},t.pad.Iso10126})})(Td)),Td.exports}var Cd={exports:{}},Jj=Cd.exports,gw;function eB(){return gw||(gw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})(Jj,function(t){return t.pad.Iso97971={pad:function(s,o){s.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(s,o)},unpad:function(s){t.pad.ZeroPadding.unpad(s),s.sigBytes--}},t.pad.Iso97971})})(Cd)),Cd.exports}var Sd={exports:{}},tB=Sd.exports,xw;function nB(){return xw||(xw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})(tB,function(t){return t.pad.ZeroPadding={pad:function(s,o){var l=o*4;s.clamp(),s.sigBytes+=l-(s.sigBytes%l||l)},unpad:function(s){for(var o=s.words,l=s.sigBytes-1,l=s.sigBytes-1;l>=0;l--)if(o[l>>>2]>>>24-l%4*8&255){s.sigBytes=l+1;break}}},t.pad.ZeroPadding})})(Sd)),Sd.exports}var Nd={exports:{}},iB=Nd.exports,yw;function sB(){return yw||(yw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})(iB,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(Nd)),Nd.exports}var Rd={exports:{}},rB=Rd.exports,vw;function aB(){return vw||(vw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Jt())})(rB,function(t){return(function(s){var o=t,l=o.lib,u=l.CipherParams,p=o.enc,g=p.Hex,m=o.format;m.Hex={stringify:function(y){return y.ciphertext.toString(g)},parse:function(y){var v=g.parse(y);return u.create({ciphertext:v})}}})(),t.format.Hex})})(Rd)),Rd.exports}var Dd={exports:{}},oB=Dd.exports,bw;function lB(){return bw||(bw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),to(),no(),la(),Jt())})(oB,function(t){return(function(){var s=t,o=s.lib,l=o.BlockCipher,u=s.algo,p=[],g=[],m=[],y=[],v=[],b=[],N=[],I=[],B=[],k=[];(function(){for(var j=[],M=0;M<256;M++)M<128?j[M]=M<<1:j[M]=M<<1^283;for(var z=0,H=0,M=0;M<256;M++){var A=H^H<<1^H<<2^H<<3^H<<4;A=A>>>8^A&255^99,p[z]=A,g[A]=z;var D=j[z],C=j[D],E=j[C],R=j[A]*257^A*16843008;m[z]=R<<24|R>>>8,y[z]=R<<16|R>>>16,v[z]=R<<8|R>>>24,b[z]=R;var R=E*16843009^C*65537^D*257^z*16843008;N[A]=R<<24|R>>>8,I[A]=R<<16|R>>>16,B[A]=R<<8|R>>>24,k[A]=R,z?(z=D^j[j[j[E^D]]],H^=j[j[H]]):z=H=1}})();var U=[0,1,2,4,8,16,32,64,128,27,54],S=u.AES=l.extend({_doReset:function(){var j;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var M=this._keyPriorReset=this._key,z=M.words,H=M.sigBytes/4,A=this._nRounds=H+6,D=(A+1)*4,C=this._keySchedule=[],E=0;E<D;E++)E<H?C[E]=z[E]:(j=C[E-1],E%H?H>6&&E%H==4&&(j=p[j>>>24]<<24|p[j>>>16&255]<<16|p[j>>>8&255]<<8|p[j&255]):(j=j<<8|j>>>24,j=p[j>>>24]<<24|p[j>>>16&255]<<16|p[j>>>8&255]<<8|p[j&255],j^=U[E/H|0]<<24),C[E]=C[E-H]^j);for(var R=this._invKeySchedule=[],F=0;F<D;F++){var E=D-F;if(F%4)var j=C[E];else var j=C[E-4];F<4||E<=4?R[F]=j:R[F]=N[p[j>>>24]]^I[p[j>>>16&255]]^B[p[j>>>8&255]]^k[p[j&255]]}}},encryptBlock:function(j,M){this._doCryptBlock(j,M,this._keySchedule,m,y,v,b,p)},decryptBlock:function(j,M){var z=j[M+1];j[M+1]=j[M+3],j[M+3]=z,this._doCryptBlock(j,M,this._invKeySchedule,N,I,B,k,g);var z=j[M+1];j[M+1]=j[M+3],j[M+3]=z},_doCryptBlock:function(j,M,z,H,A,D,C,E){for(var R=this._nRounds,F=j[M]^z[0],O=j[M+1]^z[1],de=j[M+2]^z[2],ne=j[M+3]^z[3],q=4,X=1;X<R;X++){var ae=H[F>>>24]^A[O>>>16&255]^D[de>>>8&255]^C[ne&255]^z[q++],fe=H[O>>>24]^A[de>>>16&255]^D[ne>>>8&255]^C[F&255]^z[q++],me=H[de>>>24]^A[ne>>>16&255]^D[F>>>8&255]^C[O&255]^z[q++],L=H[ne>>>24]^A[F>>>16&255]^D[O>>>8&255]^C[de&255]^z[q++];F=ae,O=fe,de=me,ne=L}var ae=(E[F>>>24]<<24|E[O>>>16&255]<<16|E[de>>>8&255]<<8|E[ne&255])^z[q++],fe=(E[O>>>24]<<24|E[de>>>16&255]<<16|E[ne>>>8&255]<<8|E[F&255])^z[q++],me=(E[de>>>24]<<24|E[ne>>>16&255]<<16|E[F>>>8&255]<<8|E[O&255])^z[q++],L=(E[ne>>>24]<<24|E[F>>>16&255]<<16|E[O>>>8&255]<<8|E[de&255])^z[q++];j[M]=ae,j[M+1]=fe,j[M+2]=me,j[M+3]=L},keySize:256/32});s.AES=l._createHelper(S)})(),t.AES})})(Dd)),Dd.exports}var Id={exports:{}},cB=Id.exports,ww;function uB(){return ww||(ww=1,(function(i,e){(function(t,s,o){i.exports=s($e(),to(),no(),la(),Jt())})(cB,function(t){return(function(){var s=t,o=s.lib,l=o.WordArray,u=o.BlockCipher,p=s.algo,g=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],m=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],y=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],b=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],N=p.DES=u.extend({_doReset:function(){for(var U=this._key,S=U.words,j=[],M=0;M<56;M++){var z=g[M]-1;j[M]=S[z>>>5]>>>31-z%32&1}for(var H=this._subKeys=[],A=0;A<16;A++){for(var D=H[A]=[],C=y[A],M=0;M<24;M++)D[M/6|0]|=j[(m[M]-1+C)%28]<<31-M%6,D[4+(M/6|0)]|=j[28+(m[M+24]-1+C)%28]<<31-M%6;D[0]=D[0]<<1|D[0]>>>31;for(var M=1;M<7;M++)D[M]=D[M]>>>(M-1)*4+3;D[7]=D[7]<<5|D[7]>>>27}for(var E=this._invSubKeys=[],M=0;M<16;M++)E[M]=H[15-M]},encryptBlock:function(U,S){this._doCryptBlock(U,S,this._subKeys)},decryptBlock:function(U,S){this._doCryptBlock(U,S,this._invSubKeys)},_doCryptBlock:function(U,S,j){this._lBlock=U[S],this._rBlock=U[S+1],I.call(this,4,252645135),I.call(this,16,65535),B.call(this,2,858993459),B.call(this,8,16711935),I.call(this,1,1431655765);for(var M=0;M<16;M++){for(var z=j[M],H=this._lBlock,A=this._rBlock,D=0,C=0;C<8;C++)D|=v[C][((A^z[C])&b[C])>>>0];this._lBlock=A,this._rBlock=H^D}var E=this._lBlock;this._lBlock=this._rBlock,this._rBlock=E,I.call(this,1,1431655765),B.call(this,8,16711935),B.call(this,2,858993459),I.call(this,16,65535),I.call(this,4,252645135),U[S]=this._lBlock,U[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function I(U,S){var j=(this._lBlock>>>U^this._rBlock)&S;this._rBlock^=j,this._lBlock^=j<<U}function B(U,S){var j=(this._rBlock>>>U^this._lBlock)&S;this._lBlock^=j,this._rBlock^=j<<U}s.DES=u._createHelper(N);var k=p.TripleDES=u.extend({_doReset:function(){var U=this._key,S=U.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var j=S.slice(0,2),M=S.length<4?S.slice(0,2):S.slice(2,4),z=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=N.createEncryptor(l.create(j)),this._des2=N.createEncryptor(l.create(M)),this._des3=N.createEncryptor(l.create(z))},encryptBlock:function(U,S){this._des1.encryptBlock(U,S),this._des2.decryptBlock(U,S),this._des3.encryptBlock(U,S)},decryptBlock:function(U,S){this._des3.decryptBlock(U,S),this._des2.encryptBlock(U,S),this._des1.decryptBlock(U,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});s.TripleDES=u._createHelper(k)})(),t.TripleDES})})(Id)),Id.exports}var kd={exports:{}},hB=kd.exports,_w;function dB(){return _w||(_w=1,(function(i,e){(function(t,s,o){i.exports=s($e(),to(),no(),la(),Jt())})(hB,function(t){return(function(){var s=t,o=s.lib,l=o.StreamCipher,u=s.algo,p=u.RC4=l.extend({_doReset:function(){for(var y=this._key,v=y.words,b=y.sigBytes,N=this._S=[],I=0;I<256;I++)N[I]=I;for(var I=0,B=0;I<256;I++){var k=I%b,U=v[k>>>2]>>>24-k%4*8&255;B=(B+N[I]+U)%256;var S=N[I];N[I]=N[B],N[B]=S}this._i=this._j=0},_doProcessBlock:function(y,v){y[v]^=g.call(this)},keySize:256/32,ivSize:0});function g(){for(var y=this._S,v=this._i,b=this._j,N=0,I=0;I<4;I++){v=(v+1)%256,b=(b+y[v])%256;var B=y[v];y[v]=y[b],y[b]=B,N|=y[(y[v]+y[b])%256]<<24-I*8}return this._i=v,this._j=b,N}s.RC4=l._createHelper(p);var m=u.RC4Drop=p.extend({cfg:p.cfg.extend({drop:192}),_doReset:function(){p._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)g.call(this)}});s.RC4Drop=l._createHelper(m)})(),t.RC4})})(kd)),kd.exports}var jd={exports:{}},fB=jd.exports,Ew;function mB(){return Ew||(Ew=1,(function(i,e){(function(t,s,o){i.exports=s($e(),to(),no(),la(),Jt())})(fB,function(t){return(function(){var s=t,o=s.lib,l=o.StreamCipher,u=s.algo,p=[],g=[],m=[],y=u.Rabbit=l.extend({_doReset:function(){for(var b=this._key.words,N=this.cfg.iv,I=0;I<4;I++)b[I]=(b[I]<<8|b[I]>>>24)&16711935|(b[I]<<24|b[I]>>>8)&4278255360;var B=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],k=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var I=0;I<4;I++)v.call(this);for(var I=0;I<8;I++)k[I]^=B[I+4&7];if(N){var U=N.words,S=U[0],j=U[1],M=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,z=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,H=M>>>16|z&4294901760,A=z<<16|M&65535;k[0]^=M,k[1]^=H,k[2]^=z,k[3]^=A,k[4]^=M,k[5]^=H,k[6]^=z,k[7]^=A;for(var I=0;I<4;I++)v.call(this)}},_doProcessBlock:function(b,N){var I=this._X;v.call(this),p[0]=I[0]^I[5]>>>16^I[3]<<16,p[1]=I[2]^I[7]>>>16^I[5]<<16,p[2]=I[4]^I[1]>>>16^I[7]<<16,p[3]=I[6]^I[3]>>>16^I[1]<<16;for(var B=0;B<4;B++)p[B]=(p[B]<<8|p[B]>>>24)&16711935|(p[B]<<24|p[B]>>>8)&4278255360,b[N+B]^=p[B]},blockSize:128/32,ivSize:64/32});function v(){for(var b=this._X,N=this._C,I=0;I<8;I++)g[I]=N[I];N[0]=N[0]+1295307597+this._b|0,N[1]=N[1]+3545052371+(N[0]>>>0<g[0]>>>0?1:0)|0,N[2]=N[2]+886263092+(N[1]>>>0<g[1]>>>0?1:0)|0,N[3]=N[3]+1295307597+(N[2]>>>0<g[2]>>>0?1:0)|0,N[4]=N[4]+3545052371+(N[3]>>>0<g[3]>>>0?1:0)|0,N[5]=N[5]+886263092+(N[4]>>>0<g[4]>>>0?1:0)|0,N[6]=N[6]+1295307597+(N[5]>>>0<g[5]>>>0?1:0)|0,N[7]=N[7]+3545052371+(N[6]>>>0<g[6]>>>0?1:0)|0,this._b=N[7]>>>0<g[7]>>>0?1:0;for(var I=0;I<8;I++){var B=b[I]+N[I],k=B&65535,U=B>>>16,S=((k*k>>>17)+k*U>>>15)+U*U,j=((B&4294901760)*B|0)+((B&65535)*B|0);m[I]=S^j}b[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,b[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,b[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,b[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,b[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,b[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,b[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,b[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}s.Rabbit=l._createHelper(y)})(),t.Rabbit})})(jd)),jd.exports}var Bd={exports:{}},pB=Bd.exports,Aw;function gB(){return Aw||(Aw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),to(),no(),la(),Jt())})(pB,function(t){return(function(){var s=t,o=s.lib,l=o.StreamCipher,u=s.algo,p=[],g=[],m=[],y=u.RabbitLegacy=l.extend({_doReset:function(){var b=this._key.words,N=this.cfg.iv,I=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],B=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var k=0;k<4;k++)v.call(this);for(var k=0;k<8;k++)B[k]^=I[k+4&7];if(N){var U=N.words,S=U[0],j=U[1],M=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,z=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,H=M>>>16|z&4294901760,A=z<<16|M&65535;B[0]^=M,B[1]^=H,B[2]^=z,B[3]^=A,B[4]^=M,B[5]^=H,B[6]^=z,B[7]^=A;for(var k=0;k<4;k++)v.call(this)}},_doProcessBlock:function(b,N){var I=this._X;v.call(this),p[0]=I[0]^I[5]>>>16^I[3]<<16,p[1]=I[2]^I[7]>>>16^I[5]<<16,p[2]=I[4]^I[1]>>>16^I[7]<<16,p[3]=I[6]^I[3]>>>16^I[1]<<16;for(var B=0;B<4;B++)p[B]=(p[B]<<8|p[B]>>>24)&16711935|(p[B]<<24|p[B]>>>8)&4278255360,b[N+B]^=p[B]},blockSize:128/32,ivSize:64/32});function v(){for(var b=this._X,N=this._C,I=0;I<8;I++)g[I]=N[I];N[0]=N[0]+1295307597+this._b|0,N[1]=N[1]+3545052371+(N[0]>>>0<g[0]>>>0?1:0)|0,N[2]=N[2]+886263092+(N[1]>>>0<g[1]>>>0?1:0)|0,N[3]=N[3]+1295307597+(N[2]>>>0<g[2]>>>0?1:0)|0,N[4]=N[4]+3545052371+(N[3]>>>0<g[3]>>>0?1:0)|0,N[5]=N[5]+886263092+(N[4]>>>0<g[4]>>>0?1:0)|0,N[6]=N[6]+1295307597+(N[5]>>>0<g[5]>>>0?1:0)|0,N[7]=N[7]+3545052371+(N[6]>>>0<g[6]>>>0?1:0)|0,this._b=N[7]>>>0<g[7]>>>0?1:0;for(var I=0;I<8;I++){var B=b[I]+N[I],k=B&65535,U=B>>>16,S=((k*k>>>17)+k*U>>>15)+U*U,j=((B&4294901760)*B|0)+((B&65535)*B|0);m[I]=S^j}b[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,b[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,b[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,b[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,b[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,b[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,b[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,b[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}s.RabbitLegacy=l._createHelper(y)})(),t.RabbitLegacy})})(Bd)),Bd.exports}var Od={exports:{}},xB=Od.exports,Tw;function yB(){return Tw||(Tw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),to(),no(),la(),Jt())})(xB,function(t){return(function(){var s=t,o=s.lib,l=o.BlockCipher,u=s.algo;const p=16,g=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],m=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var y={pbox:[],sbox:[]};function v(k,U){let S=U>>24&255,j=U>>16&255,M=U>>8&255,z=U&255,H=k.sbox[0][S]+k.sbox[1][j];return H=H^k.sbox[2][M],H=H+k.sbox[3][z],H}function b(k,U,S){let j=U,M=S,z;for(let H=0;H<p;++H)j=j^k.pbox[H],M=v(k,j)^M,z=j,j=M,M=z;return z=j,j=M,M=z,M=M^k.pbox[p],j=j^k.pbox[p+1],{left:j,right:M}}function N(k,U,S){let j=U,M=S,z;for(let H=p+1;H>1;--H)j=j^k.pbox[H],M=v(k,j)^M,z=j,j=M,M=z;return z=j,j=M,M=z,M=M^k.pbox[1],j=j^k.pbox[0],{left:j,right:M}}function I(k,U,S){for(let A=0;A<4;A++){k.sbox[A]=[];for(let D=0;D<256;D++)k.sbox[A][D]=m[A][D]}let j=0;for(let A=0;A<p+2;A++)k.pbox[A]=g[A]^U[j],j++,j>=S&&(j=0);let M=0,z=0,H=0;for(let A=0;A<p+2;A+=2)H=b(k,M,z),M=H.left,z=H.right,k.pbox[A]=M,k.pbox[A+1]=z;for(let A=0;A<4;A++)for(let D=0;D<256;D+=2)H=b(k,M,z),M=H.left,z=H.right,k.sbox[A][D]=M,k.sbox[A][D+1]=z;return!0}var B=u.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var k=this._keyPriorReset=this._key,U=k.words,S=k.sigBytes/4;I(y,U,S)}},encryptBlock:function(k,U){var S=b(y,k[U],k[U+1]);k[U]=S.left,k[U+1]=S.right},decryptBlock:function(k,U){var S=N(y,k[U],k[U+1]);k[U]=S.left,k[U+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});s.Blowfish=l._createHelper(B)})(),t.Blowfish})})(Od)),Od.exports}var vB=ed.exports,Cw;function bB(){return Cw||(Cw=1,(function(i,e){(function(t,s,o){i.exports=s($e(),Hf(),gj(),yj(),to(),wj(),no(),w4(),px(),Cj(),_4(),Rj(),Ij(),jj(),gx(),Mj(),la(),Jt(),Vj(),zj(),qj(),Gj(),Yj(),Qj(),Zj(),eB(),nB(),sB(),aB(),lB(),uB(),dB(),mB(),gB(),yB())})(vB,function(t){return t})})(ed)),ed.exports}var wB=bB();const Xp=nC(wB),Qp=(i,e)=>{try{return Xp.AES.encrypt(i,e).toString()}catch(t){return console.error("Encryption error:",t),""}},Wp=(i,e)=>{try{const s=Xp.AES.decrypt(i,e).toString(Xp.enc.Utf8);return s||(console.warn("Decryption resulted in empty string for:",i),"")}catch(t){return console.error("Decryption error:",t),""}},_B=(i,e)=>i.map(t=>Qp(t,e)),EB=(i,e)=>i.map(t=>Wp(t,e)),AB=async()=>{try{if(!we.currentUser)return console.log("No current user"),!1;const i=gn(Ze,"Users"),e=ir(i,rl("userId","==",we.currentUser.uid)),t=await Ts(e);if(t.empty)return console.log("No profile found for user"),!1;const s=t.docs[0].data().setupCompleted===!0;return console.log("Profile setup complete:",s),s}catch(i){return console.error("Error checking profile setup:",i),i.code==="permission-denied"&&console.warn("Permission denied when checking profile - update your Firestore rules"),!1}},ms=async()=>{try{if(!we.currentUser)return console.log("No current user"),null;const i=gn(Ze,"Users"),e=ir(i,rl("userId","==",we.currentUser.uid)),t=await Ts(e);if(t.empty)return console.log("No profile found"),null;const s=t.docs[0].data(),o=we.currentUser.uid;console.log("Decrypting sensitive user data");const l={docId:t.docs[0].id,...s,phone:s.phone?Wp(s.phone,o):null,age:s.age?Wp(s.age,o):null,triggers:s.triggers&&Array.isArray(s.triggers)?EB(s.triggers,o):[],displayName:s.displayName||null,profileImageUrl:s.profileImageUrl||null,likedPosts:s.likedPosts||[],likedComments:s.likedComments||[]};return console.log("Profile data decrypted successfully"),l}catch(i){return console.error("Error fetching user profile:",i),null}};function TB(){const i=ei(),[e,t]=$.useState(""),[s,o]=$.useState("All"),[l,u]=$.useState("Most Recent"),[p,g]=$.useState("All Time"),[m,y]=$.useState([]),[v,b]=$.useState([]),[N,I]=$.useState(!0),[B,k]=$.useState(4),[U,S]=$.useState(!1),[j,M]=$.useState([]);$.useEffect(()=>{(async()=>{try{I(!0);const R=gn(Ze,"forum"),F=ir(R,Xc("createdAt","desc")),de=(await Ts(F)).docs.map(ne=>{const q=ne.data(),X=q.createdAt?.toDate(),ae=X?H(X):"just now";return{id:ne.id,title:q.title,content:q.content,userId:q.userId,author:q.authorDisplayName||"Anonymous",authorAvatar:q.authorProfilePic||"",timeAgo:ae,replies:q.replies||0,likes:q.likes||0,category:q.category,isPinned:q.isPinned||!1,tags:q.tags||[],triggers:q.triggers||[],views:q.views||0,createdAt:q.createdAt}});b(de),y(de)}catch(R){console.error("Error fetching discussions:",R)}finally{I(!1)}})(),(async()=>{try{const R=await ms();R&&R.triggers&&M(R.triggers.map(F=>F.toString()))}catch(R){console.warn("Failed to load user profile for triggers:",R)}})()},[]),$.useEffect(()=>{let C=[...v];if(e.trim()){const E=e.toLowerCase();C=C.filter(R=>{const F=R.title?.toLowerCase().includes(E),de=[R.content,R.body,R.description,R.post].some(X=>typeof X=="string"&&X.toLowerCase().includes(E)),ne=R.tags?.some(X=>X.toLowerCase().includes(E)),q=R.author?.toLowerCase().includes(E);return!!(F||de||ne||q)})}if(s!=="All"&&(C=C.filter(E=>E.category===s)),p!=="All Time"&&C.length>0){const E=new Date,R=new Date;switch(p){case"Today":R.setHours(0,0,0,0);break;case"This Week":R.setDate(E.getDate()-7);break;case"This Month":R.setMonth(E.getMonth()-1);break}C=C.filter(F=>{const O=F.createdAt?.toDate();return O&&O>=R})}if(U&&j&&j.length>0){const E=j.map(R=>R.toLowerCase());C=C.filter(R=>!(R.triggers||[]).map(O=>O.toLowerCase()).some(O=>E.includes(O)))}switch(l){case"Most Popular":C.sort((E,R)=>R.likes-E.likes);break;case"Most Replies":C.sort((E,R)=>R.replies-E.replies);break;case"Most Recent":default:C.sort((E,R)=>{const F=E.createdAt?.toDate()||new Date(0);return(R.createdAt?.toDate()||new Date(0)).getTime()-F.getTime()});break}y(C)},[e,s,l,p,v,U,j]),$.useEffect(()=>{k(4)},[e,s,l,p,v]);const z=()=>{k(C=>Math.min(C+4,m.length))},H=C=>{const E=Math.floor((new Date().getTime()-C.getTime())/1e3),R={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[F,O]of Object.entries(R)){const de=Math.floor(E/O);if(de>=1)return`${de} ${F}${de>1?"s":""} ago`}return"just now"},A=["Uplifty","Depression","Relationships","Recovery","Self-Care","Informational"],D=$.useMemo(()=>{if(!v||v.length===0)return[];const C=E=>(E.replies||0)*2+(E.likes||0)+3*Math.log10((E.views||0)+1);return[...v].sort((E,R)=>C(R)-C(E)).slice(0,5)},[v]);return h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Community Forums"}),h.jsx("p",{className:"text-white/70 text-lg",children:"You're not alone. Share, listen, heal together."}),h.jsx("p",{className:"text-white/50 text-sm mt-2",children:"Safe space to connect with others on similar journeys, find support, and share experiences in judgment-free environment"})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-6 shadow-2xl shadow-black/20",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(og,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),h.jsx("input",{type:"text",placeholder:"Search discussions, topics, keywords...",value:e,onChange:C=>t(C.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]}),h.jsxs("button",{onClick:()=>i("/forum/create"),className:"bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/30 shadow-lg flex items-center gap-2 justify-center",children:[h.jsx(df,{size:20}),"New Discussion"]})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-white/70 text-sm",children:"Sort by:"}),h.jsxs("select",{value:l,onChange:C=>u(C.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 pr-10 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},children:[h.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Most Recent"}),h.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Most Popular"}),h.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Most Replies"})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-white/70 text-sm",children:"Category:"}),h.jsxs("select",{value:s,onChange:C=>o(C.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 pr-10 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},children:[h.jsx("option",{className:"bg-[#6A1E55] text-white",children:"All"}),A.map(C=>h.jsx("option",{className:"bg-[#6A1E55] text-white",children:C},C))]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-white/70 text-sm",children:"Time:"}),h.jsxs("select",{value:p,onChange:C=>g(C.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 pr-10 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},children:[h.jsx("option",{className:"bg-[#6A1E55] text-white",children:"All Time"}),h.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Today"}),h.jsx("option",{className:"bg-[#6A1E55] text-white",children:"This Week"}),h.jsx("option",{className:"bg-[#6A1E55] text-white",children:"This Month"})]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:U,onChange:()=>S(C=>!C),className:"w-4 h-4 rounded border-white/20 bg-white/5 focus:ring-0"}),h.jsx("span",{className:"text-white/70 text-sm",children:"Hide posts matching my triggers"})]})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[N?h.jsx("div",{className:"text-center text-white/70 py-12",children:h.jsx("p",{children:"Loading discussions..."})}):m.length===0?h.jsx("div",{className:"text-center text-white/70 py-12",children:h.jsx("p",{children:"No discussions yet. Be the first to start one!"})}):m.slice(0,B).map(C=>h.jsxs("div",{onClick:()=>i(`/forum/${C.id}`),className:`bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer ${C.isPinned?"border-yellow-500/40":""}`,children:[C.isPinned&&h.jsxs("div",{className:"flex items-center gap-2 text-yellow-400/90 text-sm font-semibold mb-3",children:[h.jsx(I6,{size:16}),h.jsx("span",{children:"Pinned"})]}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3 drop-shadow-md",children:C.title}),h.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:C.content}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[C.authorAvatar?h.jsx("img",{src:C.authorAvatar,alt:C.author,className:"w-8 h-8 rounded-full object-cover bg-white/20"}):h.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-sm",children:""}),h.jsx("span",{className:"text-white/80 text-sm font-medium",children:C.author})]}),h.jsxs("span",{className:"text-white/50 text-sm",children:[" ",C.timeAgo]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[h.jsx(vp,{size:16}),h.jsx("span",{className:"text-sm",children:C.likes})]}),h.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[h.jsx(uf,{size:16}),h.jsx("span",{className:"text-sm",children:C.replies})]}),h.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[h.jsx(ag,{size:16}),h.jsx("span",{className:"text-sm",children:C.views})]})]})]}),C.tags&&h.jsx("div",{className:"flex gap-2 mt-3",children:C.tags.map(E=>h.jsxs("span",{className:"text-xs text-white/50 bg-white/5 px-2 py-1 rounded-full",children:["#",E]},E))})]},C.id)),!N&&m.length>0&&B<m.length&&h.jsx("button",{onClick:z,className:"w-full bg-white/5 hover:bg-white/10 backdrop-blur-md text-white/70 font-medium rounded-full py-3 transition-all duration-200 border border-white/10",children:"View more discussions"})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md",children:"Community Guidelines"}),h.jsxs("ul",{className:"space-y-2 text-white/70 text-sm",children:[h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-400",children:""}),h.jsx("span",{children:"Be respectful and kind to all members"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-400",children:""}),h.jsx("span",{children:"Keep discussions supportive and constructive"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-400",children:""}),h.jsx("span",{children:"Share mindfully - respect confidentiality"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-400",children:""}),h.jsx("span",{children:"Report any concerns to moderation team"})]})]}),h.jsx("button",{className:"mt-4 text-sm text-white/60 hover:text-white transition-colors",children:"Read full Guidelines "})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[h.jsxs("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md flex items-center gap-2",children:[h.jsx(n_,{size:20}),"Trending Discussions"]}),h.jsx("div",{className:"space-y-3",children:D.length===0?h.jsx("div",{className:"text-white/60 text-sm",children:"No trending discussions yet."}):D.map((C,E)=>h.jsxs("div",{onClick:()=>i(`/forum/${C.id}`),className:"hover:bg-white/5 p-3 rounded-full transition-all cursor-pointer",children:[h.jsx("h4",{className:"text-white/90 text-sm font-semibold mb-1 line-clamp-2",children:C.title}),h.jsxs("div",{className:"flex items-center gap-2 text-white/50 text-xs",children:[h.jsx("span",{children:C.category}),h.jsx("span",{children:""}),h.jsxs("span",{children:[C.replies," replies"]}),h.jsx("span",{children:""}),h.jsxs("span",{children:[C.views," views"]})]})]},C.id||E))})]})]})]}),h.jsx("section",{className:"mt-16 mb-8",children:h.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24",children:[h.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Still need more help?"}),h.jsx("p",{className:"text-white font-semibold",children:"Connect with a professional counselor"}),h.jsx("button",{className:"mt-8 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-bold rounded-full border border-white/30 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg",children:"Book an appointment with us now"})]})})]})})}const CB=["Anxiety","Depression","Eating Disorders","Self-Harm","Substance Abuse","Trauma/PTSD","Suicidal Thoughts","Relationship Issues","Academic Stress","Financial Stress","Grief/Loss","Social Anxiety","Body Image","Sleep Issues","OCD","Panic Attacks"];function SB(){const i=ei(),[e,t]=$.useState(!1),[s,o]=$.useState(""),[l,u]=$.useState(""),[p,g]=$.useState(""),[m,y]=$.useState({title:"",content:"",category:"Uplifty",tags:[],triggers:[]}),v=["Uplifty","Depression","Relationships","Recovery","Self-Care","Informational"],b=S=>{const{name:j,value:M}=S.target;y(z=>({...z,[j]:M}))},N=S=>{y(j=>({...j,triggers:j.triggers.includes(S)?j.triggers.filter(M=>M!==S):[...j.triggers,S]}))},I=S=>{if(S.key===" "&&p.trim()){S.preventDefault();const j=p.trim().toLowerCase().replace(/\s+/g,"-");m.tags.includes(j)||y(M=>({...M,tags:[...M.tags,j]})),g("")}else S.key==="Backspace"&&!p&&m.tags.length>0&&y(j=>({...j,tags:j.tags.slice(0,-1)}))},B=S=>{y(j=>({...j,tags:j.tags.filter(M=>M!==S)}))},k=async S=>{if(S.preventDefault(),o(""),u(""),!m.title.trim()){o("Please enter a title for your post");return}if(!m.content.trim()){o("Please enter content for your post");return}if(!we.currentUser){o("You must be signed in to create a post");return}t(!0);try{const j=await ms(),M=j?.displayName||we.currentUser.email?.split("@")[0]||"Anonymous",z=j?.profileImageUrl||"",H={title:m.title.trim(),content:m.content.trim(),category:m.category,tags:m.tags,triggers:m.triggers,userId:we.currentUser.uid,authorDisplayName:M,authorProfilePic:z,createdAt:Qc(),replies:0,likes:0,views:0,isPinned:!1};await gl(gn(Ze,"forum"),H),u("Post created successfully!"),setTimeout(()=>{i("/forum")},1500)}catch(j){console.error("Error creating post:",j),o(j.message||"Failed to create post. Please try again."),t(!1)}},U=()=>{i("/forum")};return h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Create New Discussion"}),h.jsx("p",{className:"text-white/70 text-lg",children:"Share your thoughts and connect with the community"})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[s&&h.jsxs("div",{className:"mb-6 bg-red-500/20 border border-red-500/30 rounded-2xl p-4 flex items-start gap-3",children:[h.jsx(lf,{className:"text-red-400 flex-shrink-0 mt-0.5",size:20}),h.jsx("p",{className:"text-red-200 text-sm",children:s})]}),l&&h.jsxs("div",{className:"mb-6 bg-green-500/20 border border-green-500/30 rounded-2xl p-4 flex items-start gap-3",children:[h.jsx("div",{className:"text-green-400 flex-shrink-0 mt-0.5",children:""}),h.jsx("p",{className:"text-green-200 text-sm",children:l})]}),h.jsxs("form",{onSubmit:k,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"title",className:"block text-white font-semibold mb-2",children:["Discussion Title ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("input",{type:"text",id:"title",name:"title",value:m.title,onChange:b,placeholder:"Enter a clear, descriptive title...",className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all",disabled:e,maxLength:200}),h.jsxs("p",{className:"text-white/50 text-xs mt-1",children:[m.title.length,"/200 characters"]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"category",className:"block text-white font-semibold mb-2",children:["Category ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("select",{id:"category",name:"category",value:m.category,onChange:b,className:"w-full bg-white/10 border border-white/20 rounded-2xl px-4 py-3 text-white focus:outline-none focus:border-white/40 cursor-pointer backdrop-blur-md transition-all appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center"},disabled:e,children:v.map(S=>h.jsx("option",{value:S,className:"bg-[#6A1E55] text-white",children:S},S))})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"content",className:"block text-white font-semibold mb-2",children:["Content ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("textarea",{id:"content",name:"content",value:m.content,onChange:b,placeholder:"Share your thoughts, experiences, or questions... Be respectful and supportive.",className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all resize-none",rows:8,disabled:e,maxLength:5e3}),h.jsxs("p",{className:"text-white/50 text-xs mt-1",children:[m.content.length,"/5000 characters"]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"tags",className:"block text-white font-semibold mb-2",children:"Tags (optional)"}),h.jsxs("div",{className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 min-h-[48px] flex flex-wrap gap-2 items-center",children:[m.tags.map((S,j)=>h.jsxs("span",{className:"bg-white/20 text-white text-sm px-3 py-1 rounded-full flex items-center gap-2 border border-white/30",children:["#",S,h.jsx("button",{type:"button",onClick:()=>B(S),className:"hover:bg-white/20 rounded-full p-0.5 transition-colors",disabled:e,children:h.jsx(bp,{size:14})})]},j)),h.jsx("input",{type:"text",id:"tags",value:p,onChange:S=>g(S.target.value),onKeyDown:I,placeholder:m.tags.length===0?"Type a tag and press space...":"",className:"flex-1 min-w-[120px] bg-transparent border-none outline-none text-white placeholder-white/50",disabled:e})]}),h.jsx("p",{className:"text-white/50 text-xs mt-1",children:"Press space to add a tag, backspace to remove"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-white font-semibold mb-3",children:"Content Warnings / Triggers (optional)"}),h.jsx("p",{className:"text-white/50 text-xs mb-3",children:"Select any sensitive topics that your post mentions"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:CB.map(S=>h.jsx("button",{type:"button",onClick:()=>N(S),disabled:e,className:`px-4 py-2 rounded-full text-sm font-medium transition-all border ${m.triggers.includes(S)?"bg-white/30 text-white border-white/50 shadow-lg":"bg-white/5 text-white/70 border-white/20 hover:bg-white/10"} disabled:opacity-50 disabled:cursor-not-allowed`,children:S},S))})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[h.jsx("h3",{className:"text-white font-semibold mb-2 text-sm",children:"Community Guidelines Reminder"}),h.jsxs("ul",{className:"space-y-1 text-white/60 text-xs",children:[h.jsx("li",{children:" Be respectful and kind to all members"}),h.jsx("li",{children:" Keep discussions supportive and constructive"}),h.jsx("li",{children:" Respect confidentiality and privacy"}),h.jsx("li",{children:" Avoid giving medical advice - share experiences instead"})]})]}),h.jsxs("div",{className:"flex gap-4 pt-4",children:[h.jsxs("button",{type:"submit",disabled:e,className:"flex-1 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/30 shadow-lg flex items-center gap-2 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(df,{size:20}),e?"Creating...":"Create Discussion"]}),h.jsxs("button",{type:"button",onClick:U,disabled:e,className:"bg-white/5 hover:bg-white/10 backdrop-blur-md text-white/80 font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/20 flex items-center gap-2 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(bp,{size:20}),"Cancel"]})]})]})]}),h.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md",children:"Tips for Great Discussions"}),h.jsxs("ul",{className:"space-y-2 text-white/70 text-sm",children:[h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-400",children:""}),h.jsx("span",{children:"Use a clear, specific title that describes your topic"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-400",children:""}),h.jsx("span",{children:"Provide context and details to help others understand"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-400",children:""}),h.jsx("span",{children:"Add relevant tags to increase visibility"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-400",children:""}),h.jsx("span",{children:"Mark triggers to help members navigate content safely"})]})]})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24 mt-8",children:[h.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Still need more help?"}),h.jsx("p",{className:"text-white font-semibold",children:"Connect with a professional counselor"}),h.jsx("button",{className:"mt-8 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-bold rounded-full border border-white/30 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg",children:"Book an appointment with us now"})]})]})})}function NB(){const{id:i}=Vw(),e=ei(),[t,s]=$.useState(null),[o,l]=$.useState([]),[u,p]=$.useState(!0),[g,m]=$.useState(""),[y,v]=$.useState({}),[b,N]=$.useState(null),[I,B]=$.useState([]),[k,U]=$.useState([]),[S,j]=$.useState(!1);$.useEffect(()=>{i&&(z(),H(),D(),we.currentUser&&C())},[i]);const M=ne=>{const q=Math.floor((new Date().getTime()-ne.getTime())/1e3),X={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[ae,fe]of Object.entries(X)){const me=Math.floor(q/fe);if(me>=1)return`${me} ${ae}${me>1?"s":""} ago`}return"just now"},z=async()=>{try{if(!i)return;const ne=_n(Ze,"forum",i),q=await cx(ne);if(q.exists()){const X=q.data(),ae=X.createdAt?.toDate();s({id:q.id,title:X.title,content:X.content,userId:X.userId,authorDisplayName:X.authorDisplayName||"Anonymous",authorProfilePic:X.authorProfilePic||"",category:X.category,tags:X.tags||[],triggers:X.triggers||[],createdAt:X.createdAt,timeAgo:ae?M(ae):"just now",replies:X.replies||0,likes:X.likes||0,views:X.views||0,isPinned:X.isPinned||!1})}p(!1)}catch(ne){console.error("Error fetching discussion:",ne),p(!1)}},H=async()=>{try{if(!i)return;const ne=gn(Ze,"forum",i,"comments"),q=ir(ne,Xc("createdAt","desc")),X=await Ts(q),ae=[];for(const fe of X.docs){const me=fe.data(),L=me.createdAt?.toDate(),K=await A(`forum/${i}/comments/${fe.id}`);ae.push({id:fe.id,path:`forum/${i}/comments/${fe.id}`,userId:me.userId,authorDisplayName:me.authorDisplayName||"Anonymous",authorProfilePic:me.authorProfilePic||"",content:me.content,createdAt:me.createdAt,timeAgo:L?M(L):"just now",likes:me.likes||0,replies:K})}l(ae)}catch(ne){console.error("Error fetching comments:",ne)}},A=async ne=>{try{const q=gn(Ze,ne,"replies"),X=ir(q,Xc("createdAt","asc")),ae=await Ts(X),fe=[];for(const me of ae.docs){const L=me.data(),K=L.createdAt?.toDate(),W=`${ne}/replies/${me.id}`,Z=await A(W);fe.push({id:me.id,path:W,userId:L.userId,authorDisplayName:L.authorDisplayName||"Anonymous",authorProfilePic:L.authorProfilePic||"",content:L.content,createdAt:L.createdAt,timeAgo:K?M(K):"just now",likes:L.likes||0,replies:Z})}return fe}catch(q){return console.error("Error fetching replies:",q),[]}},D=async()=>{try{if(!i)return;const ne=_n(Ze,"forum",i);await fn(ne,{views:Ba(1)})}catch(ne){console.error("Error incrementing views:",ne)}},C=async()=>{try{const ne=await ms();ne&&(B(ne.likedPosts||[]),U(ne.likedComments||[]))}catch(ne){console.error("Error fetching user likes:",ne)}},E=async()=>{if(!(!we.currentUser||!i||!t))try{const ne=await ms();if(!ne?.docId)return;const q=_n(Ze,"forum",i),X=_n(Ze,"Users",ne.docId);I.includes(i)?(await fn(q,{likes:Ba(-1)}),await fn(X,{likedPosts:rf(i)}),B(fe=>fe.filter(me=>me!==i)),s({...t,likes:t.likes-1})):(await fn(q,{likes:Ba(1)}),await fn(X,{likedPosts:sf(i)}),B(fe=>[...fe,i]),s({...t,likes:t.likes+1}))}catch(ne){console.error("Error toggling like:",ne)}},R=async ne=>{if(ne.preventDefault(),!(!we.currentUser||!i||!g.trim())){j(!0);try{const q=await ms(),X=q?.displayName||we.currentUser.email?.split("@")[0]||"Anonymous",ae=q?.profileImageUrl||"",fe=gn(Ze,"forum",i,"comments");await gl(fe,{userId:we.currentUser.uid,authorDisplayName:X,authorProfilePic:ae,content:g.trim(),createdAt:Qc(),likes:0});const me=_n(Ze,"forum",i);await fn(me,{replies:Ba(1)}),m(""),await H(),t&&s({...t,replies:t.replies+1})}catch(q){console.error("Error submitting comment:",q)}finally{j(!1)}}},F=async ne=>{if(!(!we.currentUser||!i||!y[ne]?.trim())){j(!0);try{const q=await ms(),X=q?.displayName||we.currentUser.email?.split("@")[0]||"Anonymous",ae=q?.profileImageUrl||"",fe=gn(Ze,ne,"replies");await gl(fe,{userId:we.currentUser.uid,authorDisplayName:X,authorProfilePic:ae,content:y[ne].trim(),createdAt:Qc(),likes:0});const me=_n(Ze,"forum",i);await fn(me,{replies:Ba(1)}),v(L=>({...L,[ne]:""})),N(null),await H(),t&&s({...t,replies:t.replies+1})}catch(q){console.error("Error submitting reply:",q)}finally{j(!1)}}},O=async(ne,q)=>{if(we.currentUser)try{const X=await ms();if(!X?.docId)return;const ae=_n(Ze,ne),fe=_n(Ze,"Users",X.docId);k.includes(ne)?(await fn(ae,{likes:Ba(-1)}),await fn(fe,{likedComments:rf(ne)}),U(L=>L.filter(K=>K!==ne))):(await fn(ae,{likes:Ba(1)}),await fn(fe,{likedComments:sf(ne)}),U(L=>[...L,ne])),await H()}catch(X){console.error("Error toggling comment like:",X)}},de=({comment:ne,depth:q=0})=>h.jsxs("div",{className:`${q>0?"ml-8 mt-3":""}`,children:[h.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[ne.authorProfilePic?h.jsx("img",{src:ne.authorProfilePic,alt:ne.authorDisplayName,className:"w-10 h-10 rounded-full object-cover bg-white/20 flex-shrink-0"}):h.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:""}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[h.jsx("span",{className:"text-white font-semibold",children:ne.authorDisplayName}),h.jsxs("span",{className:"text-white/50 text-sm",children:[" ",ne.timeAgo]})]}),h.jsx("p",{className:"text-white/90 text-sm mb-3 break-words",children:ne.content}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{onClick:()=>O(ne.path,ne.likes),disabled:!we.currentUser,className:`flex items-center gap-1 text-sm transition-colors ${k.includes(ne.path)?"text-blue-400":"text-white/60 hover:text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[h.jsx(vp,{size:14,fill:k.includes(ne.path)?"currentColor":"none"}),h.jsx("span",{children:ne.likes})]}),h.jsx("button",{onClick:()=>N(b===ne.path?null:ne.path),className:"text-white/60 hover:text-white text-sm transition-colors",children:"Reply"})]})]})]})}),b===ne.path&&h.jsx("div",{className:"ml-8 mt-3",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:y[ne.path]||"",onChange:X=>{const ae=X.target.value;v(fe=>({...fe,[ne.path]:ae}))},placeholder:"Write a reply...",className:"flex-1 bg-white/5 border border-white/20 rounded-full px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/40 text-sm",disabled:S,autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),F(ne.path)),X.stopPropagation()}}),h.jsx("button",{onClick:()=>F(ne.path),disabled:S||!y[ne.path]?.trim(),className:"bg-white/20 hover:bg-white/30 text-white rounded-full px-4 py-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(yp,{size:16})})]})}),ne.replies&&ne.replies.length>0&&h.jsx("div",{className:"mt-3 space-y-3",children:ne.replies.map(X=>h.jsx(de,{comment:X,depth:q+1},X.id))})]});return u?h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsx("p",{className:"text-white text-lg",children:"Loading discussion..."})}):t?h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("button",{onClick:()=>e("/forum"),className:"flex items-center gap-2 text-white/70 hover:text-white mb-6 transition-colors",children:[h.jsx(sg,{size:20}),"Back to Forum"]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20 mb-6",children:[h.jsx("div",{className:"inline-block bg-white/20 text-white text-sm font-medium px-4 py-1 rounded-full mb-4",children:t.category}),h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4 drop-shadow-lg",children:t.title}),h.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-6 border-b border-white/10",children:[t.authorProfilePic?h.jsx("img",{src:t.authorProfilePic,alt:t.authorDisplayName,className:"w-12 h-12 rounded-full object-cover bg-white/20"}):h.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:""}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white font-semibold",children:t.authorDisplayName}),h.jsx("p",{className:"text-white/50 text-sm",children:t.timeAgo})]})]}),t.triggers&&t.triggers.length>0&&h.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-2xl p-4 mb-6",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(Y6,{className:"text-yellow-400 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"text-yellow-200 font-semibold text-sm mb-1",children:"Content Warning"}),h.jsxs("p",{className:"text-yellow-200/80 text-sm",children:["This post contains mentions of: ",t.triggers.join(", ")]})]})]})}),h.jsx("div",{className:"text-white/90 text-lg mb-6 whitespace-pre-wrap",children:t.content}),t.tags&&t.tags.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.tags.map(ne=>h.jsxs("span",{className:"text-sm text-white/50 bg-white/5 px-3 py-1 rounded-full",children:["#",ne]},ne))}),h.jsx("div",{className:"flex items-center justify-between pt-6 border-t border-white/10",children:h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsxs("button",{onClick:E,disabled:!we.currentUser,className:`flex items-center gap-2 transition-colors ${I.includes(i||"")?"text-blue-400":"text-white/70 hover:text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[h.jsx(vp,{size:20,fill:I.includes(i||"")?"currentColor":"none"}),h.jsx("span",{children:t.likes})]}),h.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[h.jsx(uf,{size:20}),h.jsx("span",{children:t.replies})]}),h.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[h.jsx(ag,{size:20}),h.jsx("span",{children:t.views})]})]})})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-2xl shadow-black/20",children:[h.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Comments (",t.replies,")"]}),we.currentUser?h.jsxs("form",{onSubmit:R,className:"mb-6",children:[h.jsx("div",{className:"flex gap-3",children:h.jsx("textarea",{value:g,onChange:ne=>m(ne.target.value),placeholder:"Share your thoughts...",className:"flex-1 bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 resize-none",rows:3,disabled:S})}),h.jsxs("button",{type:"submit",disabled:S||!g.trim(),className:"mt-3 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-full px-6 py-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[h.jsx(yp,{size:16}),S?"Posting...":"Post Comment"]})]}):h.jsx("div",{className:"mb-6 bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:h.jsxs("p",{className:"text-white/70",children:[h.jsx("button",{onClick:()=>e("/signin"),className:"text-blue-400 hover:underline",children:"Sign in"})," to join the discussion"]})}),h.jsx("div",{className:"space-y-4",children:o.length===0?h.jsx("p",{className:"text-white/50 text-center py-8",children:"No comments yet. Be the first to share your thoughts!"}):o.map(ne=>h.jsx(de,{comment:ne},ne.id))})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24 mt-8",children:[h.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Still need more help?"}),h.jsx("p",{className:"text-white font-semibold",children:"Connect with a professional counselor"}),h.jsx("button",{className:"mt-8 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-bold rounded-full border border-white/30 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg",children:"Book an appointment with us now"})]})]})}):h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsx("p",{className:"text-white text-lg",children:"Discussion not found"})})}function RB(){return h.jsx("div",{className:"min-h-screen pt-32 px-4",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Testimonials"}),h.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:h.jsx("p",{className:"text-white/80 text-lg",children:"Testimonials page coming soon..."})})]})})}function DB(){const[i,e]=$.useState(!1),[t,s]=$.useState(!1),[o,l]=$.useState(!1),[u,p]=$.useState(""),[g,m]=$.useState(""),y=ei(),[v,b]=$.useState({email:"",password:"",name:"",confirmPassword:""}),N=async I=>{I.preventDefault(),p(""),m(""),l(!0);try{if(i){if(v.password!==v.confirmPassword){p("Passwords do not match"),l(!1);return}if(v.password.length<6){p("Password must be at least 6 characters"),l(!1);return}if(!v.name.trim()){p("Name is required"),l(!1);return}const B=await fR(we,v.email,v.password);await gR(B.user,{displayName:v.name}),m("Account created successfully! Redirecting..."),setTimeout(()=>{y("/accountsetup")},1500)}else{await mR(we,v.email,v.password);const B=await AB();m("Signed in successfully! Redirecting..."),setTimeout(()=>{y(B?"/":"/accountsetup")},1500)}}catch(B){B.code==="auth/email-already-in-use"?p("Email is already in use"):B.code==="auth/invalid-email"?p("Invalid email address"):B.code==="auth/weak-password"?p("Password is too weak"):B.code==="auth/user-not-found"?p("User not found"):B.code==="auth/wrong-password"?p("Incorrect password"):p(B.message||"An error occurred")}finally{l(!1)}};return h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg mb-2",children:i?"Create Account":"Welcome Back"}),h.jsx("p",{className:"text-white/70 text-sm",children:i?"Join our supportive community":"Sign in to continue your journey"})]}),u&&h.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[h.jsx(lf,{size:20,className:"text-red-400 flex-shrink-0 mt-0.5"}),h.jsx("p",{className:"text-red-200 text-sm",children:u})]}),g&&h.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[h.jsx(Qw,{size:20,className:"text-green-400 flex-shrink-0 mt-0.5"}),h.jsx("p",{className:"text-green-200 text-sm",children:g})]}),h.jsxs("form",{onSubmit:N,className:"space-y-4",children:[i&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Full Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(ff,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),h.jsx("input",{type:"text",placeholder:"Enter your name",value:v.name,onChange:I=>b({...v,name:I.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:i})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Jw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),h.jsx("input",{type:"email",placeholder:"Enter your email",value:v.email,onChange:I=>b({...v,email:I.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(eb,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),h.jsx("input",{type:t?"text":"password",placeholder:"Enter your password",value:v.password,onChange:I=>b({...v,password:I.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-12 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0}),h.jsx("button",{type:"button",onClick:()=>s(!t),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/50 hover:text-white/80 transition-colors",children:t?h.jsx(d6,{size:20}):h.jsx(ag,{size:20})})]})]}),i&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(eb,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),h.jsx("input",{type:t?"text":"password",placeholder:"Confirm your password",value:v.confirmPassword,onChange:I=>b({...v,confirmPassword:I.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:i})]})]}),!i&&h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"button",className:"text-white/60 hover:text-white text-sm transition-colors",children:"Forgot Password?"})}),h.jsx("button",{type:"submit",disabled:o,className:"w-full bg-white/20 hover:bg-white/30 disabled:bg-white/10 disabled:opacity-50 backdrop-blur-md text-white font-semibold rounded-full py-3 transition-all duration-300 border border-white/30 shadow-lg mt-6",children:o?"Processing...":i?"Create Account":"Sign In"})]}),h.jsx("div",{className:"text-center mt-6",children:h.jsxs("button",{type:"button",onClick:()=>e(!i),className:"text-white/70 hover:text-white text-sm transition-colors",children:[i?"Already have an account? ":"Don't have an account? ",h.jsx("span",{className:"font-semibold",children:i?"Sign In":"Sign Up"})]})}),h.jsx("p",{className:"text-white/40 text-xs text-center mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})})}const IB=["Anxiety","Depression","Eating Disorders","Self-Harm","Substance Abuse","Trauma/PTSD","Suicidal Thoughts","Relationship Issues","Academic Stress","Financial Stress","Grief/Loss","Social Anxiety","Body Image","Sleep Issues","OCD","Panic Attacks"];function kB(){const i=ei(),[e,t]=$.useState(!1),[s,o]=$.useState(""),[l,u]=$.useState(""),[p,g]=$.useState(null),[m,y]=$.useState(null),[v,b]=$.useState(""),[N,I]=$.useState([]),[B,k]=$.useState({phone:"",age:"",bio:"",preferences:""});$.useEffect(()=>{we.currentUser||i("/signin"),(async()=>{try{const z=await ms();z&&(g(z.docId||null),k({phone:z.phone||"",age:z.age||"",bio:z.bio||"",preferences:z.preferences||""}),I(z.triggers||[]),z.profileImageUrl&&b(z.profileImageUrl))}catch(z){console.warn("Could not prefill profile:",z)}})()},[i]);const U=M=>{const z=M.target.files?.[0];if(z){y(z);const H=new FileReader;H.onloadend=()=>{b(H.result)},H.readAsDataURL(z)}},S=M=>{I(z=>z.includes(M)?z.filter(H=>H!==M):[...z,M])},j=async M=>{M.preventDefault(),console.log("Form submitted"),o(""),u(""),t(!0);try{if(!B.phone.trim()){console.log("Phone number is empty"),o("Phone number is required"),t(!1);return}console.log("Phone validation passed");let z=v||"";if(m){console.log("Uploading profile image");const F=we.currentUser;if(!F){console.log("User not authenticated (image upload)"),o("User not authenticated"),t(!1);return}try{const O=Z7(ij,`profile-pictures/${F.uid}/${m.name}`);console.log("Image ref:",O.toString()),await Q7(O,m),z=await W7(O),console.log("Image uploaded:",z)}catch(O){console.warn("Failed to upload profile image:",O),console.warn("Continuing without profile image")}}const H=we.currentUser;if(console.log("Current user:",H),!H){console.log("User not authenticated (firestore)"),o("User not authenticated"),t(!1);return}const A=H.uid,D=Qp(B.phone,A),C=B.age?Qp(B.age,A):null,E=_B(N,A),R={userId:H.uid,email:H.email,displayName:H.displayName,phone:D,age:C,triggers:E,profileImageUrl:z,bio:B.bio,preferences:B.preferences,setupCompleted:!0,updatedAt:Qc()};if(p){const F=_n(Ze,"Users",p);await fn(F,R),u("Profile updated successfully! Redirecting..."),t(!1),setTimeout(()=>i("/profile"),1200)}else{const F=gn(Ze,"Users");await gl(F,{...R,createdAt:Qc()}),u("Profile setup completed! Redirecting to home..."),t(!1),setTimeout(()=>i("/"),1500)}}catch(z){console.error("Error setting up profile:",z),console.error("Error code:",z.code),console.error("Error message:",z.message),console.error("Full error:",z);let H="An error occurred while setting up your profile";z.code==="permission-denied"?H="Permission denied. Please check Firestore security rules. Make sure authenticated users can write to the Users collection.":z.message&&(H=z.message),o(H),t(!1)}};return h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsx("div",{className:"w-full max-w-2xl",children:h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg mb-2",children:"Complete Your Profile"}),h.jsx("p",{className:"text-white/70 text-sm",children:"Help us personalize your mental health journey"})]}),s&&h.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[h.jsx(lf,{size:20,className:"text-red-400 flex-shrink-0 mt-0.5"}),h.jsx("p",{className:"text-red-200 text-sm",children:s})]}),l&&h.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[h.jsx(Qw,{size:20,className:"text-green-400 flex-shrink-0 mt-0.5"}),h.jsx("p",{className:"text-green-200 text-sm",children:l})]}),h.jsxs("form",{onSubmit:j,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/80 text-sm font-medium mb-3",children:"Profile Picture"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-24 h-24 rounded-2xl bg-white/5 border border-white/20 flex items-center justify-center overflow-hidden",children:v?h.jsx("img",{src:v,alt:"Profile",className:"w-full h-full object-cover"}):h.jsx(Z6,{size:32,className:"text-white/50"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:U,className:"w-full text-sm text-white/50 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-white/20 file:text-white hover:file:bg-white/30 transition-colors"}),h.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Optional - PNG, JPG up to 5MB"})]})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2",children:["Phone Number ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx(hf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),h.jsx("input",{type:"tel",placeholder:"Enter your phone number",value:B.phone,onChange:M=>k({...B,phone:M.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Age"}),h.jsxs("div",{className:"relative",children:[h.jsx(Xw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),h.jsx("input",{type:"number",placeholder:"Enter your age",value:B.age,onChange:M=>k({...B,age:M.target.value}),min:"13",max:"120",className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Bio"}),h.jsx("textarea",{placeholder:"Tell us a bit about yourself...",value:B.bio,onChange:M=>k({...B,bio:M.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all resize-none",rows:3})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-3 flex items-center gap-2",children:[h.jsx(cf,{size:18}),"Topics to Avoid (Select any that apply)"]}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:IB.map(M=>h.jsx("button",{type:"button",onClick:()=>S(M),className:`p-3 rounded-2xl text-sm font-medium transition-all border ${N.includes(M)?"bg-pink-500/40 border-pink-500/60 text-white":"bg-white/5 border-white/20 text-white/70 hover:bg-white/10"}`,children:M},M))})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 flex items-center gap-2",children:[h.jsx(xp,{size:18}),"Additional Preferences"]}),h.jsx("textarea",{placeholder:"Share any other preferences or information that would help personalize your experience...",value:B.preferences,onChange:M=>k({...B,preferences:M.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all resize-none",rows:3})]}),h.jsx("button",{type:"submit",disabled:e,className:"w-full bg-white/20 hover:bg-white/30 disabled:bg-white/10 disabled:opacity-50 backdrop-blur-md text-white font-semibold rounded-full py-3 transition-all duration-300 border border-white/30 shadow-lg mt-6",children:e?"Completing Setup...":"Complete Profile Setup"}),h.jsx("p",{className:"text-white/40 text-xs text-center",children:"You can update this information anytime from your profile settings"})]})]})})})}function jB(){const i=ei(),[e,t]=$.useState(null),[s,o]=$.useState(!0),[l,u]=$.useState("");$.useEffect(()=>{(async()=>{if(!we.currentUser){i("/signin");return}try{const m=await ms();m?t(m):u("Could not load profile")}catch(m){console.error("Error loading profile:",m),u("Error loading profile")}finally{o(!1)}})()},[i]);const p=async()=>{try{await hE(we),i("/")}catch(g){console.error("Error signing out:",g)}};return s?h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsx("div",{className:"text-white text-xl",children:"Loading profile..."})}):e?h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20 mb-6",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-white drop-shadow-lg mb-2",children:"Your Profile"}),h.jsx("p",{className:"text-white/70",children:"All your account information"})]}),h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e?.profileImageUrl?h.jsx("img",{src:e.profileImageUrl,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-white/20 mb-4 shadow-lg"}):h.jsx("div",{className:"w-32 h-32 rounded-full bg-white/10 border-4 border-white/20 flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white/50 text-6xl",children:""})}),h.jsx("h2",{className:"text-3xl font-bold text-white",children:e?.displayName||"User"}),h.jsx("p",{className:"text-white/60 text-sm",children:e?.email})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 md:grid-flow-col md:auto-cols-fr",children:[h.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(Jw,{size:20,className:"text-white/70"}),h.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Email"})]}),h.jsx("p",{className:"text-white font-normal text-center break-words text-xs md:text-sm w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.email,children:e?.email})]}),h.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(hf,{size:20,className:"text-white/70"}),h.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Phone"})]}),h.jsx("p",{className:"text-white font-semibold text-center break-words w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.phone,children:e?.phone||"Not provided"})]}),h.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(Xw,{size:20,className:"text-white/70"}),h.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Age"})]}),h.jsx("p",{className:"text-white font-semibold text-center break-words w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.age,children:e?.age?e.age:"Not provided"})]})]}),e?.bio&&h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx(xp,{size:20,className:"text-white/70"}),h.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Bio"})]}),h.jsx("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:h.jsx("p",{className:"text-white",children:e.bio})})]}),e?.triggers&&e.triggers.length>0&&h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx(cf,{size:20,className:"text-white/70"}),h.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Topics to Avoid"})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:e.triggers.map((g,m)=>h.jsx("span",{className:"px-4 py-2 bg-pink-500/20 border border-pink-500/50 text-white rounded-full text-sm font-medium",children:g},m))})]}),e?.preferences&&h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx(xp,{size:20,className:"text-white/70"}),h.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Preferences"})]}),h.jsx("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:h.jsx("p",{className:"text-white",children:e.preferences})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[h.jsxs("button",{onClick:()=>i("/accountsetup"),className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg",children:[h.jsx(L6,{size:18}),"Edit Profile"]}),h.jsxs("button",{onClick:p,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-red-500/20 hover:bg-red-500/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-red-500/30 shadow-lg",children:[h.jsx(Zw,{size:18}),"Sign Out"]})]})]})})}):h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsx("div",{className:"text-white text-xl",children:l||"Profile not found"})})}const BB=async()=>{try{const i=ir(gn(Ze,"blogPosts"),Xc("date","desc"));return(await Ts(i)).docs.map(t=>({id:t.id,...t.data()}))}catch(i){return console.error(i),[]}},mp=async i=>{try{const e=_n(Ze,"blogPosts",i),t=await cx(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){return console.error(e),null}},OB=async i=>{try{return(await gl(gn(Ze,"blogPosts"),{...i,likedBy:[],comments:[],createdAt:new Date().toISOString()})).id}catch(e){return console.error(e),null}},E4=async(i,e,t)=>{try{return await fn(_n(Ze,"blogPosts",i),{likedBy:t?rf(e):sf(e)}),!0}catch(s){return console.error(s),!1}},MB=async(i,e,t,s,o)=>{try{const l={id:crypto.randomUUID(),author:e,authorEmail:t,content:s,timestamp:new Date().toISOString(),userId:o};return await fn(_n(Ze,"blogPosts",i),{comments:sf(l)}),!0}catch(l){return console.error(l),!1}},PB=async(i,e,t)=>{try{const s=_n(Ze,"blogPosts",i),o=await cx(s);if(!o.exists())return!1;const u=o.data().comments?.find(g=>g.id===e);if(!u)return!1;const p=we.currentUser?.email;return u.userId!==t&&p!=="amogh.shivanna@gmail.com"?!1:(await fn(s,{comments:rf(u)}),!0)}catch(s){return console.error(s),!1}};function LB(){const i=ei(),[e,t]=$.useState(""),[s,o]=$.useState("All"),[l,u]=$.useState([]),[p,g]=$.useState("newest"),[m,y]=$.useState(0),[v,b]=$.useState([]),[N,I]=$.useState(!0),[B,k]=$.useState(null),[U,S]=$.useState(!1),j=["All","Mental Health","Self-Care","Mindfulness","Relationships","Wellness","Technology"];$.useEffect(()=>bf(we,D=>{k(D?D.uid:null)}),[]),$.useEffect(()=>{(async()=>{try{const D=await BB();if(b(D),B){const C=D.filter(E=>E.likedBy?.includes(B)).map(E=>E.id);u(C)}}catch(D){console.error("Error loading blog posts:",D)}finally{I(!1)}})()},[B]),$.useEffect(()=>{if(B){const A=we.currentUser?.email;S(A==="amogh.shivanna@gmail.com")}},[B]);const M=async A=>{if(!B||!we.currentUser){alert("Please log in to like posts");return}const D=l.includes(A);u(C=>D?C.filter(E=>E!==A):[...C,A]),b(C=>C.map(E=>E.id===A?{...E,likedBy:D?E.likedBy?.filter(R=>R!==we.currentUser.uid)||[]:[...E.likedBy||[],we.currentUser.uid]}:E));try{await E4(A,we.currentUser.uid,D)||(u(E=>D?[...E,A]:E.filter(R=>R!==A)),b(E=>E.map(R=>R.id===A?{...R,likedBy:D?[...R.likedBy||[],we.currentUser.uid]:R.likedBy?.filter(F=>F!==we.currentUser.uid)||[]}:R)))}catch(C){console.error("Error updating like:",C),u(E=>D?[...E,A]:E.filter(R=>R!==A)),b(E=>E.map(R=>R.id===A?{...R,likedBy:D?[...R.likedBy||[],we.currentUser.uid]:R.likedBy?.filter(F=>F!==we.currentUser.uid)||[]}:R))}},z=v.filter(A=>{const D=s==="All"||A.category===s,C=A.title.toLowerCase().includes(e.toLowerCase())||A.excerpt.toLowerCase().includes(e.toLowerCase())||A.tags.some(F=>F.toLowerCase().includes(e.toLowerCase())),R=(A.likedBy?.length||0)>=m;return D&&C&&R}).sort((A,D)=>p==="newest"?new Date(D.date).getTime()-new Date(A.date).getTime():p==="oldest"?new Date(A.date).getTime()-new Date(D.date).getTime():p==="most-liked"?(D.likedBy?.length||0)-(A.likedBy?.length||0):0),H=v.filter(A=>A.featured);return N?h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsx("p",{className:"text-white text-lg",children:"Loading blog posts..."})}):h.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 md:pt-24 px-2 sm:px-4 pb-8 sm:pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8 sm:mb-10 md:mb-12 px-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 mb-2 sm:mb-3",children:[h.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white drop-shadow-lg",children:"Wellness Blog"}),U&&h.jsxs("button",{onClick:()=>i("/add-blog"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-full font-semibold text-sm sm:text-base transition-all duration-200 flex items-center gap-1.5 sm:gap-2 shadow-lg",children:[h.jsx(df,{size:16,className:"sm:w-5 sm:h-5"}),"New Post"]})]}),h.jsx("p",{className:"text-white/70 text-sm sm:text-base md:text-lg",children:"Expert insights and practical tips for mental health and wellbeing"})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 mb-6 sm:mb-8 shadow-2xl shadow-black/20",children:[h.jsx("div",{className:"flex flex-col md:flex-row gap-3 sm:gap-4 mb-3 sm:mb-4",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(og,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-white/50",size:18}),h.jsx("input",{type:"text",placeholder:"Search articles...",value:e,onChange:A=>t(A.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl sm:rounded-2xl pl-10 sm:pl-12 pr-3 sm:pr-4 py-2 sm:py-3 text-sm sm:text-base text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]})}),h.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-3 sm:mb-4",children:j.map(A=>h.jsx("button",{onClick:()=>o(A),className:`px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 rounded-full font-medium text-xs sm:text-sm transition-all duration-200 border ${s===A?"bg-white/25 text-white border-white/40 shadow-lg":"bg-white/5 text-white/80 border-white/10 hover:bg-white/10"}`,children:A},A))}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-3 sm:gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-white/70 text-xs sm:text-sm font-medium block mb-1.5 sm:mb-2",children:"Sort By:"}),h.jsxs("select",{value:p,onChange:A=>g(A.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl sm:rounded-2xl px-3 sm:px-4 py-1.5 sm:py-2 text-white text-xs sm:text-sm focus:outline-none focus:border-white/30 transition-all",children:[h.jsx("option",{value:"newest",className:"bg-[#0A0F2A]",children:"Newest First"}),h.jsx("option",{value:"oldest",className:"bg-[#0A0F2A]",children:"Oldest First"}),h.jsx("option",{value:"most-liked",className:"bg-[#0A0F2A]",children:"Most Liked"})]})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-white/70 text-sm font-medium block mb-2",children:"Minimum Likes:"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(n_,{size:16,className:"text-white/50"}),h.jsx("input",{type:"range",min:"0",max:"500",step:"50",value:m,onChange:A=>y(Number(A.target.value)),className:"flex-1 h-2 bg-white/10 rounded-full appearance-none cursor-pointer accent-white/50"}),h.jsx("span",{className:"text-white/70 text-sm font-medium w-12",children:m})]})]})]})]}),s==="All"&&e===""&&m===0&&H.length>0&&h.jsxs("div",{className:"mb-12",children:[h.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[h.jsx(t_,{size:24}),"Featured Articles"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:H.map(A=>h.jsxs("div",{onClick:()=>i(`/blog/${A.id}`),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer group",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsx("span",{className:"bg-white/20 text-white/90 text-xs font-semibold px-3 py-1 rounded-full",children:"Featured"})}),h.jsx("h3",{className:"text-2xl font-bold text-white mb-3 group-hover:text-white/90 transition-colors",children:A.title}),h.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:A.excerpt}),h.jsx("div",{className:"flex items-center justify-between text-sm text-white/60 mb-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(rg,{size:16}),new Date(A.date).toLocaleDateString()]}),h.jsxs("span",{children:[A.readTime," min read"]})]})}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex gap-2",children:A.tags.slice(0,2).map(D=>h.jsxs("span",{className:"text-xs text-white/50 bg-white/5 px-2 py-1 rounded-full",children:["#",D]},D))}),h.jsx($S,{size:20,className:"text-white/50 group-hover:text-white/80 transition-colors"})]})]},A.id))})]}),h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[h.jsx(XS,{size:24}),s==="All"&&e===""?"Latest Articles":"Articles"]}),z.length===0?h.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-12 text-center shadow-xl shadow-black/10",children:h.jsx("p",{className:"text-white/70 text-lg",children:"No articles found matching your search."})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(A=>h.jsxs("div",{onClick:()=>i(`/blog/${A.id}`),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer group flex flex-col",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsx("span",{className:"bg-white/20 text-white/80 text-xs font-medium px-3 py-1 rounded-full",children:A.category})}),h.jsx("h3",{className:"text-lg font-bold text-white mb-3 group-hover:text-white/90 transition-colors line-clamp-2",children:A.title}),h.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-3 flex-grow",children:A.excerpt}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ff,{size:14}),h.jsx("span",{children:A.author})]}),h.jsxs("span",{children:[A.readTime," min"]})]}),h.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[h.jsxs("button",{onClick:D=>{D.stopPropagation(),M(A.id)},className:"flex items-center gap-1 text-white/60 hover:text-red-400 transition-all duration-200 group",children:[h.jsx(cf,{size:18,fill:l.includes(A.id)?"currentColor":"none",className:`transition-all duration-200 ${l.includes(A.id)?"text-red-400 scale-110":"group-hover:scale-110"}`}),h.jsx("span",{className:`text-sm font-medium transition-colors ${l.includes(A.id)?"text-red-400":""}`,children:A.likedBy?.length||0})]}),h.jsx("button",{onClick:D=>D.stopPropagation(),className:"text-white/60 hover:text-white transition-colors",children:h.jsx(e_,{size:18})})]})]})]},A.id))})]})]})})}const Sw=[{id:"depression",title:"Depression",category:"Mood",summary:"Persistent low mood, loss of interest in activities, changes in sleep or appetite, and difficulty concentrating.",symptoms:["Low mood","Loss of pleasure","Fatigue","Difficulty concentrating","Changes in sleep/appetite"],coping:["Keep a regular sleep schedule","Break tasks into small steps","Stay connected to supportive people","Try low-intensity activities (walking, stretching)"],whenToSeekHelp:["If symptoms last more than two weeks","If you have suicidal thoughts or lose interest in daily functioning"],links:[{label:"WHO  Depression",url:"https://www.who.int/news-room/fact-sheets/detail/depression"},{label:"NIMH  Depression",url:"https://www.nimh.nih.gov/health/topics/depression"}],tags:["mood","depression"]},{id:"anxiety",title:"Anxiety Disorders",category:"Anxiety",summary:"Excessive worry, restlessness, irritability, muscle tension, and avoidance of feared situations.",symptoms:["Excessive worry","Restlessness","Panic attacks","Avoidance behaviors"],coping:["Practice grounding techniques (5-4-3-2-1)","Diaphragmatic breathing","Limit caffeine and alcohol","Gradual exposure to feared situations with support"],whenToSeekHelp:["If anxiety interferes with daily life","If panic attacks are frequent or severe"],links:[{label:"Anxiety and Depression Association of America",url:"https://adaa.org"},{label:"NHS  Anxiety",url:"https://www.nhs.uk/mental-health/conditions/anxiety/"}],tags:["anxiety","panic"]},{id:"ptsd",title:"Post-Traumatic Stress Disorder (PTSD)",category:"Trauma",summary:"Intrusive memories, avoidance, negative changes in thinking and mood, and changes in physical and emotional reactions following trauma.",symptoms:["Flashbacks","Avoidance of reminders","Hypervigilance","Negative mood"],coping:["Grounding techniques during flashbacks","Seek supportive therapy (trauma-focused)","Establish safety and routine"],whenToSeekHelp:["If trauma symptoms persist or worsen","If you struggle to function or feel unsafe"],links:[{label:"PTSD: NIMH",url:"https://www.nimh.nih.gov/health/topics/post-traumatic-stress-disorder-ptsd"}],tags:["trauma","ptsd"]},{id:"eating-disorders",title:"Eating Disorders",category:"Eating",summary:"Unhealthy eating behaviors, preoccupation with weight or shape, and physical health risks.",symptoms:["Preoccupation with food/weight","Bingeing or restricting","Compensatory behaviors"],coping:["Seek specialized care","Focus on body functionality not shape","Avoid dieting culture"],whenToSeekHelp:["If eating patterns are causing physical harm","Rapid weight change or medical instability"],links:[{label:"NEDA  Eating Disorders",url:"https://www.nationaleatingdisorders.org/"}],tags:["eating","disorder"]},{id:"substance",title:"Substance Use & Addiction",category:"Addiction",summary:"Patterns of substance use that cause harm to health, relationships, or responsibilities.",symptoms:["Loss of control","Cravings","Continued use despite harm"],coping:["Seek professional support","Harm reduction strategies","Build a sober support network"],whenToSeekHelp:["If use impacts safety or responsibilities","If withdrawal or cravings are severe"],links:[{label:"SAMHSA",url:"https://www.samhsa.gov/"}],tags:["substance","addiction"]},{id:"bipolar",title:"Bipolar Disorder",category:"Mood",summary:"Episodes of unusually elevated mood (mania or hypomania) and periods of depression which can affect thinking and behaviour.",symptoms:["Periods of high energy or reduced need for sleep","Elevated or irritable mood","Impulsive behaviour","Depressive episodes"],coping:["Keep a stable routine","Track mood and triggers","Medication as prescribed","Psychoeducation and therapy (CBT, family-focused)"],whenToSeekHelp:["If mood episodes disrupt daily life","If there are risky behaviours during mania","If depressive episodes include suicidal thoughts"],links:[{label:"NIMH  Bipolar Disorder",url:"https://www.nimh.nih.gov/health/topics/bipolar-disorder"}],tags:["bipolar","mood"]},{id:"ocd",title:"Obsessive-Compulsive Disorder (OCD)",category:"Anxiety",summary:"Recurring unwanted thoughts (obsessions) and repetitive behaviours (compulsions) performed to reduce distress.",symptoms:["Intrusive thoughts","Repetitive checking or rituals","Time-consuming compulsions","Avoidance"],coping:["Practice response prevention with exposure (ERP)","Mindfulness for intrusive thoughts","Break rituals into small steps","Seek CBT with ERP trained therapist"],whenToSeekHelp:["If rituals take up significant time","If obsessions cause severe distress or interfere with functioning"],links:[{label:"International OCD Foundation",url:"https://iocdf.org/"}],tags:["ocd","compulsions"]},{id:"adhd",title:"Attention-Deficit/Hyperactivity Disorder (ADHD)",category:"Neurodevelopmental",summary:"Patterns of inattention, hyperactivity, and impulsivity that interfere with functioning or development.",symptoms:["Difficulty sustaining attention","Disorganization","Impulsivity","Hyperactivity (in some)"],coping:["Use structured routines and lists","Break tasks into shorter chunks","Minimize distractions","Consider professional assessment for medication or therapy"],whenToSeekHelp:["If concentration issues affect work/school or relationships","If daily functioning is impaired"],links:[{label:"CHADD",url:"https://chadd.org/"},{label:"NHS  ADHD",url:"https://www.nhs.uk/conditions/attention-deficit-hyperactivity-disorder-adhd/"}],tags:["adhd","attention"]},{id:"social-anxiety",title:"Social Anxiety Disorder",category:"Anxiety",summary:"Intense fear or anxiety in social situations where one may be judged, often leading to avoidance and distress.",symptoms:["Fear of embarrassment","Avoidance of social events","Physical symptoms in social settings"],coping:["Gradual exposure to social situations","Practice social skills in safe settings","Cognitive strategies to challenge negative thoughts"],whenToSeekHelp:["If avoidance impacts work, education, or relationships","If panic or severe anxiety occurs often in social settings"],links:[{label:"Anxiety and Depression Association of America  Social Anxiety",url:"https://adaa.org/understanding-anxiety/social-anxiety-disorder"}],tags:["social","anxiety"]},{id:"insomnia",title:"Insomnia & Sleep Problems",category:"Sleep",summary:"Difficulty falling asleep, staying asleep, or non-restorative sleep that affects daytime functioning.",symptoms:["Trouble falling asleep","Waking during the night","Daytime sleepiness","Trouble concentrating"],coping:["Maintain consistent sleep schedule","Reduce screen time before bed","Create a calming bedtime routine","Limit caffeine and heavy meals late in the day"],whenToSeekHelp:["If poor sleep persists for weeks and affects daytime functioning","If there are signs of sleep apnea or other sleep disorders"],links:[{label:"American Academy of Sleep Medicine",url:"https://aasm.org/"}],tags:["sleep","insomnia"]},{id:"bpd",title:"Borderline Personality Disorder (BPD)",category:"Personality",summary:"Patterns of instability in relationships, self-image, and emotions, often with intense reactions to perceived abandonment.",symptoms:["Intense mood swings","Impulsive behaviour","Unstable relationships","Fear of abandonment"],coping:["DBT skills training (emotion regulation, distress tolerance)","Build a crisis plan","Therapy with trained clinicians"],whenToSeekHelp:["If mood swings or impulsive actions cause harm or disrupt life","If self-harm or suicidal thoughts occur"],links:[{label:"NHS  Personality Disorders",url:"https://www.nhs.uk/mental-health/conditions/personality-disorders/"}],tags:["personality","bpd"]}];function FB(){const[i,e]=$.useState(""),[t,s]=$.useState("All"),[o,l]=$.useState(null),u=$.useMemo(()=>["All",...Array.from(new Set(Sw.map(v=>v.category)))],[]),p=$.useMemo(()=>{const v=i.trim().toLowerCase();return Sw.filter(b=>{if(t!=="All"&&b.category!==t)return!1;if(!v)return!0;const N=b.title.toLowerCase().includes(v),I=b.summary.toLowerCase().includes(v),B=b.tags?.some(U=>U.toLowerCase().includes(v)),k=b.links?.some(U=>U.label.toLowerCase().includes(v));return N||I||B||k})},[i,t]),[g,m]=$.useState(2);$.useEffect(()=>{m(2)},[i,t]);const y=()=>m(v=>Math.min(v+2,p.length));return h.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4",style:{background:"linear-gradient(180deg,#0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Resources"}),h.jsx("p",{className:"text-white/80 text-lg",children:"Information, strategies, and places to get help for common mental health concerns."})]}),h.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-6 shadow-2xl",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(og,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:18}),h.jsx("input",{value:i,onChange:v=>e(v.target.value),placeholder:"Search conditions, strategies, or keywords...",className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none"})]}),h.jsx("div",{className:"flex gap-2 items-center",children:u.map(v=>h.jsx("button",{onClick:()=>s(v),className:`text-sm px-4 py-2 rounded-full transition-all ${t===v?"bg-white/20 text-white":"bg-white/5 text-white/70"}`,children:v},v))})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2 space-y-4",children:p.length===0?h.jsx("div",{className:"bg-white/5 rounded-2xl p-8 text-center text-white/70",children:"No resources matched your search."}):h.jsxs(h.Fragment,{children:[p.slice(0,g).map(v=>h.jsxs("article",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl hover:bg-white/15 transition-all",children:[h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:v.title}),h.jsx("p",{className:"text-white/70 mb-3",children:v.summary}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.tags?.map(b=>h.jsxs("span",{className:"text-xs text-white/60 bg-white/5 px-2 py-1 rounded-full",children:["#",b]},b))}),h.jsxs("div",{className:"text-white/80 text-sm space-y-2",children:[h.jsxs("div",{children:[h.jsx("strong",{className:"text-white",children:"Coping strategies:"}),h.jsx("ul",{className:"list-disc ml-5 mt-2 text-white/70",children:v.coping?.slice(0,o===v.id?100:3).map((b,N)=>h.jsx("li",{children:b},N))})]}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-white",children:"When to seek help:"}),h.jsx("ul",{className:"list-disc ml-5 mt-2 text-white/70",children:v.whenToSeekHelp?.slice(0,o===v.id?100:2).map((b,N)=>h.jsx("li",{children:b},N))})]})]})]}),h.jsxs("div",{className:"flex-shrink-0 flex flex-col items-end gap-3",children:[h.jsx("div",{className:"text-white/60 text-sm",children:v.category}),h.jsxs("button",{onClick:()=>l(b=>b===v.id?null:v.id),className:"flex items-center gap-2 bg-white/5 hover:bg-white/10 text-white/80 px-3 py-2 rounded-full text-sm",children:[h.jsx("span",{children:o===v.id?"Hide":"Learn more"}),h.jsx(t6,{size:16,className:`transition-transform ${o===v.id?"rotate-180":"rotate-0"}`})]})]})]}),o===v.id&&h.jsxs("div",{className:"mt-4 border-t border-white/5 pt-4 text-white/80",children:[v.symptoms&&h.jsxs("div",{className:"mb-3",children:[h.jsx("strong",{className:"text-white",children:"Common symptoms:"}),h.jsx("ul",{className:"list-disc ml-5 mt-2 text-white/70",children:v.symptoms.map((b,N)=>h.jsx("li",{children:b},N))})]}),v.links&&h.jsxs("div",{className:"mb-3",children:[h.jsx("strong",{className:"text-white",children:"More resources:"}),h.jsx("ul",{className:"mt-2 space-y-2",children:v.links.map((b,N)=>h.jsx("li",{children:h.jsxs("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"text-white/90 hover:underline flex items-center gap-2",children:[h.jsx(u6,{size:14}),h.jsx("span",{className:"text-sm",children:b.label})]})},N))})]}),h.jsx("div",{className:"mt-2 bg-white/5 p-3 rounded-lg",children:h.jsxs("div",{className:"flex items-center gap-3 text-white",children:[h.jsx(hf,{size:18}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-semibold",children:"Immediate help"}),h.jsx("div",{className:"text-xs text-white/80",children:"If you are in danger or thinking of harming yourself, call your local emergency number immediately."})]})]})})]})]},v.id)),p.length>g&&h.jsx("div",{className:"mt-4",children:h.jsx("button",{onClick:y,className:"w-full bg-white/5 hover:bg-white/10 text-white/80 font-medium rounded-full py-3 transition-all border border-white/10",children:"View more resources"})})]})}),h.jsxs("aside",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Quick Help"}),h.jsx("p",{className:"text-white/70 text-sm",children:"If you or someone is in immediate danger, call emergency services now."}),h.jsx("div",{className:"mt-4",children:h.jsx("a",{href:"tel:911",className:"w-full inline-flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 rounded-full",children:"Call Emergency"})})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Self-care tools"}),h.jsxs("ul",{className:"text-white/70 text-sm space-y-2",children:[h.jsx("li",{children:" Breathing exercises and grounding"}),h.jsx("li",{children:" Sleep hygiene and routine"}),h.jsx("li",{children:" Small achievable goals"}),h.jsx("li",{children:" Peer support and hotlines"})]})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Find professional help"}),h.jsx("p",{className:"text-white/70 text-sm",children:"Search for local therapists, clinics, or telehealth services. Consider contacting your primary care provider for referrals."})]})]})]})]})})}function VB(){const i=ei(),[e,t]=$.useState(!1),[s,o]=$.useState(!1),[l,u]=$.useState(""),[p,g]=$.useState({title:"",excerpt:"",content:"",author:"Amogh Shivanna",category:"Wellness",readTime:5,tags:[],featured:!1}),m=["Mental Health","Self-Care","Mindfulness","Relationships","Wellness","Technology"];$.useEffect(()=>bf(we,B=>{if(B){const U=B.email==="amogh.shivanna@gmail.com";t(U),U||i("/blog")}else i("/blog")}),[i]);const y=I=>{const{name:B,value:k,type:U}=I.target;if(U==="checkbox"){const S=I.target.checked;g(j=>({...j,[B]:S}))}else g(S=>({...S,[B]:k}))},v=()=>{l.trim()&&!p.tags.includes(l.trim())&&(g(I=>({...I,tags:[...I.tags,l.trim()]})),u(""))},b=I=>{g(B=>({...B,tags:B.tags.filter(k=>k!==I)}))},N=async I=>{if(I.preventDefault(),!p.title||!p.excerpt||!p.content){alert("Please fill in all required fields (Title, Excerpt, and Content)");return}if(p.readTime<1){alert("Read time must be at least 1 minute");return}o(!0);try{const B={title:p.title.trim(),excerpt:p.excerpt.trim(),content:p.content.trim(),author:p.author,category:p.category,readTime:Number(p.readTime),date:new Date().toISOString(),tags:p.tags,featured:p.featured||!1};console.log("Submitting post data:",B),await OB(B)?(alert("Blog post created successfully!"),i("/blog")):alert("Failed to create blog post. Please check the console for errors and ensure you have the correct Firebase permissions.")}catch(B){console.error("Error in handleSubmit:",B),alert(`An error occurred while creating the blog post: ${B.message}`)}finally{o(!1)}};return e?h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("button",{onClick:()=>i("/blog"),className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-4",children:[h.jsx(sg,{size:20}),"Back to Blog"]}),h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Create New Blog Post"}),h.jsx("p",{className:"text-white/70 text-lg",children:"Share your insights with the community"})]}),h.jsxs("form",{onSubmit:N,className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Title ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("input",{type:"text",name:"title",value:p.title,onChange:y,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all",placeholder:"Enter blog post title...",required:!0})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Excerpt ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("textarea",{name:"excerpt",value:p.excerpt,onChange:y,rows:2,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Brief summary of your post...",required:!0})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Content ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("textarea",{name:"content",value:p.content,onChange:y,rows:12,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Write your blog post content here...",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Category"}),h.jsx("select",{name:"category",value:p.category,onChange:y,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white focus:outline-none focus:border-white/30 transition-all",children:m.map(I=>h.jsx("option",{value:I,className:"bg-[#0A0F2A]",children:I},I))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Read Time (minutes)"}),h.jsx("input",{type:"number",name:"readTime",value:p.readTime,onChange:y,min:"1",max:"60",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Tags"}),h.jsxs("div",{className:"flex gap-2 mb-3",children:[h.jsx("input",{type:"text",value:l,onChange:I=>u(I.target.value),onKeyPress:I=>I.key==="Enter"&&(I.preventDefault(),v()),className:"flex-1 bg-white/5 border border-white/10 rounded-2xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all",placeholder:"Add a tag..."}),h.jsxs("button",{type:"button",onClick:v,className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-2xl transition-all duration-200 flex items-center gap-2",children:[h.jsx(df,{size:18}),"Add"]})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(I=>h.jsxs("span",{className:"bg-white/10 text-white/90 px-3 py-1 rounded-full text-sm flex items-center gap-2 border border-white/20",children:["#",I,h.jsx("button",{type:"button",onClick:()=>b(I),className:"text-white/70 hover:text-white",children:""})]},I))})]}),h.jsx("div",{className:"mb-8",children:h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",name:"featured",checked:p.featured,onChange:y,className:"w-5 h-5 rounded border-white/20 bg-white/5 text-white focus:ring-0 focus:ring-offset-0"}),h.jsxs("span",{className:"text-white/90 text-sm font-semibold flex items-center gap-2",children:[h.jsx(t_,{size:16}),"Mark as Featured Post"]})]})}),h.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 rounded-2xl transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Post...":"Publish Blog Post"})]})]})}):null}function UB(){const{postId:i}=Vw(),e=ei(),[t,s]=$.useState(null),[o,l]=$.useState(!0),[u,p]=$.useState(null),[g,m]=$.useState(!1),[y,v]=$.useState(!1),[b,N]=$.useState(""),[I,B]=$.useState(""),[k,U]=$.useState(""),[S,j]=$.useState(!1);$.useEffect(()=>bf(we,E=>{E?(p(E.uid),N(E.displayName||E.email?.split("@")[0]||"Anonymous"),B(E.email||""),v(E.email==="amogh.shivanna@gmail.com")):(p(null),N(""),B(""),v(!1))}),[]),$.useEffect(()=>{(async()=>{if(!i){e("/blog");return}try{const E=await mp(i);E?(s(E),u&&m(E.likedBy?.includes(u)||!1)):e("/blog")}catch(E){console.error("Error loading blog post:",E),e("/blog")}finally{l(!1)}})()},[i,u,e]);const M=async()=>{if(!u||!we.currentUser){alert("Please log in to like posts");return}if(!t)return;const C=g;m(!g);try{await E4(t.id,we.currentUser.uid,C)?s(R=>R&&{...R,likedBy:C?R.likedBy?.filter(F=>F!==we.currentUser.uid)||[]:[...R.likedBy||[],we.currentUser.uid]}):m(C)}catch(E){console.error("Error toggling like:",E),m(C)}},z=async()=>{if(navigator.share&&t)try{await navigator.share({title:t.title,text:t.excerpt,url:window.location.href})}catch(C){console.log("Error sharing:",C)}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")},H=async C=>{if(C.preventDefault(),!we.currentUser){alert("Please log in to comment");return}if(!k.trim()){alert("Please enter a comment");return}if(i){j(!0);try{const E=we.currentUser.displayName||we.currentUser.email?.split("@")[0]||"Anonymous User",R=we.currentUser.email||"no-email@example.com";if(await MB(i,E,R,k.trim(),we.currentUser.uid)){const O=await mp(i);O&&s(O),U("")}else alert("Failed to add comment. Please try again.")}catch(E){console.error("Error submitting comment:",E),alert("An error occurred while adding your comment.")}finally{j(!1)}}},A=async C=>{if(!(!i||!u||!we.currentUser)&&confirm("Are you sure you want to delete this comment?"))try{if(await PB(i,C,we.currentUser.uid)){const R=await mp(i);R&&s(R)}else alert("Failed to delete comment. You may not have permission.")}catch(E){console.error("Error deleting comment:",E),alert("An error occurred while deleting the comment.")}};if(o)return h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsx("p",{className:"text-white text-lg",children:"Loading..."})});if(!t)return null;const D=[...t.comments||[]].sort((C,E)=>new Date(E.timestamp).getTime()-new Date(C.timestamp).getTime());return h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("button",{onClick:()=>e("/blog"),className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[h.jsx(sg,{size:20}),"Back to Blog"]}),h.jsxs("article",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 overflow-hidden mb-8",children:[h.jsxs("div",{className:"p-8 md:p-12",children:[h.jsx("div",{className:"flex items-center gap-3 mb-6",children:h.jsx("span",{className:"bg-white/20 text-white/90 text-sm font-semibold px-4 py-2 rounded-full",children:t.category})}),h.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-6 leading-tight",children:t.title}),h.jsx("p",{className:"text-xl text-white/80 mb-8 leading-relaxed",children:t.excerpt}),h.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-white/60 text-sm mb-8 pb-8 border-b border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ff,{size:18}),h.jsx("span",{children:t.author})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(rg,{size:18}),h.jsx("span",{children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ww,{size:18}),h.jsxs("span",{children:[t.readTime," min read"]})]})]}),t.tags&&t.tags.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:t.tags.map(C=>h.jsxs("span",{className:"flex items-center gap-1 bg-white/10 text-white/80 px-3 py-1 rounded-full text-sm border border-white/20",children:[h.jsx(z6,{size:14}),C]},C))}),h.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:h.jsx("div",{className:"text-white/90 leading-relaxed whitespace-pre-wrap",children:t.content})})]}),h.jsx("div",{className:"bg-white/5 border-t border-white/10 p-6 md:p-8",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("button",{onClick:M,disabled:!we.currentUser,className:`flex items-center gap-2 transition-all duration-200 group ${g?"text-red-400":"text-white/70 hover:text-red-400"} ${we.currentUser?"":"opacity-50 cursor-not-allowed"}`,title:we.currentUser?"":"Login to like",children:[h.jsx(cf,{size:24,fill:g?"currentColor":"none",className:`transition-all duration-200 ${g?"scale-110 animate-pulse":"group-hover:scale-110"}`}),h.jsxs("span",{className:"text-lg font-medium",children:[t.likedBy?.length||0," ",(t.likedBy?.length||0)===1?"Like":"Likes"]})]}),h.jsxs("button",{onClick:z,className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white px-6 py-3 rounded-full transition-all duration-200 border border-white/20 hover:scale-105 active:scale-95",children:[h.jsx(e_,{size:20}),h.jsx("span",{className:"font-medium",children:"Share"})]})]})})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 p-6 md:p-8",children:[h.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[h.jsx(uf,{size:24}),"Comments (",D.length,")"]}),we.currentUser?h.jsxs("form",{onSubmit:H,className:"mb-8 p-6 bg-white/5 rounded-2xl border border-white/10",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Leave a Comment"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Name"}),h.jsx("input",{type:"text",value:b,disabled:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all opacity-75"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Email"}),h.jsx("input",{type:"email",value:I,disabled:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all opacity-75"})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2",children:["Comment ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("textarea",{value:k,onChange:C=>U(C.target.value),rows:4,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Share your thoughts...",required:!0})]}),h.jsxs("button",{type:"submit",disabled:S,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(yp,{size:18}),S?"Posting...":"Post Comment"]})]}):h.jsxs("div",{className:"mb-8 p-6 bg-white/5 rounded-2xl border border-white/10 text-center",children:[h.jsx("p",{className:"text-white/70 mb-4",children:"Please log in to leave a comment"}),h.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg",children:"Log In"})]}),h.jsx("div",{className:"space-y-4",children:D.length===0?h.jsx("p",{className:"text-white/60 text-center py-8",children:"No comments yet. Be the first to comment!"}):D.map(C=>h.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10 hover:bg-white/10 transition-all",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:C.author.charAt(0).toUpperCase()}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white font-semibold",children:C.author}),h.jsx("p",{className:"text-white/50 text-xs",children:new Date(C.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),we.currentUser&&(C.userId===we.currentUser.uid||y)&&h.jsx("button",{onClick:()=>A(C.id),className:"text-white/50 hover:text-red-400 transition-colors",title:"Delete comment",children:h.jsx($6,{size:18})})]}),h.jsx("p",{className:"text-white/90 leading-relaxed",children:C.content})]},C.id))})]})]})})}var zB="1.3.15";function A4(i,e,t){return Math.max(i,Math.min(e,t))}function HB(i,e,t){return(1-t)*i+t*e}function qB(i,e,t,s){return HB(i,e,1-Math.exp(-t*s))}function $B(i,e){return(i%e+e)%e}var GB=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(i){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=i;const t=A4(0,this.currentTime/this.duration,1);e=t>=1;const s=e?1:this.easing(t);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=qB(this.value,this.to,this.lerp*60,i),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(i,e,{lerp:t,duration:s,easing:o,onStart:l,onUpdate:u}){this.from=this.value=i,this.to=e,this.lerp=t,this.duration=s,this.easing=o,this.currentTime=0,this.isRunning=!0,l?.(),this.onUpdate=u}};function KB(i,e){let t;return function(...s){let o=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,i.apply(o,s)},e)}}var YB=class{constructor(i,e,{autoResize:t=!0,debounce:s=250}={}){this.wrapper=i,this.content=e,t&&(this.debouncedResize=KB(this.resize,s),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},T4=class{events={};emit(i,...e){let t=this.events[i]||[];for(let s=0,o=t.length;s<o;s++)t[s]?.(...e)}on(i,e){return this.events[i]?.push(e)||(this.events[i]=[e]),()=>{this.events[i]=this.events[i]?.filter(t=>e!==t)}}off(i,e){this.events[i]=this.events[i]?.filter(t=>e!==t)}destroy(){this.events={}}},Nw=100/6,Lr={passive:!1},XB=class{constructor(i,e={wheelMultiplier:1,touchMultiplier:1}){this.element=i,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Lr),this.element.addEventListener("touchstart",this.onTouchStart,Lr),this.element.addEventListener("touchmove",this.onTouchMove,Lr),this.element.addEventListener("touchend",this.onTouchEnd,Lr)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new T4;on(i,e){return this.emitter.on(i,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Lr),this.element.removeEventListener("touchstart",this.onTouchStart,Lr),this.element.removeEventListener("touchmove",this.onTouchMove,Lr),this.element.removeEventListener("touchend",this.onTouchEnd,Lr)}onTouchStart=i=>{const{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:i})};onTouchMove=i=>{const{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i,s=-(e-this.touchStart.x)*this.options.touchMultiplier,o=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:s,y:o},this.emitter.emit("scroll",{deltaX:s,deltaY:o,event:i})};onTouchEnd=i=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:i})};onWheel=i=>{let{deltaX:e,deltaY:t,deltaMode:s}=i;const o=s===1?Nw:s===2?this.window.width:1,l=s===1?Nw:s===2?this.window.height:1;e*=o,t*=l,e*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:t,event:i})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},Rw=i=>Math.min(1,1.001-Math.pow(2,-10*i)),QB=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new GB;emitter=new T4;dimensions;virtualScroll;constructor({wrapper:i=window,content:e=document.documentElement,eventsTarget:t=i,smoothWheel:s=!0,syncTouch:o=!1,syncTouchLerp:l=.075,touchInertiaExponent:u=1.7,duration:p,easing:g,lerp:m=.1,infinite:y=!1,orientation:v="vertical",gestureOrientation:b=v==="horizontal"?"both":"vertical",touchMultiplier:N=1,wheelMultiplier:I=1,autoResize:B=!0,prevent:k,virtualScroll:U,overscroll:S=!0,autoRaf:j=!1,anchors:M=!1,autoToggle:z=!1,allowNestedScroll:H=!1,__experimental__naiveDimensions:A=!1}={}){window.lenisVersion=zB,(!i||i===document.documentElement)&&(i=window),typeof p=="number"&&typeof g!="function"?g=Rw:typeof g=="function"&&typeof p!="number"&&(p=1),this.options={wrapper:i,content:e,eventsTarget:t,smoothWheel:s,syncTouch:o,syncTouchLerp:l,touchInertiaExponent:u,duration:p,easing:g,lerp:m,infinite:y,gestureOrientation:b,orientation:v,touchMultiplier:N,wheelMultiplier:I,autoResize:B,prevent:k,virtualScroll:U,overscroll:S,autoRaf:j,anchors:M,autoToggle:z,allowNestedScroll:H,__experimental__naiveDimensions:A},this.dimensions=new YB(i,e,{autoResize:B}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new XB(t,{touchMultiplier:N,wheelMultiplier:I}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(i,e){return this.emitter.on(i,e)}off(i,e){return this.emitter.off(i,e)}onScrollEnd=i=>{i instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&i.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};onTransitionEnd=i=>{if(i.propertyName.includes("overflow")){const e=this.isHorizontal?"overflow-x":"overflow-y",t=getComputedStyle(this.rootElement)[e];["hidden","clip"].includes(t)?this.internalStop():this.internalStart()}};setScroll(i){this.isHorizontal?this.options.wrapper.scrollTo({left:i,behavior:"instant"}):this.options.wrapper.scrollTo({top:i,behavior:"instant"})}onClick=i=>{const t=i.composedPath().find(s=>s instanceof HTMLAnchorElement&&s.getAttribute("href")?.includes("#"));if(t){const s=t.getAttribute("href");if(s){const o=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,l=`#${s.split("#")[1]}`;this.scrollTo(l,o)}}};onPointerDown=i=>{i.button===1&&this.reset()};onVirtualScroll=i=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(i)===!1)return;const{deltaX:e,deltaY:t,event:s}=i;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:t,event:s}),s.ctrlKey||s.lenisStopPropagation)return;const o=s.type.includes("touch"),l=s.type.includes("wheel");this.isTouching=s.type==="touchstart"||s.type==="touchmove";const u=e===0&&t===0;if(this.options.syncTouch&&o&&s.type==="touchstart"&&u&&!this.isStopped&&!this.isLocked){this.reset();return}const g=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&e===0;if(u||g)return;let m=s.composedPath();m=m.slice(0,m.indexOf(this.rootElement));const y=this.options.prevent;if(m.find(k=>k instanceof HTMLElement&&(typeof y=="function"&&y?.(k)||k.hasAttribute?.("data-lenis-prevent")||o&&k.hasAttribute?.("data-lenis-prevent-touch")||l&&k.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(k,{deltaX:e,deltaY:t}))))return;if(this.isStopped||this.isLocked){s.cancelable&&s.preventDefault();return}if(!(this.options.syncTouch&&o||this.options.smoothWheel&&l)){this.isScrolling="native",this.animate.stop(),s.lenisStopPropagation=!0;return}let b=t;this.options.gestureOrientation==="both"?b=Math.abs(t)>Math.abs(e)?t:e:this.options.gestureOrientation==="horizontal"&&(b=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(s.lenisStopPropagation=!0),s.cancelable&&s.preventDefault();const N=o&&this.options.syncTouch,B=o&&s.type==="touchend";B&&(b=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+b,{programmatic:!1,...N?{lerp:B?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const i=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-i,this.direction=Math.sign(this.animatedScroll-i),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=i=>{const e=i-(this.time||i);this.time=i,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(i,{offset:e=0,immediate:t=!1,lock:s=!1,duration:o=this.options.duration,easing:l=this.options.easing,lerp:u=this.options.lerp,onStart:p,onComplete:g,force:m=!1,programmatic:y=!0,userData:v}={}){if(!((this.isStopped||this.isLocked)&&!m)){if(typeof i=="string"&&["top","left","start","#"].includes(i))i=0;else if(typeof i=="string"&&["bottom","right","end"].includes(i))i=this.limit;else{let b;if(typeof i=="string"?(b=document.querySelector(i),b||(i==="#top"?i=0:console.warn("Lenis: Target not found",i))):i instanceof HTMLElement&&i?.nodeType&&(b=i),b){if(this.options.wrapper!==window){const I=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?I.left:I.top}const N=b.getBoundingClientRect();i=(this.isHorizontal?N.left:N.top)+this.animatedScroll}}if(typeof i=="number"){if(i+=e,i=Math.round(i),this.options.infinite){if(y){this.targetScroll=this.animatedScroll=this.scroll;const b=i-this.animatedScroll;b>this.limit/2?i=i-this.limit:b<-this.limit/2&&(i=i+this.limit)}}else i=A4(0,i,this.limit);if(i===this.targetScroll){p?.(this),g?.(this);return}if(this.userData=v??{},t){this.animatedScroll=this.targetScroll=i,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),g?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}y||(this.targetScroll=i),typeof o=="number"&&typeof l!="function"?l=Rw:typeof l=="function"&&typeof o!="number"&&(o=1),this.animate.fromTo(this.animatedScroll,i,{duration:o,easing:l,lerp:u,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling="smooth",p?.(this)},onUpdate:(b,N)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=b-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=b,this.setScroll(this.scroll),y&&(this.targetScroll=b),N||this.emit(),N&&(this.reset(),this.emit(),g?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(i,{deltaX:e,deltaY:t}){const s=Date.now(),o=i._lenis??={};let l,u,p,g,m,y,v,b;const N=this.options.gestureOrientation;if(s-(o.time??0)>2e3){o.time=Date.now();const z=window.getComputedStyle(i);o.computedStyle=z;const H=z.overflowX,A=z.overflowY;if(l=["auto","overlay","scroll"].includes(H),u=["auto","overlay","scroll"].includes(A),o.hasOverflowX=l,o.hasOverflowY=u,!l&&!u||N==="vertical"&&!u||N==="horizontal"&&!l)return!1;m=i.scrollWidth,y=i.scrollHeight,v=i.clientWidth,b=i.clientHeight,p=m>v,g=y>b,o.isScrollableX=p,o.isScrollableY=g,o.scrollWidth=m,o.scrollHeight=y,o.clientWidth=v,o.clientHeight=b}else p=o.isScrollableX,g=o.isScrollableY,l=o.hasOverflowX,u=o.hasOverflowY,m=o.scrollWidth,y=o.scrollHeight,v=o.clientWidth,b=o.clientHeight;if(!l&&!u||!p&&!g||N==="vertical"&&(!u||!g)||N==="horizontal"&&(!l||!p))return!1;let I;if(N==="horizontal")I="x";else if(N==="vertical")I="y";else{const z=e!==0,H=t!==0;z&&l&&p&&(I="x"),H&&u&&g&&(I="y")}if(!I)return!1;let B,k,U,S,j;if(I==="x")B=i.scrollLeft,k=m-v,U=e,S=l,j=p;else if(I==="y")B=i.scrollTop,k=y-b,U=t,S=u,j=g;else return!1;return(U>0?B<k:B>0)&&S&&j}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const i=this.options.wrapper;return this.isHorizontal?i.scrollX??i.scrollLeft:i.scrollY??i.scrollTop}get scroll(){return this.options.infinite?$B(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(i){this._isScrolling!==i&&(this._isScrolling=i,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(i){this._isStopped!==i&&(this._isStopped=i,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(i){this._isLocked!==i&&(this._isLocked=i,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let i="lenis";return this.options.autoToggle&&(i+=" lenis-autoToggle"),this.isStopped&&(i+=" lenis-stopped"),this.isLocked&&(i+=" lenis-locked"),this.isScrolling&&(i+=" lenis-scrolling"),this.isScrolling==="smooth"&&(i+=" lenis-smooth"),i}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const Dw="/BPA-2025/assets/TheSkylineProjectLogo3-9jg1Xey1.png";function WB({searchQuery:i,setSearchQuery:e,isSearchOpen:t,setIsSearchOpen:s}){const[o,l]=$.useState([]),[u,p]=$.useState(!1),g=ei();return $.useEffect(()=>{if(i.trim()){p(!0);const m=[{id:1,title:"Research Articles",content:"",loading:!0,width:"col-span-3",height:"h-72",articles:[]},{id:2,title:"Key Definitions",content:"",loading:!0,width:"col-span-2",height:"h-72",definitions:[]},{id:3,title:"Professional Support",content:"",loading:!0,width:"col-span-2",height:"h-56",counselors:[]},{id:4,title:"Relevant Forums",content:"",loading:!0,width:"col-span-3",height:"h-56",forums:[]},{id:5,title:"Helplines",content:"",loading:!0,width:"col-span-3",height:"h-64",helplines:[]},{id:6,title:"Related Topics",content:"",loading:!0,width:"col-span-2",height:"h-64",relatedTopics:[]}];l(m);const y=setTimeout(()=>{const v=async()=>{try{const S=`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=${encodeURIComponent(i+" mental health")}&retmax=5&retmode=json`,M=await(await fetch(S)).json();if(M.esearchresult?.idlist?.length>0){const H=`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&id=${M.esearchresult.idlist.join(",")}&retmode=json`,D=await(await fetch(H)).json(),C=M.esearchresult.idlist.slice(0,5).map(E=>{const R=D.result[E];return{title:R.title||"Untitled",source:R.source||R.fulljournalname||"Journal name unavailable",year:R.pubdate?R.pubdate.split(" ")[0]:"Year unavailable",summary:`This research explores ${i.toLowerCase()} in the context of mental health and well-being.`}});l(E=>E.map(R=>R.id===1?{...R,loading:!1,articles:C,content:""}:R))}else l(z=>z.map(H=>H.id===1?{...H,loading:!1,content:"No research articles found for this topic.",articles:[]}:H))}catch(S){console.error("Error fetching PubMed articles:",S),l(j=>j.map(M=>M.id===1?{...M,loading:!1,content:"Unable to load articles at this time.",articles:[]}:M))}},b=async()=>{try{const S=["the","a","an","and","or","but","in","on","at","to","for","of","with","is","are","was","were","been","be","have","has","had","do","does","did","will","would","should","could","may","might","can","about","how","what","when","where","who","why","i","my","me"],j=i.toLowerCase().split(/\s+/).filter(H=>H.length>3&&!S.includes(H));if(j.length===0){l(H=>H.map(A=>A.id===2?{...A,loading:!1,content:"No key terms found to define.",definitions:[]}:A));return}const M=j.slice(0,3).map(async H=>{try{const A=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${H}`);if(!A.ok)return null;const D=await A.json();if(D&&D[0]&&D[0].meanings&&D[0].meanings[0]){const C=D[0].meanings[0];return{word:H,partOfSpeech:C.partOfSpeech||"",definition:C.definitions[0]?.definition||"Definition unavailable"}}return null}catch{return null}}),z=(await Promise.all(M)).filter(H=>H!==null);z.length>0?l(H=>H.map(A=>A.id===2?{...A,loading:!1,definitions:z,content:""}:A)):l(H=>H.map(A=>A.id===2?{...A,loading:!1,content:"Could not find definitions for these terms.",definitions:[]}:A))}catch(S){console.error("Error fetching definitions:",S),l(j=>j.map(M=>M.id===2?{...M,loading:!1,content:"Unable to load definitions at this time.",definitions:[]}:M))}};v(),b();const N=async()=>{try{const S=gn(Ze,"forum"),j=ir(S,Xc("createdAt","desc"),L9(20)),M=await Ts(j),z=M.docs.map(C=>{const E=C.data(),R=E.createdAt?.toDate(),F=R?I(R):"just now";return{id:C.id,title:E.title||"Untitled",content:E.content||"",category:E.category||"General",replies:E.replies||0,likes:E.likes||0,views:E.views||0,lastActive:F,author:E.authorDisplayName||"Anonymous",authorAvatar:E.authorProfilePic||""}}),H=i.toLowerCase(),A=z.filter(C=>{const E=C.title.toLowerCase().includes(H),R=C.content.toLowerCase().includes(H),F=C.category.toLowerCase().includes(H),de=(M.docs.find(ne=>ne.id===C.id)?.data().tags||[]).some(ne=>ne.toLowerCase().includes(H));return E||R||F||de}),D=A.length>0?A.slice(0,5):z.slice(0,5);D.length>0?l(C=>C.map(E=>E.id===4?{...E,loading:!1,forums:D,content:""}:E)):l(C=>C.map(E=>E.id===4?{...E,loading:!1,forums:[],content:"No forum discussions found."}:E))}catch(S){console.error("Error fetching forums:",S),l(j=>j.map(M=>M.id===4?{...M,loading:!1,forums:[],content:"Unable to load forum discussions."}:M))}},I=S=>{const j=Math.floor((new Date().getTime()-S.getTime())/1e3),M={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[z,H]of Object.entries(M)){const A=Math.floor(j/H);if(A>=1)return`${A} ${z}${A>1?"s":""} ago`}return"just now"};N(),(()=>{setTimeout(()=>{const S=[{name:"Dr. Sarah Mitchell",specialty:"Anxiety & Stress Management",availability:"Available today",description:`Specializes in helping clients manage ${i.toLowerCase()} through evidence-based therapies.`},{name:"Dr. James Chen",specialty:"Cognitive Behavioral Therapy",availability:"Next available: Tomorrow",description:`Expert in treating ${i.toLowerCase()} with proven CBT techniques.`}];l(j=>j.map(M=>M.id===3?{...M,loading:!1,counselors:S,content:""}:M))},1e3)})(),(()=>{setTimeout(()=>{const j=i.toLowerCase().split(/\s+/)[0]||i,M=[{topic:`${i} treatment options`,query:`${i} treatment options`},{topic:`${i} coping strategies`,query:`${i} coping strategies`},{topic:`${i} symptoms`,query:`${i} symptoms`},{topic:`${j} therapy`,query:`${j} therapy`},{topic:`managing ${i}`,query:`managing ${i}`},{topic:`${i} prevention`,query:`${i} prevention`}];l(z=>z.map(H=>H.id===6?{...H,loading:!1,relatedTopics:M,content:""}:H))},1500)})(),(()=>{setTimeout(()=>{const S=i.toLowerCase(),j=[];(S.includes("suicid")||S.includes("crisis")||S.includes("self harm")||S.includes("self-harm"))&&(j.push({name:"National Suicide Prevention Lifeline",number:"988",description:"24/7 free and confidential support for people in distress.",availability:"24/7"}),j.push({name:"Crisis Text Line",number:"Text HOME to 741741",description:"Free, 24/7 support for those in crisis via text message.",availability:"24/7"})),(S.includes("drug")||S.includes("alcohol")||S.includes("substance")||S.includes("addiction"))&&j.push({name:"SAMHSA National Helpline",number:"1-800-662-4357",description:"Treatment referral and information service for substance abuse.",availability:"24/7"}),(S.includes("abuse")||S.includes("domestic")||S.includes("violence"))&&j.push({name:"National Domestic Violence Hotline",number:"1-800-799-7233",description:"Support for victims and survivors of domestic violence.",availability:"24/7"}),(S.includes("eating")||S.includes("anorexia")||S.includes("bulimia"))&&j.push({name:"NEDA Helpline",number:"1-800-931-2237",description:"National Eating Disorders Association support line.",availability:"Mon-Thu 9am-9pm ET, Fri 9am-5pm ET"}),(S.includes("veteran")||S.includes("military")||S.includes("ptsd"))&&j.push({name:"Veterans Crisis Line",number:"988 then Press 1",description:"Confidential support for Veterans and their families.",availability:"24/7"}),j.length===0&&j.push({name:"National Suicide Prevention Lifeline",number:"988",description:"24/7 free and confidential support for people in distress.",availability:"24/7"}),j.push({name:"NAMI HelpLine",number:"1-800-950-6264",description:"Information, resource referrals and support for mental health.",availability:"Mon-Fri 10am-10pm ET"});const M=j.slice(0,4);l(z=>z.map(H=>H.id===5?{...H,loading:!1,helplines:M,content:""}:H))},900)})(),m.slice(2).forEach(S=>{if(S.id===3||S.id===4||S.id===5||S.id===6)return;const j=Math.random()*2e3+1e3;setTimeout(()=>{l(M=>M.map(z=>z.id===S.id?{...z,loading:!1,content:`Information about ${z.title.toLowerCase()} based on your search: "${i}"`}:z))},j)})},800);return()=>clearTimeout(y)}else p(!1),l([])},[i]),t?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[998] animate-in fade-in duration-200",onClick:()=>{s(!1),e("")}}),h.jsxs("div",{className:`fixed left-1/2 -translate-x-1/2 w-[95%] max-w-7xl z-[999] transition-all duration-700 ease-out ${u?"top-[10%]":"top-[40%]"}`,children:[h.jsxs("div",{className:"relative overflow-hidden bg-white/15 backdrop-blur-2xl border border-white/30 rounded-3xl shadow-2xl mb-6 animate-in zoom-in-95 fade-in duration-200 mx-auto max-w-4xl",children:[h.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-50 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff60,#7ed6ff45,#ffffff20,#abc6ff60,#ffffff60)] animate-[spin_20s_linear_infinite]","aria-hidden":!0}),h.jsxs("div",{className:"relative flex items-center px-6 py-5",children:[h.jsx("svg",{className:"h-6 w-6 text-white/70 mr-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),h.jsx("input",{type:"text",placeholder:"Ask Nimbus anything about mental health...",value:i,onChange:m=>e(m.target.value),className:"flex-1 bg-transparent text-white text-lg placeholder-white/50 focus:outline-none font-medium",autoFocus:!0}),h.jsx("button",{onClick:()=>{s(!1),e("")},className:"text-white/70 hover:text-white focus:outline-none transition-all duration-200 ml-4 px-3 py-1 bg-white/10 rounded-lg text-sm font-semibold",children:"ESC"})]})]}),u&&o.length>0&&h.jsx("div",{className:"grid grid-cols-5 gap-4 auto-rows-auto",children:o.map(m=>h.jsx("div",{className:`${m.width} ${m.height}`,children:h.jsxs("div",{className:"relative h-full overflow-hidden bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 shadow-2xl p-6 hover:bg-white/15 hover:scale-[1.02] transition-all duration-300",children:[h.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-40 mix-blend-screen blur-xl bg-[conic-gradient(at_30%_30%,#ffffff40,#7ed6ff35,#ffffff20,#abc6ff40,#ffffff40)] animate-[spin_25s_linear_infinite]","aria-hidden":!0}),h.jsxs("div",{className:"relative h-full flex flex-col",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:m.title}),m.loading?h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce"}),h.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce animation-delay-200"}),h.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce animation-delay-400"})]})}):m.articles&&m.articles.length>0?h.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.articles.map((y,v)=>h.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0",children:[h.jsx("h4",{className:"text-sm font-semibold text-white leading-tight mb-1",children:y.title}),h.jsxs("p",{className:"text-xs text-white/60 mb-1",children:[y.source,"  ",y.year]}),h.jsx("p",{className:"text-xs text-white/70 leading-relaxed",children:y.summary})]},v))}):m.definitions&&m.definitions.length>0?h.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.definitions.map((y,v)=>h.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0",children:[h.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[h.jsx("h4",{className:"text-base font-bold text-white capitalize",children:y.word}),h.jsx("span",{className:"text-xs text-white/50 italic",children:y.partOfSpeech})]}),h.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:y.definition})]},v))}):m.forums&&m.forums.length>0?h.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.forums.map((y,v)=>h.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0 hover:bg-white/5 transition-colors rounded-lg p-2 -m-2 cursor-pointer",onClick:()=>{s(!1),e(""),g(`/forum/${y.id}`)},children:[h.jsx("h4",{className:"text-sm font-semibold text-white leading-tight mb-1",children:y.title}),h.jsx("p",{className:"text-xs text-white/60 mb-2 line-clamp-2",children:y.content}),h.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[h.jsx("span",{className:"bg-white/10 px-2 py-0.5 rounded-full",children:y.category}),h.jsxs("span",{children:[y.replies," replies"]}),h.jsx("span",{children:""}),h.jsxs("span",{children:[y.likes," likes"]}),h.jsx("span",{children:""}),h.jsx("span",{children:y.lastActive})]})]},v))}):m.counselors&&m.counselors.length>0?h.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.counselors.map((y,v)=>h.jsxs("div",{className:"border border-white/20 rounded-2xl p-4 hover:bg-white/10 transition-all duration-300",children:[h.jsx("h4",{className:"text-base font-bold text-white mb-1",children:y.name}),h.jsx("p",{className:"text-xs text-white/70 mb-2",children:y.specialty}),h.jsx("p",{className:"text-xs text-white/60 mb-3",children:y.description}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-xs text-green-300",children:y.availability}),h.jsx("button",{onClick:()=>{s(!1),e(""),g("/counseling",{state:{counselor:y,searchQuery:i}})},className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-semibold text-white transition-all duration-200",children:"Book Session"})]})]},v))}):m.relatedTopics&&m.relatedTopics.length>0?h.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.relatedTopics.map((y,v)=>h.jsx("button",{onClick:()=>e(y.query),className:"w-full text-left px-4 py-2.5 bg-white/10 hover:bg-white/20 rounded-xl border border-white/10 hover:border-white/30 transition-all duration-200 group",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("svg",{className:"h-4 w-4 text-white/50 group-hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),h.jsx("span",{className:"text-sm text-white/80 group-hover:text-white font-medium transition-colors",children:y.topic})]})},v))}):m.helplines&&m.helplines.length>0?h.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:m.helplines.map((y,v)=>h.jsxs("div",{className:"bg-white/5 border border-white/20 rounded-2xl p-4 hover:bg-white/10 transition-all duration-300",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx("h4",{className:"text-base font-bold text-white leading-tight flex-1",children:y.name}),h.jsx("span",{className:"text-xs text-green-300 bg-green-900/30 px-2 py-1 rounded-full ml-2 whitespace-nowrap",children:y.availability})]}),h.jsx("a",{href:`tel:${y.number.replace(/[^0-9]/g,"")}`,className:"text-lg font-bold text-blue-300 hover:text-blue-200 transition-colors mb-2 block",children:y.number}),h.jsx("p",{className:"text-xs text-white/70 leading-relaxed",children:y.description})]},v))}):h.jsx("p",{className:"text-white/80 text-sm leading-relaxed animate-in fade-in duration-500",children:m.content})]})]})},m.id))})]})]}):null}function ZB(){const[i,e]=$.useState(!1),[t,s]=$.useState(!1),[o,l]=$.useState(null),[u,p]=$.useState(null),[g,m]=$.useState(!1),[y,v]=$.useState(""),b=sr(),N=ei();$.useEffect(()=>{const k=we.onAuthStateChanged(async U=>{if(l(U),U){const S=await ms();p(S)}else p(null)});return()=>k()},[]),$.useEffect(()=>{const k=U=>{U.key==="Escape"&&g&&(m(!1),v(""))};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[g]),$.useEffect(()=>{const k=U=>{U.target.closest("[data-profile-dropdown]")||s(!1)};if(t)return document.addEventListener("click",k),()=>document.removeEventListener("click",k)},[t]);const I=async()=>{try{await hE(we),l(null),p(null),s(!1),N("/")}catch(k){console.error("Error signing out:",k)}},B=()=>u?.displayName?u.displayName.split(" ")[0]:o?.email?.split("@")[0]||"User";return h.jsxs("nav",{className:"fixed top-2 sm:top-4 left-0 right-0 z-50 px-2 sm:px-0",children:[h.jsx("button",{onClick:()=>m(!0),className:"fixed top-2 sm:top-4 left-2 sm:left-4 z-[60] overflow-hidden bg-white/10 backdrop-blur-xl border border-white/20 rounded-full p-2 sm:p-3 shadow-2xl text-white/90 hover:text-white transition-all duration-300 hover:bg-white/20 hover:scale-110","aria-label":"Open search",children:h.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),h.jsx(WB,{searchQuery:y,setSearchQuery:v,isSearchOpen:g,setIsSearchOpen:m}),h.jsxs("div",{className:"relative flex items-center justify-center px-2 sm:px-4 max-w-full",children:[h.jsxs("div",{className:"hidden md:flex relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full px-2 py-1.5 border border-white/20 shadow-2xl",children:[h.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),h.jsxs("div",{className:"relative flex items-center gap-1",children:[h.jsx(Rt,{to:"/blog",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/blog"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Blogs"}),h.jsx(Rt,{to:"/counseling",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/counseling"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Counseling"}),h.jsx(Rt,{to:"/",className:"group px-1 sm:px-2",children:h.jsx("img",{src:Dw,alt:"Nimbus",className:"h-8 w-16 sm:h-9 sm:w-18 transition-transform duration-300 ease-out group-hover:scale-125 drop-shadow-lg"})}),h.jsx(Rt,{to:"/forum",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/forum"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Forums"}),h.jsx(Rt,{to:"/resources",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/resources"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Resources"})]})]}),h.jsx(Rt,{to:"/",className:"md:hidden absolute left-1/2 -translate-x-1/2",children:h.jsx("img",{src:Dw,alt:"Nimbus",className:"h-8 w-16 drop-shadow-lg"})}),h.jsx("div",{className:"hidden md:flex absolute right-2 sm:right-4",children:h.jsxs("div",{className:"relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full border border-white/20 shadow-2xl",children:[h.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),o?h.jsxs("button",{onClick:()=>s(!t),className:"relative flex items-center gap-2 px-4 py-2 text-white font-semibold transition-all duration-300 hover:bg-white/10 rounded-full","data-profile-dropdown":!0,children:[u?.profileImageUrl?h.jsx("img",{src:u.profileImageUrl,alt:"Profile",className:"w-6 h-6 rounded-full object-cover"}):h.jsx("div",{className:"w-6 h-6 rounded-full bg-white/30 flex items-center justify-center",children:h.jsx(ff,{size:16})}),h.jsx("span",{className:"text-sm",children:B()})]}):h.jsx(Rt,{to:"/signin",className:"relative block px-5 py-2 text-white font-semibold text-sm transition-all duration-300 hover:bg-white/10 rounded-full",children:"Sign In"})]})}),h.jsxs("div",{className:"md:hidden absolute right-2 sm:right-4 relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full p-2 border border-white/20 shadow-2xl",children:[h.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),h.jsx("button",{onClick:()=>e(!i),className:"relative text-white/90 hover:text-white focus:outline-none","aria-label":"Toggle menu",children:h.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i?h.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):h.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),t&&o&&h.jsxs("div",{className:"absolute right-2 sm:right-6 top-16 sm:top-20 w-44 sm:w-48 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl overflow-hidden",style:{zIndex:1e3},children:[h.jsx(Rt,{to:"/profile",className:"block w-full px-4 py-3 text-white hover:bg-white/10 transition-colors text-center font-semibold border-b border-white/10",onClick:()=>s(!1),children:"View Profile"}),h.jsxs("button",{onClick:I,className:"w-full px-4 py-3 text-white hover:bg-white/10 transition-colors flex items-center justify-center gap-2 font-semibold",children:[h.jsx(Zw,{size:18}),"Sign Out"]})]}),i&&h.jsx("div",{className:"md:hidden mt-2 mx-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-2xl shadow-black/20",children:h.jsxs("div",{className:"px-3 sm:px-4 pt-3 pb-3 space-y-1",children:[h.jsx(Rt,{to:"/blog",className:`block px-3 py-2 font-bold text-sm sm:text-base rounded-2xl transition-all duration-200 ${b.pathname==="/blog"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Blogs"}),h.jsx(Rt,{to:"/counseling",className:`block px-3 py-2 font-bold text-sm sm:text-base rounded-2xl transition-all duration-200 ${b.pathname==="/counseling"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Counseling"}),h.jsx(Rt,{to:"/forum",className:`block px-3 py-2 font-bold text-sm sm:text-base rounded-2xl transition-all duration-200 ${b.pathname==="/forum"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Forums"}),h.jsx(Rt,{to:"/resources",className:`block px-3 py-2 font-bold text-sm sm:text-base rounded-2xl transition-all duration-200 ${b.pathname==="/resources"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Resources"}),o?h.jsxs(h.Fragment,{children:[h.jsx(Rt,{to:"/profile",className:"block w-full px-3 py-2 font-bold rounded-2xl transition-all duration-200 text-white/90 hover:text-white hover:bg-white/10 text-center",onClick:()=>e(!1),children:"View Profile"}),h.jsx("button",{onClick:()=>{I(),e(!1)},className:"w-full mt-2 px-6 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg",children:"Sign Out"})]}):h.jsx(Rt,{to:"/signin",className:"w-full mt-2 px-6 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg block text-center",onClick:()=>e(!1),children:"Sign In"})]})})]})}function JB(){return h.jsx("footer",{className:"mt-12 bg-[#081023] border-t border-white/6",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-12",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-purple-300",children:"The Skyline Project"}),h.jsx("p",{className:"text-white/60 mt-3 sm:mt-4 max-w-sm text-sm sm:text-base",children:"A safe space for mental health support, connecting you with resources, community, and professional care when you need it most."}),h.jsxs("div",{className:"flex items-center gap-3 mt-4 sm:mt-6",children:[h.jsx("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit Facebook",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-white/3 flex items-center justify-center hover:bg-white/5 transition",children:h.jsx(p6,{size:14,className:"sm:w-4 sm:h-4 text-white/70"})}),h.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit Twitter",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-white/3 flex items-center justify-center hover:bg-white/5 transition",children:h.jsx(Q6,{size:14,className:"sm:w-4 sm:h-4 text-white/70"})}),h.jsx("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit Instagram",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-white/3 flex items-center justify-center hover:bg-white/5 transition",children:h.jsx(w6,{size:14,className:"sm:w-4 sm:h-4 text-white/70"})}),h.jsx("a",{href:"https://www.linkedin.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit LinkedIn",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-white/3 flex items-center justify-center hover:bg-white/5 transition",children:h.jsx(E6,{size:14,className:"sm:w-4 sm:h-4 text-white/70"})})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-white font-semibold mb-3 sm:mb-4 text-sm sm:text-base",children:"Navigate"}),h.jsxs("ul",{className:"space-y-2 text-white/70 text-xs sm:text-sm",children:[h.jsx("li",{children:h.jsx(Rt,{to:"/",className:"hover:text-white",children:"Home"})}),h.jsx("li",{children:h.jsx(Rt,{to:"/counseling",className:"hover:text-white",children:"Appointment"})}),h.jsx("li",{children:h.jsx(Rt,{to:"/forum",className:"hover:text-white",children:"Forums"})}),h.jsx("li",{children:h.jsx(Rt,{to:"/resources",className:"hover:text-white",children:"Resources"})}),h.jsx("li",{children:h.jsx("a",{href:"https://buy.stripe.com/test_6oU14mfS88iifOk8Tt83C01",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",children:"Donate"})}),h.jsx("li",{children:h.jsx(Rt,{to:"/signin",className:"hover:text-white",children:"Sign in"})})]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h4",{className:"text-white font-semibold mb-3 sm:mb-4 text-sm sm:text-base",children:"Need Immediate Help?"}),h.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 sm:p-6 shadow-inner",children:[h.jsx("div",{className:"text-white/60 text-xs sm:text-sm mb-2 sm:mb-3",children:"National Suicide Prevention"}),h.jsx("div",{className:"text-white font-bold text-base sm:text-lg mb-2 sm:mb-3",children:"988"}),h.jsx("div",{className:"text-white/60 text-xs sm:text-sm mb-2 sm:mb-3",children:"Crisis Text Line"}),h.jsx("div",{className:"text-white font-bold text-sm sm:text-base mb-2 sm:mb-3",children:"Text HOME to 741741"}),h.jsx("div",{className:"text-white/60 text-xs sm:text-sm mb-1",children:"SAMHSA Helpline"}),h.jsx("div",{className:"text-white font-bold text-sm sm:text-base",children:"1-800-662-4357"}),h.jsx("div",{className:"text-white/50 text-xs mt-2 sm:mt-3",children:"Available 24/7"})]})]})]}),h.jsxs("div",{className:"mt-6 sm:mt-8 border-t border-white/6 pt-4 sm:pt-6 text-center text-white/60 text-xs sm:text-sm",children:[" ",new Date().getFullYear()," The Skyline Project. Made with ",h.jsx("div",{className:"mt-2 text-white/50 text-[10px] sm:text-xs",children:"Creators: Aadil Barkat  Jeevith Veerasaravanan  Amogh Shivanna  Pradyun Fatwani"})]})]})})}function eO(){const{pathname:i,hash:e}=sr();return $.useEffect(()=>{try{window.scrollTo({top:0,left:0,behavior:"instant"})}catch{window.scrollTo(0,0)}if(e){const t=e.replace("#","");setTimeout(()=>{const s=document.getElementById(t);s&&s.scrollIntoView({behavior:"smooth",block:"start"})},50)}},[i,e]),null}function tO(){return $.useEffect(()=>{const i=new QB({duration:0,easing:t=>t});function e(t){i.raf(t),requestAnimationFrame(e)}return requestAnimationFrame(e),()=>{i.destroy()}},[]),h.jsxs(h.Fragment,{children:[h.jsx(ZB,{}),h.jsxs(rS,{children:[h.jsx(dn,{path:"/",element:h.jsx(l3,{})}),h.jsx(dn,{path:"/education",element:h.jsx(c3,{})}),h.jsx(dn,{path:"/help",element:h.jsx(u3,{})}),h.jsx(dn,{path:"/counseling",element:h.jsx(lj,{})}),h.jsx(dn,{path:"/forum",element:h.jsx(TB,{})}),h.jsx(dn,{path:"/forum/create",element:h.jsx(SB,{})}),h.jsx(dn,{path:"/forum/:id",element:h.jsx(NB,{})}),h.jsx(dn,{path:"/testimonials",element:h.jsx(RB,{})}),h.jsx(dn,{path:"/signin",element:h.jsx(DB,{})}),h.jsx(dn,{path:"/accountsetup",element:h.jsx(kB,{})}),h.jsx(dn,{path:"/profile",element:h.jsx(jB,{})}),h.jsx(dn,{path:"/blog",element:h.jsx(LB,{})}),h.jsx(dn,{path:"/resources",element:h.jsx(FB,{})}),h.jsx(dn,{path:"/add-blog",element:h.jsx(VB,{})}),h.jsx(dn,{path:"/blog/:postId",element:h.jsx(UB,{})})]}),h.jsx(JB,{})]})}function nO(){return h.jsxs(NS,{children:[h.jsx(eO,{}),h.jsx(tO,{})]})}fC.createRoot(document.getElementById("root")).render(h.jsx($.StrictMode,{children:h.jsx(nO,{})}));
