(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function WT(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var o=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return i[r]}})}),t}var Mm={exports:{}},_c={};var Dv;function ZT(){if(Dv)return _c;Dv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var p in o)p!=="key"&&(l[p]=o[p])}else l=o;return o=l.ref,{$$typeof:i,type:r,key:u,ref:o!==void 0?o:null,props:l}}return _c.Fragment=e,_c.jsx=t,_c.jsxs=t,_c}var Iv;function JT(){return Iv||(Iv=1,Mm.exports=ZT()),Mm.exports}var m=JT(),Pm={exports:{}},Ie={};var kv;function eC(){if(kv)return Ie;kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function C(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,I={};function P(F,$,Q){this.props=F,this.context=$,this.refs=I,this.updater=Q||N}P.prototype.isReactComponent={},P.prototype.setState=function(F,$){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,$,"setState")},P.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=P.prototype;function j(F,$,Q){this.props=F,this.context=$,this.refs=I,this.updater=Q||N}var L=j.prototype=new k;L.constructor=j,B(L,P.prototype),L.isPureReactComponent=!0;var z=Array.isArray;function H(){}var T={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function S(F,$,Q){var W=Q.ref;return{$$typeof:i,type:F,key:$,ref:W!==void 0?W:null,props:Q}}function A(F,$){return S(F.type,$,F.props)}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===i}function U(F){var $={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Q){return $[Q]})}var O=/\/+/g;function de(F,$){return typeof F=="object"&&F!==null&&F.key!=null?U(""+F.key):$.toString(36)}function ie(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(H,H):(F.status="pending",F.then(function($){F.status==="pending"&&(F.status="fulfilled",F.value=$)},function($){F.status==="pending"&&(F.status="rejected",F.reason=$)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function K(F,$,Q,W,xe){var ye=typeof F;(ye==="undefined"||ye==="boolean")&&(F=null);var Se=!1;if(F===null)Se=!0;else switch(ye){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(F.$$typeof){case i:case e:Se=!0;break;case y:return Se=F._init,K(Se(F._payload),$,Q,W,xe)}}if(Se)return xe=xe(F),Se=W===""?"."+de(F,0):W,z(xe)?(Q="",Se!=null&&(Q=Se.replace(O,"$&/")+"/"),K(xe,$,Q,"",function(bn){return bn})):xe!=null&&(D(xe)&&(xe=A(xe,Q+(xe.key==null||F&&F.key===xe.key?"":(""+xe.key).replace(O,"$&/")+"/")+Se)),$.push(xe)),1;Se=0;var Ee=W===""?".":W+":";if(z(F))for(var We=0;We<F.length;We++)W=F[We],ye=Ee+de(W,We),Se+=K(W,$,Q,ye,xe);else if(We=C(F),typeof We=="function")for(F=We.call(F),We=0;!(W=F.next()).done;)W=W.value,ye=Ee+de(W,We++),Se+=K(W,$,Q,ye,xe);else if(ye==="object"){if(typeof F.then=="function")return K(ie(F),$,Q,W,xe);throw $=String(F),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Se}function te(F,$,Q){if(F==null)return F;var W=[],xe=0;return K(F,W,"","",function(ye){return $.call(Q,ye,xe++)}),W}function he(F){if(F._status===-1){var $=F._result;$=$(),$.then(function(Q){(F._status===0||F._status===-1)&&(F._status=1,F._result=Q)},function(Q){(F._status===0||F._status===-1)&&(F._status=2,F._result=Q)}),F._status===-1&&(F._status=0,F._result=$)}if(F._status===1)return F._result.default;throw F._result}var fe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},pe={map:te,forEach:function(F,$,Q){te(F,function(){$.apply(this,arguments)},Q)},count:function(F){var $=0;return te(F,function(){$++}),$},toArray:function(F){return te(F,function($){return $})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ie.Activity=v,Ie.Children=pe,Ie.Component=P,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=j,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(F){return T.H.useMemoCache(F)}},Ie.cache=function(F){return function(){return F.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(F,$,Q){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var W=B({},F.props),xe=F.key;if($!=null)for(ye in $.key!==void 0&&(xe=""+$.key),$)!R.call($,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&$.ref===void 0||(W[ye]=$[ye]);var ye=arguments.length-2;if(ye===1)W.children=Q;else if(1<ye){for(var Se=Array(ye),Ee=0;Ee<ye;Ee++)Se[Ee]=arguments[Ee+2];W.children=Se}return S(F.type,xe,W)},Ie.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Ie.createElement=function(F,$,Q){var W,xe={},ye=null;if($!=null)for(W in $.key!==void 0&&(ye=""+$.key),$)R.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(xe[W]=$[W]);var Se=arguments.length-2;if(Se===1)xe.children=Q;else if(1<Se){for(var Ee=Array(Se),We=0;We<Se;We++)Ee[We]=arguments[We+2];xe.children=Ee}if(F&&F.defaultProps)for(W in Se=F.defaultProps,Se)xe[W]===void 0&&(xe[W]=Se[W]);return S(F,ye,xe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(F){return{$$typeof:p,render:F}},Ie.isValidElement=D,Ie.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:he}},Ie.memo=function(F,$){return{$$typeof:f,type:F,compare:$===void 0?null:$}},Ie.startTransition=function(F){var $=T.T,Q={};T.T=Q;try{var W=F(),xe=T.S;xe!==null&&xe(Q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(H,fe)}catch(ye){fe(ye)}finally{$!==null&&Q.types!==null&&($.types=Q.types),T.T=$}},Ie.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ie.use=function(F){return T.H.use(F)},Ie.useActionState=function(F,$,Q){return T.H.useActionState(F,$,Q)},Ie.useCallback=function(F,$){return T.H.useCallback(F,$)},Ie.useContext=function(F){return T.H.useContext(F)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(F,$){return T.H.useDeferredValue(F,$)},Ie.useEffect=function(F,$){return T.H.useEffect(F,$)},Ie.useEffectEvent=function(F){return T.H.useEffectEvent(F)},Ie.useId=function(){return T.H.useId()},Ie.useImperativeHandle=function(F,$,Q){return T.H.useImperativeHandle(F,$,Q)},Ie.useInsertionEffect=function(F,$){return T.H.useInsertionEffect(F,$)},Ie.useLayoutEffect=function(F,$){return T.H.useLayoutEffect(F,$)},Ie.useMemo=function(F,$){return T.H.useMemo(F,$)},Ie.useOptimistic=function(F,$){return T.H.useOptimistic(F,$)},Ie.useReducer=function(F,$,Q){return T.H.useReducer(F,$,Q)},Ie.useRef=function(F){return T.H.useRef(F)},Ie.useState=function(F){return T.H.useState(F)},Ie.useSyncExternalStore=function(F,$,Q){return T.H.useSyncExternalStore(F,$,Q)},Ie.useTransition=function(){return T.H.useTransition()},Ie.version="19.2.1",Ie}var jv;function Kp(){return jv||(jv=1,Pm.exports=eC()),Pm.exports}var G=Kp(),Lm={exports:{}},bc={},Fm={exports:{}},Vm={};var Bv;function tC(){return Bv||(Bv=1,(function(i){function e(K,te){var he=K.length;K.push(te);e:for(;0<he;){var fe=he-1>>>1,pe=K[fe];if(0<o(pe,te))K[fe]=te,K[he]=pe,he=fe;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],he=K.pop();if(he!==te){K[0]=he;e:for(var fe=0,pe=K.length,F=pe>>>1;fe<F;){var $=2*(fe+1)-1,Q=K[$],W=$+1,xe=K[W];if(0>o(Q,he))W<pe&&0>o(xe,Q)?(K[fe]=xe,K[W]=he,fe=W):(K[fe]=Q,K[$]=he,fe=$);else if(W<pe&&0>o(xe,he))K[fe]=xe,K[W]=he,fe=W;else break e}}return te}function o(K,te){var he=K.sortIndex-te.sortIndex;return he!==0?he:K.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,p=u.now();i.unstable_now=function(){return u.now()-p}}var g=[],f=[],y=1,v=null,b=3,C=!1,N=!1,B=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function L(K){for(var te=t(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=K)r(f),te.sortIndex=te.expirationTime,e(g,te);else break;te=t(f)}}function z(K){if(B=!1,L(K),!N)if(t(g)!==null)N=!0,H||(H=!0,U());else{var te=t(f);te!==null&&ie(z,te.startTime-K)}}var H=!1,T=-1,R=5,S=-1;function A(){return I?!0:!(i.unstable_now()-S<R)}function D(){if(I=!1,H){var K=i.unstable_now();S=K;var te=!0;try{e:{N=!1,B&&(B=!1,k(T),T=-1),C=!0;var he=b;try{t:{for(L(K),v=t(g);v!==null&&!(v.expirationTime>K&&A());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,b=v.priorityLevel;var pe=fe(v.expirationTime<=K);if(K=i.unstable_now(),typeof pe=="function"){v.callback=pe,L(K),te=!0;break t}v===t(g)&&r(g),L(K)}else r(g);v=t(g)}if(v!==null)te=!0;else{var F=t(f);F!==null&&ie(z,F.startTime-K),te=!1}}break e}finally{v=null,b=he,C=!1}te=void 0}}finally{te?U():H=!1}}}var U;if(typeof j=="function")U=function(){j(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,de=O.port2;O.port1.onmessage=D,U=function(){de.postMessage(null)}}else U=function(){P(D,0)};function ie(K,te){T=P(function(){K(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(K){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var he=b;b=te;try{return K()}finally{b=he}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=b;b=K;try{return te()}finally{b=he}},i.unstable_scheduleCallback=function(K,te,he){var fe=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?fe+he:fe):he=fe,K){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=he+pe,K={id:y++,callback:te,priorityLevel:K,startTime:he,expirationTime:pe,sortIndex:-1},he>fe?(K.sortIndex=he,e(f,K),t(g)===null&&K===t(f)&&(B?(k(T),T=-1):B=!0,ie(z,he-fe))):(K.sortIndex=pe,e(g,K),N||C||(N=!0,H||(H=!0,U()))),K},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(K){var te=b;return function(){var he=b;b=te;try{return K.apply(this,arguments)}finally{b=he}}}})(Vm)),Vm}var Ov;function nC(){return Ov||(Ov=1,Fm.exports=tC()),Fm.exports}var Um={exports:{}},cn={};var Mv;function iC(){if(Mv)return cn;Mv=1;var i=Kp();function e(g){var f="https://react.dev/errors/"+g;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,f,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:f,implementation:y}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,f){if(g==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(g,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(g,f,null,y)},cn.flushSync=function(g){var f=u.T,y=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=f,r.p=y,r.d.f()}},cn.preconnect=function(g,f){typeof g=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(g,f))},cn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},cn.preinit=function(g,f){if(typeof g=="string"&&f&&typeof f.as=="string"){var y=f.as,v=p(y,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,C=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?r.d.S(g,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:C}):y==="script"&&r.d.X(g,{crossOrigin:v,integrity:b,fetchPriority:C,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},cn.preinitModule=function(g,f){if(typeof g=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=p(f.as,f.crossOrigin);r.d.M(g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(g)},cn.preload=function(g,f){if(typeof g=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,v=p(y,f.crossOrigin);r.d.L(g,y,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},cn.preloadModule=function(g,f){if(typeof g=="string")if(f){var y=p(f.as,f.crossOrigin);r.d.m(g,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(g)},cn.requestFormReset=function(g){r.d.r(g)},cn.unstable_batchedUpdates=function(g,f){return g(f)},cn.useFormState=function(g,f,y){return u.H.useFormState(g,f,y)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.2.1",cn}var Pv;function rC(){if(Pv)return Um.exports;Pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=iC(),Um.exports}var Lv;function sC(){if(Lv)return bc;Lv=1;var i=nC(),e=Kp(),t=rC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(r(188))}function f(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var x=d.alternate;if(x===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===x.child){for(x=d.child;x;){if(x===a)return g(d),n;if(x===c)return g(d),s;x=x.sibling}throw Error(r(188))}if(a.return!==c.return)a=d,c=x;else{for(var w=!1,M=d.child;M;){if(M===a){w=!0,a=d,c=x;break}if(M===c){w=!0,c=d,a=x;break}M=M.sibling}if(!w){for(M=x.child;M;){if(M===a){w=!0,a=x,c=d;break}if(M===c){w=!0,c=x,a=d;break}M=M.sibling}if(!w)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),j=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function de(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case P:return"Profiler";case I:return"StrictMode";case z:return"Suspense";case H:return"SuspenseList";case S:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case j:return n.displayName||"Context";case k:return(n._context.displayName||"Context")+".Consumer";case L:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case T:return s=n.displayName||null,s!==null?s:de(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return de(n(s))}catch{}}return null}var ie=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},fe=[],pe=-1;function F(n){return{current:n}}function $(n){0>pe||(n.current=fe[pe],fe[pe]=null,pe--)}function Q(n,s){pe++,fe[pe]=n.current,n.current=s}var W=F(null),xe=F(null),ye=F(null),Se=F(null);function Ee(n,s){switch(Q(ye,s),Q(xe,n),Q(W,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Jy(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Jy(s),n=ev(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(W),Q(W,n)}function We(){$(W),$(xe),$(ye)}function bn(n){n.memoizedState!==null&&Q(Se,n);var s=W.current,a=ev(s,n.type);s!==a&&(Q(xe,n),Q(W,a))}function Ui(n){xe.current===n&&($(W),$(xe)),Se.current===n&&($(Se),gc._currentValue=he)}var ei,Kt;function ft(n){if(ei===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ei=s&&s[1]||"",Kt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ei+n+Kt}var zi=!1;function On(n,s){if(!n||zi)return"";zi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(se){var ne=se}Reflect.construct(n,[],ce)}else{try{ce.call()}catch(se){ne=se}n.call(ce.prototype)}}else{try{throw Error()}catch(se){ne=se}(ce=n())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(se){if(se&&ne&&typeof se.stack=="string")return[se.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=c.DetermineComponentFrameRoot(),w=x[0],M=x[1];if(w&&M){var q=w.split(`
`),ee=M.split(`
`);for(d=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;d<ee.length&&!ee[d].includes("DetermineComponentFrameRoot");)d++;if(c===q.length||d===ee.length)for(c=q.length-1,d=ee.length-1;1<=c&&0<=d&&q[c]!==ee[d];)d--;for(;1<=c&&0<=d;c--,d--)if(q[c]!==ee[d]){if(c!==1||d!==1)do if(c--,d--,0>d||q[c]!==ee[d]){var ae=`
`+q[c].replace(" at new "," at ");return n.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",n.displayName)),ae}while(1<=c&&0<=d);break}}}finally{zi=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ft(a):""}function Hi(n,s){switch(n.tag){case 26:case 27:case 5:return ft(n.type);case 16:return ft("Lazy");case 13:return n.child!==s&&s!==null?ft("Suspense Fallback"):ft("Suspense");case 19:return ft("SuspenseList");case 0:case 15:return On(n.type,!1);case 11:return On(n.type.render,!1);case 1:return On(n.type,!0);case 31:return ft("Activity");default:return""}}function bi(n){try{var s="",a=null;do s+=Hi(n,a),a=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var mt=Object.prototype.hasOwnProperty,ct=i.unstable_scheduleCallback,Dt=i.unstable_cancelCallback,ln=i.unstable_shouldYield,Mn=i.unstable_requestPaint,It=i.unstable_now,qi=i.unstable_getCurrentPriorityLevel,ti=i.unstable_ImmediatePriority,wi=i.unstable_UserBlockingPriority,Gi=i.unstable_NormalPriority,to=i.unstable_LowPriority,aa=i.unstable_IdlePriority,Ei=i.log,$i=i.unstable_setDisableYieldValue,Pn=null,kt=null;function pn(n){if(typeof Ei=="function"&&$i(n),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Pn,n)}catch{}}var yt=Math.clz32?Math.clz32:io,no=Math.log,Cr=Math.LN2;function io(n){return n>>>=0,n===0?32:31-(no(n)/Cr|0)|0}var Ln=256,Sr=262144,vt=4194304;function ni(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ii(n,s,a){var c=n.pendingLanes;if(c===0)return 0;var d=0,x=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var M=c&134217727;return M!==0?(c=M&~x,c!==0?d=ni(c):(w&=M,w!==0?d=ni(w):a||(a=M&~n,a!==0&&(d=ni(a))))):(M=c&~x,M!==0?d=ni(M):w!==0?d=ni(w):a||(a=c&~n,a!==0&&(d=ni(a)))),d===0?0:s!==0&&s!==d&&(s&x)===0&&(x=d&-d,a=s&-s,x>=a||x===32&&(a&4194048)!==0)?s:d}function Fn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function ro(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(){var n=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),n}function ri(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Ki(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function wl(n,s,a,c,d,x){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var M=n.entanglements,q=n.expirationTimes,ee=n.hiddenUpdates;for(a=w&~a;0<a;){var ae=31-yt(a),ce=1<<ae;M[ae]=0,q[ae]=-1;var ne=ee[ae];if(ne!==null)for(ee[ae]=null,ae=0;ae<ne.length;ae++){var se=ne[ae];se!==null&&(se.lane&=-536870913)}a&=~ce}c!==0&&Yi(n,c,0),x!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=x&~(w&~s))}function Yi(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-yt(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function qt(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-yt(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}function wn(n,s){var a=s&-s;return a=(a&42)!==0?1:Xi(a),(a&(n.suspendedLanes|s))!==0?0:a}function Xi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ai(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function cu(){var n=te.p;return n!==0?n:(n=window.event,n===void 0?32:Ev(n.type))}function Ti(n,s){var a=te.p;try{return te.p=n,s()}finally{te.p=a}}var Ci=Math.random().toString(36).slice(2),jt="__reactFiber$"+Ci,Yt="__reactProps$"+Ci,Qi="__reactContainer$"+Ci,ao="__reactEvents$"+Ci,Uf="__reactListeners$"+Ci,uu="__reactHandles$"+Ci,hu="__reactResources$"+Ci,Wi="__reactMarker$"+Ci;function oo(n){delete n[jt],delete n[Yt],delete n[ao],delete n[Uf],delete n[uu]}function Zi(n){var s=n[jt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Qi]||a[jt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=ov(n);n!==null;){if(a=n[jt])return a;n=ov(n)}return s}n=a,a=n.parentNode}return null}function si(n){if(n=n[jt]||n[Qi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Vn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ji(n){var s=n[hu];return s||(s=n[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(n){n[Wi]=!0}var El=new Set,Al={};function er(n,s){tr(n,s),tr(n+"Capture",s)}function tr(n,s){for(Al[n]=s,n=0;n<s.length;n++)El.add(s[n])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Sl={};function du(n){return mt.call(Sl,n)?!0:mt.call(Cl,n)?!1:Tl.test(n)?Sl[n]=!0:(Cl[n]=!0,!1)}function lo(n,s,a){if(du(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Un(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Ot(n,s,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+c)}}function Xt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function is(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nl(n,s,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,x=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){a=""+w,x.call(this,w)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Je(n){if(!n._valueTracker){var s=is(n)?"checked":"value";n._valueTracker=Nl(n,s,""+n[s])}}function oa(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=is(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function nr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var la=/[\n"\\]/g;function En(n){return n.replace(la,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function co(n,s,a,c,d,x,w,M){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),s!=null?w==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Xt(s)):n.value!==""+Xt(s)&&(n.value=""+Xt(s)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),s!=null?Rl(n,w,Xt(s)):a!=null?Rl(n,w,Xt(a)):c!=null&&n.removeAttribute("value"),d==null&&x!=null&&(n.defaultChecked=!!x),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.name=""+Xt(M):n.removeAttribute("name")}function fu(n,s,a,c,d,x,w,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),s!=null||a!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){Je(n);return}a=a!=null?""+Xt(a):"",s=s!=null?""+Xt(s):a,M||s===n.value||(n.value=s),n.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=M?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),Je(n)}function Rl(n,s,a){s==="number"&&nr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function rs(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Xt(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function mu(n,s,a){if(s!=null&&(s=""+Xt(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Xt(a):""}function ss(n,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(r(92));if(ie(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Xt(s),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),Je(n)}function An(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(n,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,a):typeof a!="number"||a===0||pu.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Il(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&a[d]!==c&&Dl(n,d,c)}else for(var x in s)s.hasOwnProperty(x)&&Dl(n,x,s[x])}function uo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(n){return as.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Si(){}var kl=null;function ai(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var os=null,ir=null;function ca(n){var s=si(n);if(s&&(n=s.stateNode)){var a=n[Yt]||null;e:switch(n=s.stateNode,s.type){case"input":if(co(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=c[Yt]||null;if(!d)throw Error(r(90));co(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===n.form&&oa(c)}break e;case"textarea":mu(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&rs(n,!!a.multiple,s,!1)}}}var fo=!1;function ls(n,s,a){if(fo)return n(s,a);fo=!0;try{var c=n(s);return c}finally{if(fo=!1,(os!==null||ir!==null)&&(ch(),os&&(s=os,n=ir,ir=os=null,ca(s),n)))for(s=0;s<n.length;s++)ca(n[s])}}function Ni(n,s){var a=n.stateNode;if(a===null)return null;var c=a[Yt]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(oi)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){ua=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{ua=!1}var rr=null,jl=null,ha=null;function Bl(){if(ha)return ha;var n,s=jl,a=s.length,c,d="value"in rr?rr.value:rr.textContent,x=d.length;for(n=0;n<a&&s[n]===d[n];n++);var w=a-n;for(c=1;c<=w&&s[a-c]===d[x-c];c++);return ha=d.slice(n,1<c?1-c:void 0)}function da(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Nr(){return!0}function Ri(){return!1}function Jt(n){function s(a,c,d,x,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var M in n)n.hasOwnProperty(M)&&(a=n[M],this[M]=a?a(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Nr:Ri,this.isPropagationStopped=Ri,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),s}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=Jt(Rr),cs=v({},Rr,{view:0,detail:0}),Ol=Jt(cs),us,mo,ar,po=v({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ar&&(ar&&n.type==="mousemove"?(us=n.screenX-ar.screenX,mo=n.screenY-ar.screenY):mo=us=0,ar=n),us)},movementY:function(n){return"movementY"in n?n.movementY:mo}}),Ml=Jt(po),fa=v({},po,{dataTransfer:0}),xu=Jt(fa),yu=v({},cs,{relatedTarget:0}),ma=Jt(yu),Pl=v({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Jt(Pl),go=v({},Rr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_u=Jt(go),bu=v({},Rr,{data:0}),or=Jt(bu),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Au[n])?!!s[n]:!1}function hs(){return Tu}var gn=v({},cs,{key:function(n){if(n.key){var s=wu[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=da(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Eu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(n){return n.type==="keypress"?da(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?da(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Cu=Jt(gn),Su=v({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dr=Jt(Su),h=v({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),_=Jt(h),E=v({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Jt(E),Z=v({},po,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),re=Jt(Z),me=v({},Rr,{newState:0,oldState:0}),je=Jt(me),Ct=[9,13,27,32],Xe=oi&&"CompositionEvent"in window,pt=null;oi&&"documentMode"in document&&(pt=document.documentMode);var li=oi&&"TextEvent"in window&&!pt,lr=oi&&(!Xe||pt&&8<pt&&11>=pt),Di=" ",Ii=!1;function pa(n,s){switch(n){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var yo=!1;function _4(n,s){switch(n){case"compositionend":return xo(s);case"keypress":return s.which!==32?null:(Ii=!0,Di);case"textInput":return n=s.data,n===Di&&Ii?null:n;default:return null}}function b4(n,s){if(yo)return n==="compositionend"||!Xe&&pa(n,s)?(n=Bl(),ha=jl=rr=null,yo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return lr&&s.locale!=="ko"?null:s.data;default:return null}}var w4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ux(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!w4[n.type]:s==="textarea"}function hx(n,s,a,c){os?ir?ir.push(c):ir=[c]:os=c,s=gh(s,"onChange"),0<s.length&&(a=new sr("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Ll=null,Fl=null;function E4(n){Ky(n,0)}function Nu(n){var s=Vn(n);if(oa(s))return n}function dx(n,s){if(n==="change")return s}var fx=!1;if(oi){var zf;if(oi){var Hf="oninput"in document;if(!Hf){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),Hf=typeof mx.oninput=="function"}zf=Hf}else zf=!1;fx=zf&&(!document.documentMode||9<document.documentMode)}function px(){Ll&&(Ll.detachEvent("onpropertychange",gx),Fl=Ll=null)}function gx(n){if(n.propertyName==="value"&&Nu(Fl)){var s=[];hx(s,Fl,n,ai(n)),ls(E4,s)}}function A4(n,s,a){n==="focusin"?(px(),Ll=s,Fl=a,Ll.attachEvent("onpropertychange",gx)):n==="focusout"&&px()}function T4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nu(Fl)}function C4(n,s){if(n==="click")return Nu(s)}function S4(n,s){if(n==="input"||n==="change")return Nu(s)}function N4(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var zn=typeof Object.is=="function"?Object.is:N4;function Vl(n,s){if(zn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!mt.call(s,d)||!zn(n[d],s[d]))return!1}return!0}function xx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yx(n,s){var a=xx(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xx(a)}}function vx(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?vx(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function _x(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=nr(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=nr(n.document)}return s}function qf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var R4=oi&&"documentMode"in document&&11>=document.documentMode,vo=null,Gf=null,Ul=null,$f=!1;function bx(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$f||vo==null||vo!==nr(c)||(c=vo,"selectionStart"in c&&qf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ul&&Vl(Ul,c)||(Ul=c,c=gh(Gf,"onSelect"),0<c.length&&(s=new sr("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=vo)))}function ga(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var _o={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},Kf={},wx={};oi&&(wx=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function xa(n){if(Kf[n])return Kf[n];if(!_o[n])return n;var s=_o[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in wx)return Kf[n]=s[a];return n}var Ex=xa("animationend"),Ax=xa("animationiteration"),Tx=xa("animationstart"),D4=xa("transitionrun"),I4=xa("transitionstart"),k4=xa("transitioncancel"),Cx=xa("transitionend"),Sx=new Map,Yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yf.push("scrollEnd");function ki(n,s){Sx.set(n,s),er(s,[n])}var Ru=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ci=[],bo=0,Xf=0;function Du(){for(var n=bo,s=Xf=bo=0;s<n;){var a=ci[s];ci[s++]=null;var c=ci[s];ci[s++]=null;var d=ci[s];ci[s++]=null;var x=ci[s];if(ci[s++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}x!==0&&Nx(a,d,x)}}function Iu(n,s,a,c){ci[bo++]=n,ci[bo++]=s,ci[bo++]=a,ci[bo++]=c,Xf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Qf(n,s,a,c){return Iu(n,s,a,c),ku(n)}function ya(n,s){return Iu(n,null,null,s),ku(n)}function Nx(n,s,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var d=!1,x=n.return;x!==null;)x.childLanes|=a,c=x.alternate,c!==null&&(c.childLanes|=a),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(d=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,d&&s!==null&&(d=31-yt(a),n=x.hiddenUpdates,c=n[d],c===null?n[d]=[s]:c.push(s),s.lane=a|536870912),x):null}function ku(n){if(50<cc)throw cc=0,sm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var wo={};function j4(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(n,s,a,c){return new j4(n,s,a,c)}function Wf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ir(n,s){var a=n.alternate;return a===null?(a=Hn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Rx(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ju(n,s,a,c,d,x){var w=0;if(c=n,typeof n=="function")Wf(n)&&(w=1);else if(typeof n=="string")w=LT(n,a,W.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case S:return n=Hn(31,a,s,d),n.elementType=S,n.lanes=x,n;case B:return va(a.children,d,x,s);case I:w=8,d|=24;break;case P:return n=Hn(12,a,s,d|2),n.elementType=P,n.lanes=x,n;case z:return n=Hn(13,a,s,d),n.elementType=z,n.lanes=x,n;case H:return n=Hn(19,a,s,d),n.elementType=H,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:w=10;break e;case k:w=9;break e;case L:w=11;break e;case T:w=14;break e;case R:w=16,c=null;break e}w=29,a=Error(r(130,n===null?"null":typeof n,"")),c=null}return s=Hn(w,a,s,d),s.elementType=n,s.type=c,s.lanes=x,s}function va(n,s,a,c){return n=Hn(7,n,c,s),n.lanes=a,n}function Zf(n,s,a){return n=Hn(6,n,null,s),n.lanes=a,n}function Dx(n){var s=Hn(18,null,null,0);return s.stateNode=n,s}function Jf(n,s,a){return s=Hn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ix=new WeakMap;function ui(n,s){if(typeof n=="object"&&n!==null){var a=Ix.get(n);return a!==void 0?a:(s={value:n,source:s,stack:bi(s)},Ix.set(n,s),s)}return{value:n,source:s,stack:bi(s)}}var Eo=[],Ao=0,Bu=null,zl=0,hi=[],di=0,ds=null,cr=1,ur="";function kr(n,s){Eo[Ao++]=zl,Eo[Ao++]=Bu,Bu=n,zl=s}function kx(n,s,a){hi[di++]=cr,hi[di++]=ur,hi[di++]=ds,ds=n;var c=cr;n=ur;var d=32-yt(c)-1;c&=~(1<<d),a+=1;var x=32-yt(s)+d;if(30<x){var w=d-d%5;x=(c&(1<<w)-1).toString(32),c>>=w,d-=w,cr=1<<32-yt(s)+d|a<<d|c,ur=x+n}else cr=1<<x|a<<d|c,ur=n}function e0(n){n.return!==null&&(kr(n,1),kx(n,1,0))}function t0(n){for(;n===Bu;)Bu=Eo[--Ao],Eo[Ao]=null,zl=Eo[--Ao],Eo[Ao]=null;for(;n===ds;)ds=hi[--di],hi[di]=null,ur=hi[--di],hi[di]=null,cr=hi[--di],hi[di]=null}function jx(n,s){hi[di++]=cr,hi[di++]=ur,hi[di++]=ds,cr=s.id,ur=s.overflow,ds=n}var en=null,ut=null,He=!1,fs=null,fi=!1,n0=Error(r(519));function ms(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(ui(s,n)),n0}function Bx(n){var s=n.stateNode,a=n.type,c=n.memoizedProps;switch(s[jt]=n,s[Yt]=c,a){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(a=0;a<hc.length;a++)Pe(hc[a],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),fu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),ss(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||Wy(s.textContent,a)?(c.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),c.onScroll!=null&&Pe("scroll",s),c.onScrollEnd!=null&&Pe("scrollend",s),c.onClick!=null&&(s.onclick=Si),s=!0):s=!1,s||ms(n,!0)}function Ox(n){for(en=n.return;en;)switch(en.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:en=en.return}}function To(n){if(n!==en)return!1;if(!He)return Ox(n),He=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||_m(n.type,n.memoizedProps)),a=!a),a&&ut&&ms(n),Ox(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=av(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=av(n)}else s===27?(s=ut,Ns(n.type)?(n=Tm,Tm=null,ut=n):ut=s):ut=en?pi(n.stateNode.nextSibling):null;return!0}function _a(){ut=en=null,He=!1}function i0(){var n=fs;return n!==null&&(Nn===null?Nn=n:Nn.push.apply(Nn,n),fs=null),n}function Hl(n){fs===null?fs=[n]:fs.push(n)}var r0=F(null),ba=null,jr=null;function ps(n,s,a){Q(r0,s._currentValue),s._currentValue=a}function Br(n){n._currentValue=r0.current,$(r0)}function s0(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function a0(n,s,a,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var x=d.dependencies;if(x!==null){var w=d.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=d;for(var q=0;q<s.length;q++)if(M.context===s[q]){x.lanes|=a,M=x.alternate,M!==null&&(M.lanes|=a),s0(x.return,a,n),c||(w=null);break e}x=M.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(r(341));w.lanes|=a,x=w.alternate,x!==null&&(x.lanes|=a),s0(w,a,n),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===n){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Co(n,s,a,c){n=null;for(var d=s,x=!1;d!==null;){if(!x){if((d.flags&524288)!==0)x=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var M=d.type;zn(d.pendingProps.value,w.value)||(n!==null?n.push(M):n=[M])}}else if(d===Se.current){if(w=d.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(gc):n=[gc])}d=d.return}n!==null&&a0(s,n,a,c),s.flags|=262144}function Ou(n){for(n=n.firstContext;n!==null;){if(!zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function wa(n){ba=n,jr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return Mx(ba,n)}function Mu(n,s){return ba===null&&wa(n),Mx(n,s)}function Mx(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},jr===null){if(n===null)throw Error(r(308));jr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else jr=jr.next=s;return a}var B4=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},O4=i.unstable_scheduleCallback,M4=i.unstable_NormalPriority,Mt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function o0(){return{controller:new B4,data:new Map,refCount:0}}function ql(n){n.refCount--,n.refCount===0&&O4(M4,function(){n.controller.abort()})}var Gl=null,l0=0,So=0,No=null;function P4(n,s){if(Gl===null){var a=Gl=[];l0=0,So=hm(),No={status:"pending",value:void 0,then:function(c){a.push(c)}}}return l0++,s.then(Px,Px),s}function Px(){if(--l0===0&&Gl!==null){No!==null&&(No.status="fulfilled");var n=Gl;Gl=null,So=0,No=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function L4(n,s){var a=[],c={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),c}var Lx=K.S;K.S=function(n,s){by=It(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&P4(n,s),Lx!==null&&Lx(n,s)};var Ea=F(null);function c0(){var n=Ea.current;return n!==null?n:at.pooledCache}function Pu(n,s){s===null?Q(Ea,Ea.current):Q(Ea,s.pool)}function Fx(){var n=c0();return n===null?null:{parent:Mt._currentValue,pool:n}}var Ro=Error(r(460)),u0=Error(r(474)),Lu=Error(r(542)),Fu={then:function(){}};function Vx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ux(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Si,Si),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Hx(n),n;default:if(typeof s.status=="string")s.then(Si,Si);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Hx(n),n}throw Ta=s,Ro}}function Aa(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ta=a,Ro):a}}var Ta=null;function zx(){if(Ta===null)throw Error(r(459));var n=Ta;return Ta=null,n}function Hx(n){if(n===Ro||n===Lu)throw Error(r(483))}var Do=null,$l=0;function Vu(n){var s=$l;return $l+=1,Do===null&&(Do=[]),Ux(Do,n,s)}function Kl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Uu(n,s){throw s.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function qx(n){function s(X,Y){if(n){var J=X.deletions;J===null?(X.deletions=[Y],X.flags|=16):J.push(Y)}}function a(X,Y){if(!n)return null;for(;Y!==null;)s(X,Y),Y=Y.sibling;return null}function c(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function d(X,Y){return X=Ir(X,Y),X.index=0,X.sibling=null,X}function x(X,Y,J){return X.index=J,n?(J=X.alternate,J!==null?(J=J.index,J<Y?(X.flags|=67108866,Y):J):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function w(X){return n&&X.alternate===null&&(X.flags|=67108866),X}function M(X,Y,J,oe){return Y===null||Y.tag!==6?(Y=Zf(J,X.mode,oe),Y.return=X,Y):(Y=d(Y,J),Y.return=X,Y)}function q(X,Y,J,oe){var Ae=J.type;return Ae===B?ae(X,Y,J.props.children,oe,J.key):Y!==null&&(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Aa(Ae)===Y.type)?(Y=d(Y,J.props),Kl(Y,J),Y.return=X,Y):(Y=ju(J.type,J.key,J.props,null,X.mode,oe),Kl(Y,J),Y.return=X,Y)}function ee(X,Y,J,oe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=Jf(J,X.mode,oe),Y.return=X,Y):(Y=d(Y,J.children||[]),Y.return=X,Y)}function ae(X,Y,J,oe,Ae){return Y===null||Y.tag!==7?(Y=va(J,X.mode,oe,Ae),Y.return=X,Y):(Y=d(Y,J),Y.return=X,Y)}function ce(X,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Zf(""+Y,X.mode,J),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return J=ju(Y.type,Y.key,Y.props,null,X.mode,J),Kl(J,Y),J.return=X,J;case N:return Y=Jf(Y,X.mode,J),Y.return=X,Y;case R:return Y=Aa(Y),ce(X,Y,J)}if(ie(Y)||U(Y))return Y=va(Y,X.mode,J,null),Y.return=X,Y;if(typeof Y.then=="function")return ce(X,Vu(Y),J);if(Y.$$typeof===j)return ce(X,Mu(X,Y),J);Uu(X,Y)}return null}function ne(X,Y,J,oe){var Ae=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ae!==null?null:M(X,Y,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return J.key===Ae?q(X,Y,J,oe):null;case N:return J.key===Ae?ee(X,Y,J,oe):null;case R:return J=Aa(J),ne(X,Y,J,oe)}if(ie(J)||U(J))return Ae!==null?null:ae(X,Y,J,oe,null);if(typeof J.then=="function")return ne(X,Y,Vu(J),oe);if(J.$$typeof===j)return ne(X,Y,Mu(X,J),oe);Uu(X,J)}return null}function se(X,Y,J,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return X=X.get(J)||null,M(Y,X,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case C:return X=X.get(oe.key===null?J:oe.key)||null,q(Y,X,oe,Ae);case N:return X=X.get(oe.key===null?J:oe.key)||null,ee(Y,X,oe,Ae);case R:return oe=Aa(oe),se(X,Y,J,oe,Ae)}if(ie(oe)||U(oe))return X=X.get(J)||null,ae(Y,X,oe,Ae,null);if(typeof oe.then=="function")return se(X,Y,J,Vu(oe),Ae);if(oe.$$typeof===j)return se(X,Y,J,Mu(Y,oe),Ae);Uu(Y,oe)}return null}function _e(X,Y,J,oe){for(var Ae=null,Ke=null,be=Y,Oe=Y=0,Fe=null;be!==null&&Oe<J.length;Oe++){be.index>Oe?(Fe=be,be=null):Fe=be.sibling;var Ye=ne(X,be,J[Oe],oe);if(Ye===null){be===null&&(be=Fe);break}n&&be&&Ye.alternate===null&&s(X,be),Y=x(Ye,Y,Oe),Ke===null?Ae=Ye:Ke.sibling=Ye,Ke=Ye,be=Fe}if(Oe===J.length)return a(X,be),He&&kr(X,Oe),Ae;if(be===null){for(;Oe<J.length;Oe++)be=ce(X,J[Oe],oe),be!==null&&(Y=x(be,Y,Oe),Ke===null?Ae=be:Ke.sibling=be,Ke=be);return He&&kr(X,Oe),Ae}for(be=c(be);Oe<J.length;Oe++)Fe=se(be,X,Oe,J[Oe],oe),Fe!==null&&(n&&Fe.alternate!==null&&be.delete(Fe.key===null?Oe:Fe.key),Y=x(Fe,Y,Oe),Ke===null?Ae=Fe:Ke.sibling=Fe,Ke=Fe);return n&&be.forEach(function(js){return s(X,js)}),He&&kr(X,Oe),Ae}function Ce(X,Y,J,oe){if(J==null)throw Error(r(151));for(var Ae=null,Ke=null,be=Y,Oe=Y=0,Fe=null,Ye=J.next();be!==null&&!Ye.done;Oe++,Ye=J.next()){be.index>Oe?(Fe=be,be=null):Fe=be.sibling;var js=ne(X,be,Ye.value,oe);if(js===null){be===null&&(be=Fe);break}n&&be&&js.alternate===null&&s(X,be),Y=x(js,Y,Oe),Ke===null?Ae=js:Ke.sibling=js,Ke=js,be=Fe}if(Ye.done)return a(X,be),He&&kr(X,Oe),Ae;if(be===null){for(;!Ye.done;Oe++,Ye=J.next())Ye=ce(X,Ye.value,oe),Ye!==null&&(Y=x(Ye,Y,Oe),Ke===null?Ae=Ye:Ke.sibling=Ye,Ke=Ye);return He&&kr(X,Oe),Ae}for(be=c(be);!Ye.done;Oe++,Ye=J.next())Ye=se(be,X,Oe,Ye.value,oe),Ye!==null&&(n&&Ye.alternate!==null&&be.delete(Ye.key===null?Oe:Ye.key),Y=x(Ye,Y,Oe),Ke===null?Ae=Ye:Ke.sibling=Ye,Ke=Ye);return n&&be.forEach(function(XT){return s(X,XT)}),He&&kr(X,Oe),Ae}function st(X,Y,J,oe){if(typeof J=="object"&&J!==null&&J.type===B&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case C:e:{for(var Ae=J.key;Y!==null;){if(Y.key===Ae){if(Ae=J.type,Ae===B){if(Y.tag===7){a(X,Y.sibling),oe=d(Y,J.props.children),oe.return=X,X=oe;break e}}else if(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Aa(Ae)===Y.type){a(X,Y.sibling),oe=d(Y,J.props),Kl(oe,J),oe.return=X,X=oe;break e}a(X,Y);break}else s(X,Y);Y=Y.sibling}J.type===B?(oe=va(J.props.children,X.mode,oe,J.key),oe.return=X,X=oe):(oe=ju(J.type,J.key,J.props,null,X.mode,oe),Kl(oe,J),oe.return=X,X=oe)}return w(X);case N:e:{for(Ae=J.key;Y!==null;){if(Y.key===Ae)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){a(X,Y.sibling),oe=d(Y,J.children||[]),oe.return=X,X=oe;break e}else{a(X,Y);break}else s(X,Y);Y=Y.sibling}oe=Jf(J,X.mode,oe),oe.return=X,X=oe}return w(X);case R:return J=Aa(J),st(X,Y,J,oe)}if(ie(J))return _e(X,Y,J,oe);if(U(J)){if(Ae=U(J),typeof Ae!="function")throw Error(r(150));return J=Ae.call(J),Ce(X,Y,J,oe)}if(typeof J.then=="function")return st(X,Y,Vu(J),oe);if(J.$$typeof===j)return st(X,Y,Mu(X,J),oe);Uu(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(a(X,Y.sibling),oe=d(Y,J),oe.return=X,X=oe):(a(X,Y),oe=Zf(J,X.mode,oe),oe.return=X,X=oe),w(X)):a(X,Y)}return function(X,Y,J,oe){try{$l=0;var Ae=st(X,Y,J,oe);return Do=null,Ae}catch(be){if(be===Ro||be===Lu)throw be;var Ke=Hn(29,be,null,X.mode);return Ke.lanes=oe,Ke.return=X,Ke}finally{}}}var Ca=qx(!0),Gx=qx(!1),gs=!1;function h0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function d0(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function xs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ys(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=ku(n),Nx(n,null,a),s}return Iu(n,c,s,a),ku(n)}function Yl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,qt(n,a)}}function f0(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};x===null?d=x=w:x=x.next=w,a=a.next}while(a!==null);x===null?d=x=s:x=x.next=s}else d=x=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:x,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var m0=!1;function Xl(){if(m0){var n=No;if(n!==null)throw n}}function Ql(n,s,a,c){m0=!1;var d=n.updateQueue;gs=!1;var x=d.firstBaseUpdate,w=d.lastBaseUpdate,M=d.shared.pending;if(M!==null){d.shared.pending=null;var q=M,ee=q.next;q.next=null,w===null?x=ee:w.next=ee,w=q;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,M=ae.lastBaseUpdate,M!==w&&(M===null?ae.firstBaseUpdate=ee:M.next=ee,ae.lastBaseUpdate=q))}if(x!==null){var ce=d.baseState;w=0,ae=ee=q=null,M=x;do{var ne=M.lane&-536870913,se=ne!==M.lane;if(se?(Le&ne)===ne:(c&ne)===ne){ne!==0&&ne===So&&(m0=!0),ae!==null&&(ae=ae.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var _e=n,Ce=M;ne=s;var st=a;switch(Ce.tag){case 1:if(_e=Ce.payload,typeof _e=="function"){ce=_e.call(st,ce,ne);break e}ce=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ce.payload,ne=typeof _e=="function"?_e.call(st,ce,ne):_e,ne==null)break e;ce=v({},ce,ne);break e;case 2:gs=!0}}ne=M.callback,ne!==null&&(n.flags|=64,se&&(n.flags|=8192),se=d.callbacks,se===null?d.callbacks=[ne]:se.push(ne))}else se={lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ae===null?(ee=ae=se,q=ce):ae=ae.next=se,w|=ne;if(M=M.next,M===null){if(M=d.shared.pending,M===null)break;se=M,M=se.next,se.next=null,d.lastBaseUpdate=se,d.shared.pending=null}}while(!0);ae===null&&(q=ce),d.baseState=q,d.firstBaseUpdate=ee,d.lastBaseUpdate=ae,x===null&&(d.shared.lanes=0),Es|=w,n.lanes=w,n.memoizedState=ce}}function $x(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Kx(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)$x(a[n],s)}var Io=F(null),zu=F(0);function Yx(n,s){n=Hr,Q(zu,n),Q(Io,s),Hr=n|s.baseLanes}function p0(){Q(zu,Hr),Q(Io,Io.current)}function g0(){Hr=zu.current,$(Io),$(zu)}var qn=F(null),mi=null;function vs(n){var s=n.alternate;Q(St,St.current&1),Q(qn,n),mi===null&&(s===null||Io.current!==null||s.memoizedState!==null)&&(mi=n)}function x0(n){Q(St,St.current),Q(qn,n),mi===null&&(mi=n)}function Xx(n){n.tag===22?(Q(St,St.current),Q(qn,n),mi===null&&(mi=n)):_s()}function _s(){Q(St,St.current),Q(qn,qn.current)}function Gn(n){$(qn),mi===n&&(mi=null),$(St)}var St=F(0);function Hu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Em(a)||Am(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Or=0,Be=null,it=null,Pt=null,qu=!1,ko=!1,Sa=!1,Gu=0,Wl=0,jo=null,F4=0;function wt(){throw Error(r(321))}function y0(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!zn(n[a],s[a]))return!1;return!0}function v0(n,s,a,c,d,x){return Or=x,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=n===null||n.memoizedState===null?k1:B0,Sa=!1,x=a(c,d),Sa=!1,ko&&(x=Wx(s,a,c,d)),Qx(n),x}function Qx(n){K.H=ec;var s=it!==null&&it.next!==null;if(Or=0,Pt=it=Be=null,qu=!1,Wl=0,jo=null,s)throw Error(r(300));n===null||Lt||(n=n.dependencies,n!==null&&Ou(n)&&(Lt=!0))}function Wx(n,s,a,c){Be=n;var d=0;do{if(ko&&(jo=null),Wl=0,ko=!1,25<=d)throw Error(r(301));if(d+=1,Pt=it=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=j1,x=s(a,c)}while(ko);return x}function V4(){var n=K.H,s=n.useState()[0];return s=typeof s.then=="function"?Zl(s):s,n=n.useState()[0],(it!==null?it.memoizedState:null)!==n&&(Be.flags|=1024),s}function _0(){var n=Gu!==0;return Gu=0,n}function b0(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function w0(n){if(qu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}qu=!1}Or=0,Pt=it=Be=null,ko=!1,Wl=Gu=0,jo=null}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Be.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function Nt(){if(it===null){var n=Be.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var s=Pt===null?Be.memoizedState:Pt.next;if(s!==null)Pt=s,it=n;else{if(n===null)throw Be.alternate===null?Error(r(467)):Error(r(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Pt===null?Be.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(n){var s=Wl;return Wl+=1,jo===null&&(jo=[]),n=Ux(jo,n,s),s=Be,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?k1:B0),n}function Ku(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Zl(n);if(n.$$typeof===j)return tn(n)}throw Error(r(438,String(n)))}function E0(n){var s=null,a=Be.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=$u(),Be.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),c=0;c<n;c++)a[c]=A;return s.index++,a}function Mr(n,s){return typeof s=="function"?s(n):s}function Yu(n){var s=Nt();return A0(s,it,n)}function A0(n,s,a){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var d=n.baseQueue,x=c.pending;if(x!==null){if(d!==null){var w=d.next;d.next=x.next,x.next=w}s.baseQueue=d=x,c.pending=null}if(x=n.baseState,d===null)n.memoizedState=x;else{s=d.next;var M=w=null,q=null,ee=s,ae=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(Le&ce)===ce:(Or&ce)===ce){var ne=ee.revertLane;if(ne===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===So&&(ae=!0);else if((Or&ne)===ne){ee=ee.next,ne===So&&(ae=!0);continue}else ce={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(M=q=ce,w=x):q=q.next=ce,Be.lanes|=ne,Es|=ne;ce=ee.action,Sa&&a(x,ce),x=ee.hasEagerState?ee.eagerState:a(x,ce)}else ne={lane:ce,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(M=q=ne,w=x):q=q.next=ne,Be.lanes|=ce,Es|=ce;ee=ee.next}while(ee!==null&&ee!==s);if(q===null?w=x:q.next=M,!zn(x,n.memoizedState)&&(Lt=!0,ae&&(a=No,a!==null)))throw a;n.memoizedState=x,n.baseState=w,n.baseQueue=q,c.lastRenderedState=x}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function T0(n){var s=Nt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,x=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do x=n(x,w.action),w=w.next;while(w!==d);zn(x,s.memoizedState)||(Lt=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),a.lastRenderedState=x}return[x,c]}function Zx(n,s,a){var c=Be,d=Nt(),x=He;if(x){if(a===void 0)throw Error(r(407));a=a()}else a=s();var w=!zn((it||d).memoizedState,a);if(w&&(d.memoizedState=a,Lt=!0),d=d.queue,N0(t1.bind(null,c,d,n),[n]),d.getSnapshot!==s||w||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,Bo(9,{destroy:void 0},e1.bind(null,c,d,a,s),null),at===null)throw Error(r(349));x||(Or&127)!==0||Jx(c,s,a)}return a}function Jx(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Be.updateQueue,s===null?(s=$u(),Be.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function e1(n,s,a,c){s.value=a,s.getSnapshot=c,n1(s)&&i1(n)}function t1(n,s,a){return a(function(){n1(s)&&i1(n)})}function n1(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!zn(n,a)}catch{return!0}}function i1(n){var s=ya(n,2);s!==null&&Rn(s,n,2)}function C0(n){var s=xn();if(typeof n=="function"){var a=n;if(n=a(),Sa){pn(!0);try{a()}finally{pn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:n},s}function r1(n,s,a,c){return n.baseState=a,A0(n,it,typeof c=="function"?c:Mr)}function U4(n,s,a,c,d){if(Wu(n))throw Error(r(485));if(n=s.action,n!==null){var x={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){x.listeners.push(w)}};K.T!==null?a(!0):x.isTransition=!1,c(x),a=s.pending,a===null?(x.next=s.pending=x,s1(s,x)):(x.next=a.next,s.pending=a.next=x)}}function s1(n,s){var a=s.action,c=s.payload,d=n.state;if(s.isTransition){var x=K.T,w={};K.T=w;try{var M=a(d,c),q=K.S;q!==null&&q(w,M),a1(n,s,M)}catch(ee){S0(n,s,ee)}finally{x!==null&&w.types!==null&&(x.types=w.types),K.T=x}}else try{x=a(d,c),a1(n,s,x)}catch(ee){S0(n,s,ee)}}function a1(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){o1(n,s,c)},function(c){return S0(n,s,c)}):o1(n,s,a)}function o1(n,s,a){s.status="fulfilled",s.value=a,l1(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,s1(n,a)))}function S0(n,s,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,l1(s),s=s.next;while(s!==c)}n.action=null}function l1(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function c1(n,s){return s}function u1(n,s){if(He){var a=at.formState;if(a!==null){e:{var c=Be;if(He){if(ut){t:{for(var d=ut,x=fi;d.nodeType!==8;){if(!x){d=null;break t}if(d=pi(d.nextSibling),d===null){d=null;break t}}x=d.data,d=x==="F!"||x==="F"?d:null}if(d){ut=pi(d.nextSibling),c=d.data==="F!";break e}}ms(c)}c=!1}c&&(s=a[0])}}return a=xn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c1,lastRenderedState:s},a.queue=c,a=R1.bind(null,Be,c),c.dispatch=a,c=C0(!1),x=j0.bind(null,Be,!1,c.queue),c=xn(),d={state:s,dispatch:null,action:n,pending:null},c.queue=d,a=U4.bind(null,Be,d,x,a),d.dispatch=a,c.memoizedState=n,[s,a,!1]}function h1(n){var s=Nt();return d1(s,it,n)}function d1(n,s,a){if(s=A0(n,s,c1)[0],n=Yu(Mr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Zl(s)}catch(w){throw w===Ro?Lu:w}else c=s;s=Nt();var d=s.queue,x=d.dispatch;return a!==s.memoizedState&&(Be.flags|=2048,Bo(9,{destroy:void 0},z4.bind(null,d,a),null)),[c,x,n]}function z4(n,s){n.action=s}function f1(n){var s=Nt(),a=it;if(a!==null)return d1(s,a,n);Nt(),s=s.memoizedState,a=Nt();var c=a.queue.dispatch;return a.memoizedState=n,[s,c,!1]}function Bo(n,s,a,c){return n={tag:n,create:a,deps:c,inst:s,next:null},s=Be.updateQueue,s===null&&(s=$u(),Be.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n),n}function m1(){return Nt().memoizedState}function Xu(n,s,a,c){var d=xn();Be.flags|=n,d.memoizedState=Bo(1|s,{destroy:void 0},a,c===void 0?null:c)}function Qu(n,s,a,c){var d=Nt();c=c===void 0?null:c;var x=d.memoizedState.inst;it!==null&&c!==null&&y0(c,it.memoizedState.deps)?d.memoizedState=Bo(s,x,a,c):(Be.flags|=n,d.memoizedState=Bo(1|s,x,a,c))}function p1(n,s){Xu(8390656,8,n,s)}function N0(n,s){Qu(2048,8,n,s)}function H4(n){Be.flags|=4;var s=Be.updateQueue;if(s===null)s=$u(),Be.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function g1(n){var s=Nt().memoizedState;return H4({ref:s,nextImpl:n}),function(){if((Qe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function x1(n,s){return Qu(4,2,n,s)}function y1(n,s){return Qu(4,4,n,s)}function v1(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function _1(n,s,a){a=a!=null?a.concat([n]):null,Qu(4,4,v1.bind(null,s,n),a)}function R0(){}function b1(n,s){var a=Nt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&y0(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function w1(n,s){var a=Nt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&y0(s,c[1]))return c[0];if(c=n(),Sa){pn(!0);try{n()}finally{pn(!1)}}return a.memoizedState=[c,s],c}function D0(n,s,a){return a===void 0||(Or&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Ey(),Be.lanes|=n,Es|=n,a)}function E1(n,s,a,c){return zn(a,s)?a:Io.current!==null?(n=D0(n,a,c),zn(n,s)||(Lt=!0),n):(Or&42)===0||(Or&1073741824)!==0&&(Le&261930)===0?(Lt=!0,n.memoizedState=a):(n=Ey(),Be.lanes|=n,Es|=n,s)}function A1(n,s,a,c,d){var x=te.p;te.p=x!==0&&8>x?x:8;var w=K.T,M={};K.T=M,j0(n,!1,s,a);try{var q=d(),ee=K.S;if(ee!==null&&ee(M,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=L4(q,c);Jl(n,s,ae,Yn(n))}else Jl(n,s,c,Yn(n))}catch(ce){Jl(n,s,{then:function(){},status:"rejected",reason:ce},Yn())}finally{te.p=x,w!==null&&M.types!==null&&(w.types=M.types),K.T=w}}function q4(){}function I0(n,s,a,c){if(n.tag!==5)throw Error(r(476));var d=T1(n).queue;A1(n,d,s,he,a===null?q4:function(){return C1(n),a(c)})}function T1(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:he},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function C1(n){var s=T1(n);s.next===null&&(s=n.alternate.memoizedState),Jl(n,s.next.queue,{},Yn())}function k0(){return tn(gc)}function S1(){return Nt().memoizedState}function N1(){return Nt().memoizedState}function G4(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Yn();n=xs(a);var c=ys(s,n,a);c!==null&&(Rn(c,s,a),Yl(c,s,a)),s={cache:o0()},n.payload=s;return}s=s.return}}function $4(n,s,a){var c=Yn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(n)?D1(s,a):(a=Qf(n,s,a,c),a!==null&&(Rn(a,n,c),I1(a,s,c)))}function R1(n,s,a){var c=Yn();Jl(n,s,a,c)}function Jl(n,s,a,c){var d={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(n))D1(s,d);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var w=s.lastRenderedState,M=x(w,a);if(d.hasEagerState=!0,d.eagerState=M,zn(M,w))return Iu(n,s,d,0),at===null&&Du(),!1}catch{}finally{}if(a=Qf(n,s,d,c),a!==null)return Rn(a,n,c),I1(a,s,c),!0}return!1}function j0(n,s,a,c){if(c={lane:2,revertLane:hm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Wu(n)){if(s)throw Error(r(479))}else s=Qf(n,a,c,2),s!==null&&Rn(s,n,2)}function Wu(n){var s=n.alternate;return n===Be||s!==null&&s===Be}function D1(n,s){ko=qu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function I1(n,s,a){if((a&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,qt(n,a)}}var ec={readContext:tn,use:Ku,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};ec.useEffectEvent=wt;var k1={readContext:tn,use:Ku,useCallback:function(n,s){return xn().memoizedState=[n,s===void 0?null:s],n},useContext:tn,useEffect:p1,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Xu(4194308,4,v1.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Xu(4194308,4,n,s)},useInsertionEffect:function(n,s){Xu(4,2,n,s)},useMemo:function(n,s){var a=xn();s=s===void 0?null:s;var c=n();if(Sa){pn(!0);try{n()}finally{pn(!1)}}return a.memoizedState=[c,s],c},useReducer:function(n,s,a){var c=xn();if(a!==void 0){var d=a(s);if(Sa){pn(!0);try{a(s)}finally{pn(!1)}}}else d=s;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=$4.bind(null,Be,n),[c.memoizedState,n]},useRef:function(n){var s=xn();return n={current:n},s.memoizedState=n},useState:function(n){n=C0(n);var s=n.queue,a=R1.bind(null,Be,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:R0,useDeferredValue:function(n,s){var a=xn();return D0(a,n,s)},useTransition:function(){var n=C0(!1);return n=A1.bind(null,Be,n.queue,!0,!1),xn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var c=Be,d=xn();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),at===null)throw Error(r(349));(Le&127)!==0||Jx(c,s,a)}d.memoizedState=a;var x={value:a,getSnapshot:s};return d.queue=x,p1(t1.bind(null,c,x,n),[n]),c.flags|=2048,Bo(9,{destroy:void 0},e1.bind(null,c,x,a,s),null),a},useId:function(){var n=xn(),s=at.identifierPrefix;if(He){var a=ur,c=cr;a=(c&~(1<<32-yt(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Gu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=F4++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:k0,useFormState:u1,useActionState:u1,useOptimistic:function(n){var s=xn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=j0.bind(null,Be,!0,a),a.dispatch=s,[n,s]},useMemoCache:E0,useCacheRefresh:function(){return xn().memoizedState=G4.bind(null,Be)},useEffectEvent:function(n){var s=xn(),a={impl:n};return s.memoizedState=a,function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},B0={readContext:tn,use:Ku,useCallback:b1,useContext:tn,useEffect:N0,useImperativeHandle:_1,useInsertionEffect:x1,useLayoutEffect:y1,useMemo:w1,useReducer:Yu,useRef:m1,useState:function(){return Yu(Mr)},useDebugValue:R0,useDeferredValue:function(n,s){var a=Nt();return E1(a,it.memoizedState,n,s)},useTransition:function(){var n=Yu(Mr)[0],s=Nt().memoizedState;return[typeof n=="boolean"?n:Zl(n),s]},useSyncExternalStore:Zx,useId:S1,useHostTransitionStatus:k0,useFormState:h1,useActionState:h1,useOptimistic:function(n,s){var a=Nt();return r1(a,it,n,s)},useMemoCache:E0,useCacheRefresh:N1};B0.useEffectEvent=g1;var j1={readContext:tn,use:Ku,useCallback:b1,useContext:tn,useEffect:N0,useImperativeHandle:_1,useInsertionEffect:x1,useLayoutEffect:y1,useMemo:w1,useReducer:T0,useRef:m1,useState:function(){return T0(Mr)},useDebugValue:R0,useDeferredValue:function(n,s){var a=Nt();return it===null?D0(a,n,s):E1(a,it.memoizedState,n,s)},useTransition:function(){var n=T0(Mr)[0],s=Nt().memoizedState;return[typeof n=="boolean"?n:Zl(n),s]},useSyncExternalStore:Zx,useId:S1,useHostTransitionStatus:k0,useFormState:f1,useActionState:f1,useOptimistic:function(n,s){var a=Nt();return it!==null?r1(a,it,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:E0,useCacheRefresh:N1};j1.useEffectEvent=g1;function O0(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var M0={enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Yn(),d=xs(c);d.payload=s,a!=null&&(d.callback=a),s=ys(n,d,c),s!==null&&(Rn(s,n,c),Yl(s,n,c))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Yn(),d=xs(c);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=ys(n,d,c),s!==null&&(Rn(s,n,c),Yl(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Yn(),c=xs(a);c.tag=2,s!=null&&(c.callback=s),s=ys(n,c,a),s!==null&&(Rn(s,n,a),Yl(s,n,a))}};function B1(n,s,a,c,d,x,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,x,w):s.prototype&&s.prototype.isPureReactComponent?!Vl(a,c)||!Vl(d,x):!0}function O1(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&M0.enqueueReplaceState(s,s.state,null)}function Na(n,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}function M1(n){Ru(n)}function P1(n){console.error(n)}function L1(n){Ru(n)}function Zu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function F1(n,s,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function P0(n,s,a){return a=xs(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(n,s)},a}function V1(n){return n=xs(n),n.tag=3,n}function U1(n,s,a,c){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var x=c.value;n.payload=function(){return d(x)},n.callback=function(){F1(s,a,c)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){F1(s,a,c),typeof d!="function"&&(As===null?As=new Set([this]):As.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function K4(n,s,a,c,d){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Co(s,a,d,!0),a=qn.current,a!==null){switch(a.tag){case 31:case 13:return mi===null?uh():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=d,c===Fu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),lm(n,c,d)),!1;case 22:return a.flags|=65536,c===Fu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),lm(n,c,d)),!1}throw Error(r(435,a.tag))}return lm(n,c,d),uh(),!1}if(He)return s=qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==n0&&(n=Error(r(422),{cause:c}),Hl(ui(n,a)))):(c!==n0&&(s=Error(r(423),{cause:c}),Hl(ui(s,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=ui(c,a),d=P0(n.stateNode,c,d),f0(n,d),Et!==4&&(Et=2)),!1;var x=Error(r(520),{cause:c});if(x=ui(x,a),lc===null?lc=[x]:lc.push(x),Et!==4&&(Et=2),s===null)return!0;c=ui(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=P0(a.stateNode,c,n),f0(a,n),!1;case 1:if(s=a.type,x=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(As===null||!As.has(x))))return a.flags|=65536,d&=-d,a.lanes|=d,d=V1(d),U1(d,n,a,c),f0(a,d),!1}a=a.return}while(a!==null);return!1}var L0=Error(r(461)),Lt=!1;function nn(n,s,a,c){s.child=n===null?Gx(s,null,a,c):Ca(s,n.child,a,c)}function z1(n,s,a,c,d){a=a.render;var x=s.ref;if("ref"in c){var w={};for(var M in c)M!=="ref"&&(w[M]=c[M])}else w=c;return wa(s),c=v0(n,s,a,w,x,d),M=_0(),n!==null&&!Lt?(b0(n,s,d),Pr(n,s,d)):(He&&M&&e0(s),s.flags|=1,nn(n,s,c,d),s.child)}function H1(n,s,a,c,d){if(n===null){var x=a.type;return typeof x=="function"&&!Wf(x)&&x.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=x,q1(n,s,x,c,d)):(n=ju(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,!$0(n,d)){var w=x.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(w,c)&&n.ref===s.ref)return Pr(n,s,d)}return s.flags|=1,n=Ir(x,c),n.ref=s.ref,n.return=s,s.child=n}function q1(n,s,a,c,d){if(n!==null){var x=n.memoizedProps;if(Vl(x,c)&&n.ref===s.ref)if(Lt=!1,s.pendingProps=c=x,$0(n,d))(n.flags&131072)!==0&&(Lt=!0);else return s.lanes=n.lanes,Pr(n,s,d)}return F0(n,s,a,c,d)}function G1(n,s,a,c){var d=c.children,x=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|a:a,n!==null){for(c=s.child=n.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~x}else c=0,s.child=null;return $1(n,s,x,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Pu(s,x!==null?x.cachePool:null),x!==null?Yx(s,x):p0(),Xx(s);else return c=s.lanes=536870912,$1(n,s,x!==null?x.baseLanes|a:a,a,c)}else x!==null?(Pu(s,x.cachePool),Yx(s,x),_s(),s.memoizedState=null):(n!==null&&Pu(s,null),p0(),_s());return nn(n,s,d,a),s.child}function tc(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function $1(n,s,a,c,d){var x=c0();return x=x===null?null:{parent:Mt._currentValue,pool:x},s.memoizedState={baseLanes:a,cachePool:x},n!==null&&Pu(s,null),p0(),Xx(s),n!==null&&Co(n,s,c,!0),s.childLanes=d,null}function Ju(n,s){return s=th({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function K1(n,s,a){return Ca(s,n.child,null,a),n=Ju(s,s.pendingProps),n.flags|=2,Gn(s),s.memoizedState=null,n}function Y4(n,s,a){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(He){if(c.mode==="hidden")return n=Ju(s,c),s.lanes=536870912,tc(null,n);if(x0(s),(n=ut)?(n=sv(n,fi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ds!==null?{id:cr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},a=Dx(n),a.return=s,s.child=a,en=s,ut=null)):n=null,n===null)throw ms(s);return s.lanes=536870912,null}return Ju(s,c)}var x=n.memoizedState;if(x!==null){var w=x.dehydrated;if(x0(s),d)if(s.flags&256)s.flags&=-257,s=K1(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Lt||Co(n,s,a,!1),d=(a&n.childLanes)!==0,Lt||d){if(c=at,c!==null&&(w=wn(c,a),w!==0&&w!==x.retryLane))throw x.retryLane=w,ya(n,w),Rn(c,n,w),L0;uh(),s=K1(n,s,a)}else n=x.treeContext,ut=pi(w.nextSibling),en=s,He=!0,fs=null,fi=!1,n!==null&&jx(s,n),s=Ju(s,c),s.flags|=4096;return s}return n=Ir(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function eh(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function F0(n,s,a,c,d){return wa(s),a=v0(n,s,a,c,void 0,d),c=_0(),n!==null&&!Lt?(b0(n,s,d),Pr(n,s,d)):(He&&c&&e0(s),s.flags|=1,nn(n,s,a,d),s.child)}function Y1(n,s,a,c,d,x){return wa(s),s.updateQueue=null,a=Wx(s,c,a,d),Qx(n),c=_0(),n!==null&&!Lt?(b0(n,s,x),Pr(n,s,x)):(He&&c&&e0(s),s.flags|=1,nn(n,s,a,x),s.child)}function X1(n,s,a,c,d){if(wa(s),s.stateNode===null){var x=wo,w=a.contextType;typeof w=="object"&&w!==null&&(x=tn(w)),x=new a(c,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=M0,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=c,x.state=s.memoizedState,x.refs={},h0(s),w=a.contextType,x.context=typeof w=="object"&&w!==null?tn(w):wo,x.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(O0(s,a,w,c),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(w=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),w!==x.state&&M0.enqueueReplaceState(x,x.state,null),Ql(s,c,x,d),Xl(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){x=s.stateNode;var M=s.memoizedProps,q=Na(a,M);x.props=q;var ee=x.context,ae=a.contextType;w=wo,typeof ae=="object"&&ae!==null&&(w=tn(ae));var ce=a.getDerivedStateFromProps;ae=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,ae||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||ee!==w)&&O1(s,x,c,w),gs=!1;var ne=s.memoizedState;x.state=ne,Ql(s,c,x,d),Xl(),ee=s.memoizedState,M||ne!==ee||gs?(typeof ce=="function"&&(O0(s,a,ce,c),ee=s.memoizedState),(q=gs||B1(s,a,q,c,ne,ee,w))?(ae||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ee),x.props=c,x.state=ee,x.context=w,c=q):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{x=s.stateNode,d0(n,s),w=s.memoizedProps,ae=Na(a,w),x.props=ae,ce=s.pendingProps,ne=x.context,ee=a.contextType,q=wo,typeof ee=="object"&&ee!==null&&(q=tn(ee)),M=a.getDerivedStateFromProps,(ee=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==ce||ne!==q)&&O1(s,x,c,q),gs=!1,ne=s.memoizedState,x.state=ne,Ql(s,c,x,d),Xl();var se=s.memoizedState;w!==ce||ne!==se||gs||n!==null&&n.dependencies!==null&&Ou(n.dependencies)?(typeof M=="function"&&(O0(s,a,M,c),se=s.memoizedState),(ae=gs||B1(s,a,ae,c,ne,se,q)||n!==null&&n.dependencies!==null&&Ou(n.dependencies))?(ee||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,se,q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,se,q)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===n.memoizedProps&&ne===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ne===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=se),x.props=c,x.state=se,x.context=q,c=ae):(typeof x.componentDidUpdate!="function"||w===n.memoizedProps&&ne===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ne===n.memoizedState||(s.flags|=1024),c=!1)}return x=c,eh(n,s),c=(s.flags&128)!==0,x||c?(x=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,n!==null&&c?(s.child=Ca(s,n.child,null,d),s.child=Ca(s,null,a,d)):nn(n,s,a,d),s.memoizedState=x.state,n=s.child):n=Pr(n,s,d),n}function Q1(n,s,a,c){return _a(),s.flags|=256,nn(n,s,a,c),s.child}var V0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function U0(n){return{baseLanes:n,cachePool:Fx()}}function z0(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Kn),n}function W1(n,s,a){var c=s.pendingProps,d=!1,x=(s.flags&128)!==0,w;if((w=x)||(w=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),w&&(d=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,n===null){if(He){if(d?vs(s):_s(),(n=ut)?(n=sv(n,fi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ds!==null?{id:cr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},a=Dx(n),a.return=s,s.child=a,en=s,ut=null)):n=null,n===null)throw ms(s);return Am(n)?s.lanes=32:s.lanes=536870912,null}var M=c.children;return c=c.fallback,d?(_s(),d=s.mode,M=th({mode:"hidden",children:M},d),c=va(c,d,a,null),M.return=s,c.return=s,M.sibling=c,s.child=M,c=s.child,c.memoizedState=U0(a),c.childLanes=z0(n,w,a),s.memoizedState=V0,tc(null,c)):(vs(s),H0(s,M))}var q=n.memoizedState;if(q!==null&&(M=q.dehydrated,M!==null)){if(x)s.flags&256?(vs(s),s.flags&=-257,s=q0(n,s,a)):s.memoizedState!==null?(_s(),s.child=n.child,s.flags|=128,s=null):(_s(),M=c.fallback,d=s.mode,c=th({mode:"visible",children:c.children},d),M=va(M,d,a,null),M.flags|=2,c.return=s,M.return=s,c.sibling=M,s.child=c,Ca(s,n.child,null,a),c=s.child,c.memoizedState=U0(a),c.childLanes=z0(n,w,a),s.memoizedState=V0,s=tc(null,c));else if(vs(s),Am(M)){if(w=M.nextSibling&&M.nextSibling.dataset,w)var ee=w.dgst;w=ee,c=Error(r(419)),c.stack="",c.digest=w,Hl({value:c,source:null,stack:null}),s=q0(n,s,a)}else if(Lt||Co(n,s,a,!1),w=(a&n.childLanes)!==0,Lt||w){if(w=at,w!==null&&(c=wn(w,a),c!==0&&c!==q.retryLane))throw q.retryLane=c,ya(n,c),Rn(w,n,c),L0;Em(M)||uh(),s=q0(n,s,a)}else Em(M)?(s.flags|=192,s.child=n.child,s=null):(n=q.treeContext,ut=pi(M.nextSibling),en=s,He=!0,fs=null,fi=!1,n!==null&&jx(s,n),s=H0(s,c.children),s.flags|=4096);return s}return d?(_s(),M=c.fallback,d=s.mode,q=n.child,ee=q.sibling,c=Ir(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,ee!==null?M=Ir(ee,M):(M=va(M,d,a,null),M.flags|=2),M.return=s,c.return=s,c.sibling=M,s.child=c,tc(null,c),c=s.child,M=n.child.memoizedState,M===null?M=U0(a):(d=M.cachePool,d!==null?(q=Mt._currentValue,d=d.parent!==q?{parent:q,pool:q}:d):d=Fx(),M={baseLanes:M.baseLanes|a,cachePool:d}),c.memoizedState=M,c.childLanes=z0(n,w,a),s.memoizedState=V0,tc(n.child,c)):(vs(s),a=n.child,n=a.sibling,a=Ir(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,n!==null&&(w=s.deletions,w===null?(s.deletions=[n],s.flags|=16):w.push(n)),s.child=a,s.memoizedState=null,a)}function H0(n,s){return s=th({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function th(n,s){return n=Hn(22,n,null,s),n.lanes=0,n}function q0(n,s,a){return Ca(s,n.child,null,a),n=H0(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Z1(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),s0(n.return,s,a)}function G0(n,s,a,c,d,x){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d,treeForkCount:x}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=a,w.tailMode=d,w.treeForkCount=x)}function J1(n,s,a){var c=s.pendingProps,d=c.revealOrder,x=c.tail;c=c.children;var w=St.current,M=(w&2)!==0;if(M?(w=w&1|2,s.flags|=128):w&=1,Q(St,w),nn(n,s,c,a),c=He?zl:0,!M&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Z1(n,a,s);else if(n.tag===19)Z1(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&Hu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),G0(s,!1,d,a,x,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Hu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}G0(s,!0,a,null,x,c);break;case"together":G0(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Pr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Es|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Co(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Ir(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Ir(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function $0(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ou(n)))}function X4(n,s,a){switch(s.tag){case 3:Ee(s,s.stateNode.containerInfo),ps(s,Mt,n.memoizedState.cache),_a();break;case 27:case 5:bn(s);break;case 4:Ee(s,s.stateNode.containerInfo);break;case 10:ps(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,x0(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(vs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?W1(n,s,a):(vs(s),n=Pr(n,s,a),n!==null?n.sibling:null);vs(s);break;case 19:var d=(n.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Co(n,s,a,!1),c=(a&s.childLanes)!==0),d){if(c)return J1(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(St,St.current),c)break;return null;case 22:return s.lanes=0,G1(n,s,a,s.pendingProps);case 24:ps(s,Mt,n.memoizedState.cache)}return Pr(n,s,a)}function ey(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Lt=!0;else{if(!$0(n,a)&&(s.flags&128)===0)return Lt=!1,X4(n,s,a);Lt=(n.flags&131072)!==0}else Lt=!1,He&&(s.flags&1048576)!==0&&kx(s,zl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=Aa(s.elementType),s.type=n,typeof n=="function")Wf(n)?(c=Na(n,c),s.tag=1,s=X1(null,s,n,c,a)):(s.tag=0,s=F0(null,s,n,c,a));else{if(n!=null){var d=n.$$typeof;if(d===L){s.tag=11,s=z1(null,s,n,c,a);break e}else if(d===T){s.tag=14,s=H1(null,s,n,c,a);break e}}throw s=de(n)||n,Error(r(306,s,""))}}return s;case 0:return F0(n,s,s.type,s.pendingProps,a);case 1:return c=s.type,d=Na(c,s.pendingProps),X1(n,s,c,d,a);case 3:e:{if(Ee(s,s.stateNode.containerInfo),n===null)throw Error(r(387));c=s.pendingProps;var x=s.memoizedState;d=x.element,d0(n,s),Ql(s,c,null,a);var w=s.memoizedState;if(c=w.cache,ps(s,Mt,c),c!==x.cache&&a0(s,[Mt],a,!0),Xl(),c=w.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=Q1(n,s,c,a);break e}else if(c!==d){d=ui(Error(r(424)),s),Hl(d),s=Q1(n,s,c,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=pi(n.firstChild),en=s,He=!0,fs=null,fi=!0,a=Gx(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_a(),c===d){s=Pr(n,s,a);break e}nn(n,s,c,a)}s=s.child}return s;case 26:return eh(n,s),n===null?(a=hv(s.type,null,s.pendingProps,null))?s.memoizedState=a:He||(a=s.type,n=s.pendingProps,c=xh(ye.current).createElement(a),c[jt]=s,c[Yt]=n,rn(c,a,n),Bt(c),s.stateNode=c):s.memoizedState=hv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return bn(s),n===null&&He&&(c=s.stateNode=lv(s.type,s.pendingProps,ye.current),en=s,fi=!0,d=ut,Ns(s.type)?(Tm=d,ut=pi(c.firstChild)):ut=d),nn(n,s,s.pendingProps.children,a),eh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&He&&((d=c=ut)&&(c=TT(c,s.type,s.pendingProps,fi),c!==null?(s.stateNode=c,en=s,ut=pi(c.firstChild),fi=!1,d=!0):d=!1),d||ms(s)),bn(s),d=s.type,x=s.pendingProps,w=n!==null?n.memoizedProps:null,c=x.children,_m(d,x)?c=null:w!==null&&_m(d,w)&&(s.flags|=32),s.memoizedState!==null&&(d=v0(n,s,V4,null,null,a),gc._currentValue=d),eh(n,s),nn(n,s,c,a),s.child;case 6:return n===null&&He&&((n=a=ut)&&(a=CT(a,s.pendingProps,fi),a!==null?(s.stateNode=a,en=s,ut=null,n=!0):n=!1),n||ms(s)),null;case 13:return W1(n,s,a);case 4:return Ee(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Ca(s,null,c,a):nn(n,s,c,a),s.child;case 11:return z1(n,s,s.type,s.pendingProps,a);case 7:return nn(n,s,s.pendingProps,a),s.child;case 8:return nn(n,s,s.pendingProps.children,a),s.child;case 12:return nn(n,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,ps(s,s.type,c.value),nn(n,s,c.children,a),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,wa(s),d=tn(d),c=c(d),s.flags|=1,nn(n,s,c,a),s.child;case 14:return H1(n,s,s.type,s.pendingProps,a);case 15:return q1(n,s,s.type,s.pendingProps,a);case 19:return J1(n,s,a);case 31:return Y4(n,s,a);case 22:return G1(n,s,a,s.pendingProps);case 24:return wa(s),c=tn(Mt),n===null?(d=c0(),d===null&&(d=at,x=o0(),d.pooledCache=x,x.refCount++,x!==null&&(d.pooledCacheLanes|=a),d=x),s.memoizedState={parent:c,cache:d},h0(s),ps(s,Mt,d)):((n.lanes&a)!==0&&(d0(n,s),Ql(s,null,null,a),Xl()),d=n.memoizedState,x=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ps(s,Mt,c)):(c=x.cache,ps(s,Mt,c),c!==d.cache&&a0(s,[Mt],a,!0))),nn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Lr(n){n.flags|=4}function K0(n,s,a,c,d){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(Sy())n.flags|=8192;else throw Ta=Fu,u0}else n.flags&=-16777217}function ty(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!gv(s))if(Sy())n.flags|=8192;else throw Ta=Fu,u0}function nh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?so():536870912,n.lanes|=s,Lo|=s)}function nc(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function ht(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function Q4(n,s,a){var c=s.pendingProps;switch(t0(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return ht(s),null;case 3:return a=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Br(Mt),We(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(To(s)?Lr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,i0())),ht(s),null;case 26:var d=s.type,x=s.memoizedState;return n===null?(Lr(s),x!==null?(ht(s),ty(s,x)):(ht(s),K0(s,d,null,c,a))):x?x!==n.memoizedState?(Lr(s),ht(s),ty(s,x)):(ht(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&Lr(s),ht(s),K0(s,d,n,c,a)),null;case 27:if(Ui(s),a=ye.current,d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Lr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ht(s),null}n=W.current,To(s)?Bx(s):(n=lv(d,c,a),s.stateNode=n,Lr(s))}return ht(s),null;case 5:if(Ui(s),d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Lr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ht(s),null}if(x=W.current,To(s))Bx(s);else{var w=xh(ye.current);switch(x){case 1:x=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:x=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":x=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":x=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":x=w.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?x.multiple=!0:c.size&&(x.size=c.size);break;default:x=typeof c.is=="string"?w.createElement(d,{is:c.is}):w.createElement(d)}}x[jt]=s,x[Yt]=c;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)x.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=x;e:switch(rn(x,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Lr(s)}}return ht(s),K0(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&Lr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(n=ye.current,To(s)){if(n=s.stateNode,a=s.memoizedProps,c=null,d=en,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[jt]=s,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Wy(n.nodeValue,a)),n||ms(s,!0)}else n=xh(n).createTextNode(c),n[jt]=s,s.stateNode=n}return ht(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(c=To(s),a!==null){if(n===null){if(!c)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[jt]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),n=!1}else a=i0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Gn(s),s):(Gn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ht(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=To(s),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[jt]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),d=!1}else d=i0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Gn(s),s):(Gn(s),null)}return Gn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==d&&(c.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),nh(s,s.updateQueue),ht(s),null);case 4:return We(),n===null&&pm(s.stateNode.containerInfo),ht(s),null;case 10:return Br(s.type),ht(s),null;case 19:if($(St),c=s.memoizedState,c===null)return ht(s),null;if(d=(s.flags&128)!==0,x=c.rendering,x===null)if(d)nc(c,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=Hu(n),x!==null){for(s.flags|=128,nc(c,!1),n=x.updateQueue,s.updateQueue=n,nh(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Rx(a,n),a=a.sibling;return Q(St,St.current&1|2),He&&kr(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&It()>oh&&(s.flags|=128,d=!0,nc(c,!1),s.lanes=4194304)}else{if(!d)if(n=Hu(x),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,nh(s,n),nc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!x.alternate&&!He)return ht(s),null}else 2*It()-c.renderingStartTime>oh&&a!==536870912&&(s.flags|=128,d=!0,nc(c,!1),s.lanes=4194304);c.isBackwards?(x.sibling=s.child,s.child=x):(n=c.last,n!==null?n.sibling=x:s.child=x,c.last=x)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=It(),n.sibling=null,a=St.current,Q(St,d?a&1|2:a&1),He&&kr(s,c.treeForkCount),n):(ht(s),null);case 22:case 23:return Gn(s),g0(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),a=s.updateQueue,a!==null&&nh(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),n!==null&&$(Ea),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Br(Mt),ht(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function W4(n,s){switch(t0(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Br(Mt),We(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ui(s),null;case 31:if(s.memoizedState!==null){if(Gn(s),s.alternate===null)throw Error(r(340));_a()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Gn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_a()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return $(St),null;case 4:return We(),null;case 10:return Br(s.type),null;case 22:case 23:return Gn(s),g0(),n!==null&&$(Ea),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Br(Mt),null;case 25:return null;default:return null}}function ny(n,s){switch(t0(s),s.tag){case 3:Br(Mt),We();break;case 26:case 27:case 5:Ui(s);break;case 4:We();break;case 31:s.memoizedState!==null&&Gn(s);break;case 13:Gn(s);break;case 19:$(St);break;case 10:Br(s.type);break;case 22:case 23:Gn(s),g0(),n!==null&&$(Ea);break;case 24:Br(Mt)}}function ic(n,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&n)===n){c=void 0;var x=a.create,w=a.inst;c=x(),w.destroy=c}a=a.next}while(a!==d)}}catch(M){tt(s,s.return,M)}}function bs(n,s,a){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var x=d.next;c=x;do{if((c.tag&n)===n){var w=c.inst,M=w.destroy;if(M!==void 0){w.destroy=void 0,d=s;var q=a,ee=M;try{ee()}catch(ae){tt(d,q,ae)}}}c=c.next}while(c!==x)}}catch(ae){tt(s,s.return,ae)}}function iy(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Kx(s,a)}catch(c){tt(n,n.return,c)}}}function ry(n,s,a){a.props=Na(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){tt(n,s,c)}}function rc(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(d){tt(n,s,d)}}function hr(n,s){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(d){tt(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){tt(n,s,d)}else a.current=null}function sy(n){var s=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(d){tt(n,n.return,d)}}function Y0(n,s,a){try{var c=n.stateNode;vT(c,n.type,a,s),c[Yt]=s}catch(d){tt(n,n.return,d)}}function ay(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ns(n.type)||n.tag===4}function X0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ay(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ns(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Q0(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Si));else if(c!==4&&(c===27&&Ns(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Q0(n,s,a),n=n.sibling;n!==null;)Q0(n,s,a),n=n.sibling}function ih(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(c===27&&Ns(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(ih(n,s,a),n=n.sibling;n!==null;)ih(n,s,a),n=n.sibling}function oy(n){var s=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);rn(s,c,a),s[jt]=n,s[Yt]=a}catch(x){tt(n,n.return,x)}}var Fr=!1,Ft=!1,W0=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function Z4(n,s){if(n=n.containerInfo,ym=Ah,n=_x(n),qf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var w=0,M=-1,q=-1,ee=0,ae=0,ce=n,ne=null;t:for(;;){for(var se;ce!==a||d!==0&&ce.nodeType!==3||(M=w+d),ce!==x||c!==0&&ce.nodeType!==3||(q=w+c),ce.nodeType===3&&(w+=ce.nodeValue.length),(se=ce.firstChild)!==null;)ne=ce,ce=se;for(;;){if(ce===n)break t;if(ne===a&&++ee===d&&(M=w),ne===x&&++ae===c&&(q=w),(se=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=se}a=M===-1||q===-1?null:{start:M,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(vm={focusedElem:n,selectionRange:a},Ah=!1,Qt=s;Qt!==null;)if(s=Qt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Qt=n;else for(;Qt!==null;){switch(s=Qt,x=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)d=n[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,a=s,d=x.memoizedProps,x=x.memoizedState,c=a.stateNode;try{var _e=Na(a.type,d);n=c.getSnapshotBeforeUpdate(_e,x),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ce){tt(a,a.return,Ce)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)wm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":wm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Qt=n;break}Qt=s.return}}function cy(n,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Ur(n,a),c&4&&ic(5,a);break;case 1:if(Ur(n,a),c&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(w){tt(a,a.return,w)}else{var d=Na(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(w){tt(a,a.return,w)}}c&64&&iy(a),c&512&&rc(a,a.return);break;case 3:if(Ur(n,a),c&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Kx(n,s)}catch(w){tt(a,a.return,w)}}break;case 27:s===null&&c&4&&oy(a);case 26:case 5:Ur(n,a),s===null&&c&4&&sy(a),c&512&&rc(a,a.return);break;case 12:Ur(n,a);break;case 31:Ur(n,a),c&4&&dy(n,a);break;case 13:Ur(n,a),c&4&&fy(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=oT.bind(null,a),ST(n,a))));break;case 22:if(c=a.memoizedState!==null||Fr,!c){s=s!==null&&s.memoizedState!==null||Ft,d=Fr;var x=Ft;Fr=c,(Ft=s)&&!x?zr(n,a,(a.subtreeFlags&8772)!==0):Ur(n,a),Fr=d,Ft=x}break;case 30:break;default:Ur(n,a)}}function uy(n){var s=n.alternate;s!==null&&(n.alternate=null,uy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&oo(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var gt=null,Tn=!1;function Vr(n,s,a){for(a=a.child;a!==null;)hy(n,s,a),a=a.sibling}function hy(n,s,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:Ft||hr(a,s),Vr(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||hr(a,s);var c=gt,d=Tn;Ns(a.type)&&(gt=a.stateNode,Tn=!1),Vr(n,s,a),fc(a.stateNode),gt=c,Tn=d;break;case 5:Ft||hr(a,s);case 6:if(c=gt,d=Tn,gt=null,Vr(n,s,a),gt=c,Tn=d,gt!==null)if(Tn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(x){tt(a,s,x)}else try{gt.removeChild(a.stateNode)}catch(x){tt(a,s,x)}break;case 18:gt!==null&&(Tn?(n=gt,iv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),$o(n)):iv(gt,a.stateNode));break;case 4:c=gt,d=Tn,gt=a.stateNode.containerInfo,Tn=!0,Vr(n,s,a),gt=c,Tn=d;break;case 0:case 11:case 14:case 15:bs(2,a,s),Ft||bs(4,a,s),Vr(n,s,a);break;case 1:Ft||(hr(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&ry(a,s,c)),Vr(n,s,a);break;case 21:Vr(n,s,a);break;case 22:Ft=(c=Ft)||a.memoizedState!==null,Vr(n,s,a),Ft=c;break;default:Vr(n,s,a)}}function dy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{$o(n)}catch(a){tt(s,s.return,a)}}}function fy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$o(n)}catch(a){tt(s,s.return,a)}}function J4(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new ly),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new ly),s;default:throw Error(r(435,n.tag))}}function rh(n,s){var a=J4(n);s.forEach(function(c){if(!a.has(c)){a.add(c);var d=lT.bind(null,n,c);c.then(d,d)}})}function Cn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c],x=n,w=s,M=w;e:for(;M!==null;){switch(M.tag){case 27:if(Ns(M.type)){gt=M.stateNode,Tn=!1;break e}break;case 5:gt=M.stateNode,Tn=!1;break e;case 3:case 4:gt=M.stateNode.containerInfo,Tn=!0;break e}M=M.return}if(gt===null)throw Error(r(160));hy(x,w,d),gt=null,Tn=!1,x=d.alternate,x!==null&&(x.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)my(s,n),s=s.sibling}var ji=null;function my(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(s,n),Sn(n),c&4&&(bs(3,n,n.return),ic(3,n),bs(5,n,n.return));break;case 1:Cn(s,n),Sn(n),c&512&&(Ft||a===null||hr(a,a.return)),c&64&&Fr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var d=ji;if(Cn(s,n),Sn(n),c&512&&(Ft||a===null||hr(a,a.return)),c&4){var x=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":x=d.getElementsByTagName("title")[0],(!x||x[Wi]||x[jt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=d.createElement(c),d.head.insertBefore(x,d.querySelector("head > title"))),rn(x,c,a),x[jt]=n,Bt(x),c=x;break e;case"link":var w=mv("link","href",d).get(c+(a.href||""));if(w){for(var M=0;M<w.length;M++)if(x=w[M],x.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&x.getAttribute("rel")===(a.rel==null?null:a.rel)&&x.getAttribute("title")===(a.title==null?null:a.title)&&x.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(M,1);break t}}x=d.createElement(c),rn(x,c,a),d.head.appendChild(x);break;case"meta":if(w=mv("meta","content",d).get(c+(a.content||""))){for(M=0;M<w.length;M++)if(x=w[M],x.getAttribute("content")===(a.content==null?null:""+a.content)&&x.getAttribute("name")===(a.name==null?null:a.name)&&x.getAttribute("property")===(a.property==null?null:a.property)&&x.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&x.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(M,1);break t}}x=d.createElement(c),rn(x,c,a),d.head.appendChild(x);break;default:throw Error(r(468,c))}x[jt]=n,Bt(x),c=x}n.stateNode=c}else pv(d,n.type,n.stateNode);else n.stateNode=fv(d,c,n.memoizedProps);else x!==c?(x===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):x.count--,c===null?pv(d,n.type,n.stateNode):fv(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Y0(n,n.memoizedProps,a.memoizedProps)}break;case 27:Cn(s,n),Sn(n),c&512&&(Ft||a===null||hr(a,a.return)),a!==null&&c&4&&Y0(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Cn(s,n),Sn(n),c&512&&(Ft||a===null||hr(a,a.return)),n.flags&32){d=n.stateNode;try{An(d,"")}catch(_e){tt(n,n.return,_e)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,Y0(n,d,a!==null?a.memoizedProps:d)),c&1024&&(W0=!0);break;case 6:if(Cn(s,n),Sn(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(_e){tt(n,n.return,_e)}}break;case 3:if(_h=null,d=ji,ji=yh(s.containerInfo),Cn(s,n),ji=d,Sn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{$o(s.containerInfo)}catch(_e){tt(n,n.return,_e)}W0&&(W0=!1,py(n));break;case 4:c=ji,ji=yh(n.stateNode.containerInfo),Cn(s,n),Sn(n),ji=c;break;case 12:Cn(s,n),Sn(n);break;case 31:Cn(s,n),Sn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,rh(n,c)));break;case 13:Cn(s,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ah=It()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,rh(n,c)));break;case 22:d=n.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,ee=Fr,ae=Ft;if(Fr=ee||d,Ft=ae||q,Cn(s,n),Ft=ae,Fr=ee,Sn(n),c&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||q||Fr||Ft||Ra(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){q=a=s;try{if(x=q.stateNode,d)w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{M=q.stateNode;var ce=q.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;M.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(_e){tt(q,q.return,_e)}}}else if(s.tag===6){if(a===null){q=s;try{q.stateNode.nodeValue=d?"":q.memoizedProps}catch(_e){tt(q,q.return,_e)}}}else if(s.tag===18){if(a===null){q=s;try{var se=q.stateNode;d?rv(se,!0):rv(q.stateNode,!1)}catch(_e){tt(q,q.return,_e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,rh(n,a))));break;case 19:Cn(s,n),Sn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,rh(n,c)));break;case 30:break;case 21:break;default:Cn(s,n),Sn(n)}}function Sn(n){var s=n.flags;if(s&2){try{for(var a,c=n.return;c!==null;){if(ay(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,x=X0(n);ih(n,x,d);break;case 5:var w=a.stateNode;a.flags&32&&(An(w,""),a.flags&=-33);var M=X0(n);ih(n,M,w);break;case 3:case 4:var q=a.stateNode.containerInfo,ee=X0(n);Q0(n,ee,q);break;default:throw Error(r(161))}}catch(ae){tt(n,n.return,ae)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function py(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;py(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ur(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)cy(n,s.alternate,s),s=s.sibling}function Ra(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:bs(4,s,s.return),Ra(s);break;case 1:hr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&ry(s,s.return,a),Ra(s);break;case 27:fc(s.stateNode);case 26:case 5:hr(s,s.return),Ra(s);break;case 22:s.memoizedState===null&&Ra(s);break;case 30:Ra(s);break;default:Ra(s)}n=n.sibling}}function zr(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=n,x=s,w=x.flags;switch(x.tag){case 0:case 11:case 15:zr(d,x,a),ic(4,x);break;case 1:if(zr(d,x,a),c=x,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(ee){tt(c,c.return,ee)}if(c=x,d=c.updateQueue,d!==null){var M=c.stateNode;try{var q=d.shared.hiddenCallbacks;if(q!==null)for(d.shared.hiddenCallbacks=null,d=0;d<q.length;d++)$x(q[d],M)}catch(ee){tt(c,c.return,ee)}}a&&w&64&&iy(x),rc(x,x.return);break;case 27:oy(x);case 26:case 5:zr(d,x,a),a&&c===null&&w&4&&sy(x),rc(x,x.return);break;case 12:zr(d,x,a);break;case 31:zr(d,x,a),a&&w&4&&dy(d,x);break;case 13:zr(d,x,a),a&&w&4&&fy(d,x);break;case 22:x.memoizedState===null&&zr(d,x,a),rc(x,x.return);break;case 30:break;default:zr(d,x,a)}s=s.sibling}}function Z0(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ql(a))}function J0(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ql(n))}function Bi(n,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gy(n,s,a,c),s=s.sibling}function gy(n,s,a,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(n,s,a,c),d&2048&&ic(9,s);break;case 1:Bi(n,s,a,c);break;case 3:Bi(n,s,a,c),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ql(n)));break;case 12:if(d&2048){Bi(n,s,a,c),n=s.stateNode;try{var x=s.memoizedProps,w=x.id,M=x.onPostCommit;typeof M=="function"&&M(w,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(q){tt(s,s.return,q)}}else Bi(n,s,a,c);break;case 31:Bi(n,s,a,c);break;case 13:Bi(n,s,a,c);break;case 23:break;case 22:x=s.stateNode,w=s.alternate,s.memoizedState!==null?x._visibility&2?Bi(n,s,a,c):sc(n,s):x._visibility&2?Bi(n,s,a,c):(x._visibility|=2,Oo(n,s,a,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Z0(w,s);break;case 24:Bi(n,s,a,c),d&2048&&J0(s.alternate,s);break;default:Bi(n,s,a,c)}}function Oo(n,s,a,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=n,w=s,M=a,q=c,ee=w.flags;switch(w.tag){case 0:case 11:case 15:Oo(x,w,M,q,d),ic(8,w);break;case 23:break;case 22:var ae=w.stateNode;w.memoizedState!==null?ae._visibility&2?Oo(x,w,M,q,d):sc(x,w):(ae._visibility|=2,Oo(x,w,M,q,d)),d&&ee&2048&&Z0(w.alternate,w);break;case 24:Oo(x,w,M,q,d),d&&ee&2048&&J0(w.alternate,w);break;default:Oo(x,w,M,q,d)}s=s.sibling}}function sc(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,c=s,d=c.flags;switch(c.tag){case 22:sc(a,c),d&2048&&Z0(c.alternate,c);break;case 24:sc(a,c),d&2048&&J0(c.alternate,c);break;default:sc(a,c)}s=s.sibling}}var ac=8192;function Mo(n,s,a){if(n.subtreeFlags&ac)for(n=n.child;n!==null;)xy(n,s,a),n=n.sibling}function xy(n,s,a){switch(n.tag){case 26:Mo(n,s,a),n.flags&ac&&n.memoizedState!==null&&FT(a,ji,n.memoizedState,n.memoizedProps);break;case 5:Mo(n,s,a);break;case 3:case 4:var c=ji;ji=yh(n.stateNode.containerInfo),Mo(n,s,a),ji=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=ac,ac=16777216,Mo(n,s,a),ac=c):Mo(n,s,a));break;default:Mo(n,s,a)}}function yy(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function oc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Qt=c,_y(c,n)}yy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(n),n=n.sibling}function vy(n){switch(n.tag){case 0:case 11:case 15:oc(n),n.flags&2048&&bs(9,n,n.return);break;case 3:oc(n);break;case 12:oc(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,sh(n)):oc(n);break;default:oc(n)}}function sh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Qt=c,_y(c,n)}yy(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:bs(8,s,s.return),sh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,sh(s));break;default:sh(s)}n=n.sibling}}function _y(n,s){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:bs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ql(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Qt=c;else e:for(a=n;Qt!==null;){c=Qt;var d=c.sibling,x=c.return;if(uy(c),c===a){Qt=null;break e}if(d!==null){d.return=x,Qt=d;break e}Qt=x}}}var eT={getCacheForType:function(n){var s=tn(Mt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return tn(Mt).controller.signal}},tT=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,Me=null,Le=0,et=0,$n=null,ws=!1,Po=!1,em=!1,Hr=0,Et=0,Es=0,Da=0,tm=0,Kn=0,Lo=0,lc=null,Nn=null,nm=!1,ah=0,by=0,oh=1/0,lh=null,As=null,Gt=0,Ts=null,Fo=null,qr=0,im=0,rm=null,wy=null,cc=0,sm=null;function Yn(){return(Qe&2)!==0&&Le!==0?Le&-Le:K.T!==null?hm():cu()}function Ey(){if(Kn===0)if((Le&536870912)===0||He){var n=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Kn=n}else Kn=536870912;return n=qn.current,n!==null&&(n.flags|=32),Kn}function Rn(n,s,a){(n===at&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Vo(n,0),Cs(n,Le,Kn,!1)),Ki(n,a),((Qe&2)===0||n!==at)&&(n===at&&((Qe&2)===0&&(Da|=a),Et===4&&Cs(n,Le,Kn,!1)),dr(n))}function Ay(n,s,a){if((Qe&6)!==0)throw Error(r(327));var c=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Fn(n,s),d=c?rT(n,s):om(n,s,!0),x=c;do{if(d===0){Po&&!c&&Cs(n,s,0,!1);break}else{if(a=n.current.alternate,x&&!nT(a)){d=om(n,s,!1),x=!1;continue}if(d===2){if(x=s,n.errorRecoveryDisabledLanes&x)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var M=n;d=lc;var q=M.current.memoizedState.isDehydrated;if(q&&(Vo(M,w).flags|=256),w=om(M,w,!1),w!==2){if(em&&!q){M.errorRecoveryDisabledLanes|=x,Da|=x,d=4;break e}x=Nn,Nn=d,x!==null&&(Nn===null?Nn=x:Nn.push.apply(Nn,x))}d=w}if(x=!1,d!==2)continue}}if(d===1){Vo(n,0),Cs(n,s,0,!0);break}e:{switch(c=n,x=d,x){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Cs(c,s,Kn,!ws);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=ah+300-It(),10<d)){if(Cs(c,s,Kn,!ws),ii(c,0,!0)!==0)break e;qr=s,c.timeoutHandle=tv(Ty.bind(null,c,a,Nn,lh,nm,s,Kn,Da,Lo,ws,x,"Throttled",-0,0),d);break e}Ty(c,a,Nn,lh,nm,s,Kn,Da,Lo,ws,x,null,-0,0)}}break}while(!0);dr(n)}function Ty(n,s,a,c,d,x,w,M,q,ee,ae,ce,ne,se){if(n.timeoutHandle=-1,ce=s.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},xy(s,x,ce);var _e=(x&62914560)===x?ah-It():(x&4194048)===x?by-It():0;if(_e=VT(ce,_e),_e!==null){qr=x,n.cancelPendingCommit=_e(jy.bind(null,n,s,x,a,c,d,w,M,q,ae,ce,null,ne,se)),Cs(n,x,w,!ee);return}}jy(n,s,x,a,c,d,w,M,q)}function nT(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var d=a[c],x=d.getSnapshot;d=d.value;try{if(!zn(x(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cs(n,s,a,c){s&=~tm,s&=~Da,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var d=s;0<d;){var x=31-yt(d),w=1<<x;c[x]=-1,d&=~w}a!==0&&Yi(n,a,s)}function ch(){return(Qe&6)===0?(uc(0),!1):!0}function am(){if(Me!==null){if(et===0)var n=Me.return;else n=Me,jr=ba=null,w0(n),Do=null,$l=0,n=Me;for(;n!==null;)ny(n.alternate,n),n=n.return;Me=null}}function Vo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,wT(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),qr=0,am(),at=n,Me=a=Ir(n.current,null),Le=s,et=0,$n=null,ws=!1,Po=Fn(n,s),em=!1,Lo=Kn=tm=Da=Es=Et=0,Nn=lc=null,nm=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var d=31-yt(c),x=1<<d;s|=n[d],c&=~x}return Hr=s,Du(),a}function Cy(n,s){Be=null,K.H=ec,s===Ro||s===Lu?(s=zx(),et=3):s===u0?(s=zx(),et=4):et=s===L0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$n=s,Me===null&&(Et=1,Zu(n,ui(s,n.current)))}function Sy(){var n=qn.current;return n===null?!0:(Le&4194048)===Le?mi===null:(Le&62914560)===Le||(Le&536870912)!==0?n===mi:!1}function Ny(){var n=K.H;return K.H=ec,n===null?ec:n}function Ry(){var n=K.A;return K.A=eT,n}function uh(){Et=4,ws||(Le&4194048)!==Le&&qn.current!==null||(Po=!0),(Es&134217727)===0&&(Da&134217727)===0||at===null||Cs(at,Le,Kn,!1)}function om(n,s,a){var c=Qe;Qe|=2;var d=Ny(),x=Ry();(at!==n||Le!==s)&&(lh=null,Vo(n,s)),s=!1;var w=Et;e:do try{if(et!==0&&Me!==null){var M=Me,q=$n;switch(et){case 8:am(),w=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(s=!0);var ee=et;if(et=0,$n=null,Uo(n,M,q,ee),a&&Po){w=0;break e}break;default:ee=et,et=0,$n=null,Uo(n,M,q,ee)}}iT(),w=Et;break}catch(ae){Cy(n,ae)}while(!0);return s&&n.shellSuspendCounter++,jr=ba=null,Qe=c,K.H=d,K.A=x,Me===null&&(at=null,Le=0,Du()),w}function iT(){for(;Me!==null;)Dy(Me)}function rT(n,s){var a=Qe;Qe|=2;var c=Ny(),d=Ry();at!==n||Le!==s?(lh=null,oh=It()+500,Vo(n,s)):Po=Fn(n,s);e:do try{if(et!==0&&Me!==null){s=Me;var x=$n;t:switch(et){case 1:et=0,$n=null,Uo(n,s,x,1);break;case 2:case 9:if(Vx(x)){et=0,$n=null,Iy(s);break}s=function(){et!==2&&et!==9||at!==n||(et=7),dr(n)},x.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Vx(x)?(et=0,$n=null,Iy(s)):(et=0,$n=null,Uo(n,s,x,7));break;case 5:var w=null;switch(Me.tag){case 26:w=Me.memoizedState;case 5:case 27:var M=Me;if(w?gv(w):M.stateNode.complete){et=0,$n=null;var q=M.sibling;if(q!==null)Me=q;else{var ee=M.return;ee!==null?(Me=ee,hh(ee)):Me=null}break t}}et=0,$n=null,Uo(n,s,x,5);break;case 6:et=0,$n=null,Uo(n,s,x,6);break;case 8:am(),Et=6;break e;default:throw Error(r(462))}}sT();break}catch(ae){Cy(n,ae)}while(!0);return jr=ba=null,K.H=c,K.A=d,Qe=a,Me!==null?0:(at=null,Le=0,Du(),Et)}function sT(){for(;Me!==null&&!ln();)Dy(Me)}function Dy(n){var s=ey(n.alternate,n,Hr);n.memoizedProps=n.pendingProps,s===null?hh(n):Me=s}function Iy(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Y1(a,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=Y1(a,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:w0(s);default:ny(a,s),s=Me=Rx(s,Hr),s=ey(a,s,Hr)}n.memoizedProps=n.pendingProps,s===null?hh(n):Me=s}function Uo(n,s,a,c){jr=ba=null,w0(s),Do=null,$l=0;var d=s.return;try{if(K4(n,d,s,a,Le)){Et=1,Zu(n,ui(a,n.current)),Me=null;return}}catch(x){if(d!==null)throw Me=d,x;Et=1,Zu(n,ui(a,n.current)),Me=null;return}s.flags&32768?(He||c===1?n=!0:Po||(Le&536870912)!==0?n=!1:(ws=n=!0,(c===2||c===9||c===3||c===6)&&(c=qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),ky(s,n)):hh(s)}function hh(n){var s=n;do{if((s.flags&32768)!==0){ky(s,ws);return}n=s.return;var a=Q4(s.alternate,s,Hr);if(a!==null){Me=a;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=n}while(s!==null);Et===0&&(Et=5)}function ky(n,s){do{var a=W4(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);Et=6,Me=null}function jy(n,s,a,c,d,x,w,M,q){n.cancelPendingCommit=null;do dh();while(Gt!==0);if((Qe&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(x=s.lanes|s.childLanes,x|=Xf,wl(n,a,x,w,M,q),n===at&&(Me=at=null,Le=0),Fo=s,Ts=n,qr=a,im=x,rm=d,wy=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,cT(Gi,function(){return Ly(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,d=te.p,te.p=2,w=Qe,Qe|=4;try{Z4(n,s,a)}finally{Qe=w,te.p=d,K.T=c}}Gt=1,By(),Oy(),My()}}function By(){if(Gt===1){Gt=0;var n=Ts,s=Fo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var c=te.p;te.p=2;var d=Qe;Qe|=4;try{my(s,n);var x=vm,w=_x(n.containerInfo),M=x.focusedElem,q=x.selectionRange;if(w!==M&&M&&M.ownerDocument&&vx(M.ownerDocument.documentElement,M)){if(q!==null&&qf(M)){var ee=q.start,ae=q.end;if(ae===void 0&&(ae=ee),"selectionStart"in M)M.selectionStart=ee,M.selectionEnd=Math.min(ae,M.value.length);else{var ce=M.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var se=ne.getSelection(),_e=M.textContent.length,Ce=Math.min(q.start,_e),st=q.end===void 0?Ce:Math.min(q.end,_e);!se.extend&&Ce>st&&(w=st,st=Ce,Ce=w);var X=yx(M,Ce),Y=yx(M,st);if(X&&Y&&(se.rangeCount!==1||se.anchorNode!==X.node||se.anchorOffset!==X.offset||se.focusNode!==Y.node||se.focusOffset!==Y.offset)){var J=ce.createRange();J.setStart(X.node,X.offset),se.removeAllRanges(),Ce>st?(se.addRange(J),se.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),se.addRange(J))}}}}for(ce=[],se=M;se=se.parentNode;)se.nodeType===1&&ce.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ce.length;M++){var oe=ce[M];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Ah=!!ym,vm=ym=null}finally{Qe=d,te.p=c,K.T=a}}n.current=s,Gt=2}}function Oy(){if(Gt===2){Gt=0;var n=Ts,s=Fo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var c=te.p;te.p=2;var d=Qe;Qe|=4;try{cy(n,s.alternate,s)}finally{Qe=d,te.p=c,K.T=a}}Gt=3}}function My(){if(Gt===4||Gt===3){Gt=0,Mn();var n=Ts,s=Fo,a=qr,c=wy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Gt=5:(Gt=0,Fo=Ts=null,Py(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(As=null),Ai(a),s=s.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Pn,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=K.T,d=te.p,te.p=2,K.T=null;try{for(var x=n.onRecoverableError,w=0;w<c.length;w++){var M=c[w];x(M.value,{componentStack:M.stack})}}finally{K.T=s,te.p=d}}(qr&3)!==0&&dh(),dr(n),d=n.pendingLanes,(a&261930)!==0&&(d&42)!==0?n===sm?cc++:(cc=0,sm=n):cc=0,uc(0)}}function Py(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,ql(s)))}function dh(){return By(),Oy(),My(),Ly()}function Ly(){if(Gt!==5)return!1;var n=Ts,s=im;im=0;var a=Ai(qr),c=K.T,d=te.p;try{te.p=32>a?32:a,K.T=null,a=rm,rm=null;var x=Ts,w=qr;if(Gt=0,Fo=Ts=null,qr=0,(Qe&6)!==0)throw Error(r(331));var M=Qe;if(Qe|=4,vy(x.current),gy(x,x.current,w,a),Qe=M,uc(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Pn,x)}catch{}return!0}finally{te.p=d,K.T=c,Py(n,s)}}function Fy(n,s,a){s=ui(a,s),s=P0(n.stateNode,s,2),n=ys(n,s,2),n!==null&&(Ki(n,2),dr(n))}function tt(n,s,a){if(n.tag===3)Fy(n,n,a);else for(;s!==null;){if(s.tag===3){Fy(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(As===null||!As.has(c))){n=ui(a,n),a=V1(2),c=ys(s,a,2),c!==null&&(U1(a,c,s,n),Ki(c,2),dr(c));break}}s=s.return}}function lm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new tT;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(em=!0,d.add(a),n=aT.bind(null,n,s,a),s.then(n,n))}function aT(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,at===n&&(Le&a)===a&&(Et===4||Et===3&&(Le&62914560)===Le&&300>It()-ah?(Qe&2)===0&&Vo(n,0):tm|=a,Lo===Le&&(Lo=0)),dr(n)}function Vy(n,s){s===0&&(s=so()),n=ya(n,s),n!==null&&(Ki(n,s),dr(n))}function oT(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Vy(n,a)}function lT(n,s){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),Vy(n,a)}function cT(n,s){return ct(n,s)}var fh=null,zo=null,cm=!1,mh=!1,um=!1,Ss=0;function dr(n){n!==zo&&n.next===null&&(zo===null?fh=zo=n:zo=zo.next=n),mh=!0,cm||(cm=!0,hT())}function uc(n,s){if(!um&&mh){um=!0;do for(var a=!1,c=fh;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var x=0;else{var w=c.suspendedLanes,M=c.pingedLanes;x=(1<<31-yt(42|n)+1)-1,x&=d&~(w&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(a=!0,qy(c,x))}else x=Le,x=ii(c,c===at?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(x&3)===0||Fn(c,x)||(a=!0,qy(c,x));c=c.next}while(a);um=!1}}function uT(){Uy()}function Uy(){mh=cm=!1;var n=0;Ss!==0&&bT()&&(n=Ss);for(var s=It(),a=null,c=fh;c!==null;){var d=c.next,x=zy(c,s);x===0?(c.next=null,a===null?fh=d:a.next=d,d===null&&(zo=a)):(a=c,(n!==0||(x&3)!==0)&&(mh=!0)),c=d}Gt!==0&&Gt!==5||uc(n),Ss!==0&&(Ss=0)}function zy(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var w=31-yt(x),M=1<<w,q=d[w];q===-1?((M&a)===0||(M&c)!==0)&&(d[w]=ro(M,s)):q<=s&&(n.expiredLanes|=M),x&=~M}if(s=at,a=Le,a=ii(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Dt(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Fn(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(c!==null&&Dt(c),Ai(a)){case 2:case 8:a=wi;break;case 32:a=Gi;break;case 268435456:a=aa;break;default:a=Gi}return c=Hy.bind(null,n),a=ct(a,c),n.callbackPriority=s,n.callbackNode=a,s}return c!==null&&c!==null&&Dt(c),n.callbackPriority=2,n.callbackNode=null,2}function Hy(n,s){if(Gt!==0&&Gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(dh()&&n.callbackNode!==a)return null;var c=Le;return c=ii(n,n===at?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Ay(n,c,s),zy(n,It()),n.callbackNode!=null&&n.callbackNode===a?Hy.bind(null,n):null)}function qy(n,s){if(dh())return null;Ay(n,s,!0)}function hT(){ET(function(){(Qe&6)!==0?ct(ti,uT):Uy()})}function hm(){if(Ss===0){var n=So;n===0&&(n=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),Ss=n}return Ss}function Gy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ho(""+n)}function $y(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function dT(n,s,a,c,d){if(s==="submit"&&a&&a.stateNode===d){var x=Gy((d[Yt]||null).action),w=c.submitter;w&&(s=(s=w[Yt]||null)?Gy(s.formAction):w.getAttribute("formAction"),s!==null&&(x=s,w=null));var M=new sr("action","action",null,c,d);n.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ss!==0){var q=w?$y(d,w):new FormData(d);I0(a,{pending:!0,data:q,method:d.method,action:x},null,q)}}else typeof x=="function"&&(M.preventDefault(),q=w?$y(d,w):new FormData(d),I0(a,{pending:!0,data:q,method:d.method,action:x},x,q))},currentTarget:d}]})}}for(var dm=0;dm<Yf.length;dm++){var fm=Yf[dm],fT=fm.toLowerCase(),mT=fm[0].toUpperCase()+fm.slice(1);ki(fT,"on"+mT)}ki(Ex,"onAnimationEnd"),ki(Ax,"onAnimationIteration"),ki(Tx,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(D4,"onTransitionRun"),ki(I4,"onTransitionStart"),ki(k4,"onTransitionCancel"),ki(Cx,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function Ky(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var x=void 0;if(s)for(var w=c.length-1;0<=w;w--){var M=c[w],q=M.instance,ee=M.currentTarget;if(M=M.listener,q!==x&&d.isPropagationStopped())break e;x=M,d.currentTarget=ee;try{x(d)}catch(ae){Ru(ae)}d.currentTarget=null,x=q}else for(w=0;w<c.length;w++){if(M=c[w],q=M.instance,ee=M.currentTarget,M=M.listener,q!==x&&d.isPropagationStopped())break e;x=M,d.currentTarget=ee;try{x(d)}catch(ae){Ru(ae)}d.currentTarget=null,x=q}}}}function Pe(n,s){var a=s[ao];a===void 0&&(a=s[ao]=new Set);var c=n+"__bubble";a.has(c)||(Yy(s,n,2,!1),a.add(c))}function mm(n,s,a){var c=0;s&&(c|=4),Yy(a,n,c,s)}var ph="_reactListening"+Math.random().toString(36).slice(2);function pm(n){if(!n[ph]){n[ph]=!0,El.forEach(function(a){a!=="selectionchange"&&(pT.has(a)||mm(a,!1,n),mm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ph]||(s[ph]=!0,mm("selectionchange",!1,s))}}function Yy(n,s,a,c){switch(Ev(s)){case 2:var d=HT;break;case 8:d=qT;break;default:d=Dm}a=d.bind(null,s,a,n),d=void 0,!ua||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function gm(n,s,a,c,d){var x=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var M=c.stateNode.containerInfo;if(M===d)break;if(w===4)for(w=c.return;w!==null;){var q=w.tag;if((q===3||q===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;M!==null;){if(w=Zi(M),w===null)return;if(q=w.tag,q===5||q===6||q===26||q===27){c=x=w;continue e}M=M.parentNode}}c=c.return}ls(function(){var ee=x,ae=ai(a),ce=[];e:{var ne=Sx.get(n);if(ne!==void 0){var se=sr,_e=n;switch(n){case"keypress":if(da(a)===0)break e;case"keydown":case"keyup":se=Cu;break;case"focusin":_e="focus",se=ma;break;case"focusout":_e="blur",se=ma;break;case"beforeblur":case"afterblur":se=ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=_;break;case Ex:case Ax:case Tx:se=vu;break;case Cx:se=V;break;case"scroll":case"scrollend":se=Ol;break;case"wheel":se=re;break;case"copy":case"cut":case"paste":se=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Dr;break;case"toggle":case"beforetoggle":se=je}var Ce=(s&4)!==0,st=!Ce&&(n==="scroll"||n==="scrollend"),X=Ce?ne!==null?ne+"Capture":null:ne;Ce=[];for(var Y=ee,J;Y!==null;){var oe=Y;if(J=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||J===null||X===null||(oe=Ni(Y,X),oe!=null&&Ce.push(dc(Y,oe,J))),st)break;Y=Y.return}0<Ce.length&&(ne=new se(ne,_e,null,a,ae),ce.push({event:ne,listeners:Ce}))}}if((s&7)===0){e:{if(ne=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",ne&&a!==kl&&(_e=a.relatedTarget||a.fromElement)&&(Zi(_e)||_e[Qi]))break e;if((se||ne)&&(ne=ae.window===ae?ae:(ne=ae.ownerDocument)?ne.defaultView||ne.parentWindow:window,se?(_e=a.relatedTarget||a.toElement,se=ee,_e=_e?Zi(_e):null,_e!==null&&(st=l(_e),Ce=_e.tag,_e!==st||Ce!==5&&Ce!==27&&Ce!==6)&&(_e=null)):(se=null,_e=ee),se!==_e)){if(Ce=Ml,oe="onMouseLeave",X="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=Dr,oe="onPointerLeave",X="onPointerEnter",Y="pointer"),st=se==null?ne:Vn(se),J=_e==null?ne:Vn(_e),ne=new Ce(oe,Y+"leave",se,a,ae),ne.target=st,ne.relatedTarget=J,oe=null,Zi(ae)===ee&&(Ce=new Ce(X,Y+"enter",_e,a,ae),Ce.target=J,Ce.relatedTarget=st,oe=Ce),st=oe,se&&_e)t:{for(Ce=gT,X=se,Y=_e,J=0,oe=X;oe;oe=Ce(oe))J++;oe=0;for(var Ae=Y;Ae;Ae=Ce(Ae))oe++;for(;0<J-oe;)X=Ce(X),J--;for(;0<oe-J;)Y=Ce(Y),oe--;for(;J--;){if(X===Y||Y!==null&&X===Y.alternate){Ce=X;break t}X=Ce(X),Y=Ce(Y)}Ce=null}else Ce=null;se!==null&&Xy(ce,ne,se,Ce,!1),_e!==null&&st!==null&&Xy(ce,st,_e,Ce,!0)}}e:{if(ne=ee?Vn(ee):window,se=ne.nodeName&&ne.nodeName.toLowerCase(),se==="select"||se==="input"&&ne.type==="file")var Ke=dx;else if(ux(ne))if(fx)Ke=S4;else{Ke=T4;var be=A4}else se=ne.nodeName,!se||se.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&uo(ee.elementType)&&(Ke=dx):Ke=C4;if(Ke&&(Ke=Ke(n,ee))){hx(ce,Ke,a,ae);break e}be&&be(n,ne,ee),n==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Rl(ne,"number",ne.value)}switch(be=ee?Vn(ee):window,n){case"focusin":(ux(be)||be.contentEditable==="true")&&(vo=be,Gf=ee,Ul=null);break;case"focusout":Ul=Gf=vo=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,bx(ce,a,ae);break;case"selectionchange":if(R4)break;case"keydown":case"keyup":bx(ce,a,ae)}var Oe;if(Xe)e:{switch(n){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else yo?pa(n,a)&&(Fe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(lr&&a.locale!=="ko"&&(yo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&yo&&(Oe=Bl()):(rr=ae,jl="value"in rr?rr.value:rr.textContent,yo=!0)),be=gh(ee,Fe),0<be.length&&(Fe=new or(Fe,n,null,a,ae),ce.push({event:Fe,listeners:be}),Oe?Fe.data=Oe:(Oe=xo(a),Oe!==null&&(Fe.data=Oe)))),(Oe=li?_4(n,a):b4(n,a))&&(Fe=gh(ee,"onBeforeInput"),0<Fe.length&&(be=new or("onBeforeInput","beforeinput",null,a,ae),ce.push({event:be,listeners:Fe}),be.data=Oe)),dT(ce,n,ee,a,ae)}Ky(ce,s)})}function dc(n,s,a){return{instance:n,listener:s,currentTarget:a}}function gh(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,x=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||x===null||(d=Ni(n,a),d!=null&&c.unshift(dc(n,d,x)),d=Ni(n,s),d!=null&&c.push(dc(n,d,x))),n.tag===3)return c;n=n.return}return[]}function gT(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xy(n,s,a,c,d){for(var x=s._reactName,w=[];a!==null&&a!==c;){var M=a,q=M.alternate,ee=M.stateNode;if(M=M.tag,q!==null&&q===c)break;M!==5&&M!==26&&M!==27||ee===null||(q=ee,d?(ee=Ni(a,x),ee!=null&&w.unshift(dc(a,ee,q))):d||(ee=Ni(a,x),ee!=null&&w.push(dc(a,ee,q)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var xT=/\r\n?/g,yT=/\u0000|\uFFFD/g;function Qy(n){return(typeof n=="string"?n:""+n).replace(xT,`
`).replace(yT,"")}function Wy(n,s){return s=Qy(s),Qy(n)===s}function rt(n,s,a,c,d,x){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||An(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&An(n,""+c);break;case"className":Un(n,"class",c);break;case"tabIndex":Un(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(n,a,c);break;case"style":Il(n,c,x);break;case"data":if(s!=="object"){Un(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=ho(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(a==="formAction"?(s!=="input"&&rt(n,s,"name",d.name,d,null),rt(n,s,"formEncType",d.formEncType,d,null),rt(n,s,"formMethod",d.formMethod,d,null),rt(n,s,"formTarget",d.formTarget,d,null)):(rt(n,s,"encType",d.encType,d,null),rt(n,s,"method",d.method,d,null),rt(n,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=ho(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=Si);break;case"onScroll":c!=null&&Pe("scroll",n);break;case"onScrollEnd":c!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=ho(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),lo(n,"popover",c);break;case"xlinkActuate":Ot(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ot(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ot(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ot(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ot(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ot(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":lo(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,lo(n,a,c))}}function xm(n,s,a,c,d,x){switch(a){case"style":Il(n,c,x);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof c=="string"?An(n,c):(typeof c=="number"||typeof c=="bigint")&&An(n,""+c);break;case"onScroll":c!=null&&Pe("scroll",n);break;case"onScrollEnd":c!=null&&Pe("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),x=n[Yt]||null,x=x!=null?x[a]:null,typeof x=="function"&&n.removeEventListener(s,x,d),typeof c=="function")){typeof x!="function"&&x!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,c,d);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):lo(n,a,c)}}}function rn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var c=!1,d=!1,x;for(x in a)if(a.hasOwnProperty(x)){var w=a[x];if(w!=null)switch(x){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(n,s,x,w,a,null)}}d&&rt(n,s,"srcSet",a.srcSet,a,null),c&&rt(n,s,"src",a.src,a,null);return;case"input":Pe("invalid",n);var M=x=w=d=null,q=null,ee=null;for(c in a)if(a.hasOwnProperty(c)){var ae=a[c];if(ae!=null)switch(c){case"name":d=ae;break;case"type":w=ae;break;case"checked":q=ae;break;case"defaultChecked":ee=ae;break;case"value":x=ae;break;case"defaultValue":M=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:rt(n,s,c,ae,a,null)}}fu(n,x,M,q,ee,w,d,!1);return;case"select":Pe("invalid",n),c=w=x=null;for(d in a)if(a.hasOwnProperty(d)&&(M=a[d],M!=null))switch(d){case"value":x=M;break;case"defaultValue":w=M;break;case"multiple":c=M;default:rt(n,s,d,M,a,null)}s=x,a=w,n.multiple=!!c,s!=null?rs(n,!!c,s,!1):a!=null&&rs(n,!!c,a,!0);return;case"textarea":Pe("invalid",n),x=d=c=null;for(w in a)if(a.hasOwnProperty(w)&&(M=a[w],M!=null))switch(w){case"value":c=M;break;case"defaultValue":d=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:rt(n,s,w,M,a,null)}ss(n,c,d,x);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(c=a[q],c!=null))switch(q){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:rt(n,s,q,c,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(c=0;c<hc.length;c++)Pe(hc[c],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in a)if(a.hasOwnProperty(ee)&&(c=a[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(n,s,ee,c,a,null)}return;default:if(uo(s)){for(ae in a)a.hasOwnProperty(ae)&&(c=a[ae],c!==void 0&&xm(n,s,ae,c,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(c=a[M],c!=null&&rt(n,s,M,c,a,null))}function vT(n,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,x=null,w=null,M=null,q=null,ee=null,ae=null;for(se in a){var ce=a[se];if(a.hasOwnProperty(se)&&ce!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":q=ce;default:c.hasOwnProperty(se)||rt(n,s,se,null,c,ce)}}for(var ne in c){var se=c[ne];if(ce=a[ne],c.hasOwnProperty(ne)&&(se!=null||ce!=null))switch(ne){case"type":x=se;break;case"name":d=se;break;case"checked":ee=se;break;case"defaultChecked":ae=se;break;case"value":w=se;break;case"defaultValue":M=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,s));break;default:se!==ce&&rt(n,s,ne,se,c,ce)}}co(n,w,M,q,ee,ae,x,d);return;case"select":se=w=M=ne=null;for(x in a)if(q=a[x],a.hasOwnProperty(x)&&q!=null)switch(x){case"value":break;case"multiple":se=q;default:c.hasOwnProperty(x)||rt(n,s,x,null,c,q)}for(d in c)if(x=c[d],q=a[d],c.hasOwnProperty(d)&&(x!=null||q!=null))switch(d){case"value":ne=x;break;case"defaultValue":M=x;break;case"multiple":w=x;default:x!==q&&rt(n,s,d,x,c,q)}s=M,a=w,c=se,ne!=null?rs(n,!!a,ne,!1):!!c!=!!a&&(s!=null?rs(n,!!a,s,!0):rs(n,!!a,a?[]:"",!1));return;case"textarea":se=ne=null;for(M in a)if(d=a[M],a.hasOwnProperty(M)&&d!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:rt(n,s,M,null,c,d)}for(w in c)if(d=c[w],x=a[w],c.hasOwnProperty(w)&&(d!=null||x!=null))switch(w){case"value":ne=d;break;case"defaultValue":se=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==x&&rt(n,s,w,d,c,x)}mu(n,ne,se);return;case"option":for(var _e in a)if(ne=a[_e],a.hasOwnProperty(_e)&&ne!=null&&!c.hasOwnProperty(_e))switch(_e){case"selected":n.selected=!1;break;default:rt(n,s,_e,null,c,ne)}for(q in c)if(ne=c[q],se=a[q],c.hasOwnProperty(q)&&ne!==se&&(ne!=null||se!=null))switch(q){case"selected":n.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:rt(n,s,q,ne,c,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)ne=a[Ce],a.hasOwnProperty(Ce)&&ne!=null&&!c.hasOwnProperty(Ce)&&rt(n,s,Ce,null,c,ne);for(ee in c)if(ne=c[ee],se=a[ee],c.hasOwnProperty(ee)&&ne!==se&&(ne!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:rt(n,s,ee,ne,c,se)}return;default:if(uo(s)){for(var st in a)ne=a[st],a.hasOwnProperty(st)&&ne!==void 0&&!c.hasOwnProperty(st)&&xm(n,s,st,void 0,c,ne);for(ae in c)ne=c[ae],se=a[ae],!c.hasOwnProperty(ae)||ne===se||ne===void 0&&se===void 0||xm(n,s,ae,ne,c,se);return}}for(var X in a)ne=a[X],a.hasOwnProperty(X)&&ne!=null&&!c.hasOwnProperty(X)&&rt(n,s,X,null,c,ne);for(ce in c)ne=c[ce],se=a[ce],!c.hasOwnProperty(ce)||ne===se||ne==null&&se==null||rt(n,s,ce,ne,c,se)}function Zy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _T(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var d=a[c],x=d.transferSize,w=d.initiatorType,M=d.duration;if(x&&M&&Zy(w)){for(w=0,M=d.responseEnd,c+=1;c<a.length;c++){var q=a[c],ee=q.startTime;if(ee>M)break;var ae=q.transferSize,ce=q.initiatorType;ae&&Zy(ce)&&(q=q.responseEnd,w+=ae*(q<M?1:(M-ee)/(q-ee)))}if(--c,s+=8*(x+w)/(d.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var ym=null,vm=null;function xh(n){return n.nodeType===9?n:n.ownerDocument}function Jy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function _m(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bm=null;function bT(){var n=window.event;return n&&n.type==="popstate"?n===bm?!1:(bm=n,!0):(bm=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(n){return nv.resolve(null).then(n).catch(AT)}:tv;function AT(n){setTimeout(function(){throw n})}function Ns(n){return n==="head"}function iv(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(d),$o(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")fc(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,fc(a);for(var x=a.firstChild;x;){var w=x.nextSibling,M=x.nodeName;x[Wi]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=w}}else a==="body"&&fc(n.ownerDocument.body);a=d}while(a);$o(s)}function rv(n,s){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function wm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wm(a),oo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function TT(n,s,a,c){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Wi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var x=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=pi(n.nextSibling),n===null)break}return null}function CT(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=pi(n.nextSibling),n===null))return null;return n}function sv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=pi(n.nextSibling),n===null))return null;return n}function Em(n){return n.data==="$?"||n.data==="$~"}function Am(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function ST(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function pi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Tm=null;function av(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return pi(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function ov(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function lv(n,s,a){switch(s=xh(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function fc(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);oo(n)}var gi=new Map,cv=new Set;function yh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Gr=te.d;te.d={f:NT,r:RT,D:DT,C:IT,L:kT,m:jT,X:OT,S:BT,M:MT};function NT(){var n=Gr.f(),s=ch();return n||s}function RT(n){var s=si(n);s!==null&&s.tag===5&&s.type==="form"?C1(s):Gr.r(n)}var Ho=typeof document>"u"?null:document;function uv(n,s,a){var c=Ho;if(c&&typeof s=="string"&&s){var d=En(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),cv.has(d)||(cv.add(d),n={rel:n,crossOrigin:a,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),rn(s,"link",n),Bt(s),c.head.appendChild(s)))}}function DT(n){Gr.D(n),uv("dns-prefetch",n,null)}function IT(n,s){Gr.C(n,s),uv("preconnect",n,s)}function kT(n,s,a){Gr.L(n,s,a);var c=Ho;if(c&&n&&s){var d='link[rel="preload"][as="'+En(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+En(a.imageSizes)+'"]')):d+='[href="'+En(n)+'"]';var x=d;switch(s){case"style":x=qo(n);break;case"script":x=Go(n)}gi.has(x)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),gi.set(x,n),c.querySelector(d)!==null||s==="style"&&c.querySelector(mc(x))||s==="script"&&c.querySelector(pc(x))||(s=c.createElement("link"),rn(s,"link",n),Bt(s),c.head.appendChild(s)))}}function jT(n,s){Gr.m(n,s);var a=Ho;if(a&&n){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+En(c)+'"][href="'+En(n)+'"]',x=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Go(n)}if(!gi.has(x)&&(n=v({rel:"modulepreload",href:n},s),gi.set(x,n),a.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pc(x)))return}c=a.createElement("link"),rn(c,"link",n),Bt(c),a.head.appendChild(c)}}}function BT(n,s,a){Gr.S(n,s,a);var c=Ho;if(c&&n){var d=Ji(c).hoistableStyles,x=qo(n);s=s||"default";var w=d.get(x);if(!w){var M={loading:0,preload:null};if(w=c.querySelector(mc(x)))M.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=gi.get(x))&&Cm(n,a);var q=w=c.createElement("link");Bt(q),rn(q,"link",n),q._p=new Promise(function(ee,ae){q.onload=ee,q.onerror=ae}),q.addEventListener("load",function(){M.loading|=1}),q.addEventListener("error",function(){M.loading|=2}),M.loading|=4,vh(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:M},d.set(x,w)}}}function OT(n,s){Gr.X(n,s);var a=Ho;if(a&&n){var c=Ji(a).hoistableScripts,d=Go(n),x=c.get(d);x||(x=a.querySelector(pc(d)),x||(n=v({src:n,async:!0},s),(s=gi.get(d))&&Sm(n,s),x=a.createElement("script"),Bt(x),rn(x,"link",n),a.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(d,x))}}function MT(n,s){Gr.M(n,s);var a=Ho;if(a&&n){var c=Ji(a).hoistableScripts,d=Go(n),x=c.get(d);x||(x=a.querySelector(pc(d)),x||(n=v({src:n,async:!0,type:"module"},s),(s=gi.get(d))&&Sm(n,s),x=a.createElement("script"),Bt(x),rn(x,"link",n),a.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(d,x))}}function hv(n,s,a,c){var d=(d=ye.current)?yh(d):null;if(!d)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=qo(a.href),a=Ji(d).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=qo(a.href);var x=Ji(d).hoistableStyles,w=x.get(n);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,w),(x=d.querySelector(mc(n)))&&!x._p&&(w.instance=x,w.state.loading=5),gi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(n,a),x||PT(d,n,a,w.state))),s&&c===null)throw Error(r(528,""));return w}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Go(a),a=Ji(d).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function qo(n){return'href="'+En(n)+'"'}function mc(n){return'link[rel="stylesheet"]['+n+"]"}function dv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function PT(n,s,a,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),rn(s,"link",a),Bt(s),n.head.appendChild(s))}function Go(n){return'[src="'+En(n)+'"]'}function pc(n){return"script[async]"+n}function fv(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+En(a.href)+'"]');if(c)return s.instance=c,Bt(c),c;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Bt(c),rn(c,"style",d),vh(c,a.precedence,n),s.instance=c;case"stylesheet":d=qo(a.href);var x=n.querySelector(mc(d));if(x)return s.state.loading|=4,s.instance=x,Bt(x),x;c=dv(a),(d=gi.get(d))&&Cm(c,d),x=(n.ownerDocument||n).createElement("link"),Bt(x);var w=x;return w._p=new Promise(function(M,q){w.onload=M,w.onerror=q}),rn(x,"link",c),s.state.loading|=4,vh(x,a.precedence,n),s.instance=x;case"script":return x=Go(a.src),(d=n.querySelector(pc(x)))?(s.instance=d,Bt(d),d):(c=a,(d=gi.get(x))&&(c=v({},a),Sm(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),Bt(d),rn(d,"link",c),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,vh(c,a.precedence,n));return s.instance}function vh(n,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,x=d,w=0;w<c.length;w++){var M=c[w];if(M.dataset.precedence===s)x=M;else if(x!==d)break}x?x.parentNode.insertBefore(n,x.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Cm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Sm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var _h=null;function mv(n,s,a){if(_h===null){var c=new Map,d=_h=new Map;d.set(a,c)}else d=_h,c=d.get(a),c||(c=new Map,d.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var x=a[d];if(!(x[Wi]||x[jt]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var w=x.getAttribute(s)||"";w=n+w;var M=c.get(w);M?M.push(x):c.set(w,[x])}}return c}function pv(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function LT(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function FT(n,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=qo(c.href),x=s.querySelector(mc(d));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=bh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=x,Bt(x);return}x=s.ownerDocument||s,c=dv(c),(d=gi.get(d))&&Cm(c,d),x=x.createElement("link"),Bt(x);var w=x;w._p=new Promise(function(M,q){w.onload=M,w.onerror=q}),rn(x,"link",c),a.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=bh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Nm=0;function VT(n,s){return n.stylesheets&&n.count===0&&Eh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&Eh(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+s);0<n.imgBytes&&Nm===0&&(Nm=62500*_T());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Eh(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>Nm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wh=null;function Eh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wh=new Map,s.forEach(UT,n),wh=null,bh.call(n))}function UT(n,s){if(!(s.state.loading&4)){var a=wh.get(n);if(a)var c=a.get(null);else{a=new Map,wh.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<d.length;x++){var w=d[x];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),c=w)}c&&a.set(null,c)}d=s.instance,w=d.getAttribute("data-precedence"),x=a.get(w)||c,x===c&&a.set(null,d),a.set(w,d),this.count++,c=bh.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),x?x.parentNode.insertBefore(d,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var gc={$$typeof:j,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function zT(n,s,a,c,d,x,w,M,q){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=x,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function xv(n,s,a,c,d,x,w,M,q,ee,ae,ce){return n=new zT(n,s,a,w,q,ee,ae,ce,M),s=1,x===!0&&(s|=24),x=Hn(3,null,null,s),n.current=x,x.stateNode=n,s=o0(),s.refCount++,n.pooledCache=s,s.refCount++,x.memoizedState={element:c,isDehydrated:a,cache:s},h0(x),n}function yv(n){return n?(n=wo,n):wo}function vv(n,s,a,c,d,x){d=yv(d),c.context===null?c.context=d:c.pendingContext=d,c=xs(s),c.payload={element:a},x=x===void 0?null:x,x!==null&&(c.callback=x),a=ys(n,c,s),a!==null&&(Rn(a,n,s),Yl(a,n,s))}function _v(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Rm(n,s){_v(n,s),(n=n.alternate)&&_v(n,s)}function bv(n){if(n.tag===13||n.tag===31){var s=ya(n,67108864);s!==null&&Rn(s,n,67108864),Rm(n,67108864)}}function wv(n){if(n.tag===13||n.tag===31){var s=Yn();s=Xi(s);var a=ya(n,s);a!==null&&Rn(a,n,s),Rm(n,s)}}var Ah=!0;function HT(n,s,a,c){var d=K.T;K.T=null;var x=te.p;try{te.p=2,Dm(n,s,a,c)}finally{te.p=x,K.T=d}}function qT(n,s,a,c){var d=K.T;K.T=null;var x=te.p;try{te.p=8,Dm(n,s,a,c)}finally{te.p=x,K.T=d}}function Dm(n,s,a,c){if(Ah){var d=Im(c);if(d===null)gm(n,s,c,Th,a),Av(n,c);else if($T(d,n,s,a,c))c.stopPropagation();else if(Av(n,c),s&4&&-1<GT.indexOf(n)){for(;d!==null;){var x=si(d);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var w=ni(x.pendingLanes);if(w!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;w;){var q=1<<31-yt(w);M.entanglements[1]|=q,w&=~q}dr(x),(Qe&6)===0&&(oh=It()+500,uc(0))}}break;case 31:case 13:M=ya(x,2),M!==null&&Rn(M,x,2),ch(),Rm(x,2)}if(x=Im(c),x===null&&gm(n,s,c,Th,a),x===d)break;d=x}d!==null&&c.stopPropagation()}else gm(n,s,c,null,a)}}function Im(n){return n=ai(n),km(n)}var Th=null;function km(n){if(Th=null,n=Zi(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=p(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Th=n,null}function Ev(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case ti:return 2;case wi:return 8;case Gi:case to:return 32;case aa:return 268435456;default:return 32}default:return 32}}var jm=!1,Rs=null,Ds=null,Is=null,xc=new Map,yc=new Map,ks=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(n,s){switch(n){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":xc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(s.pointerId)}}function vc(n,s,a,c,d,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:x,targetContainers:[d]},s!==null&&(s=si(s),s!==null&&bv(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function $T(n,s,a,c,d){switch(s){case"focusin":return Rs=vc(Rs,n,s,a,c,d),!0;case"dragenter":return Ds=vc(Ds,n,s,a,c,d),!0;case"mouseover":return Is=vc(Is,n,s,a,c,d),!0;case"pointerover":var x=d.pointerId;return xc.set(x,vc(xc.get(x)||null,n,s,a,c,d)),!0;case"gotpointercapture":return x=d.pointerId,yc.set(x,vc(yc.get(x)||null,n,s,a,c,d)),!0}return!1}function Tv(n){var s=Zi(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,Ti(n.priority,function(){wv(a)});return}}else if(s===31){if(s=p(a),s!==null){n.blockedOn=s,Ti(n.priority,function(){wv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ch(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Im(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);kl=c,a.target.dispatchEvent(c),kl=null}else return s=si(a),s!==null&&bv(s),n.blockedOn=a,!1;s.shift()}return!0}function Cv(n,s,a){Ch(n)&&a.delete(s)}function KT(){jm=!1,Rs!==null&&Ch(Rs)&&(Rs=null),Ds!==null&&Ch(Ds)&&(Ds=null),Is!==null&&Ch(Is)&&(Is=null),xc.forEach(Cv),yc.forEach(Cv)}function Sh(n,s){n.blockedOn===s&&(n.blockedOn=null,jm||(jm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,KT)))}var Nh=null;function Sv(n){Nh!==n&&(Nh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Nh===n&&(Nh=null);for(var s=0;s<n.length;s+=3){var a=n[s],c=n[s+1],d=n[s+2];if(typeof c!="function"){if(km(c||a)===null)continue;break}var x=si(a);x!==null&&(n.splice(s,3),s-=3,I0(x,{pending:!0,data:d,method:a.method,action:c},c,d))}}))}function $o(n){function s(q){return Sh(q,n)}Rs!==null&&Sh(Rs,n),Ds!==null&&Sh(Ds,n),Is!==null&&Sh(Is,n),xc.forEach(s),yc.forEach(s);for(var a=0;a<ks.length;a++){var c=ks[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ks.length&&(a=ks[0],a.blockedOn===null);)Tv(a),a.blockedOn===null&&ks.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var d=a[c],x=a[c+1],w=d[Yt]||null;if(typeof x=="function")w||Sv(a);else if(w){var M=null;if(x&&x.hasAttribute("formAction")){if(d=x,w=x[Yt]||null)M=w.formAction;else if(km(d)!==null)continue}else M=w.action;typeof M=="function"?a[c+1]=M:(a.splice(c,3),c-=3),Sv(a)}}}function Nv(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(w){return d=w})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Bm(n){this._internalRoot=n}Rh.prototype.render=Bm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,c=Yn();vv(a,c,n,s,null,null)},Rh.prototype.unmount=Bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;vv(n.current,2,null,n,null,null),ch(),s[Qi]=null}};function Rh(n){this._internalRoot=n}Rh.prototype.unstable_scheduleHydration=function(n){if(n){var s=cu();n={blockedOn:null,target:n,priority:s};for(var a=0;a<ks.length&&s!==0&&s<ks[a].priority;a++);ks.splice(a,0,n),a===0&&Tv(n)}};var Rv=e.version;if(Rv!=="19.2.1")throw Error(r(527,Rv,"19.2.1"));te.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=f(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var YT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{Pn=Dh.inject(YT),kt=Dh}catch{}}return bc.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,c="",d=M1,x=P1,w=L1;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=xv(n,1,!1,null,null,a,c,null,d,x,w,Nv),n[Qi]=s.current,pm(n),new Bm(s)},bc.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var c=!1,d="",x=M1,w=P1,M=L1,q=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(x=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(q=a.formState)),s=xv(n,1,!0,s,a??null,c,d,q,x,w,M,Nv),s.context=yv(null),a=s.current,c=Yn(),c=Xi(c),d=xs(c),d.callback=null,ys(a,d,c),a=c,s.current.lanes=a,Ki(s,a),dr(s),n[Qi]=s.current,pm(n),new Rh(s)},bc.version="19.2.1",bc}var Fv;function aC(){if(Fv)return Lm.exports;Fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=sC(),Lm.exports}var oC=aC();var Vv="popstate";function lC(i={}){function e(o,l){let{pathname:u="/",search:p="",hash:g=""}=qa(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),cp("",{pathname:u,search:p,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let u=o.document.querySelector("base"),p="";if(u&&u.getAttribute("href")){let g=o.location.href,f=g.indexOf("#");p=f===-1?g:g.slice(0,f)}return p+"#"+(typeof l=="string"?l:Pc(l))}function r(o,l){yi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return uC(e,t,r,i)}function _t(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function yi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cC(){return Math.random().toString(36).substring(2,10)}function Uv(i,e){return{usr:i.state,key:i.key,idx:e}}function cp(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?qa(e):e,state:t,key:e&&e.key||r||cC()}}function Pc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function qa(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function uC(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,u=o.history,p="POP",g=null,f=y();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function y(){return(u.state||{idx:null}).idx}function v(){p="POP";let I=y(),P=I==null?null:I-f;f=I,g&&g({action:p,location:B.location,delta:P})}function b(I,P){p="PUSH";let k=cp(B.location,I,P);t&&t(k,I),f=y()+1;let j=Uv(k,f),L=B.createHref(k);try{u.pushState(j,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(L)}l&&g&&g({action:p,location:B.location,delta:1})}function C(I,P){p="REPLACE";let k=cp(B.location,I,P);t&&t(k,I),f=y();let j=Uv(k,f),L=B.createHref(k);u.replaceState(j,"",L),l&&g&&g({action:p,location:B.location,delta:0})}function N(I){return hC(I)}let B={get action(){return p},get location(){return i(o,u)},listen(I){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Vv,v),g=I,()=>{o.removeEventListener(Vv,v),g=null}},createHref(I){return e(o,I)},createURL:N,encodeLocation(I){let P=N(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:C,go(I){return u.go(I)}};return B}function hC(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_t(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Pc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function E2(i,e,t="/"){return dC(i,e,t,!1)}function dC(i,e,t,r){let o=typeof e=="string"?qa(e):e,l=Wr(o.pathname||"/",t);if(l==null)return null;let u=A2(i);fC(u);let p=null;for(let g=0;p==null&&g<u.length;++g){let f=AC(l);p=wC(u[g],f,r)}return p}function A2(i,e=[],t=[],r="",o=!1){let l=(u,p,g=o,f)=>{let y={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&g)return;_t(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=Yr([r,y.relativePath]),b=t.concat(y);u.children&&u.children.length>0&&(_t(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),A2(u.children,e,b,v,g)),!(u.path==null&&!u.index)&&e.push({path:v,score:_C(v,u.index),routesMeta:b})};return i.forEach((u,p)=>{if(u.path===""||!u.path?.includes("?"))l(u,p);else for(let g of T2(u.path))l(u,p,!0,g)}),e}function T2(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let u=T2(r.join("/")),p=[];return p.push(...u.map(g=>g===""?l:[l,g].join("/"))),o&&p.push(...u),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function fC(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:bC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var mC=/^:[\w-]+$/,pC=3,gC=2,xC=1,yC=10,vC=-2,zv=i=>i==="*";function _C(i,e){let t=i.split("/"),r=t.length;return t.some(zv)&&(r+=vC),e&&(r+=gC),t.filter(o=>!zv(o)).reduce((o,l)=>o+(mC.test(l)?pC:l===""?xC:yC),r)}function bC(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function wC(i,e,t=!1){let{routesMeta:r}=i,o={},l="/",u=[];for(let p=0;p<r.length;++p){let g=r[p],f=p===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Bd({path:g.relativePath,caseSensitive:g.caseSensitive,end:f},y),b=g.route;if(!v&&f&&t&&!r[r.length-1].route.index&&(v=Bd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Yr([l,v.pathname]),pathnameBase:RC(Yr([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=Yr([l,v.pathnameBase]))}return u}function Bd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=EC(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((f,{paramName:y,isOptional:v},b)=>{if(y==="*"){let N=p[b]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const C=p[b];return v&&!C?f[y]=void 0:f[y]=(C||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:u,pattern:i}}function EC(i,e=!1,t=!0){yi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function AC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Wr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}var TC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CC=i=>TC.test(i);function SC(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?qa(i):i,l;if(t)if(CC(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),yi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=Hv(t.substring(1),"/"):l=Hv(t,e)}else l=e;return{pathname:l,search:DC(r),hash:IC(o)}}function Hv(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function zm(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NC(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function C2(i){let e=NC(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function S2(i,e,t,r=!1){let o;typeof i=="string"?o=qa(i):(o={...i},_t(!o.pathname||!o.pathname.includes("?"),zm("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),zm("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),zm("#","search","hash",o)));let l=i===""||o.pathname==="",u=l?"/":o.pathname,p;if(u==null)p=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}p=v>=0?e[v]:"/"}let g=SC(o,p),f=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(f||y)&&(g.pathname+="/"),g}var Yr=i=>i.join("/").replace(/\/\/+/g,"/"),RC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),DC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,IC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function kC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function jC(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N2=["POST","PUT","PATCH","DELETE"];new Set(N2);var BC=["GET",...N2];new Set(BC);var pl=G.createContext(null);pl.displayName="DataRouter";var rf=G.createContext(null);rf.displayName="DataRouterState";G.createContext(!1);var R2=G.createContext({isTransitioning:!1});R2.displayName="ViewTransition";var OC=G.createContext(new Map);OC.displayName="Fetchers";var MC=G.createContext(null);MC.displayName="Await";var Vi=G.createContext(null);Vi.displayName="Navigation";var Xc=G.createContext(null);Xc.displayName="Location";var Tr=G.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var Yp=G.createContext(null);Yp.displayName="RouteError";function PC(i,{relative:e}={}){_t(Qc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=G.useContext(Vi),{hash:o,pathname:l,search:u}=Wc(i,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Yr([t,l])),r.createHref({pathname:p,search:u,hash:o})}function Qc(){return G.useContext(Xc)!=null}function Js(){return _t(Qc(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Xc).location}var D2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I2(i){G.useContext(Vi).static||G.useLayoutEffect(i)}function Jn(){let{isDataRoute:i}=G.useContext(Tr);return i?QC():LC()}function LC(){_t(Qc(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(pl),{basename:e,navigator:t}=G.useContext(Vi),{matches:r}=G.useContext(Tr),{pathname:o}=Js(),l=JSON.stringify(C2(r)),u=G.useRef(!1);return I2(()=>{u.current=!0}),G.useCallback((g,f={})=>{if(yi(u.current,D2),!u.current)return;if(typeof g=="number"){t.go(g);return}let y=S2(g,JSON.parse(l),o,f.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Yr([e,y.pathname])),(f.replace?t.replace:t.push)(y,f.state,f)},[e,t,l,o,i])}G.createContext(null);function k2(){let{matches:i}=G.useContext(Tr),e=i[i.length-1];return e?e.params:{}}function Wc(i,{relative:e}={}){let{matches:t}=G.useContext(Tr),{pathname:r}=Js(),o=JSON.stringify(C2(t));return G.useMemo(()=>S2(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function FC(i,e){return j2(i,e)}function j2(i,e,t,r,o){_t(Qc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=G.useContext(Vi),{matches:u}=G.useContext(Tr),p=u[u.length-1],g=p?p.params:{},f=p?p.pathname:"/",y=p?p.pathnameBase:"/",v=p&&p.route;{let k=v&&v.path||"";B2(f,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=Js(),C;if(e){let k=typeof e=="string"?qa(e):e;_t(y==="/"||k.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${k.pathname}" was given in the \`location\` prop.`),C=k}else C=b;let N=C.pathname||"/",B=N;if(y!=="/"){let k=y.replace(/^\//,"").split("/");B="/"+N.replace(/^\//,"").split("/").slice(k.length).join("/")}let I=E2(i,{pathname:B});yi(v||I!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),yi(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=qC(I&&I.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:Yr([y,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?y:Yr([y,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,t,r,o);return e&&P?G.createElement(Xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},P):P}function VC(){let i=XC(),e=kC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,u)}var UC=G.createElement(VC,null),zC=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?G.createElement(Tr.Provider,{value:this.props.routeContext},G.createElement(Yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HC({routeContext:i,match:e,children:t}){let r=G.useContext(pl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Tr.Provider,{value:i},t)}function qC(i,e=[],t=null,r=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,u=t?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);_t(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let p=!1,g=-1;if(t)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:b,errors:C}=t,N=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||N){p=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let f=t&&r?(y,v)=>{r(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:jC(t.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,b)=>{let C,N=!1,B=null,I=null;t&&(C=u&&v.route.id?u[v.route.id]:void 0,B=v.route.errorElement||UC,p&&(g<0&&b===0?(B2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,I=null):g===b&&(N=!0,I=v.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,b+1)),k=()=>{let j;return C?j=B:N?j=I:v.route.Component?j=G.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=y,G.createElement(HC,{match:v,routeContext:{outlet:y,matches:P,isDataRoute:t!=null},children:j})};return t&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?G.createElement(zC,{location:t.location,revalidation:t.revalidation,component:B,error:C,children:k(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:f}):k()},null)}function Xp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GC(i){let e=G.useContext(pl);return _t(e,Xp(i)),e}function $C(i){let e=G.useContext(rf);return _t(e,Xp(i)),e}function KC(i){let e=G.useContext(Tr);return _t(e,Xp(i)),e}function Qp(i){let e=KC(i),t=e.matches[e.matches.length-1];return _t(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function YC(){return Qp("useRouteId")}function XC(){let i=G.useContext(Yp),e=$C("useRouteError"),t=Qp("useRouteError");return i!==void 0?i:e.errors?.[t]}function QC(){let{router:i}=GC("useNavigate"),e=Qp("useNavigate"),t=G.useRef(!1);return I2(()=>{t.current=!0}),G.useCallback(async(o,l={})=>{yi(t.current,D2),t.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var qv={};function B2(i,e,t){!e&&!qv[i]&&(qv[i]=!0,yi(!1,t))}G.memo(WC);function WC({routes:i,future:e,state:t,unstable_onError:r}){return j2(i,void 0,t,r,e)}function hn(i){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZC({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){_t(!Qc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:p,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[p,o,l,u]);typeof t=="string"&&(t=qa(t));let{pathname:f="/",search:y="",hash:v="",state:b=null,key:C="default"}=t,N=G.useMemo(()=>{let B=Wr(f,p);return B==null?null:{location:{pathname:B,search:y,hash:v,state:b,key:C},navigationType:r}},[p,f,y,v,b,C,r]);return yi(N!=null,`<Router basename="${p}"> is not able to match the URL "${f}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:G.createElement(Vi.Provider,{value:g},G.createElement(Xc.Provider,{children:e,value:N}))}function JC({children:i,location:e}){return FC(up(i),e)}function up(i,e=[]){let t=[];return G.Children.forEach(i,(r,o)=>{if(!G.isValidElement(r))return;let l=[...e,o];if(r.type===G.Fragment){t.push.apply(t,up(r.props.children,l));return}_t(r.type===hn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=up(r.props.children,l)),t.push(u)}),t}var Vh="get",Uh="application/x-www-form-urlencoded";function sf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function eS(i){return sf(i)&&i.tagName.toLowerCase()==="button"}function tS(i){return sf(i)&&i.tagName.toLowerCase()==="form"}function nS(i){return sf(i)&&i.tagName.toLowerCase()==="input"}function iS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function rS(i,e){return i.button===0&&(!e||e==="_self")&&!iS(i)}var Ih=null;function sS(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var aS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(i){return i!=null&&!aS.has(i)?(yi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):i}function oS(i,e){let t,r,o,l,u;if(tS(i)){let p=i.getAttribute("action");r=p?Wr(p,e):null,t=i.getAttribute("method")||Vh,o=Hm(i.getAttribute("enctype"))||Uh,l=new FormData(i)}else if(eS(i)||nS(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(r=g?Wr(g,e):null,t=i.getAttribute("formmethod")||p.getAttribute("method")||Vh,o=Hm(i.getAttribute("formenctype"))||Hm(p.getAttribute("enctype"))||Uh,l=new FormData(p,i),!sS()){let{name:f,type:y,value:v}=i;if(y==="image"){let b=f?`${f}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else f&&l.append(f,v)}}else{if(sf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Vh,r=null,o=Uh,u=i}return l&&o==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function lS(i,e,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Wr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function cS(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hS(i,e,t){let r=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await cS(l,t);return u.links?u.links():[]}return[]}));return pS(r.flat(1).filter(uS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gv(i,e,t,r,o,l){let u=(g,f)=>t[f]?g.route.id!==t[f].route.id:!0,p=(g,f)=>t[f].pathname!==g.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,f)=>u(g,f)||p(g,f)):l==="data"?e.filter((g,f)=>{let y=r.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(u(g,f)||p(g,f))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function dS(i,e,{includeHydrateFallback:t}={}){return fS(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function fS(i){return[...new Set(i)]}function mS(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function pS(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let l=JSON.stringify(mS(o));return t.has(l)||(t.add(l),r.push({key:l,link:o})),r},[])}function O2(){let i=G.useContext(pl);return Wp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function gS(){let i=G.useContext(rf);return Wp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Zp=G.createContext(void 0);Zp.displayName="FrameworkContext";function M2(){let i=G.useContext(Zp);return Wp(i,"You must render this element inside a <HydratedRouter> element"),i}function xS(i,e){let t=G.useContext(Zp),[r,o]=G.useState(!1),[l,u]=G.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:f,onMouseLeave:y,onTouchStart:v}=e,b=G.useRef(null);G.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let B=P=>{P.forEach(k=>{u(k.isIntersecting)})},I=new IntersectionObserver(B,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[i]),G.useEffect(()=>{if(r){let B=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(B)}}},[r]);let C=()=>{o(!0)},N=()=>{o(!1),u(!1)};return t?i!=="intent"?[l,b,{}]:[l,b,{onFocus:wc(p,C),onBlur:wc(g,N),onMouseEnter:wc(f,C),onMouseLeave:wc(y,N),onTouchStart:wc(v,C)}]:[!1,b,{}]}function wc(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function yS({page:i,...e}){let{router:t}=O2(),r=G.useMemo(()=>E2(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?G.createElement(_S,{page:i,matches:r,...e}):null}function vS(i){let{manifest:e,routeModules:t}=M2(),[r,o]=G.useState([]);return G.useEffect(()=>{let l=!1;return hS(i,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[i,e,t]),r}function _S({page:i,matches:e,...t}){let r=Js(),{manifest:o,routeModules:l}=M2(),{basename:u}=O2(),{loaderData:p,matches:g}=gS(),f=G.useMemo(()=>Gv(i,e,g,o,r,"data"),[i,e,g,o,r]),y=G.useMemo(()=>Gv(i,e,g,o,r,"assets"),[i,e,g,o,r]),v=G.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let N=new Set,B=!1;if(e.forEach(P=>{let k=o.routes[P.route.id];!k||!k.hasLoader||(!f.some(j=>j.route.id===P.route.id)&&P.route.id in p&&l[P.route.id]?.shouldRevalidate||k.hasClientLoader?B=!0:N.add(P.route.id))}),N.size===0)return[];let I=lS(i,u,"data");return B&&N.size>0&&I.searchParams.set("_routes",e.filter(P=>N.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[u,p,r,o,f,e,i,l]),b=G.useMemo(()=>dS(y,o),[y,o]),C=vS(y);return G.createElement(G.Fragment,null,v.map(N=>G.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>G.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),C.map(({key:N,link:B})=>G.createElement("link",{key:N,nonce:t.nonce,...B})))}function bS(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var P2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P2&&(window.__reactRouterVersion="7.10.1")}catch{}function wS({basename:i,children:e,unstable_useTransitions:t,window:r}){let o=G.useRef();o.current==null&&(o.current=lC({window:r,v5Compat:!0}));let l=o.current,[u,p]=G.useState({action:l.action,location:l.location}),g=G.useCallback(f=>{t===!1?p(f):G.startTransition(()=>p(f))},[t]);return G.useLayoutEffect(()=>l.listen(g),[l,g]),G.createElement(ZC,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t===!0})}var L2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dn=G.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:l,replace:u,state:p,target:g,to:f,preventScrollReset:y,viewTransition:v,...b},C){let{basename:N,unstable_useTransitions:B}=G.useContext(Vi),I=typeof f=="string"&&L2.test(f),P,k=!1;if(typeof f=="string"&&I&&(P=f,P2))try{let A=new URL(window.location.href),D=f.startsWith("//")?new URL(A.protocol+f):new URL(f),U=Wr(D.pathname,N);D.origin===A.origin&&U!=null?f=U+D.search+D.hash:k=!0}catch{yi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=PC(f,{relative:o}),[L,z,H]=xS(r,b),T=CS(f,{replace:u,state:p,target:g,preventScrollReset:y,relative:o,viewTransition:v,unstable_useTransitions:B});function R(A){e&&e(A),A.defaultPrevented||T(A)}let S=G.createElement("a",{...b,...H,href:P||j,onClick:k||l?e:R,ref:bS(C,z),target:g,"data-discover":!I&&t==="render"?"true":void 0});return L&&!I?G.createElement(G.Fragment,null,S,G.createElement(yS,{page:j})):S});Dn.displayName="Link";var ES=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:l,to:u,viewTransition:p,children:g,...f},y){let v=Wc(u,{relative:f.relative}),b=Js(),C=G.useContext(rf),{navigator:N,basename:B}=G.useContext(Vi),I=C!=null&&IS(v)&&p===!0,P=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,k=b.pathname,j=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(k=k.toLowerCase(),j=j?j.toLowerCase():null,P=P.toLowerCase()),j&&B&&(j=Wr(j,B)||j);const L=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let z=k===P||!o&&k.startsWith(P)&&k.charAt(L)==="/",H=j!=null&&(j===P||!o&&j.startsWith(P)&&j.charAt(P.length)==="/"),T={isActive:z,isPending:H,isTransitioning:I},R=z?e:void 0,S;typeof r=="function"?S=r(T):S=[r,z?"active":null,H?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(T):l;return G.createElement(Dn,{...f,"aria-current":R,className:S,ref:y,style:A,to:u,viewTransition:p},typeof g=="function"?g(T):g)});ES.displayName="NavLink";var AS=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:l,method:u=Vh,action:p,onSubmit:g,relative:f,preventScrollReset:y,viewTransition:v,...b},C)=>{let{unstable_useTransitions:N}=G.useContext(Vi),B=RS(),I=DS(p,{relative:f}),P=u.toLowerCase()==="get"?"get":"post",k=typeof p=="string"&&L2.test(p),j=L=>{if(g&&g(L),L.defaultPrevented)return;L.preventDefault();let z=L.nativeEvent.submitter,H=z?.getAttribute("formmethod")||u,T=()=>B(z||L.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:o,state:l,relative:f,preventScrollReset:y,viewTransition:v});N&&t!==!1?G.startTransition(()=>T()):T()};return G.createElement("form",{ref:C,method:P,action:I,onSubmit:r?g:j,...b,"data-discover":!k&&i==="render"?"true":void 0})});AS.displayName="Form";function TS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F2(i){let e=G.useContext(pl);return _t(e,TS(i)),e}function CS(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:l,viewTransition:u,unstable_useTransitions:p}={}){let g=Jn(),f=Js(),y=Wc(i,{relative:l});return G.useCallback(v=>{if(rS(v,e)){v.preventDefault();let b=t!==void 0?t:Pc(f)===Pc(y),C=()=>g(i,{replace:b,state:r,preventScrollReset:o,relative:l,viewTransition:u});p?G.startTransition(()=>C()):C()}},[f,g,y,t,r,e,i,o,l,u,p])}var SS=0,NS=()=>`__${String(++SS)}__`;function RS(){let{router:i}=F2("useSubmit"),{basename:e}=G.useContext(Vi),t=YC(),r=i.fetch,o=i.navigate;return G.useCallback(async(l,u={})=>{let{action:p,method:g,encType:f,formData:y,body:v}=oS(l,e);if(u.navigate===!1){let b=u.fetcherKey||NS();await r(b,t,u.action||p,{preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||g,formEncType:u.encType||f,flushSync:u.flushSync})}else await o(u.action||p,{preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||g,formEncType:u.encType||f,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,t])}function DS(i,{relative:e}={}){let{basename:t}=G.useContext(Vi),r=G.useContext(Tr);_t(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Wc(i||".",{relative:e})},u=Js();if(i==null){l.search=u.search;let p=new URLSearchParams(l.search),g=p.getAll("index");if(g.some(y=>y==="")){p.delete("index"),g.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();l.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Yr([t,l.pathname])),Pc(l)}function IS(i,{relative:e}={}){let t=G.useContext(R2);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=F2("useViewTransitionState"),o=Wc(i,{relative:e});if(!t.isTransitioning)return!1;let l=Wr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Wr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Bd(o.pathname,u)!=null||Bd(o.pathname,l)!=null}function qm({category:i,title:e,description:t,profileImageUrl:r,authorName:o,timestamp:l,commentsCount:u}){return m.jsxs("div",{className:"border border-white/30 px-4 py-4 rounded-3xl bg-white/10 backdrop-blur-xl shadow-2xl shadow-black/20 flex flex-col hover:bg-white/15 transition-all duration-300",children:[m.jsx("div",{className:"border border-white/30 rounded-full w-fit px-3 py-1.5 bg-white/20 backdrop-blur-md",children:m.jsx("h2",{className:"text-white/90 text-sm font-bold drop-shadow-md",children:i})}),m.jsxs("div",{className:"mt-4",children:[m.jsx("h3",{className:"text-white font-bold text-[20px]",children:e}),m.jsx("p",{className:"leading-tight text-gray-300",children:t})]}),m.jsxs("div",{className:"text-white mt-4 flex items-center gap-4 text-gray-400 text-sm",children:[m.jsx("img",{src:r,alt:`${o}'s profile`,className:"w-8 h-8 object-cover rounded-full"}),m.jsx("span",{children:o}),l&&m.jsx("span",{children:l}),u!==void 0&&m.jsxs("span",{children:[u," comments"]})]})]})}const kS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),$v=i=>{const e=jS(i);return e.charAt(0).toUpperCase()+e.slice(1)},V2=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),BS=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var OS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const MS=G.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:u,...p},g)=>G.createElement("svg",{ref:g,...OS,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:V2("lucide",o),...!l&&!BS(p)&&{"aria-hidden":"true"},...p},[...u.map(([f,y])=>G.createElement(f,y)),...Array.isArray(l)?l:[l]]));const $e=(i,e)=>{const t=G.forwardRef(({className:r,...o},l)=>G.createElement(MS,{ref:l,iconNode:e,className:V2(`lucide-${kS($v(i))}`,`lucide-${i}`,r),...o}));return t.displayName=$v(i),t};const PS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jp=$e("arrow-left",PS);const LS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],FS=$e("arrow-right",LS);const VS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],US=$e("book-open",VS);const zS=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],U2=$e("cake",zS);const HS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],z2=$e("calendar",HS);const qS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],GS=$e("chevron-down",qS);const $S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],af=$e("circle-alert",$S);const KS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],H2=$e("circle-check-big",KS);const YS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XS=$e("clock",YS);const QS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],WS=$e("external-link",QS);const ZS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],JS=$e("eye-off",ZS);const e6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eg=$e("eye",e6);const t6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hp=$e("file-text",t6);const n6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],of=$e("heart",n6);const i6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Kv=$e("lock",i6);const r6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],q2=$e("log-out",r6);const s6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],G2=$e("mail",s6);const a6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],lf=$e("message-circle",a6);const o6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cf=$e("phone",o6);const l6=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],c6=$e("pin",l6);const u6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uf=$e("plus",u6);const h6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tg=$e("search",h6);const d6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dp=$e("send",d6);const f6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],$2=$e("share-2",f6);const m6=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],K2=$e("sparkles",m6);const p6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],g6=$e("square-pen",p6);const x6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],y6=$e("tag",x6);const v6=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],fp=$e("thumbs-up",v6);const _6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],b6=$e("trash-2",_6);const w6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Y2=$e("trending-up",w6);const E6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],A6=$e("triangle-alert",E6);const T6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],C6=$e("upload",T6);const S6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hf=$e("user",S6);const N6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mp=$e("x",N6),R6=()=>{const[i,e]=G.useState(!1),[t,r]=G.useState(!1);G.useEffect(()=>{const l=setTimeout(()=>{e(!0),setTimeout(()=>r(!0),50)},100);return()=>clearTimeout(l)},[]);const o=()=>{r(!1),setTimeout(()=>{e(!1),sessionStorage.setItem("hasSeenPopup","true")},300)};return i?m.jsx("div",{className:`fixed inset-0 bg-black/40 z-[9999] flex items-center justify-center p-4 transition-opacity duration-500 ${t?"opacity-100":"opacity-0"}`,children:m.jsxs("div",{className:`bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 max-w-sm w-full p-6 transition-all duration-500 ${t?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-white drop-shadow-lg",children:"Need Immediate Help?"}),m.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Crisis support available 24/7"})]}),m.jsx("button",{onClick:o,className:"text-white/90 hover:text-white hover:bg-white/10 p-1 rounded-lg transition-all duration-200","aria-label":"Close popup",children:m.jsx(mp,{size:20})})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(cf,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"988 Suicide & Crisis Lifeline"}),m.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Call or text 988"})]})]})}),m.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(lf,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"Crisis Text Line"}),m.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Text HOME to 741741"})]})]})}),m.jsx("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl p-3 hover:bg-white/10 transition-all duration-200",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(af,{className:"text-white/80 flex-shrink-0 mt-0.5",size:20}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-white drop-shadow-md",children:"SAMHSA Helpline"}),m.jsx("p",{className:"text-white/70 text-sm font-medium",children:"1-800-662-4357 (free, 24/7)"})]})]})}),m.jsx("button",{onClick:o,className:"w-full bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold py-2 px-4 rounded-2xl transition-all duration-300 border border-white/30 shadow-lg mt-4 drop-shadow-md",children:"Close"})]})]})}):null},Yv="/BPA-2025/assets/tsplanding-BdYZ5Q6_.png",D6="/BPA-2025/assets/pexels-creationhill-1681010-BvCsMv-_.jpg",I6="/BPA-2025/assets/pexels-olly-733872-BJ7-d401.jpg",k6="/BPA-2025/assets/pexels-olly-774095-BrmVMZ_7.jpg";function j6(){const i=Jn(),[e,t]=G.useState(!1),[r,o]=G.useState(!1),[l,u]=G.useState(!1),[p,g]=G.useState(!1),[f,y]=G.useState(!1),v=!sessionStorage.getItem("hasVisitedHome"),b=sessionStorage.getItem("hasSeenPopup");G.useEffect(()=>{if(g(!0),v||o(!0),!b){const N=setTimeout(()=>{y(!0)},2e3);return()=>clearTimeout(N)}},[]);const C=()=>{e||r||(t(!0),setTimeout(()=>{o(!0),t(!1),sessionStorage.setItem("hasVisitedHome","true")},400))};return G.useEffect(()=>{const N=I=>{!r&&!e&&(I.preventDefault(),window.scrollTo(0,0),l||(u(!0),C()))},B=I=>{!r&&!e&&(I.preventDefault(),l||(u(!0),C()))};return window.addEventListener("scroll",N,{passive:!1}),window.addEventListener("wheel",B,{passive:!1}),()=>{window.removeEventListener("scroll",N),window.removeEventListener("wheel",B)}},[r,e,l]),G.useEffect(()=>{r&&window.scrollTo({top:0,behavior:"instant"})},[r]),G.useEffect(()=>(r?document.body.style.overflow="auto":document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[r]),m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:`
                    radial-gradient(circle at 15% 20%, rgba(56, 189, 248, 0.5) 0%, transparent 40%),
                    radial-gradient(circle at 85% 25%, rgba(14, 165, 233, 0.45) 0%, transparent 35%),
                    radial-gradient(circle at 35% 65%, rgba(125, 211, 252, 0.4) 0%, transparent 45%),
                    radial-gradient(circle at 75% 75%, rgba(2, 132, 199, 0.5) 0%, transparent 50%),
                    radial-gradient(circle at 50% 45%, rgba(96, 165, 250, 0.35) 0%, transparent 55%),
                    radial-gradient(circle at 5% 85%, rgba(3, 105, 161, 0.4) 0%, transparent 40%),
                    radial-gradient(circle at 90% 10%, rgba(186, 230, 253, 0.3) 0%, transparent 35%),
                    radial-gradient(circle at 60% 90%, rgba(7, 89, 133, 0.35) 0%, transparent 40%),
                    linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #38bdf8 100%)
                `,opacity:p?1:0,transition:"opacity 800ms ease-out"},children:[m.jsxs("section",{className:`min-h-screen flex items-center justify-center overflow-hidden ${r?"hidden":""}`,style:{position:r?"relative":"fixed",top:0,left:0,right:0,bottom:0,zIndex:r?0:50,backgroundImage:`url(${Yv})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:e?0:1,transition:"opacity 1000ms cubic-bezier(0.4, 0.0, 0.2, 1)"},children:[m.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${Yv})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",transform:e?"scale(3)":"scale(1)",transformOrigin:"center center",transition:"transform 600ms cubic-bezier(0.4, 0.0, 0.2, 1)"}}),m.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(12, 74, 110, 0.8) 0%, rgba(3, 105, 161, 0.7) 50%, rgba(56, 189, 248, 0.6) 100%)",opacity:e?1:0,transition:"opacity 600ms cubic-bezier(0.4, 0.0, 0.2, 1)"}}),m.jsx("div",{className:"absolute inset-0",style:{background:"rgba(0, 0, 0, 0.3)",opacity:e?0:1,transition:"opacity 1000ms cubic-bezier(0.4, 0.0, 0.2, 1)"}}),m.jsxs("div",{className:"z-10 px-8 md:px-16 lg:px-24 text-center max-w-5xl",style:{opacity:e?0:1,transform:e?"scale(0.9)":"scale(1)",transition:"all 900ms cubic-bezier(0.4, 0.0, 0.2, 1)"},children:[m.jsx("h1",{className:"text-7xl md:text-8xl lg:text-9xl font-black text-white mb-8 leading-tight drop-shadow-2xl tracking-tight",children:"#RiseAbove"}),m.jsx("p",{className:"text-2xl md:text-3xl lg:text-4xl text-white/95 mb-16 leading-relaxed font-semibold",children:"Join thousands of others who have overcome their fears"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[m.jsx("button",{onClick:()=>i("/counseling"),className:"px-10 py-5 bg-white/25 hover:bg-white/35 backdrop-blur-xl text-white font-bold text-lg rounded-full border border-white/40 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg hover:scale-105",children:"Get Support"}),m.jsx("button",{onClick:C,className:"px-10 py-5 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-semibold text-lg rounded-full border border-white/30 shadow-xl transition-all duration-300 hover:scale-105",children:"View The Change"})]})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-48 z-20 -mb-8",children:m.jsxs("svg",{viewBox:"0 0 1200 200",preserveAspectRatio:"none",className:"w-full h-full",children:[m.jsx("path",{d:"M0,100 C200,140 300,80 450,110 C600,140 750,90 900,120 C1050,150 1150,100 1200,130 L1200,200 L0,200 Z",fill:"url(#soft-blue1)",opacity:"0.4"}),m.jsx("path",{d:"M0,85 C150,55 350,105 500,75 C650,45 800,95 950,65 C1100,35 1180,75 1200,85 L1200,200 L0,200 Z",fill:"url(#soft-blue2)",opacity:"0.35"}),m.jsx("path",{d:"M0,70 C100,100 250,50 400,80 C550,110 700,60 850,90 C1000,120 1120,70 1200,100 L1200,200 L0,200 Z",fill:"url(#soft-white1)",opacity:"0.3"}),m.jsx("path",{d:"M0,60 C180,80 320,40 520,70 C720,100 880,50 1050,80 C1150,95 1180,60 1200,75 L1200,200 L0,200 Z",fill:"url(#soft-blue3)",opacity:"0.25"}),m.jsx("path",{d:"M0,50 C220,70 380,30 580,60 C780,90 920,40 1100,65 C1170,75 1190,45 1200,60 L1200,200 L0,200 Z",fill:"url(#soft-white2)",opacity:"0.2"}),m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:"soft-blue1",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#bfdbfe",stopOpacity:"0.6"}),m.jsx("stop",{offset:"50%",stopColor:"#dbeafe",stopOpacity:"0.7"}),m.jsx("stop",{offset:"100%",stopColor:"#eff6ff",stopOpacity:"0.3"})]}),m.jsxs("linearGradient",{id:"soft-blue2",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#93c5fd",stopOpacity:"0.5"}),m.jsx("stop",{offset:"50%",stopColor:"#bfdbfe",stopOpacity:"0.6"}),m.jsx("stop",{offset:"100%",stopColor:"#dbeafe",stopOpacity:"0.2"})]}),m.jsxs("linearGradient",{id:"soft-white1",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.5"}),m.jsx("stop",{offset:"50%",stopColor:"#f0f9ff",stopOpacity:"0.4"}),m.jsx("stop",{offset:"100%",stopColor:"#e0f2fe",stopOpacity:"0.1"})]}),m.jsxs("linearGradient",{id:"soft-blue3",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#7dd3fc",stopOpacity:"0.4"}),m.jsx("stop",{offset:"50%",stopColor:"#bae6fd",stopOpacity:"0.3"}),m.jsx("stop",{offset:"100%",stopColor:"#e0f2fe",stopOpacity:"0.1"})]}),m.jsxs("linearGradient",{id:"soft-white2",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.4"}),m.jsx("stop",{offset:"50%",stopColor:"#f0f9ff",stopOpacity:"0.3"}),m.jsx("stop",{offset:"100%",stopColor:"#dbeafe",stopOpacity:"0"})]})]})]})})]}),m.jsxs("section",{id:"main-content",className:"relative flex flex-col items-center pb-32",style:{background:"radial-gradient(ellipse at 20% 10%, #0A0F2A 0%, #6A1E55 35%, #D76F86 65%, #FFA54C 95%), linear-gradient(155deg, #0A0F2A 0%, #5A1648 40%, #C86080 70%, #FF954A 100%)",opacity:r?1:0,transform:r?"translateY(0)":"translateY(5px)",transition:"all 800ms cubic-bezier(0.4, 0.0, 0.2, 1)",pointerEvents:r?"auto":"none"},children:[m.jsxs("div",{className:"w-full py-24 relative space-y-40",children:[m.jsx("div",{className:"w-full px-8 md:px-16 lg:px-24",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center max-w-[1600px] mx-auto",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute -top-8 -left-8 w-20 h-20 bg-white/20 backdrop-blur-xl rounded-full border-2 border-white/40 shadow-xl flex items-center justify-center z-20",children:m.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M5.5 16a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 16h-8z"})})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-400/20 to-blue-500/20 rounded-full blur-3xl"}),m.jsx("img",{src:D6,alt:"Sarah's Journey",className:"relative z-10 w-full h-[600px] object-cover rounded-3xl shadow-2xl"})]}),m.jsxs("div",{className:"relative space-y-6",children:[m.jsx("div",{className:"absolute -top-6 -left-6 text-white/10 text-[120px] font-serif leading-none",children:'"'}),m.jsx("h3",{className:"text-4xl font-bold text-white mb-2 relative z-10",children:"Sarah's Journey"}),m.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-sky-400 to-blue-500 rounded-full mb-6"}),m.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"For years, I battled with depression that felt like an endless darkness. Some days, getting out of bed seemed impossible. I felt completely alone in my struggle."}),m.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Finding Nimbus changed everything. The community welcomed me with open arms, and through their support and the professional counseling I found here, I slowly began to see light again."}),m.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Today, I'm not just survivingI'm thriving. I've learned to manage my mental health, and I'm passionate about helping others who are going through what I experienced. Recovery is possible."}),m.jsxs("p",{className:"text-white/70 text-lg font-semibold mt-8 italic flex items-center gap-2",children:[m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Sarah M., 2 years on her journey"]})]})]})}),m.jsx("div",{className:"w-full px-8 md:px-16 lg:px-24",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center max-w-[1600px] mx-auto",children:[m.jsxs("div",{className:"relative order-2 lg:order-1 space-y-6",children:[m.jsx("div",{className:"absolute -top-6 -right-6 text-white/10 text-[120px] font-serif leading-none",children:'"'}),m.jsx("h3",{className:"text-4xl font-bold text-white mb-2 relative z-10",children:"Michael's Recovery"}),m.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-blue-400 to-sky-500 rounded-full mb-6"}),m.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"My addiction to substances nearly cost me everythingmy family, my career, my life. I hit rock bottom and didn't know if I could ever climb back up."}),m.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Through Nimbus, I connected with others who understood my pain without judgment. The resources here pointed me toward professional treatment, and the community kept me accountable during my darkest moments."}),m.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"I've been clean for 18 months now. I've rebuilt relationships with my family and found purpose in mentoring others in recovery. Every day is a choice, and Nimbus helps me make the right one."}),m.jsxs("p",{className:"text-white/70 text-lg font-semibold mt-8 italic flex items-center gap-2",children:[m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Michael R., 18 months sober"]})]}),m.jsxs("div",{className:"relative order-1 lg:order-2",children:[m.jsx("div",{className:"absolute -top-8 -right-8 w-20 h-20 bg-white/20 backdrop-blur-xl rounded-full border-2 border-white/40 shadow-xl flex items-center justify-center z-20",children:m.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-bl from-blue-400/20 to-sky-500/20 rounded-full blur-3xl"}),m.jsx("img",{src:I6,alt:"Michael's Recovery",className:"relative z-10 w-full h-[600px] object-cover rounded-3xl shadow-2xl"})]})]})}),m.jsx("div",{className:"w-full px-8 md:px-16 lg:px-24",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center max-w-[1600px] mx-auto",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute -top-8 -left-8 w-20 h-20 bg-white/20 backdrop-blur-xl rounded-full border-2 border-white/40 shadow-xl flex items-center justify-center z-20",children:m.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-300/20 to-blue-600/20 rounded-full blur-3xl"}),m.jsx("img",{src:k6,alt:"Jessica's Transformation",className:"relative z-10 w-full h-[600px] object-cover rounded-3xl shadow-2xl"})]}),m.jsxs("div",{className:"relative space-y-6",children:[m.jsx("div",{className:"absolute -top-6 -left-6 text-white/10 text-[120px] font-serif leading-none",children:'"'}),m.jsx("h3",{className:"text-4xl font-bold text-white mb-2 relative z-10",children:"Jessica's Transformation"}),m.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-sky-300 to-blue-600 rounded-full mb-6"}),m.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Anxiety controlled my life for so long. Panic attacks would strike without warning, keeping me isolated and afraid to leave my home. I felt trapped in my own mind."}),m.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Nimbus gave me the courage to seek help. The forum discussions taught me I wasn't alone, and the professional counselors here gave me tools to manage my anxiety effectively."}),m.jsx("p",{className:"text-white/95 text-xl leading-relaxed",children:"Now I'm living life on my terms. I travel, I've made new friends, and I even started my own business. The anxiety hasn't disappeared, but I've learned to live alongside it rather than letting it control me."}),m.jsxs("p",{className:"text-white/70 text-lg font-semibold mt-8 italic flex items-center gap-2",children:[m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Jessica L., reclaiming her life"]})]})]})})]}),m.jsx("div",{className:"w-full py-20 px-8 md:px-16 lg:px-24",children:m.jsxs("div",{className:"max-w-[1600px] mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[m.jsxs("div",{className:"space-y-8",children:[m.jsx("h2",{className:"text-5xl font-bold text-white",children:"Latest Discussions"}),m.jsxs("div",{className:"space-y-6",children:[m.jsx(qm,{category:"Mental Health",title:"How to manage anxiety?",description:"Looking for tips and strategies to cope with anxiety.",profileImageUrl:"home/person1.jpg",authorName:"John Doe",timestamp:"2 hours ago",commentsCount:5}),m.jsx(qm,{category:"Support",title:"Dealing with stress at work",description:"Anyone else struggling with work-life balance?",profileImageUrl:"home/person2.jpg",authorName:"Jane Smith",timestamp:"5 hours ago",commentsCount:12}),m.jsx(qm,{category:"Wellness",title:"Meditation tips for beginners",description:"Starting my mindfulness journey, any advice?",profileImageUrl:"home/person3.jpg",authorName:"Mike Johnson",timestamp:"1 day ago",commentsCount:8})]}),m.jsx("button",{onClick:()=>i("/forum"),className:"px-10 py-4 bg-white/15 hover:bg-white/25 backdrop-blur-xl text-white font-bold text-lg rounded-full border border-white/30 shadow-xl transition-all duration-300 hover:scale-105",children:"View More Discussions"})]}),m.jsx("div",{className:"lg:sticky lg:top-24",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-12 border border-white/20 shadow-2xl h-full flex flex-col justify-center items-center text-center space-y-6",children:[m.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mb-4",children:m.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),m.jsx("h2",{className:"text-4xl font-bold text-white",children:"Still need more help?"}),m.jsx("p",{className:"text-white/80 text-lg",children:"Connect with a professional counselor who can provide personalized support"}),m.jsx("button",{onClick:()=>i("/counseling"),className:"px-12 py-5 bg-white/20 hover:bg-white/30 backdrop-blur-xl text-white font-bold text-lg rounded-full border border-white/40 shadow-2xl shadow-black/20 transition-all duration-300 hover:scale-105",children:"Book an appointment now"})]})})]})})]})]}),f&&m.jsx(R6,{})]})}function B6(){return m.jsx("div",{className:"min-h-screen pt-32 px-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Education"}),m.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:m.jsx("p",{className:"text-white/80 text-lg",children:"Education page coming soon..."})})]})})}function O6(){return m.jsx("div",{className:"min-h-screen pt-32 px-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Get Help"}),m.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:m.jsx("p",{className:"text-white/80 text-lg",children:"Help page coming soon..."})})]})})}function M6(){return m.jsx("div",{className:"min-h-screen pt-32 px-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Counseling"}),m.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:m.jsx("p",{className:"text-white/80 text-lg",children:"Counseling page coming soon..."})})]})})}const P6=()=>{};var Xv={};const X2=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},L6=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],u=i[t++],p=i[t++],g=((o&7)<<18|(l&63)<<12|(u&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],u=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Q2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const l=i[o],u=o+1<i.length,p=u?i[o+1]:0,g=o+2<i.length,f=g?i[o+2]:0,y=l>>2,v=(l&3)<<4|p>>4;let b=(p&15)<<2|f>>6,C=f&63;g||(C=64,u||(b=64)),r.push(t[y],t[v],t[b],t[C])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(X2(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):L6(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const f=o<i.length?t[i.charAt(o)]:64;++o;const v=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||p==null||f==null||v==null)throw new F6;const b=l<<2|p>>4;if(r.push(b),f!==64){const C=p<<4&240|f>>2;if(r.push(C),v!==64){const N=f<<6&192|v;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class F6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V6=function(i){const e=X2(i);return Q2.encodeByteArray(e,!0)},Od=function(i){return V6(i).replace(/\./g,"")},W2=function(i){try{return Q2.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function U6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const z6=()=>U6().__FIREBASE_DEFAULTS__,H6=()=>{if(typeof process>"u"||typeof Xv>"u")return;const i=Xv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},q6=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&W2(i[1]);return e&&JSON.parse(e)},df=()=>{try{return P6()||z6()||H6()||q6()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Z2=i=>df()?.emulatorHosts?.[i],J2=i=>{const e=Z2(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ew=()=>df()?.config,tw=i=>df()?.[`_${i}`];class G6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function ea(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ng(i){return(await fetch(i,{credentials:"include"})).ok}function nw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Od(JSON.stringify(t)),Od(JSON.stringify(u)),""].join(".")}const Dc={};function $6(){const i={prod:[],emulator:[]};for(const e of Object.keys(Dc))Dc[e]?i.emulator.push(e):i.prod.push(e);return i}function K6(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Qv=!1;function ig(i,e){if(typeof window>"u"||typeof document>"u"||!ea(window.location.host)||Dc[i]===e||Dc[i]||Qv)return;Dc[i]=e;function t(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=$6().prod.length>0;function u(){const b=document.getElementById(r);b&&b.remove()}function p(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Qv=!0,u()},b}function y(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=K6(r),C=t("text"),N=document.getElementById(C)||document.createElement("span"),B=t("learnmore"),I=document.getElementById(B)||document.createElement("a"),P=t("preprendIcon"),k=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const j=b.element;p(j),y(I,B);const L=f();g(k,P),j.append(k,N,I,L),document.body.appendChild(j)}l?(N.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function X6(){const i=df()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function W6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z6(){const i=mn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function J6(){return!X6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rw(){try{return typeof indexedDB=="object"}catch{return!1}}function sw(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function e3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const t3="FirebaseError";class _i extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=t3,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}}class Ga{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?n3(l,r):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new _i(o,p,r)}}function n3(i,e){return i.replace(i3,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const i3=/\{\$([^}]+)}/g;function r3(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Er(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const l=i[o],u=e[o];if(Wv(l)&&Wv(u)){if(!Er(l,u))return!1}else if(l!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Wv(i){return i!==null&&typeof i=="object"}function Zc(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ac(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Tc(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function s3(i,e){const t=new a3(i,e);return t.subscribe.bind(t)}class a3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");o3(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Gm),o.error===void 0&&(o.error=Gm),o.complete===void 0&&(o.complete=Gm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o3(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Gm(){}const l3=1e3,c3=2,u3=14400*1e3,h3=.5;function Zv(i,e=l3,t=c3){const r=e*Math.pow(t,i),o=Math.round(h3*r*(Math.random()-.5)*2);return Math.min(u3,r+o)}function lt(i){return i&&i._delegate?i._delegate:i}class vi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ka="[DEFAULT]";class d3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new G6;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m3(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);r===p&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f3(i){return i===ka?void 0:i}function m3(i){return i.instantiationMode==="EAGER"}class p3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new d3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const g3={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},x3=Ve.INFO,y3={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},v3=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=y3[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ff{constructor(e){this.name=e,this._logLevel=x3,this._logHandler=v3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const _3=(i,e)=>e.some(t=>i instanceof t);let Jv,e_;function b3(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w3(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aw=new WeakMap,pp=new WeakMap,ow=new WeakMap,$m=new WeakMap,rg=new WeakMap;function E3(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",u)},l=()=>{t(zs(i.result)),o()},u=()=>{r(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&aw.set(t,i)}).catch(()=>{}),rg.set(e,i),e}function A3(i){if(pp.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",u),i.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",u),i.addEventListener("abort",u)});pp.set(i,e)}let gp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return pp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ow.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function T3(i){gp=i(gp)}function C3(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Km(this),e,...t);return ow.set(r,e.sort?e.sort():[e]),zs(r)}:w3().includes(i)?function(...e){return i.apply(Km(this),e),zs(aw.get(this))}:function(...e){return zs(i.apply(Km(this),e))}}function S3(i){return typeof i=="function"?C3(i):(i instanceof IDBTransaction&&A3(i),_3(i,b3())?new Proxy(i,gp):i)}function zs(i){if(i instanceof IDBRequest)return E3(i);if($m.has(i))return $m.get(i);const e=S3(i);return e!==i&&($m.set(i,e),rg.set(e,i)),e}const Km=i=>rg.get(i);function lw(i,e,{blocked:t,upgrade:r,blocking:o,terminated:l}={}){const u=indexedDB.open(i,e),p=zs(u);return r&&u.addEventListener("upgradeneeded",g=>{r(zs(u.result),g.oldVersion,g.newVersion,zs(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),p}const N3=["get","getKey","getAll","getAllKeys","count"],R3=["put","add","delete","clear"],Ym=new Map;function t_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ym.get(e))return Ym.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=R3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||N3.includes(t)))return;const l=async function(u,...p){const g=this.transaction(u,o?"readwrite":"readonly");let f=g.store;return r&&(f=f.index(p.shift())),(await Promise.all([f[t](...p),o&&g.done]))[0]};return Ym.set(e,l),l}T3(i=>({...i,get:(e,t,r)=>t_(e,t)||i.get(e,t,r),has:(e,t)=>!!t_(e,t)||i.has(e,t)}));class D3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I3(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function I3(i){return i.getComponent()?.type==="VERSION"}const xp="@firebase/app",n_="0.14.6";const Zr=new ff("@firebase/app"),k3="@firebase/app-compat",j3="@firebase/analytics-compat",B3="@firebase/analytics",O3="@firebase/app-check-compat",M3="@firebase/app-check",P3="@firebase/auth",L3="@firebase/auth-compat",F3="@firebase/database",V3="@firebase/data-connect",U3="@firebase/database-compat",z3="@firebase/functions",H3="@firebase/functions-compat",q3="@firebase/installations",G3="@firebase/installations-compat",$3="@firebase/messaging",K3="@firebase/messaging-compat",Y3="@firebase/performance",X3="@firebase/performance-compat",Q3="@firebase/remote-config",W3="@firebase/remote-config-compat",Z3="@firebase/storage",J3="@firebase/storage-compat",e5="@firebase/firestore",t5="@firebase/ai",n5="@firebase/firestore-compat",i5="firebase",r5="12.6.0";const yp="[DEFAULT]",s5={[xp]:"fire-core",[k3]:"fire-core-compat",[B3]:"fire-analytics",[j3]:"fire-analytics-compat",[M3]:"fire-app-check",[O3]:"fire-app-check-compat",[P3]:"fire-auth",[L3]:"fire-auth-compat",[F3]:"fire-rtdb",[V3]:"fire-data-connect",[U3]:"fire-rtdb-compat",[z3]:"fire-fn",[H3]:"fire-fn-compat",[q3]:"fire-iid",[G3]:"fire-iid-compat",[$3]:"fire-fcm",[K3]:"fire-fcm-compat",[Y3]:"fire-perf",[X3]:"fire-perf-compat",[Q3]:"fire-rc",[W3]:"fire-rc-compat",[Z3]:"fire-gcs",[J3]:"fire-gcs-compat",[e5]:"fire-fst",[n5]:"fire-fst-compat",[t5]:"fire-vertex","fire-js":"fire-js",[i5]:"fire-js-all"};const Md=new Map,a5=new Map,vp=new Map;function i_(i,e){try{i.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Pi(i){const e=i.name;if(vp.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,i);for(const t of Md.values())i_(t,i);for(const t of a5.values())i_(t,i);return!0}function ta(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Xn(i){return i==null?!1:i.settings!==void 0}const o5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Ga("app","Firebase",o5);class l5{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const $a=r5;function cw(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:yp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Hs.create("bad-app-name",{appName:String(o)});if(t||(t=ew()),!t)throw Hs.create("no-options");const l=Md.get(o);if(l){if(Er(t,l.options)&&Er(r,l.config))return l;throw Hs.create("duplicate-app",{appName:o})}const u=new p3(o);for(const g of vp.values())u.addComponent(g);const p=new l5(t,r,u);return Md.set(o,p),p}function mf(i=yp){const e=Md.get(i);if(!e&&i===yp&&ew())return cw();if(!e)throw Hs.create("no-app",{appName:i});return e}function Bn(i,e,t){let r=s5[i]??i;t&&(r+=`-${t}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(u.join(" "));return}Pi(new vi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const c5="firebase-heartbeat-database",u5=1,Lc="firebase-heartbeat-store";let Xm=null;function uw(){return Xm||(Xm=lw(c5,u5,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Lc)}catch(t){console.warn(t)}}}}).catch(i=>{throw Hs.create("idb-open",{originalErrorMessage:i.message})})),Xm}async function h5(i){try{const t=(await uw()).transaction(Lc),r=await t.objectStore(Lc).get(hw(i));return await t.done,r}catch(e){if(e instanceof _i)Zr.warn(e.message);else{const t=Hs.create("idb-get",{originalErrorMessage:e?.message});Zr.warn(t.message)}}}async function r_(i,e){try{const r=(await uw()).transaction(Lc,"readwrite");await r.objectStore(Lc).put(e,hw(i)),await r.done}catch(t){if(t instanceof _i)Zr.warn(t.message);else{const r=Hs.create("idb-set",{originalErrorMessage:t?.message});Zr.warn(r.message)}}}function hw(i){return`${i.name}!${i.options.appId}`}const d5=1024,f5=30;class m5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new g5(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=s_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>f5){const o=x5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s_(),{heartbeatsToSend:t,unsentEntries:r}=p5(this._heartbeatsCache.heartbeats),o=Od(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Zr.warn(e),""}}}function s_(){return new Date().toISOString().substring(0,10)}function p5(i,e=d5){const t=[];let r=i.slice();for(const o of i){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),a_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),a_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class g5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rw()?sw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await h5(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function a_(i){return Od(JSON.stringify({version:2,heartbeats:i})).length}function x5(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}function y5(i){Pi(new vi("platform-logger",e=>new D3(e),"PRIVATE")),Pi(new vi("heartbeat",e=>new m5(e),"PRIVATE")),Bn(xp,n_,i),Bn(xp,n_,"esm2020"),Bn("fire-js","")}y5("");var v5="firebase",_5="12.6.0";Bn(v5,_5,"app");const dw="@firebase/installations",sg="0.6.19";const fw=1e4,mw=`w:${sg}`,pw="FIS_v2",b5="https://firebaseinstallations.googleapis.com/v1",w5=3600*1e3,E5="installations",A5="Installations";const T5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new Ga(E5,A5,T5);function gw(i){return i instanceof _i&&i.code.includes("request-failed")}function xw({projectId:i}){return`${b5}/projects/${i}/installations`}function yw(i){return{token:i.token,requestStatus:2,expiresIn:S5(i.expiresIn),creationTime:Date.now()}}async function vw(i,e){const r=(await e.json()).error;return Pa.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _w({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function C5(i,{refreshToken:e}){const t=_w(i);return t.append("Authorization",N5(e)),t}async function bw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function S5(i){return Number(i.replace("s","000"))}function N5(i){return`${pw} ${i}`}async function R5({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const r=xw(i),o=_w(i),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const u={fid:t,authVersion:pw,appId:i.appId,sdkVersion:mw},p={method:"POST",headers:o,body:JSON.stringify(u)},g=await bw(()=>fetch(r,p));if(g.ok){const f=await g.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:yw(f.authToken)}}else throw await vw("Create Installation",g)}function ww(i){return new Promise(e=>{setTimeout(e,i)})}function D5(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const I5=/^[cdef][\w-]{21}$/,_p="";function k5(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=j5(i);return I5.test(t)?t:_p}catch{return _p}}function j5(i){return D5(i).substr(0,22)}function pf(i){return`${i.appName}!${i.appId}`}const Ew=new Map;function Aw(i,e){const t=pf(i);Tw(t,e),B5(t,e)}function Tw(i,e){const t=Ew.get(i);if(t)for(const r of t)r(e)}function B5(i,e){const t=O5();t&&t.postMessage({key:i,fid:e}),M5()}let ja=null;function O5(){return!ja&&"BroadcastChannel"in self&&(ja=new BroadcastChannel("[Firebase] FID Change"),ja.onmessage=i=>{Tw(i.data.key,i.data.fid)}),ja}function M5(){Ew.size===0&&ja&&(ja.close(),ja=null)}const P5="firebase-installations-database",L5=1,La="firebase-installations-store";let Qm=null;function ag(){return Qm||(Qm=lw(P5,L5,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(La)}}})),Qm}async function Pd(i,e){const t=pf(i),o=(await ag()).transaction(La,"readwrite"),l=o.objectStore(La),u=await l.get(t);return await l.put(e,t),await o.done,(!u||u.fid!==e.fid)&&Aw(i,e.fid),e}async function Cw(i){const e=pf(i),r=(await ag()).transaction(La,"readwrite");await r.objectStore(La).delete(e),await r.done}async function gf(i,e){const t=pf(i),o=(await ag()).transaction(La,"readwrite"),l=o.objectStore(La),u=await l.get(t),p=e(u);return p===void 0?await l.delete(t):await l.put(p,t),await o.done,p&&(!u||u.fid!==p.fid)&&Aw(i,p.fid),p}async function og(i){let e;const t=await gf(i.appConfig,r=>{const o=F5(r),l=V5(i,o);return e=l.registrationPromise,l.installationEntry});return t.fid===_p?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function F5(i){const e=i||{fid:k5(),registrationStatus:0};return Sw(e)}function V5(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Pa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=U5(i,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:z5(i)}:{installationEntry:e}}async function U5(i,e){try{const t=await R5(i,e);return Pd(i.appConfig,t)}catch(t){throw gw(t)&&t.customData.serverCode===409?await Cw(i.appConfig):await Pd(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function z5(i){let e=await o_(i.appConfig);for(;e.registrationStatus===1;)await ww(100),e=await o_(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await og(i);return r||t}return e}function o_(i){return gf(i,e=>{if(!e)throw Pa.create("installation-not-found");return Sw(e)})}function Sw(i){return H5(i)?{fid:i.fid,registrationStatus:0}:i}function H5(i){return i.registrationStatus===1&&i.registrationTime+fw<Date.now()}async function q5({appConfig:i,heartbeatServiceProvider:e},t){const r=G5(i,t),o=C5(i,t),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const u={installation:{sdkVersion:mw,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(u)},g=await bw(()=>fetch(r,p));if(g.ok){const f=await g.json();return yw(f)}else throw await vw("Generate Auth Token",g)}function G5(i,{fid:e}){return`${xw(i)}/${e}/authTokens:generate`}async function lg(i,e=!1){let t;const r=await gf(i.appConfig,l=>{if(!Nw(l))throw Pa.create("not-registered");const u=l.authToken;if(!e&&Y5(u))return l;if(u.requestStatus===1)return t=$5(i,e),l;{if(!navigator.onLine)throw Pa.create("app-offline");const p=Q5(l);return t=K5(i,p),p}});return t?await t:r.authToken}async function $5(i,e){let t=await l_(i.appConfig);for(;t.authToken.requestStatus===1;)await ww(100),t=await l_(i.appConfig);const r=t.authToken;return r.requestStatus===0?lg(i,e):r}function l_(i){return gf(i,e=>{if(!Nw(e))throw Pa.create("not-registered");const t=e.authToken;return W5(t)?{...e,authToken:{requestStatus:0}}:e})}async function K5(i,e){try{const t=await q5(i,e),r={...e,authToken:t};return await Pd(i.appConfig,r),t}catch(t){if(gw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Cw(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Pd(i.appConfig,r)}throw t}}function Nw(i){return i!==void 0&&i.registrationStatus===2}function Y5(i){return i.requestStatus===2&&!X5(i)}function X5(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+w5}function Q5(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function W5(i){return i.requestStatus===1&&i.requestTime+fw<Date.now()}async function Z5(i){const e=i,{installationEntry:t,registrationPromise:r}=await og(e);return r?r.catch(console.error):lg(e).catch(console.error),t.fid}async function J5(i,e=!1){const t=i;return await e8(t),(await lg(t,e)).token}async function e8(i){const{registrationPromise:e}=await og(i);e&&await e}function t8(i){if(!i||!i.options)throw Wm("App Configuration");if(!i.name)throw Wm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Wm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Wm(i){return Pa.create("missing-app-config-values",{valueName:i})}const Rw="installations",n8="installations-internal",i8=i=>{const e=i.getProvider("app").getImmediate(),t=t8(e),r=ta(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},r8=i=>{const e=i.getProvider("app").getImmediate(),t=ta(e,Rw).getImmediate();return{getId:()=>Z5(t),getToken:o=>J5(t,o)}};function s8(){Pi(new vi(Rw,i8,"PUBLIC")),Pi(new vi(n8,r8,"PRIVATE"))}s8();Bn(dw,sg);Bn(dw,sg,"esm2020");const Ld="analytics",a8="firebase_id",o8="origin",l8=60*1e3,c8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cg="https://www.googletagmanager.com/gtag/js";const _n=new ff("@firebase/analytics");const u8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zn=new Ga("analytics","Analytics",u8);function h8(i){if(!i.startsWith(cg)){const e=Zn.create("invalid-gtag-resource",{gtagURL:i});return _n.warn(e.message),""}return i}function Dw(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function d8(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function f8(i,e){const t=d8("firebase-js-sdk-policy",{createScriptURL:h8}),r=document.createElement("script"),o=`${cg}?l=${i}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function m8(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function p8(i,e,t,r,o,l){const u=r[o];try{if(u)await e[u];else{const g=(await Dw(t)).find(f=>f.measurementId===o);g&&await e[g.appId]}}catch(p){_n.error(p)}i("config",o,l)}async function g8(i,e,t,r,o){try{let l=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const p=await Dw(t);for(const g of u){const f=p.find(v=>v.measurementId===g),y=f&&e[f.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",r,o||{})}catch(l){_n.error(l)}}function x8(i,e,t,r){async function o(l,...u){try{if(l==="event"){const[p,g]=u;await g8(i,e,t,p,g)}else if(l==="config"){const[p,g]=u;await p8(i,e,t,r,p,g)}else if(l==="consent"){const[p,g]=u;i("consent",p,g)}else if(l==="get"){const[p,g,f]=u;i("get",p,g,f)}else if(l==="set"){const[p]=u;i("set",p)}else i(l,...u)}catch(p){_n.error(p)}}return o}function y8(i,e,t,r,o){let l=function(...u){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=x8(l,i,e,t),{gtagCore:l,wrappedGtag:window[o]}}function v8(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(cg)&&t.src.includes(i))return t;return null}const _8=30,b8=1e3;class w8{constructor(e={},t=b8){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Iw=new w8;function E8(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function A8(i){const{appId:e,apiKey:t}=i,r={method:"GET",headers:E8(t)},o=c8.replace("{app-id}",e),l=await fetch(o,r);if(l.status!==200&&l.status!==304){let u="";try{const p=await l.json();p.error?.message&&(u=p.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function T8(i,e=Iw,t){const{appId:r,apiKey:o,measurementId:l}=i.options;if(!r)throw Zn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:r};throw Zn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new N8;return setTimeout(async()=>{p.abort()},l8),kw({appId:r,apiKey:o,measurementId:l},u,p,e)}async function kw(i,{throttleEndTimeMillis:e,backoffCount:t},r,o=Iw){const{appId:l,measurementId:u}=i;try{await C8(r,e)}catch(p){if(u)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:u};throw p}try{const p=await A8(i);return o.deleteThrottleMetadata(l),p}catch(p){const g=p;if(!S8(g)){if(o.deleteThrottleMetadata(l),u)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:u};throw p}const f=Number(g?.customData?.httpStatus)===503?Zv(t,o.intervalMillis,_8):Zv(t,o.intervalMillis),y={throttleEndTimeMillis:Date.now()+f,backoffCount:t+1};return o.setThrottleMetadata(l,y),_n.debug(`Calling attemptFetch again in ${f} millis`),kw(i,y,r,o)}}function C8(i,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(l),r(Zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function S8(i){if(!(i instanceof _i)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class N8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function R8(i,e,t,r,o){if(o&&o.global){i("event",t,r);return}else{const l=await e,u={...r,send_to:l};i("event",t,u)}}async function D8(i,e,t,r){if(r&&r.global){const o={};for(const l of Object.keys(t))o[`user_properties.${l}`]=t[l];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:t})}}async function I8(){if(rw())try{await sw()}catch(i){return _n.warn(Zn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return _n.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function k8(i,e,t,r,o,l,u){const p=T8(i);p.then(b=>{t[b.measurementId]=b.appId,i.options.measurementId&&b.measurementId!==i.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>_n.error(b)),e.push(p);const g=I8().then(b=>{if(b)return r.getId()}),[f,y]=await Promise.all([p,g]);v8(l)||f8(l,f.measurementId),o("js",new Date);const v=u?.config??{};return v[o8]="firebase",v.update=!0,y!=null&&(v[a8]=y),o("config",f.measurementId,v),f.measurementId}class j8{constructor(e){this.app=e}_delete(){return delete Zo[this.app.options.appId],Promise.resolve()}}let Zo={},c_=[];const u_={};let Zm="dataLayer",B8="gtag",h_,ug,d_=!1;function O8(){const i=[];if(iw()&&i.push("This is a browser extension environment."),e3()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=Zn.create("invalid-analytics-context",{errorInfo:e});_n.warn(t.message)}}function M8(i,e,t){O8();const r=i.options.appId;if(!r)throw Zn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zn.create("no-api-key");if(Zo[r]!=null)throw Zn.create("already-exists",{id:r});if(!d_){m8(Zm);const{wrappedGtag:l,gtagCore:u}=y8(Zo,c_,u_,Zm,B8);ug=l,h_=u,d_=!0}return Zo[r]=k8(i,c_,u_,e,h_,Zm,t),new j8(i)}function P8(i=mf()){i=lt(i);const e=ta(i,Ld);return e.isInitialized()?e.getImmediate():L8(i)}function L8(i,e={}){const t=ta(i,Ld);if(t.isInitialized()){const o=t.getImmediate();if(Er(e,t.getOptions()))return o;throw Zn.create("already-initialized")}return t.initialize({options:e})}function F8(i,e,t){i=lt(i),D8(ug,Zo[i.app.options.appId],e,t).catch(r=>_n.error(r))}function V8(i,e,t,r){i=lt(i),R8(ug,Zo[i.app.options.appId],e,t,r).catch(o=>_n.error(o))}const f_="@firebase/analytics",m_="0.10.19";function U8(){Pi(new vi(Ld,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return M8(r,o,t)},"PUBLIC")),Pi(new vi("analytics-internal",i,"PRIVATE")),Bn(f_,m_),Bn(f_,m_,"esm2020");function i(e){try{const t=e.getProvider(Ld).getImmediate();return{logEvent:(r,o,l)=>V8(t,r,o,l),setUserProperties:(r,o)=>F8(t,r,o)}}catch(t){throw Zn.create("interop-component-reg-failed",{reason:t})}}}U8();function jw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z8=jw,Bw=new Ga("auth","Firebase",jw());const Fd=new ff("@firebase/auth");function H8(i,...e){Fd.logLevel<=Ve.WARN&&Fd.warn(`Auth (${$a}): ${i}`,...e)}function zh(i,...e){Fd.logLevel<=Ve.ERROR&&Fd.error(`Auth (${$a}): ${i}`,...e)}function Li(i,...e){throw hg(i,...e)}function gr(i,...e){return hg(i,...e)}function Ow(i,e,t){const r={...z8(),[e]:t};return new Ga("auth","Firebase",r).create(e,{appName:i.name})}function Xr(i){return Ow(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return Bw.create(i,...e)}function Ne(i,e,...t){if(!i)throw hg(e,...t)}function $r(i){const e="INTERNAL ASSERTION FAILED: "+i;throw zh(e),new Error(e)}function Jr(i,e){i||$r(e)}function bp(){return typeof self<"u"&&self.location?.href||""}function q8(){return p_()==="http:"||p_()==="https:"}function p_(){return typeof self<"u"&&self.location?.protocol||null}function G8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q8()||iw()||"connection"in navigator)?navigator.onLine:!0}function $8(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Jc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jr(t>e,"Short delay should be less than long delay!"),this.isMobile=Y6()||W6()}get(){return G8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dg(i,e){Jr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Mw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Y8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],X8=new Jc(3e4,6e4);function na(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ns(i,e,t,r,o={}){return Pw(i,o,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const p=Zc({key:i.config.apiKey,...u}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const f={method:e,headers:g,...l};return Q6()||(f.referrerPolicy="no-referrer"),i.emulatorConfig&&ea(i.emulatorConfig.host)&&(f.credentials="include"),Mw.fetch()(await Lw(i,i.config.apiHost,t,p),f)})}async function Pw(i,e,t){i._canInitEmulator=!1;const r={...K8,...e};try{const o=new W8(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw kh(i,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const p=l.ok?u.errorMessage:u.error.message,[g,f]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(i,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw kh(i,"email-already-in-use",u);if(g==="USER_DISABLED")throw kh(i,"user-disabled",u);const y=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Ow(i,y,f);Li(i,y)}}catch(o){if(o instanceof _i)throw o;Li(i,"network-request-failed",{message:String(o)})}}async function eu(i,e,t,r,o={}){const l=await ns(i,e,t,r,o);return"mfaPendingCredential"in l&&Li(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function Lw(i,e,t,r){const o=`${e}${t}?${r}`,l=i,u=l.config.emulator?dg(i.config,o):`${i.config.apiScheme}://${o}`;return Y8.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Q8(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),X8.get())})}}function kh(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=gr(i,e,r);return o.customData._tokenResponse=t,o}function g_(i){return i!==void 0&&i.enterprise!==void 0}class Z8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Q8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J8(i,e){return ns(i,"GET","/v2/recaptchaConfig",na(i,e))}async function eN(i,e){return ns(i,"POST","/v1/accounts:delete",e)}async function Vd(i,e){return ns(i,"POST","/v1/accounts:lookup",e)}function Ic(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tN(i,e=!1){const t=lt(i),r=await t.getIdToken(e),o=fg(r);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:r,authTime:Ic(Jm(o.auth_time)),issuedAtTime:Ic(Jm(o.iat)),expirationTime:Ic(Jm(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Jm(i){return Number(i)*1e3}function fg(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const o=W2(t);return o?JSON.parse(o):(zh("Failed to decode base64 JWT payload"),null)}catch(o){return zh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function x_(i){const e=fg(i);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function rl(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof _i&&nN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function nN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class iN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class wp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ud(i){const e=i.auth,t=await i.getIdToken(),r=await rl(i,Vd(e,{idToken:t}));Ne(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?Fw(o.providerUserInfo):[],u=sN(i.providerData,l),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!u?.length,f=p?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wp(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(i,y)}async function rN(i){const e=lt(i);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sN(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Fw(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function aN(i,e){const t=await Pw(i,{},async()=>{const r=Zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,u=await Lw(i,o,"/v1/token",`key=${l}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return i.emulatorConfig&&ea(i.emulatorConfig.host)&&(g.credentials="include"),Mw.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function oN(i,e){return ns(i,"POST","/v2/accounts:revokeToken",na(i,e))}class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=x_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:l}=await aN(e,t);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:l}=t,u=new Jo;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Ne(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return $r("not implemented")}}function Bs(i,e){Ne(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new iN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await rl(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tN(this,e)}reload(){return rN(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ud(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await rl(this,eN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,f=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:C,providerData:N,stsTokenManager:B}=t;Ne(v&&B,e,"internal-error");const I=Jo.fromJSON(this.name,B);Ne(typeof v=="string",e,"internal-error"),Bs(r,e.name),Bs(o,e.name),Ne(typeof b=="boolean",e,"internal-error"),Ne(typeof C=="boolean",e,"internal-error"),Bs(l,e.name),Bs(u,e.name),Bs(p,e.name),Bs(g,e.name),Bs(f,e.name),Bs(y,e.name);const P=new Oi({uid:v,auth:e,email:o,emailVerified:b,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:p,stsTokenManager:I,createdAt:f,lastLoginAt:y});return N&&Array.isArray(N)&&(P.providerData=N.map(k=>({...k}))),g&&(P._redirectEventId=g),P}static async _fromIdTokenResponse(e,t,r=!1){const o=new Jo;o.updateFromServerResponse(t);const l=new Oi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ud(l),l}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Fw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,p=new Jo;p.updateFromIdToken(r);const g=new Oi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new wp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,f),g}}const y_=new Map;function Kr(i){Jr(i instanceof Function,"Expected a class definition");let e=y_.get(i);return e?(Jr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,y_.set(i,e),e)}class Vw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vw.type="NONE";const v_=Vw;function Hh(i,e,t){return`firebase:${i}:${e}:${t}`}class el{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Hh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Hh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vd(this.auth,{idToken:e}).catch(()=>{});return t?Oi._fromGetAccountInfoResponse(this.auth,t,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new el(Kr(v_),e,r);const o=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=o[0]||Kr(v_);const u=Hh(r,e.config.apiKey,e.name);let p=null;for(const f of t)try{const y=await f._get(u);if(y){let v;if(typeof y=="string"){const b=await Vd(e,{idToken:y}).catch(()=>{});if(!b)break;v=await Oi._fromGetAccountInfoResponse(e,b,y)}else v=Oi._fromJSON(e,y);f!==l&&(p=v),l=f;break}}catch{}const g=o.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new el(l,e,r):(l=g[0],p&&await l._set(u,p.toJSON()),await Promise.all(t.map(async f=>{if(f!==l)try{await f._remove(u)}catch{}})),new el(l,e,r))}}function __(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($w(e))return"Blackberry";if(Kw(e))return"Webos";if(zw(e))return"Safari";if((e.includes("chrome/")||Hw(e))&&!e.includes("edge/"))return"Chrome";if(Gw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if(r?.length===2)return r[1]}return"Other"}function Uw(i=mn()){return/firefox\//i.test(i)}function zw(i=mn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hw(i=mn()){return/crios\//i.test(i)}function qw(i=mn()){return/iemobile/i.test(i)}function Gw(i=mn()){return/android/i.test(i)}function $w(i=mn()){return/blackberry/i.test(i)}function Kw(i=mn()){return/webos/i.test(i)}function mg(i=mn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function lN(i=mn()){return mg(i)&&!!window.navigator?.standalone}function cN(){return Z6()&&document.documentMode===10}function Yw(i=mn()){return mg(i)||Gw(i)||Kw(i)||$w(i)||/windows phone/i.test(i)||qw(i)}function Xw(i,e=[]){let t;switch(i){case"Browser":t=__(mn());break;case"Worker":t=`${__(mn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$a}/${r}`}class uN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,p)=>{try{const g=e(l);u(g)}catch(g){p(g)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function hN(i,e={}){return ns(i,"GET","/v2/passwordPolicy",na(i,e))}const dN=6;class fN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??dN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class mN{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new uN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vd(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===u)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Xr(this));const t=e?lt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hN(this),t=new fN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ga("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await oN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kr(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(p,this,"internal-error"),p.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,o);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&H8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ka(i){return lt(i)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=s3(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pN(i){xf=i}function Qw(i){return xf.loadJS(i)}function gN(){return xf.recaptchaEnterpriseScript}function xN(){return xf.gapiScript}function yN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class vN{constructor(){this.enterprise=new _N}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _N{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bN="recaptcha-enterprise",Ww="NO_RECAPTCHA";class wN{constructor(e){this.type=bN,this.auth=Ka(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,p)=>{J8(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const f=new Z8(g);return l.tenantId==null?l._agentRecaptchaConfig=f:l._tenantRecaptchaConfigs[l.tenantId]=f,u(f.siteKey)}}).catch(g=>{p(g)})})}function o(l,u,p){const g=window.grecaptcha;g_(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(f=>{u(f)}).catch(()=>{u(Ww)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vN().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(p=>{if(!t&&g_(window.grecaptcha))o(p,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=gN();g.length!==0&&(g+=p),Qw(g).then(()=>{o(p,l,u)}).catch(f=>{u(f)})}}).catch(p=>{u(p)})})}}async function w_(i,e,t,r=!1,o=!1){const l=new wN(i);let u;if(o)u=Ww;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,f=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ep(i,e,t,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await w_(i,e,t,t==="getOobCode");return r(i,l)}else return r(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await w_(i,e,t,t==="getOobCode");return r(i,u)}else return Promise.reject(l)})}function EN(i,e){const t=ta(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Er(l,e??{}))return o;Li(o,"already-initialized")}return t.initialize({options:e})}function AN(i,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Kr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function TN(i,e,t){const r=Ka(i);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=Zw(e),{host:u,port:p}=CN(e),g=p===null?"":`:${p}`,f={url:`${l}//${u}${g}/`},y=Object.freeze({host:u,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(Er(f,r.config.emulator)&&Er(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ea(u)?(ng(`${l}//${u}${g}`),ig("Auth",!0)):SN()}function Zw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function CN(i){const e=Zw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:E_(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:E_(u)}}}function E_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function SN(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class pg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,t){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function NN(i,e){return ns(i,"POST","/v1/accounts:signUp",e)}async function RN(i,e){return eu(i,"POST","/v1/accounts:signInWithPassword",na(i,e))}async function DN(i,e){return eu(i,"POST","/v1/accounts:signInWithEmailLink",na(i,e))}async function IN(i,e){return eu(i,"POST","/v1/accounts:signInWithEmailLink",na(i,e))}class Fc extends pg{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Fc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Fc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,t,"signInWithPassword",RN);case"emailLink":return DN(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,r,"signUpPassword",NN);case"emailLink":return IN(e,{idToken:t,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tl(i,e){return eu(i,"POST","/v1/accounts:signInWithIdp",na(i,e))}const kN="http://localhost";class Fa extends pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...l}=t;if(!r||!o)return null;const u=new Fa(r,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return tl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,tl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tl(e,t)}buildRequest(){const e={requestUri:kN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zc(t)}return e}}function jN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BN(i){const e=Ac(Tc(i)).link,t=e?Ac(Tc(e)).deep_link_id:null,r=Ac(Tc(i)).deep_link_id;return(r?Ac(Tc(r)).link:null)||r||t||e||i}class gg{constructor(e){const t=Ac(Tc(e)),r=t.apiKey??null,o=t.oobCode??null,l=jN(t.mode??null);Ne(r&&o&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=BN(e);try{return new gg(t)}catch{return null}}}class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,t){return Fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=gg.parseLink(t);return Ne(r,"argument-error"),Fc._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Jw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends Jw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ms extends tu{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";class Ps extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ps.credential(t,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";class Ls extends tu{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";class Fs extends tu{constructor(){super("twitter.com")}static credential(e,t){return Fa._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fs.credential(t,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";async function ON(i,e){return eu(i,"POST","/v1/accounts:signUp",na(i,e))}class Va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const l=await Oi._fromIdTokenResponse(e,r,o),u=A_(r);return new Va({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=A_(r);return new Va({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function A_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class zd extends _i{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new zd(e,t,r,o)}}function eE(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zd._fromErrorAndOperation(i,l,e,r):l})}async function MN(i,e,t=!1){const r=await rl(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Va._forOperation(i,"link",r)}async function PN(i,e,t=!1){const{auth:r}=i;if(Xn(r.app))return Promise.reject(Xr(r));const o="reauthenticate";try{const l=await rl(i,eE(r,o,e,i),t);Ne(l.idToken,r,"internal-error");const u=fg(l.idToken);Ne(u,r,"internal-error");const{sub:p}=u;return Ne(i.uid===p,r,"user-mismatch"),Va._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Li(r,"user-mismatch"),l}}async function tE(i,e,t=!1){if(Xn(i.app))return Promise.reject(Xr(i));const r="signIn",o=await eE(i,r,e),l=await Va._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(l.user),l}async function LN(i,e){return tE(Ka(i),e)}async function nE(i){const e=Ka(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FN(i,e,t){if(Xn(i.app))return Promise.reject(Xr(i));const r=Ka(i),u=await Ep(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ON).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&nE(i),g}),p=await Va._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(p.user),p}function VN(i,e,t){return Xn(i.app)?Promise.reject(Xr(i)):LN(lt(i),gl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nE(i),r})}async function UN(i,e){return ns(i,"POST","/v1/accounts:update",e)}async function zN(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=lt(i),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await rl(r,UN(r.auth,l));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function HN(i,e,t,r){return lt(i).onIdTokenChanged(e,t,r)}function qN(i,e,t){return lt(i).beforeAuthStateChanged(e,t)}function xg(i,e,t,r){return lt(i).onAuthStateChanged(e,t,r)}function iE(i){return lt(i).signOut()}const Hd="__sak";class rE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GN=1e3,$N=10;class sE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,g)=>{this.notifyListeners(u,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);cN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$N):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sE.type="LOCAL";const KN=sE;class aE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aE.type="SESSION";const oE=aE;function YN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new yf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(u).map(async f=>f(t.origin,l)),g=await YN(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];function yg(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}class XN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((p,g)=>{const f=yg("",20);o.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(v){const b=v;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(b.data.response);break;default:clearTimeout(y),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function xr(){return window}function QN(i){xr().location.href=i}function lE(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function WN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZN(){return navigator?.serviceWorker?.controller||null}function JN(){return lE()?self:null}const cE="firebaseLocalStorageDb",eR=1,qd="firebaseLocalStorage",uE="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vf(i,e){return i.transaction([qd],e?"readwrite":"readonly").objectStore(qd)}function tR(){const i=indexedDB.deleteDatabase(cE);return new nu(i).toPromise()}function Ap(){const i=indexedDB.open(cE,eR);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(qd,{keyPath:uE})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(qd)?e(r):(r.close(),await tR(),e(await Ap()))})})}async function T_(i,e,t){const r=vf(i,!0).put({[uE]:e,value:t});return new nu(r).toPromise()}async function nR(i,e){const t=vf(i,!1).get(e),r=await new nu(t).toPromise();return r===void 0?null:r.value}function C_(i,e){const t=vf(i,!0).delete(e);return new nu(t).toPromise()}const iR=800,rR=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(JN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WN(),!this.activeServiceWorker)return;this.sender=new XN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await T_(e,Hd,"1"),await C_(e,Hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>T_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>nR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>C_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=vf(o,!1).getAll();return new nu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const sR=hE;new Jc(3e4,6e4);function aR(i,e){return e?Kr(e):(Ne(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class vg extends pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oR(i){return tE(i.auth,new vg(i),i.bypassAuthState)}function lR(i){const{auth:e,user:t}=i;return Ne(t,e,"internal-error"),PN(t,new vg(i),i.bypassAuthState)}async function cR(i){const{auth:e,user:t}=i;return Ne(t,e,"internal-error"),MN(t,new vg(i),i.bypassAuthState)}class dE{constructor(e,t,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:l,error:u,type:p}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return cR;case"reauthViaPopup":case"reauthViaRedirect":return lR;default:Li(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uR=new Jc(2e3,1e4);class Wo extends dE{constructor(e,t,r,o,l){super(e,t,o,l),this.provider=r,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uR.get())};e()}}Wo.currentPopupAction=null;const hR="pendingRedirect",qh=new Map;class dR extends dE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=qh.get(this.auth._key());if(!e){try{const r=await fR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}qh.set(this.auth._key(),e)}return this.bypassAuthState||qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fR(i,e){const t=gR(e),r=pR(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function mR(i,e){qh.set(i._key(),e)}function pR(i){return Kr(i._redirectPersistence)}function gR(i){return Hh(hR,i.config.apiKey,i.name)}async function xR(i,e,t=!1){if(Xn(i.app))return Promise.reject(Xr(i));const r=Ka(i),o=aR(r,e),u=await new dR(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const yR=600*1e3;class vR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_R(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!fE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(gr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yR&&this.cachedEventUids.clear(),this.cachedEventUids.has(S_(e))}saveEventToCache(e){this.cachedEventUids.add(S_(e)),this.lastProcessedEventTime=Date.now()}}function S_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function fE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function _R(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fE(i);default:return!1}}async function bR(i,e={}){return ns(i,"GET","/v1/projects",e)}const wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ER=/^https?/;async function AR(i){if(i.config.emulator)return;const{authorizedDomains:e}=await bR(i);for(const t of e)try{if(TR(t))return}catch{}Li(i,"unauthorized-domain")}function TR(i){const e=bp(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!ER.test(t))return!1;if(wR.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const CR=new Jc(3e4,6e4);function N_(){const i=xr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function SR(i){return new Promise((e,t)=>{function r(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),t(gr(i,"network-request-failed"))},timeout:CR.get()})}if(xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xr().gapi?.load)r();else{const o=yN("iframefcb");return xr()[o]=()=>{gapi.load?r():t(gr(i,"network-request-failed"))},Qw(`${xN()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Gh=null,e})}let Gh=null;function NR(i){return Gh=Gh||SR(i),Gh}const RR=new Jc(5e3,15e3),DR="__/auth/iframe",IR="emulator/auth/iframe",kR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BR(i){const e=i.config;Ne(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?dg(e,IR):`https://${i.config.authDomain}/${DR}`,r={apiKey:e.apiKey,appName:i.name,v:$a},o=jR.get(i.config.apiHost);o&&(r.eid=o);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Zc(r).slice(1)}`}async function OR(i){const e=await NR(i),t=xr().gapi;return Ne(t,i,"internal-error"),e.open({where:document.body,url:BR(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kR,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const u=gr(i,"network-request-failed"),p=xr().setTimeout(()=>{l(u)},RR.get());function g(){xr().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{l(u)})}))}const MR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PR=500,LR=600,FR="_blank",VR="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UR(i,e,t,r=PR,o=LR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...MR,width:r.toString(),height:o.toString(),top:l,left:u},f=mn().toLowerCase();t&&(p=Hw(f)?FR:t),Uw(f)&&(e=e||VR,g.scrollbars="yes");const y=Object.entries(g).reduce((b,[C,N])=>`${b}${C}=${N},`,"");if(lN(f)&&p!=="_self")return zR(e||"",p),new R_(null);const v=window.open(e||"",p,y);Ne(v,i,"popup-blocked");try{v.focus()}catch{}return new R_(v)}function zR(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const HR="__/auth/handler",qR="emulator/auth/handler",GR=encodeURIComponent("fac");async function D_(i,e,t,r,o,l){Ne(i.config.authDomain,i,"auth-domain-config-required"),Ne(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:$a,eventId:o};if(e instanceof Jw){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",r3(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof tu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}i.tenantId&&(u.tid=i.tenantId);const p=u;for(const y of Object.keys(p))p[y]===void 0&&delete p[y];const g=await i._getAppCheckToken(),f=g?`#${GR}=${encodeURIComponent(g)}`:"";return`${$R(i)}?${Zc(p).slice(1)}${f}`}function $R({config:i}){return i.emulator?dg(i,qR):`https://${i.authDomain}/${HR}`}const ep="webStorageSupport";class KR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=xR,this._overrideRedirectResult=mR}async _openPopup(e,t,r,o){Jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await D_(e,t,r,bp(),o);return UR(e,l,yg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const l=await D_(e,t,r,bp(),o);return QN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Jr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await OR(e),r=new vR(e);return t.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},o=>{const l=o?.[0]?.[ep];l!==void 0&&t(!!l),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yw()||zw()||mg()}}const YR=KR;var I_="@firebase/auth",k_="1.11.1";class XR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function QR(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WR(i){Pi(new vi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=r.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:u,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xw(i)},f=new mN(r,o,l,g);return AN(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pi(new vi("auth-internal",e=>{const t=Ka(e.getProvider("auth").getImmediate());return(r=>new XR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(I_,k_,QR(i)),Bn(I_,k_,"esm2020")}const ZR=300,JR=tw("authIdTokenMaxAge")||ZR;let j_=null;const eD=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>JR)return;const o=t?.token;j_!==o&&(j_=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tD(i=mf()){const e=ta(i,"auth");if(e.isInitialized())return e.getImmediate();const t=EN(i,{popupRedirectResolver:YR,persistence:[sR,KN,oE]}),r=tw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=eD(l.toString());qN(t,u,()=>u(t.currentUser)),HN(t,p=>u(p))}}const o=Z2("auth");return o&&TN(t,`http://${o}`),t}function nD(){return document.getElementsByTagName("head")?.[0]??document}pN({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const l=gr("internal-error");l.customData=o,t(l)},r.type="text/javascript",r.charset="UTF-8",nD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WR("Browser");var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qs,mE;(function(){var i;function e(T,R){function S(){}S.prototype=R.prototype,T.F=R.prototype,T.prototype=new S,T.prototype.constructor=T,T.D=function(A,D,U){for(var O=Array(arguments.length-2),de=2;de<arguments.length;de++)O[de-2]=arguments[de];return R.prototype[D].apply(A,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(T,R,S){S||(S=0);const A=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)A[D]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(D=0;D<16;++D)A[D]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=T.g[0],S=T.g[1],D=T.g[2];let U=T.g[3],O;O=R+(U^S&(D^U))+A[0]+3614090360&4294967295,R=S+(O<<7&4294967295|O>>>25),O=U+(D^R&(S^D))+A[1]+3905402710&4294967295,U=R+(O<<12&4294967295|O>>>20),O=D+(S^U&(R^S))+A[2]+606105819&4294967295,D=U+(O<<17&4294967295|O>>>15),O=S+(R^D&(U^R))+A[3]+3250441966&4294967295,S=D+(O<<22&4294967295|O>>>10),O=R+(U^S&(D^U))+A[4]+4118548399&4294967295,R=S+(O<<7&4294967295|O>>>25),O=U+(D^R&(S^D))+A[5]+1200080426&4294967295,U=R+(O<<12&4294967295|O>>>20),O=D+(S^U&(R^S))+A[6]+2821735955&4294967295,D=U+(O<<17&4294967295|O>>>15),O=S+(R^D&(U^R))+A[7]+4249261313&4294967295,S=D+(O<<22&4294967295|O>>>10),O=R+(U^S&(D^U))+A[8]+1770035416&4294967295,R=S+(O<<7&4294967295|O>>>25),O=U+(D^R&(S^D))+A[9]+2336552879&4294967295,U=R+(O<<12&4294967295|O>>>20),O=D+(S^U&(R^S))+A[10]+4294925233&4294967295,D=U+(O<<17&4294967295|O>>>15),O=S+(R^D&(U^R))+A[11]+2304563134&4294967295,S=D+(O<<22&4294967295|O>>>10),O=R+(U^S&(D^U))+A[12]+1804603682&4294967295,R=S+(O<<7&4294967295|O>>>25),O=U+(D^R&(S^D))+A[13]+4254626195&4294967295,U=R+(O<<12&4294967295|O>>>20),O=D+(S^U&(R^S))+A[14]+2792965006&4294967295,D=U+(O<<17&4294967295|O>>>15),O=S+(R^D&(U^R))+A[15]+1236535329&4294967295,S=D+(O<<22&4294967295|O>>>10),O=R+(D^U&(S^D))+A[1]+4129170786&4294967295,R=S+(O<<5&4294967295|O>>>27),O=U+(S^D&(R^S))+A[6]+3225465664&4294967295,U=R+(O<<9&4294967295|O>>>23),O=D+(R^S&(U^R))+A[11]+643717713&4294967295,D=U+(O<<14&4294967295|O>>>18),O=S+(U^R&(D^U))+A[0]+3921069994&4294967295,S=D+(O<<20&4294967295|O>>>12),O=R+(D^U&(S^D))+A[5]+3593408605&4294967295,R=S+(O<<5&4294967295|O>>>27),O=U+(S^D&(R^S))+A[10]+38016083&4294967295,U=R+(O<<9&4294967295|O>>>23),O=D+(R^S&(U^R))+A[15]+3634488961&4294967295,D=U+(O<<14&4294967295|O>>>18),O=S+(U^R&(D^U))+A[4]+3889429448&4294967295,S=D+(O<<20&4294967295|O>>>12),O=R+(D^U&(S^D))+A[9]+568446438&4294967295,R=S+(O<<5&4294967295|O>>>27),O=U+(S^D&(R^S))+A[14]+3275163606&4294967295,U=R+(O<<9&4294967295|O>>>23),O=D+(R^S&(U^R))+A[3]+4107603335&4294967295,D=U+(O<<14&4294967295|O>>>18),O=S+(U^R&(D^U))+A[8]+1163531501&4294967295,S=D+(O<<20&4294967295|O>>>12),O=R+(D^U&(S^D))+A[13]+2850285829&4294967295,R=S+(O<<5&4294967295|O>>>27),O=U+(S^D&(R^S))+A[2]+4243563512&4294967295,U=R+(O<<9&4294967295|O>>>23),O=D+(R^S&(U^R))+A[7]+1735328473&4294967295,D=U+(O<<14&4294967295|O>>>18),O=S+(U^R&(D^U))+A[12]+2368359562&4294967295,S=D+(O<<20&4294967295|O>>>12),O=R+(S^D^U)+A[5]+4294588738&4294967295,R=S+(O<<4&4294967295|O>>>28),O=U+(R^S^D)+A[8]+2272392833&4294967295,U=R+(O<<11&4294967295|O>>>21),O=D+(U^R^S)+A[11]+1839030562&4294967295,D=U+(O<<16&4294967295|O>>>16),O=S+(D^U^R)+A[14]+4259657740&4294967295,S=D+(O<<23&4294967295|O>>>9),O=R+(S^D^U)+A[1]+2763975236&4294967295,R=S+(O<<4&4294967295|O>>>28),O=U+(R^S^D)+A[4]+1272893353&4294967295,U=R+(O<<11&4294967295|O>>>21),O=D+(U^R^S)+A[7]+4139469664&4294967295,D=U+(O<<16&4294967295|O>>>16),O=S+(D^U^R)+A[10]+3200236656&4294967295,S=D+(O<<23&4294967295|O>>>9),O=R+(S^D^U)+A[13]+681279174&4294967295,R=S+(O<<4&4294967295|O>>>28),O=U+(R^S^D)+A[0]+3936430074&4294967295,U=R+(O<<11&4294967295|O>>>21),O=D+(U^R^S)+A[3]+3572445317&4294967295,D=U+(O<<16&4294967295|O>>>16),O=S+(D^U^R)+A[6]+76029189&4294967295,S=D+(O<<23&4294967295|O>>>9),O=R+(S^D^U)+A[9]+3654602809&4294967295,R=S+(O<<4&4294967295|O>>>28),O=U+(R^S^D)+A[12]+3873151461&4294967295,U=R+(O<<11&4294967295|O>>>21),O=D+(U^R^S)+A[15]+530742520&4294967295,D=U+(O<<16&4294967295|O>>>16),O=S+(D^U^R)+A[2]+3299628645&4294967295,S=D+(O<<23&4294967295|O>>>9),O=R+(D^(S|~U))+A[0]+4096336452&4294967295,R=S+(O<<6&4294967295|O>>>26),O=U+(S^(R|~D))+A[7]+1126891415&4294967295,U=R+(O<<10&4294967295|O>>>22),O=D+(R^(U|~S))+A[14]+2878612391&4294967295,D=U+(O<<15&4294967295|O>>>17),O=S+(U^(D|~R))+A[5]+4237533241&4294967295,S=D+(O<<21&4294967295|O>>>11),O=R+(D^(S|~U))+A[12]+1700485571&4294967295,R=S+(O<<6&4294967295|O>>>26),O=U+(S^(R|~D))+A[3]+2399980690&4294967295,U=R+(O<<10&4294967295|O>>>22),O=D+(R^(U|~S))+A[10]+4293915773&4294967295,D=U+(O<<15&4294967295|O>>>17),O=S+(U^(D|~R))+A[1]+2240044497&4294967295,S=D+(O<<21&4294967295|O>>>11),O=R+(D^(S|~U))+A[8]+1873313359&4294967295,R=S+(O<<6&4294967295|O>>>26),O=U+(S^(R|~D))+A[15]+4264355552&4294967295,U=R+(O<<10&4294967295|O>>>22),O=D+(R^(U|~S))+A[6]+2734768916&4294967295,D=U+(O<<15&4294967295|O>>>17),O=S+(U^(D|~R))+A[13]+1309151649&4294967295,S=D+(O<<21&4294967295|O>>>11),O=R+(D^(S|~U))+A[4]+4149444226&4294967295,R=S+(O<<6&4294967295|O>>>26),O=U+(S^(R|~D))+A[11]+3174756917&4294967295,U=R+(O<<10&4294967295|O>>>22),O=D+(R^(U|~S))+A[2]+718787259&4294967295,D=U+(O<<15&4294967295|O>>>17),O=S+(U^(D|~R))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+R&4294967295,T.g[1]=T.g[1]+(D+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+U&4294967295}r.prototype.v=function(T,R){R===void 0&&(R=T.length);const S=R-this.blockSize,A=this.C;let D=this.h,U=0;for(;U<R;){if(D==0)for(;U<=S;)o(this,T,U),U+=this.blockSize;if(typeof T=="string"){for(;U<R;)if(A[D++]=T.charCodeAt(U++),D==this.blockSize){o(this,A),D=0;break}}else for(;U<R;)if(A[D++]=T[U++],D==this.blockSize){o(this,A),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var R=1;R<T.length-8;++R)T[R]=0;R=this.o*8;for(var S=T.length-8;S<T.length;++S)T[S]=R&255,R/=256;for(this.v(T),T=Array(16),R=0,S=0;S<4;++S)for(let A=0;A<32;A+=8)T[R++]=this.g[S]>>>A&255;return T};function l(T,R){var S=p;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=R(T)}function u(T,R){this.h=R;const S=[];let A=!0;for(let D=T.length-1;D>=0;D--){const U=T[D]|0;A&&U==R||(S[D]=U,A=!1)}this.g=S}var p={};function g(T){return-128<=T&&T<128?l(T,function(R){return new u([R|0],R<0?-1:0)}):new u([T|0],T<0?-1:0)}function f(T){if(isNaN(T)||!isFinite(T))return v;if(T<0)return I(f(-T));const R=[];let S=1;for(let A=0;T>=S;A++)R[A]=T/S|0,S*=4294967296;return new u(R,0)}function y(T,R){if(T.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(T.charAt(0)=="-")return I(y(T.substring(1),R));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=f(Math.pow(R,8));let A=v;for(let U=0;U<T.length;U+=8){var D=Math.min(8,T.length-U);const O=parseInt(T.substring(U,U+D),R);D<8?(D=f(Math.pow(R,D)),A=A.j(D).add(f(O))):(A=A.j(S),A=A.add(f(O)))}return A}var v=g(0),b=g(1),C=g(16777216);i=u.prototype,i.m=function(){if(B(this))return-I(this).m();let T=0,R=1;for(let S=0;S<this.g.length;S++){const A=this.i(S);T+=(A>=0?A:4294967296+A)*R,R*=4294967296}return T},i.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(N(this))return"0";if(B(this))return"-"+I(this).toString(T);const R=f(Math.pow(T,6));var S=this;let A="";for(;;){const D=L(S,R).g;S=P(S,D.j(R));let U=((S.g.length>0?S.g[0]:S.h)>>>0).toString(T);if(S=D,N(S))return U+A;for(;U.length<6;)U="0"+U;A=U+A}},i.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function N(T){if(T.h!=0)return!1;for(let R=0;R<T.g.length;R++)if(T.g[R]!=0)return!1;return!0}function B(T){return T.h==-1}i.l=function(T){return T=P(this,T),B(T)?-1:N(T)?0:1};function I(T){const R=T.g.length,S=[];for(let A=0;A<R;A++)S[A]=~T.g[A];return new u(S,~T.h).add(b)}i.abs=function(){return B(this)?I(this):this},i.add=function(T){const R=Math.max(this.g.length,T.g.length),S=[];let A=0;for(let D=0;D<=R;D++){let U=A+(this.i(D)&65535)+(T.i(D)&65535),O=(U>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);A=O>>>16,U&=65535,O&=65535,S[D]=O<<16|U}return new u(S,S[S.length-1]&-2147483648?-1:0)};function P(T,R){return T.add(I(R))}i.j=function(T){if(N(this)||N(T))return v;if(B(this))return B(T)?I(this).j(I(T)):I(I(this).j(T));if(B(T))return I(this.j(I(T)));if(this.l(C)<0&&T.l(C)<0)return f(this.m()*T.m());const R=this.g.length+T.g.length,S=[];for(var A=0;A<2*R;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(let D=0;D<T.g.length;D++){const U=this.i(A)>>>16,O=this.i(A)&65535,de=T.i(D)>>>16,ie=T.i(D)&65535;S[2*A+2*D]+=O*ie,k(S,2*A+2*D),S[2*A+2*D+1]+=U*ie,k(S,2*A+2*D+1),S[2*A+2*D+1]+=O*de,k(S,2*A+2*D+1),S[2*A+2*D+2]+=U*de,k(S,2*A+2*D+2)}for(T=0;T<R;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=R;T<2*R;T++)S[T]=0;return new u(S,0)};function k(T,R){for(;(T[R]&65535)!=T[R];)T[R+1]+=T[R]>>>16,T[R]&=65535,R++}function j(T,R){this.g=T,this.h=R}function L(T,R){if(N(R))throw Error("division by zero");if(N(T))return new j(v,v);if(B(T))return R=L(I(T),R),new j(I(R.g),I(R.h));if(B(R))return R=L(T,I(R)),new j(I(R.g),R.h);if(T.g.length>30){if(B(T)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var S=b,A=R;A.l(T)<=0;)S=z(S),A=z(A);var D=H(S,1),U=H(A,1);for(A=H(A,2),S=H(S,2);!N(A);){var O=U.add(A);O.l(T)<=0&&(D=D.add(S),U=O),A=H(A,1),S=H(S,1)}return R=P(T,D.j(R)),new j(D,R)}for(D=v;T.l(R)>=0;){for(S=Math.max(1,Math.floor(T.m()/R.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),U=f(S),O=U.j(R);B(O)||O.l(T)>0;)S-=A,U=f(S),O=U.j(R);N(U)&&(U=b),D=D.add(U),T=P(T,O)}return new j(D,T)}i.B=function(T){return L(this,T).h},i.and=function(T){const R=Math.max(this.g.length,T.g.length),S=[];for(let A=0;A<R;A++)S[A]=this.i(A)&T.i(A);return new u(S,this.h&T.h)},i.or=function(T){const R=Math.max(this.g.length,T.g.length),S=[];for(let A=0;A<R;A++)S[A]=this.i(A)|T.i(A);return new u(S,this.h|T.h)},i.xor=function(T){const R=Math.max(this.g.length,T.g.length),S=[];for(let A=0;A<R;A++)S[A]=this.i(A)^T.i(A);return new u(S,this.h^T.h)};function z(T){const R=T.g.length+1,S=[];for(let A=0;A<R;A++)S[A]=T.i(A)<<1|T.i(A-1)>>>31;return new u(S,T.h)}function H(T,R){const S=R>>5;R%=32;const A=T.g.length-S,D=[];for(let U=0;U<A;U++)D[U]=R>0?T.i(U+S)>>>R|T.i(U+S+1)<<32-R:T.i(U+S);return new u(D,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=y,qs=u}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pE,Cc,gE,$h,Tp,xE,yE,vE;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(h,_){if(_)e:{var E=r;h=h.split(".");for(var V=0;V<h.length-1;V++){var Z=h[V];if(!(Z in E))break e;E=E[Z]}h=h[h.length-1],V=E[h],_=_(V),_!=V&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var E=[],V;for(V in _)Object.prototype.hasOwnProperty.call(_,V)&&E.push([V,_[V]]);return E}});var l=l||{},u=this||self;function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function g(h,_,E){return h.call.apply(h.bind,arguments)}function f(h,_,E){return f=g,f.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var V=E.slice();return V.push.apply(V,arguments),h.apply(this,V)}}function v(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(V,Z,re){for(var me=Array(arguments.length-2),je=2;je<arguments.length;je++)me[je-2]=arguments[je];return _.prototype[Z].apply(V,me)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const E=Array(_);for(let V=0;V<_;V++)E[V]=h[V];return E}return[]}function N(h,_){for(let V=1;V<arguments.length;V++){const Z=arguments[V];var E=typeof Z;if(E=E!="object"?E:Z?Array.isArray(Z)?"array":E:"null",E=="array"||E=="object"&&typeof Z.length=="number"){E=h.length||0;const re=Z.length||0;h.length=E+re;for(let me=0;me<re;me++)h[E+me]=Z[me]}else h.push(Z)}}class B{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(h){u.setTimeout(()=>{throw h},0)}function P(){var h=T;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class k{constructor(){this.h=this.g=null}add(_,E){const V=j.get();V.set(_,E),this.h?this.h.next=V:this.g=V,this.h=V}}var j=new B(()=>new L,h=>h.reset());class L{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let z,H=!1,T=new k,R=()=>{const h=Promise.resolve(void 0);z=()=>{h.then(S)}};function S(){for(var h;h=P();){try{h.h.call(h.g)}catch(E){I(E)}var _=j;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}H=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return h})();function O(h){return/^[\s\xa0]*$/.test(h)}function de(h,_){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(de,D),de.prototype.init=function(h,_){const E=this.type=h.type,V=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),K=0;function te(h,_,E,V,Z){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!V,this.ha=Z,this.key=++K,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fe(h,_,E){for(const V in h)_.call(E,h[V],V,h)}function pe(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function F(h){const _={};for(const E in h)_[E]=h[E];return _}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(h,_){let E,V;for(let Z=1;Z<arguments.length;Z++){V=arguments[Z];for(E in V)h[E]=V[E];for(let re=0;re<$.length;re++)E=$[re],Object.prototype.hasOwnProperty.call(V,E)&&(h[E]=V[E])}}function W(h){this.src=h,this.g={},this.h=0}W.prototype.add=function(h,_,E,V,Z){const re=h.toString();h=this.g[re],h||(h=this.g[re]=[],this.h++);const me=ye(h,_,V,Z);return me>-1?(_=h[me],E||(_.fa=!1)):(_=new te(_,this.src,re,!!V,Z),_.fa=E,h.push(_)),_};function xe(h,_){const E=_.type;if(E in h.g){var V=h.g[E],Z=Array.prototype.indexOf.call(V,_,void 0),re;(re=Z>=0)&&Array.prototype.splice.call(V,Z,1),re&&(he(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ye(h,_,E,V){for(let Z=0;Z<h.length;++Z){const re=h[Z];if(!re.da&&re.listener==_&&re.capture==!!E&&re.ha==V)return Z}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Ee={};function We(h,_,E,V,Z){if(Array.isArray(_)){for(let re=0;re<_.length;re++)We(h,_[re],E,V,Z);return null}return E=bi(E),h&&h[ie]?h.J(_,E,p(V)?!!V.capture:!1,Z):bn(h,_,E,!1,V,Z)}function bn(h,_,E,V,Z,re){if(!_)throw Error("Invalid event type");const me=p(Z)?!!Z.capture:!!Z;let je=On(h);if(je||(h[Se]=je=new W(h)),E=je.add(_,E,V,me,re),E.proxy)return E;if(V=Ui(),E.proxy=V,V.src=h,V.listener=E,h.addEventListener)U||(Z=me),Z===void 0&&(Z=!1),h.addEventListener(_.toString(),V,Z);else if(h.attachEvent)h.attachEvent(ft(_.toString()),V);else if(h.addListener&&h.removeListener)h.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ui(){function h(E){return _.call(h.src,h.listener,E)}const _=zi;return h}function ei(h,_,E,V,Z){if(Array.isArray(_))for(var re=0;re<_.length;re++)ei(h,_[re],E,V,Z);else V=p(V)?!!V.capture:!!V,E=bi(E),h&&h[ie]?(h=h.i,re=String(_).toString(),re in h.g&&(_=h.g[re],E=ye(_,E,V,Z),E>-1&&(he(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[re],h.h--)))):h&&(h=On(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ye(_,E,V,Z)),(E=h>-1?_[h]:null)&&Kt(E))}function Kt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ie])xe(_.i,h);else{var E=h.type,V=h.proxy;_.removeEventListener?_.removeEventListener(E,V,h.capture):_.detachEvent?_.detachEvent(ft(E),V):_.addListener&&_.removeListener&&_.removeListener(V),(E=On(_))?(xe(E,h),E.h==0&&(E.src=null,_[Se]=null)):he(h)}}}function ft(h){return h in Ee?Ee[h]:Ee[h]="on"+h}function zi(h,_){if(h.da)h=!0;else{_=new de(_,this);const E=h.listener,V=h.ha||h.src;h.fa&&Kt(h),h=E.call(V,_)}return h}function On(h){return h=h[Se],h instanceof W?h:null}var Hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function bi(h){return typeof h=="function"?h:(h[Hi]||(h[Hi]=function(_){return h.handleEvent(_)}),h[Hi])}function mt(){A.call(this),this.i=new W(this),this.M=this,this.G=null}v(mt,A),mt.prototype[ie]=!0,mt.prototype.removeEventListener=function(h,_,E,V){ei(this,h,_,E,V)};function ct(h,_){var E,V=h.G;if(V)for(E=[];V;V=V.G)E.push(V);if(h=h.M,V=_.type||_,typeof _=="string")_=new D(_,h);else if(_ instanceof D)_.target=_.target||h;else{var Z=_;_=new D(V,h),Q(_,Z)}Z=!0;let re,me;if(E)for(me=E.length-1;me>=0;me--)re=_.g=E[me],Z=Dt(re,V,!0,_)&&Z;if(re=_.g=h,Z=Dt(re,V,!0,_)&&Z,Z=Dt(re,V,!1,_)&&Z,E)for(me=0;me<E.length;me++)re=_.g=E[me],Z=Dt(re,V,!1,_)&&Z}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let V=0;V<E.length;V++)he(E[V]);delete h.g[_],h.h--}}this.G=null},mt.prototype.J=function(h,_,E,V){return this.i.add(String(h),_,!1,E,V)},mt.prototype.K=function(h,_,E,V){return this.i.add(String(h),_,!0,E,V)};function Dt(h,_,E,V){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Z=!0;for(let re=0;re<_.length;++re){const me=_[re];if(me&&!me.da&&me.capture==E){const je=me.listener,Ct=me.ha||me.src;me.fa&&xe(h.i,me),Z=je.call(Ct,V)!==!1&&Z}}return Z&&!V.defaultPrevented}function ln(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Mn(h){h.g=ln(()=>{h.g=null,h.i&&(h.i=!1,Mn(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class It extends A{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Mn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(h){A.call(this),this.h=h,this.g={}}v(qi,A);var ti=[];function wi(h){fe(h.g,function(_,E){this.g.hasOwnProperty(E)&&Kt(_)},h),h.g={}}qi.prototype.N=function(){qi.Z.N.call(this),wi(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=u.JSON.stringify,to=u.JSON.parse,aa=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Ei(){}function $i(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){D.call(this,"d")}v(kt,D);function pn(){D.call(this,"c")}v(pn,D);var yt={},no=null;function Cr(){return no=no||new mt}yt.Ia="serverreachability";function io(h){D.call(this,yt.Ia,h)}v(io,D);function Ln(h){const _=Cr();ct(_,new io(_))}yt.STAT_EVENT="statevent";function Sr(h,_){D.call(this,yt.STAT_EVENT,h),this.stat=_}v(Sr,D);function vt(h){const _=Cr();ct(_,new Sr(_,h))}yt.Ja="timingevent";function ni(h,_){D.call(this,yt.Ja,h),this.size=_}v(ni,D);function ii(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function ro(h,_,E,V,Z,re){h.info(function(){if(h.g)if(re){var me="",je=re.split("&");for(let Xe=0;Xe<je.length;Xe++){var Ct=je[Xe].split("=");if(Ct.length>1){const pt=Ct[0];Ct=Ct[1];const li=pt.split("_");me=li.length>=2&&li[1]=="type"?me+(pt+"="+Ct+"&"):me+(pt+"=redacted&")}}}else me=null;else me=re;return"XMLHTTP REQ ("+V+") [attempt "+Z+"]: "+_+`
`+E+`
`+me})}function so(h,_,E,V,Z,re,me){h.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Z+"]: "+_+`
`+E+`
`+re+" "+me})}function ri(h,_,E,V){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+wl(h,E)+(V?" "+V:"")})}function Ki(h,_){h.info(function(){return"TIMEOUT: "+_})}Fn.prototype.info=function(){};function wl(h,_){if(!h.g)return _;if(!_)return null;try{const re=JSON.parse(_);if(re){for(h=0;h<re.length;h++)if(Array.isArray(re[h])){var E=re[h];if(!(E.length<2)){var V=E[1];if(Array.isArray(V)&&!(V.length<1)){var Z=V[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let me=1;me<V.length;me++)V[me]=""}}}}return Gi(re)}catch{return _}}var Yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wn;function Xi(){}v(Xi,Ei),Xi.prototype.g=function(){return new XMLHttpRequest},wn=new Xi;function Ai(h){return encodeURIComponent(String(h))}function cu(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function Ti(h,_,E,V){this.j=h,this.i=_,this.l=E,this.S=V||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ci}function Ci(){this.i=null,this.g="",this.h=!1}var jt={},Yt={};function Qi(h,_,E){h.M=1,h.A=oa(Ot(_)),h.u=E,h.R=!0,ao(h,null)}function ao(h,_){h.F=Date.now(),Wi(h),h.B=Ot(h.A);var E=h.B,V=h.S;Array.isArray(V)||(V=[String(V)]),uo(E.i,"t",V),h.C=0,E=h.j.L,h.h=new Ci,h.g=Au(h.j,E?_:null,!h.u),h.P>0&&(h.O=new It(f(h.Y,h,h.g),h.P)),_=h.V,E=h.g,V=h.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(ti[0]=Z.toString()),Z=ti);for(let re=0;re<Z.length;re++){const me=We(E,Z[re],V||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=h.J?F(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Ln(),ro(h.i,h.v,h.B,h.l,h.S,h.u)}Ti.prototype.ba=function(h){h=h.target;const _=this.O;_&&Ri(h)==3?_.j():this.Y(h)},Ti.prototype.Y=function(h){try{if(h==this.g)e:{const je=Ri(this.g),Ct=this.g.ya(),Xe=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||je!=4||Ct==7||(Ct==8||Xe<=0?Ln(3):Ln(2)),Zi(this);var _=this.g.ca();this.X=_;var E=Uf(this);if(this.o=_==200,so(this.i,this.v,this.B,this.l,this.S,je,_),this.o){if(this.U&&!this.L){t:{if(this.g){var V,Z=this.g;if((V=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(V)){var re=V;break t}}re=null}if(h=re)ri(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ji(this,h);else{this.o=!1,this.m=3,vt(12),Vn(this),si(this);break e}}if(this.R){h=!0;let pt;for(;!this.K&&this.C<E.length;)if(pt=hu(this,E),pt==Yt){je==4&&(this.m=4,vt(14),h=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==jt){this.m=4,vt(15),ri(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else ri(this.i,this.l,pt,null),Ji(this,pt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||E.length!=0||this.h.h||(this.m=1,vt(16),h=!1),this.o=this.o&&h,!h)ri(this.i,this.l,E,"[Invalid Chunked Response]"),Vn(this),si(this);else if(E.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Pl(me),me.P=!0,vt(11))}}else ri(this.i,this.l,E,null),Ji(this,E);je==4&&Vn(this),this.o&&!this.K&&(je==4?_u(this.j,this):(this.o=!1,Wi(this)))}else Rr(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Vn(this),si(this)}}}catch{}finally{}};function Uf(h){if(!uu(h))return h.g.la();const _=Jt(h.g);if(_==="")return"";let E="";const V=_.length,Z=Ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),si(h),"";h.h.i=new u.TextDecoder}for(let re=0;re<V;re++)h.h.h=!0,E+=h.h.i.decode(_[re],{stream:!(Z&&re==V-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function uu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function hu(h,_){var E=h.C,V=_.indexOf(`
`,E);return V==-1?Yt:(E=Number(_.substring(E,V)),isNaN(E)?jt:(V+=1,V+E>_.length?Yt:(_=_.slice(V,V+E),h.C=V+E,_)))}Ti.prototype.cancel=function(){this.K=!0,Vn(this)};function Wi(h){h.T=Date.now()+h.H,oo(h,h.H)}function oo(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ii(f(h.aa,h),_)}function Zi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ki(this.i,this.B),this.M!=2&&(Ln(),vt(17)),Vn(this),this.m=2,si(this)):oo(this,this.T-h)};function si(h){h.j.I==0||h.K||_u(h.j,h)}function Vn(h){Zi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,wi(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ji(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||tr(E.h,h))){if(!h.L&&tr(E.h,h)&&E.I==3){try{var V=E.Ba.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Z=V;if(Z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)go(E),us(E);else break e;ma(E),vt(18)}}else E.xa=Z[1],0<E.xa-E.K&&Z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ii(f(E.Va,E),6e3));er(E.h)<=1&&E.ta&&(E.ta=void 0)}else or(E,11)}else if((h.L||E.g==h)&&go(E),!O(_))for(Z=E.Ba.g.parse(_),_=0;_<Z.length;_++){let Xe=Z[_];const pt=Xe[0];if(!(pt<=E.K))if(E.K=pt,Xe=Xe[1],E.I==2)if(Xe[0]=="c"){E.M=Xe[1],E.ba=Xe[2];const li=Xe[3];li!=null&&(E.ka=li,E.j.info("VER="+E.ka));const lr=Xe[4];lr!=null&&(E.za=lr,E.j.info("SVER="+E.za));const Di=Xe[5];Di!=null&&typeof Di=="number"&&Di>0&&(V=1.5*Di,E.O=V,E.j.info("backChannelRequestTimeoutMs_="+V)),V=E;const Ii=h.g;if(Ii){const pa=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var re=V.h;re.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Tl(re,re.h),re.h=null))}if(V.G){const xo=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(V.wa=xo,Je(V.J,V.G,xo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),V=E;var me=h;if(V.na=Eu(V,V.L?V.ba:null,V.W),me.L){Cl(V.h,me);var je=me,Ct=V.O;Ct&&(je.H=Ct),je.D&&(Zi(je),Wi(je)),V.g=me}else yu(V);E.i.length>0&&ar(E)}else Xe[0]!="stop"&&Xe[0]!="close"||or(E,7);else E.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?or(E,7):Ol(E):Xe[0]!="noop"&&E.l&&E.l.qa(Xe),E.A=0)}}Ln(4)}catch{}}var Bt=class{constructor(h,_){this.g=h,this.map=_}};function El(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function er(h){return h.h?1:h.g?h.g.size:0}function tr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Tl(h,_){h.g?h.g.add(_):h.h=_}function Cl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}El.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return C(h.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lo(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const V=h[E].indexOf("=");let Z,re=null;V>=0?(Z=h[E].substring(0,V),re=h[E].substring(V+1)):Z=h[E],_(Z,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Un(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Un?(this.l=h.l,Xt(this,h.j),this.o=h.o,this.g=h.g,is(this,h.u),this.h=h.h,Nl(this,gu(h.i)),this.m=h.m):h&&(_=String(h).match(du))?(this.l=!1,Xt(this,_[1]||"",!0),this.o=nr(_[2]||""),this.g=nr(_[3]||"",!0),is(this,_[4]),this.h=nr(_[5]||"",!0),Nl(this,_[6]||"",!0),this.m=nr(_[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}Un.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(la(_,co,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(la(_,co,!0),"@"),h.push(Ai(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(la(E,E.charAt(0)=="/"?Rl:fu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",la(E,mu)),h.join("")},Un.prototype.resolve=function(h){const _=Ot(this);let E=!!h.j;E?Xt(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var V=h.h;if(E)is(_,h.u);else if(E=!!h.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var Z=_.h.lastIndexOf("/");Z!=-1&&(V=_.h.slice(0,Z+1)+V)}if(Z=V,Z==".."||Z==".")V="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){V=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const re=[];for(let me=0;me<Z.length;){const je=Z[me++];je=="."?V&&me==Z.length&&re.push(""):je==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),V&&me==Z.length&&re.push("")):(re.push(je),V=!0)}V=re.join("/")}else V=Z}return E?_.h=V:E=h.i.toString()!=="",E?Nl(_,gu(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Ot(h){return new Un(h)}function Xt(h,_,E){h.j=E?nr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function is(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Nl(h,_,E){_ instanceof ss?(h.i=_,ho(h.i,h.l)):(E||(_=la(_,rs)),h.i=new ss(_,h.l))}function Je(h,_,E){h.i.set(_,E)}function oa(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function nr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function la(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,En),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function En(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var co=/[#\/\?@]/g,fu=/[#\?:]/g,Rl=/[#\?]/g,rs=/[#\?@]/g,mu=/#/g;function ss(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function An(h){h.g||(h.g=new Map,h.h=0,h.i&&lo(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=ss.prototype,i.add=function(h,_){An(this),this.i=null,h=as(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function pu(h,_){An(h),_=as(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Dl(h,_){return An(h),_=as(h,_),h.g.has(_)}i.forEach=function(h,_){An(this),this.g.forEach(function(E,V){E.forEach(function(Z){h.call(_,Z,V,this)},this)},this)};function Il(h,_){An(h);let E=[];if(typeof _=="string")Dl(h,_)&&(E=E.concat(h.g.get(as(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}i.set=function(h,_){return An(this),this.i=null,h=as(this,h),Dl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},i.get=function(h,_){return h?(h=Il(this,h),h.length>0?String(h[0]):_):_};function uo(h,_,E){pu(h,_),E.length>0&&(h.i=null,h.g.set(as(h,_),C(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let V=0;V<_.length;V++){var E=_[V];const Z=Ai(E);E=Il(this,E);for(let re=0;re<E.length;re++){let me=Z;E[re]!==""&&(me+="="+Ai(E[re])),h.push(me)}}return this.i=h.join("&")};function gu(h){const _=new ss;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function as(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ho(h,_){_&&!h.j&&(An(h),h.i=null,h.g.forEach(function(E,V){const Z=V.toLowerCase();V!=Z&&(pu(this,V),uo(this,Z,E))},h)),h.j=_}function Si(h,_){const E=new Fn;if(u.Image){const V=new Image;V.onload=y(ai,E,"TestLoadImage: loaded",!0,_,V),V.onerror=y(ai,E,"TestLoadImage: error",!1,_,V),V.onabort=y(ai,E,"TestLoadImage: abort",!1,_,V),V.ontimeout=y(ai,E,"TestLoadImage: timeout",!1,_,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=h}else _(!1)}function kl(h,_){const E=new Fn,V=new AbortController,Z=setTimeout(()=>{V.abort(),ai(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:V.signal}).then(re=>{clearTimeout(Z),re.ok?ai(E,"TestPingServer: ok",!0,_):ai(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Z),ai(E,"TestPingServer: error",!1,_)})}function ai(h,_,E,V,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),V(E)}catch{}}function os(){this.g=new aa}function ir(h){this.i=h.Sb||null,this.h=h.ab||!1}v(ir,Ei),ir.prototype.g=function(){return new ca(this.i,this.h)};function ca(h,_){mt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ca,mt),i=ca.prototype,i.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ni(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function fo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?ls(this):Ni(this),this.readyState==3&&fo(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,ls(this))},i.Na=function(h){this.g&&(this.response=h,ls(this))},i.ga=function(){this.g&&ls(this)};function ls(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ni(h)}i.setRequestHeader=function(h,_){this.A.append(h,_)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function Ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function oi(h){let _="";return fe(h,function(E,V){_+=V,_+=":",_+=E,_+=`\r
`}),_}function ua(h,_,E){e:{for(V in E){var V=!1;break e}V=!0}V||(E=oi(E),typeof h=="string"?E!=null&&Ai(E):Je(h,_,E))}function nt(h){mt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(nt,mt);var rr=/^https?$/i,jl=["POST","PUT"];i=nt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,_,E,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wn.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(re){ha(this,re);return}if(h=E||"",E=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Z in V)E.set(Z,V[Z]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const re of V.keys())E.set(re,V.get(re));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(E.keys()).find(re=>re.toLowerCase()=="content-type"),Z=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(jl,_,void 0)>=0)||V||Z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,me]of E)this.g.setRequestHeader(re,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(re){ha(this,re)}};function ha(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Bl(h),Nr(h)}function Bl(h){h.A||(h.A=!0,ct(h,"complete"),ct(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ct(this,"complete"),ct(this,"abort"),Nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},i.Xa=function(){da(this)};function da(h){if(h.h&&typeof l<"u"){if(h.v&&Ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(ct(h,"readystatechange"),Ri(h)==4){h.h=!1;try{const re=h.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var V;if(V=re===0){let me=String(h.D).match(du)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),V=!rr.test(me?me.toLowerCase():"")}E=V}if(E)ct(h,"complete"),ct(h,"success");else{h.o=6;try{var Z=Ri(h)>2?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.ca()+"]",Bl(h)}}finally{Nr(h)}}}}function Nr(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||ct(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ri(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),to(_)}};function Jt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Rr(h){const _={};h=(h.g&&Ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<h.length;V++){if(O(h[V]))continue;var E=cu(h[V]);const Z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const re=_[Z]||[];_[Z]=re,re.push(E)}pe(_,function(V){return V.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function cs(h){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=sr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=sr("baseRetryDelayMs",5e3,h),this.Za=sr("retryDelaySeedMs",1e4,h),this.Ta=sr("forwardChannelMaxRetries",2,h),this.va=sr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new El(h&&h.concurrentRequestLimit),this.Ba=new os,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=cs.prototype,i.ka=8,i.I=1,i.connect=function(h,_,E,V){vt(0),this.W=h,this.H=_||{},E&&V!==void 0&&(this.H.OSID=E,this.H.OAID=V),this.F=this.X,this.J=Eu(this,null,this.W),ar(this)};function Ol(h){if(mo(h),h.I==3){var _=h.V++,E=Ot(h.J);if(Je(E,"SID",h.M),Je(E,"RID",_),Je(E,"TYPE","terminate"),fa(h,E),_=new Ti(h,h.j,_),_.M=2,_.A=oa(Ot(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Au(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Wi(_)}wu(h)}function us(h){h.g&&(Pl(h),h.g.cancel(),h.g=null)}function mo(h){us(h),h.v&&(u.clearTimeout(h.v),h.v=null),go(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ar(h){if(!Al(h.h)&&!h.m){h.m=!0;var _=h.Ea;z||R(),H||(z(),H=!0),T.add(_,h),h.D=0}}function po(h,_){return er(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ii(f(h.Ea,h,_),bu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Z=new Ti(this,this.j,h);let re=this.o;if(this.U&&(re?(re=F(re),Q(re,this.U)):re=this.U),this.u!==null||this.R||(Z.J=re,re=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var V=this.i[E];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=xu(this,Z,_),E=Ot(this.J),Je(E,"RID",h),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),fa(this,E),re&&(this.R?_="headers="+Ai(oi(re))+"&"+_:this.u&&ua(E,this.u,re)),Tl(this.h,Z),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",_),Je(E,"SID","null"),Z.U=!0,Qi(Z,E,null)):Qi(Z,E,_),this.I=2}}else this.I==3&&(h?Ml(this,h):this.i.length==0||Al(this.h)||Ml(this))};function Ml(h,_){var E;_?E=_.l:E=h.V++;const V=Ot(h.J);Je(V,"SID",h.M),Je(V,"RID",E),Je(V,"AID",h.K),fa(h,V),h.u&&h.o&&ua(V,h.u,h.o),E=new Ti(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=xu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Tl(h.h,E),Qi(E,V,_)}function fa(h,_){h.H&&fe(h.H,function(E,V){Je(_,V,E)}),h.l&&fe({},function(E,V){Je(_,V,E)})}function xu(h,_,E){E=Math.min(h.i.length,E);const V=h.l?f(h.l.Ka,h.l,h):null;e:{var Z=h.i;let je=-1;for(;;){const Ct=["count="+E];je==-1?E>0?(je=Z[0].g,Ct.push("ofs="+je)):je=0:Ct.push("ofs="+je);let Xe=!0;for(let pt=0;pt<E;pt++){var re=Z[pt].g;const li=Z[pt].map;if(re-=je,re<0)je=Math.max(0,Z[pt].g-100),Xe=!1;else try{re="req"+re+"_"||"";try{var me=li instanceof Map?li:Object.entries(li);for(const[lr,Di]of me){let Ii=Di;p(Di)&&(Ii=Gi(Di)),Ct.push(re+lr+"="+encodeURIComponent(Ii))}}catch(lr){throw Ct.push(re+"type="+encodeURIComponent("_badmap")),lr}}catch{V&&V(li)}}if(Xe){me=Ct.join("&");break e}}me=void 0}return h=h.i.splice(0,E),_.G=h,me}function yu(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;z||R(),H||(z(),H=!0),T.add(_,h),h.A=0}}function ma(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ii(f(h.Da,h),bu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ii(f(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),us(this),vu(this))};function Pl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function vu(h){h.g=new Ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ot(h.na);Je(_,"RID","rpc"),Je(_,"SID",h.M),Je(_,"AID",h.K),Je(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(_,"TO",h.ia),Je(_,"TYPE","xmlhttp"),fa(h,_),h.u&&h.o&&ua(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=oa(Ot(_)),E.u=null,E.R=!0,ao(E,h)}i.Va=function(){this.C!=null&&(this.C=null,us(this),ma(this),vt(19))};function go(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function _u(h,_){var E=null;if(h.g==_){go(h),Pl(h),h.g=null;var V=2}else if(tr(h.h,_))E=_.G,Cl(h.h,_),V=1;else return;if(h.I!=0){if(_.o)if(V==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var Z=h.D;V=Cr(),ct(V,new ni(V,E)),ar(h)}else yu(h);else if(Z=_.m,Z==3||Z==0&&_.X>0||!(V==1&&po(h,_)||V==2&&ma(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),Z){case 1:or(h,5);break;case 4:or(h,10);break;case 3:or(h,6);break;default:or(h,2)}}}function bu(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function or(h,_){if(h.j.info("Error code "+_),_==2){var E=f(h.bb,h),V=h.Ua;const Z=!V;V=new Un(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xt(V,"https"),oa(V),Z?Si(V.toString(),E):kl(V.toString(),E)}else vt(2);h.I=0,h.l&&h.l.pa(_),wu(h),mo(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function wu(h){if(h.I=0,h.ja=[],h.l){const _=Sl(h.h);(_.length!=0||h.i.length!=0)&&(N(h.ja,_),N(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Eu(h,_,E){var V=E instanceof Un?Ot(E):new Un(E);if(V.g!="")_&&(V.g=_+"."+V.g),is(V,V.u);else{var Z=u.location;V=Z.protocol,_=_?_+"."+Z.hostname:Z.hostname,Z=+Z.port;const re=new Un(null);V&&Xt(re,V),_&&(re.g=_),Z&&is(re,Z),E&&(re.h=E),V=re}return E=h.G,_=h.wa,E&&_&&Je(V,E,_),Je(V,"VER",h.ka),fa(h,V),V}function Au(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new nt(new ir({ab:E})):new nt(h.ma),_.Fa(h.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}i=Tu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function hs(){}hs.prototype.g=function(h,_){return new gn(h,_)};function gn(h,_){mt.call(this),this.g=new cs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!O(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Dr(this)}v(gn,mt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Ol(this.g)},gn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Gi(h),h=E);_.i.push(new Bt(_.Ya++,h)),_.I==3&&ar(_)},gn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,gn.Z.N.call(this)};function Cu(h){kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(Cu,kt);function Su(){pn.call(this),this.status=1}v(Su,pn);function Dr(h){this.g=h}v(Dr,Tu),Dr.prototype.ra=function(){ct(this.g,"a")},Dr.prototype.qa=function(h){ct(this.g,new Cu(h))},Dr.prototype.pa=function(h){ct(this.g,new Su)},Dr.prototype.oa=function(){ct(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,vE=function(){return new hs},yE=function(){return Cr()},xE=yt,Tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,$h=Yi,qt.COMPLETE="complete",gE=qt,$i.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Cc=$i,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,pE=nt}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const O_="@firebase/firestore",M_="4.9.2";class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let xl="12.3.0";const Ua=new ff("@firebase/firestore");function Ko(){return Ua.logLevel}function ve(i,...e){if(Ua.logLevel<=Ve.DEBUG){const t=e.map(_g);Ua.debug(`Firestore (${xl}): ${i}`,...t)}}function es(i,...e){if(Ua.logLevel<=Ve.ERROR){const t=e.map(_g);Ua.error(`Firestore (${xl}): ${i}`,...t)}}function sl(i,...e){if(Ua.logLevel<=Ve.WARN){const t=e.map(_g);Ua.warn(`Firestore (${xl}): ${i}`,...t)}}function _g(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Re(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,_E(i,r,t)}function _E(i,e,t){let r=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw es(r),new Error(r)}function Ze(i,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,i||_E(e,o,r)}function ke(i,e){return i}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends _i{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class bE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class rD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sD{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let l=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new bE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class aD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new aD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const r=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new P_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}class bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=cD(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%62))}return r}}function Ue(i,e){return i<e?-1:i>e?1:0}function Cp(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const o=i.charAt(r),l=e.charAt(r);if(o!==l)return tp(o)===tp(l)?Ue(o,l):tp(o)?1:-1}return Ue(i.length,e.length)}const uD=55296,hD=57343;function tp(i){const e=i.charCodeAt(0);return e>=uD&&e<=hD}function al(i,e,t){return i.length===e.length&&i.every(((r,o)=>t(r,e[o])))}const L_="__name__";class fr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Re(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=fr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ue(e.length,t.length)}static compareSegments(e,t){const r=fr.isNumericId(e),o=fr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?fr.extractNumericId(e).compare(fr.extractNumericId(t)):Cp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class ot extends fr{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new ot(t)}static emptyPath(){return new ot([])}}const dD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends fr{construct(e,t,r){return new an(e,t,r)}static isValidIdentifier(e){return dD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new an([L_])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(r.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ge(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(r+=p,o++):(l(),o++)}if(l(),u)throw new ge(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ot.fromString(e))}static fromName(e){return new Te(ot.fromString(e).popFirst(5))}static empty(){return new Te(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ot(e.slice()))}}function wE(i,e,t){if(!t)throw new ge(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function fD(i,e,t,r){if(e===!0&&r===!0)throw new ge(le.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function F_(i){if(!Te.isDocumentKey(i))throw new ge(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function V_(i){if(Te.isDocumentKey(i))throw new ge(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function EE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function _f(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function $s(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_f(i);throw new ge(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function zt(i,e){const t={typeString:i};return e&&(t.value=e),t}function iu(i,e){if(!EE(i))throw new ge(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const u=i[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ge(le.INVALID_ARGUMENT,t);return!0}const U_=-62135596800,z_=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*z_);return new dt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<U_)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:zt("string",dt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new dt(0,0))}static max(){return new De(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vc=-1;function mD(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=De.fromTimestamp(r===1e9?new dt(t+1,0):new dt(t,r));return new Ks(o,Te.empty(),e)}function pD(i){return new Ks(i.readTime,i.key,Vc)}class Ks{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ks(De.min(),Te.empty(),Vc)}static max(){return new Ks(De.max(),Te.empty(),Vc)}}function gD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:Ue(i.largestBatchId,e.largestBatchId))}const xD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yl(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==xD)throw i;ve("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,r)=>{t(e)}))}static reject(e){return new ue(((t,r)=>{r(e)}))}static waitFor(e){return new ue(((t,r)=>{let o=0,l=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++l,u&&l===o&&t()}),(g=>r(g)))})),u=!0,l===o&&t()}))}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next((o=>o?ue.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,l)=>{r.push(t.call(this,o,l))})),this.waitFor(r)}static mapArray(e,t){return new ue(((r,o)=>{const l=e.length,u=new Array(l);let p=0;for(let g=0;g<l;g++){const f=g;t(e[f]).next((y=>{u[f]=y,++p,p===l&&r(u)}),(y=>o(y)))}}))}static doWhile(e,t){return new ue(((r,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):r()};l()}))}}function vD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vl(i){return i.name==="IndexedDbTransactionError"}class bf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bf.ce=-1;const wg=-1;function wf(i){return i==null}function Gd(i){return i===0&&1/i==-1/0}function _D(i){return typeof i=="number"&&Number.isInteger(i)&&!Gd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const AE="";function bD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=H_(e)),e=wD(i.get(t),e);return H_(e)}function wD(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case AE:t+="";break;default:t+=l}}return t}function H_(i){return i+AE+""}function q_(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ia(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function TE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class bt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bh(this.root,e,this.comparator,!0)}}class Bh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??sn.RED,this.left=o??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new sn(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,r,o,l){return this}insert(e,t,r){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new $t(an.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new CE("Invalid base64 string: "+l):l}})(e);return new on(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const ED=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(i){if(Ze(!!i,39018),typeof i=="string"){let e=0;const t=ED.exec(i);if(Ze(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(i.seconds),nanos:Rt(i.nanos)}}function Rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xs(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}const SE="server_timestamp",NE="__type__",RE="__previous_value__",DE="__local_write_time__";function Eg(i){return(i?.mapValue?.fields||{})[NE]?.stringValue===SE}function Ef(i){const e=i.mapValue.fields[RE];return Eg(e)?Ef(e):e}function Uc(i){const e=Ys(i.mapValue.fields[DE].timestampValue);return new dt(e.seconds,e.nanos)}class AD{constructor(e,t,r,o,l,u,p,g,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=f,this.isUsingEmulator=y}}const $d="(default)";class zc{constructor(e,t){this.projectId=e,this.database=t||$d}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database===$d}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}const IE="__type__",TD="__max__",Oh={mapValue:{}},kE="__vector__",Kd="value";function Qs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Eg(i)?4:SD(i)?9007199254740991:CD(i)?10:11:Re(28295,{value:i})}function Ar(i,e){if(i===e)return!0;const t=Qs(i);if(t!==Qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Uc(i).isEqual(Uc(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Ys(o.timestampValue),p=Ys(l.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return Xs(o.bytesValue).isEqual(Xs(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return Rt(o.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Rt(o.integerValue)===Rt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Rt(o.doubleValue),p=Rt(l.doubleValue);return u===p?Gd(u)===Gd(p):isNaN(u)&&isNaN(p)}return!1})(i,e);case 9:return al(i.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},p=l.mapValue.fields||{};if(q_(u)!==q_(p))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(p[g]===void 0||!Ar(u[g],p[g])))return!1;return!0})(i,e);default:return Re(52216,{left:i})}}function Hc(i,e){return(i.values||[]).find((t=>Ar(t,e)))!==void 0}function ol(i,e){if(i===e)return 0;const t=Qs(i),r=Qs(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(l,u){const p=Rt(l.integerValue||l.doubleValue),g=Rt(u.integerValue||u.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return $_(i.timestampValue,e.timestampValue);case 4:return $_(Uc(i),Uc(e));case 5:return Cp(i.stringValue,e.stringValue);case 6:return(function(l,u){const p=Xs(l),g=Xs(u);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(l,u){const p=l.split("/"),g=u.split("/");for(let f=0;f<p.length&&f<g.length;f++){const y=Ue(p[f],g[f]);if(y!==0)return y}return Ue(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,u){const p=Ue(Rt(l.latitude),Rt(u.latitude));return p!==0?p:Ue(Rt(l.longitude),Rt(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return K_(i.arrayValue,e.arrayValue);case 10:return(function(l,u){const p=l.fields||{},g=u.fields||{},f=p[Kd]?.arrayValue,y=g[Kd]?.arrayValue,v=Ue(f?.values?.length||0,y?.values?.length||0);return v!==0?v:K_(f,y)})(i.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Oh.mapValue&&u===Oh.mapValue)return 0;if(l===Oh.mapValue)return 1;if(u===Oh.mapValue)return-1;const p=l.fields||{},g=Object.keys(p),f=u.fields||{},y=Object.keys(f);g.sort(),y.sort();for(let v=0;v<g.length&&v<y.length;++v){const b=Cp(g[v],y[v]);if(b!==0)return b;const C=ol(p[g[v]],f[y[v]]);if(C!==0)return C}return Ue(g.length,y.length)})(i.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function $_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const t=Ys(i),r=Ys(e),o=Ue(t.seconds,r.seconds);return o!==0?o:Ue(t.nanos,r.nanos)}function K_(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const l=ol(t[o],r[o]);if(l)return l}return Ue(t.length,r.length)}function ll(i){return Sp(i)}function Sp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=Ys(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Xs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Te.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",o=!0;for(const l of t.values||[])o?o=!1:r+=",",r+=Sp(l);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of r)l?l=!1:o+=",",o+=`${u}:${Sp(t.fields[u])}`;return o+"}"})(i.mapValue):Re(61005,{value:i})}function Kh(i){switch(Qs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(i);return e?16+Kh(e):16;case 5:return 2*i.stringValue.length;case 6:return Xs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,l)=>o+Kh(l)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return ia(r.fields,((l,u)=>{o+=l.length+Kh(u)})),o})(i.mapValue);default:throw Re(13486,{value:i})}}function Y_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Np(i){return!!i&&"integerValue"in i}function Ag(i){return!!i&&"arrayValue"in i}function X_(i){return!!i&&"nullValue"in i}function Q_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Yh(i){return!!i&&"mapValue"in i}function CD(i){return(i?.mapValue?.fields||{})[IE]?.stringValue===kE}function kc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ia(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=kc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kc(i.arrayValue.values[t]);return e}return{...i}}function SD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===TD}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}setAll(e){let t=an.emptyPath(),r={},o=[];e.forEach(((u,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,r,o),r={},o=[],t=p.popLast()}u?r[p.lastSegment()]=kc(u):o.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ia(t,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new jn(kc(this.value))}}function jE(i){const e=[];return ia(i.fields,((t,r)=>{const o=new an([t]);if(Yh(r)){const l=jE(r.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new Qn(e)}class fn{constructor(e,t,r,o,l,u,p){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(e){return new fn(e,0,De.min(),De.min(),De.min(),jn.empty(),0)}static newFoundDocument(e,t,r,o){return new fn(e,1,t,De.min(),r,o,0)}static newNoDocument(e,t){return new fn(e,2,t,De.min(),De.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,De.min(),De.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yd{constructor(e,t){this.position=e,this.inclusive=t}}function W_(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const l=e[o],u=i.position[o];if(l.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),t.key):r=ol(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ar(i.position[t],e.position[t]))return!1;return!0}class qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ND(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class BE{}class Ut extends BE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new DD(e,t,r):t==="array-contains"?new jD(e,r):t==="in"?new BD(e,r):t==="not-in"?new OD(e,r):t==="array-contains-any"?new MD(e,r):new Ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ID(e,r):new kD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ol(t,this.value)):t!==null&&Qs(this.value)===Qs(t)&&this.matchesComparison(ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends BE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Fi(e,t)}matches(e){return OE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OE(i){return i.op==="and"}function ME(i){return RD(i)&&OE(i)}function RD(i){for(const e of i.filters)if(e instanceof Fi)return!1;return!0}function Rp(i){if(i instanceof Ut)return i.field.canonicalString()+i.op.toString()+ll(i.value);if(ME(i))return i.filters.map((e=>Rp(e))).join(",");{const e=i.filters.map((t=>Rp(t))).join(",");return`${i.op}(${e})`}}function PE(i,e){return i instanceof Ut?(function(r,o){return o instanceof Ut&&r.op===o.op&&r.field.isEqual(o.field)&&Ar(r.value,o.value)})(i,e):i instanceof Fi?(function(r,o){return o instanceof Fi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,u,p)=>l&&PE(u,o.filters[p])),!0):!1})(i,e):void Re(19439)}function LE(i){return i instanceof Ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${ll(t.value)}`})(i):i instanceof Fi?(function(t){return t.op.toString()+" {"+t.getFilters().map(LE).join(" ,")+"}"})(i):"Filter"}class DD extends Ut{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class ID extends Ut{constructor(e,t){super(e,"in",t),this.keys=FE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class kD extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=FE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function FE(i,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class jD extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ag(t)&&Hc(t.arrayValue,this.value)}}class BD extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hc(this.value.arrayValue,t)}}class OD extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hc(this.value.arrayValue,t)}}class MD extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Hc(this.value.arrayValue,r)))}}class PD{constructor(e,t=null,r=[],o=[],l=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=u,this.endAt=p,this.Te=null}}function J_(i,e=null,t=[],r=[],o=null,l=null,u=null){return new PD(i,e,t,r,o,l,u)}function Tg(i){const e=ke(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Rp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),wf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ll(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ll(r))).join(",")),e.Te=t}return e.Te}function Cg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!ND(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!PE(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Z_(i.startAt,e.startAt)&&Z_(i.endAt,e.endAt)}function Dp(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class _l{constructor(e,t=null,r=[],o=[],l=null,u="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LD(i,e,t,r,o,l,u,p){return new _l(i,e,t,r,o,l,u,p)}function Sg(i){return new _l(i)}function eb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function VE(i){return i.collectionGroup!==null}function jc(i){const e=ke(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new $t(an.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((f=>{f.isInequality()&&(p=p.add(f.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new qc(l,r))})),t.has(an.keyField().canonicalString())||e.Ie.push(new qc(an.keyField(),r))}return e.Ie}function yr(i){const e=ke(i);return e.Ee||(e.Ee=FD(e,jc(i))),e.Ee}function FD(i,e){if(i.limitType==="F")return J_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new qc(o.field,l)}));const t=i.endAt?new Yd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Yd(i.startAt.position,i.startAt.inclusive):null;return J_(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Ip(i,e){const t=i.filters.concat([e]);return new _l(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function kp(i,e,t){return new _l(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Af(i,e){return Cg(yr(i),yr(e))&&i.limitType===e.limitType}function UE(i){return`${Tg(yr(i))}|lt:${i.limitType}`}function Yo(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>LE(o))).join(", ")}]`),wf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>ll(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>ll(o))).join(",")),`Target(${r})`})(yr(i))}; limitType=${i.limitType})`}function Tf(i,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Te.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(i,e)&&(function(r,o){for(const l of jc(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(u,p,g){const f=W_(u,p,g);return u.inclusive?f<=0:f<0})(r.startAt,jc(r),o)||r.endAt&&!(function(u,p,g){const f=W_(u,p,g);return u.inclusive?f>=0:f>0})(r.endAt,jc(r),o))})(i,e)}function VD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zE(i){return(e,t)=>{let r=!1;for(const o of jc(i)){const l=UD(o,e,t);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function UD(i,e,t){const r=i.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,u,p){const g=u.data.field(l),f=p.data.field(l);return g!==null&&f!==null?ol(g,f):Re(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:i.dir})}}class Ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((t,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}const zD=new bt(Te.comparator);function ts(){return zD}const HE=new bt(Te.comparator);function Sc(...i){let e=HE;for(const t of i)e=e.insert(t.key,t);return e}function qE(i){let e=HE;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ba(){return Bc()}function GE(){return Bc()}function Bc(){return new Ya((i=>i.toString()),((i,e)=>i.isEqual(e)))}const HD=new bt(Te.comparator),qD=new $t(Te.comparator);function ze(...i){let e=qD;for(const t of i)e=e.add(t);return e}const GD=new $t(Ue);function $D(){return GD}function Ng(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(e)?"-0":e}}function $E(i){return{integerValue:""+i}}function KE(i,e){return _D(e)?$E(e):Ng(i,e)}class Cf{constructor(){this._=void 0}}function KD(i,e,t){return i instanceof Gc?(function(o,l){const u={fields:{[NE]:{stringValue:SE},[DE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Eg(l)&&(l=Ef(l)),l&&(u.fields[RE]=l),{mapValue:u}})(t,e):i instanceof cl?XE(i,e):i instanceof ul?QE(i,e):(function(o,l){const u=YE(o,l),p=tb(u)+tb(o.Ae);return Np(u)&&Np(o.Ae)?$E(p):Ng(o.serializer,p)})(i,e)}function YD(i,e,t){return i instanceof cl?XE(i,e):i instanceof ul?QE(i,e):t}function YE(i,e){return i instanceof $c?(function(r){return Np(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Gc extends Cf{}class cl extends Cf{constructor(e){super(),this.elements=e}}function XE(i,e){const t=WE(e);for(const r of i.elements)t.some((o=>Ar(o,r)))||t.push(r);return{arrayValue:{values:t}}}class ul extends Cf{constructor(e){super(),this.elements=e}}function QE(i,e){let t=WE(e);for(const r of i.elements)t=t.filter((o=>!Ar(o,r)));return{arrayValue:{values:t}}}class $c extends Cf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function tb(i){return Rt(i.integerValue||i.doubleValue)}function WE(i){return Ag(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Sf{constructor(e,t){this.field=e,this.transform=t}}function XD(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof cl&&o instanceof cl||r instanceof ul&&o instanceof ul?al(r.elements,o.elements,Ar):r instanceof $c&&o instanceof $c?Ar(r.Ae,o.Ae):r instanceof Gc&&o instanceof Gc})(i.transform,e.transform)}class QD{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Nf{}function ZE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new eA(i.key,vr.none()):new ru(i.key,i.data,vr.none());{const t=i.data,r=jn.empty();let o=new $t(an.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),o=o.add(l)}return new ra(i.key,r,new Qn(o.toArray()),vr.none())}}function WD(i,e,t){i instanceof ru?(function(o,l,u){const p=o.value.clone(),g=ib(o.fieldTransforms,l,u.transformResults);p.setAll(g),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,t):i instanceof ra?(function(o,l,u){if(!Xh(o.precondition,l))return void l.convertToUnknownDocument(u.version);const p=ib(o.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(JE(o)),g.setAll(p),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(i,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Oc(i,e,t,r){return i instanceof ru?(function(l,u,p,g){if(!Xh(l.precondition,u))return p;const f=l.value.clone(),y=rb(l.fieldTransforms,g,u);return f.setAll(y),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null})(i,e,t,r):i instanceof ra?(function(l,u,p,g){if(!Xh(l.precondition,u))return p;const f=rb(l.fieldTransforms,g,u),y=u.data;return y.setAll(JE(l)),y.setAll(f),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(i,e,t,r):(function(l,u,p){return Xh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(i,e,t)}function ZD(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),l=YE(r.transform,o||null);l!=null&&(t===null&&(t=jn.empty()),t.set(r.field,l))}return t||null}function nb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&al(r,o,((l,u)=>XD(l,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ru extends Nf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends Nf{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function JE(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function ib(i,e,t){const r=new Map;Ze(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const l=i[o],u=l.transform,p=e.data.field(l.field);r.set(l.field,YD(u,p,t[o]))}return r}function rb(i,e,t){const r=new Map;for(const o of i){const l=o.transform,u=t.data.field(o.field);r.set(o.field,KD(l,u,e))}return r}class eA extends Nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JD extends Nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eI{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&WD(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Oc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Oc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GE();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=t.has(o.key)?null:p;const g=ZE(u,p);g!==null&&r.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,((t,r)=>nb(t,r)))&&al(this.baseMutations,e.baseMutations,((t,r)=>nb(t,r)))}}class Rg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return HD})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,r[u].version);return new Rg(e,t,r,o)}}class tI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nI{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vt,Ge;function iI(i){switch(i){case le.OK:return Re(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function tA(i){if(i===void 0)return es("GRPC error has no .code"),le.UNKNOWN;switch(i){case Vt.OK:return le.OK;case Vt.CANCELLED:return le.CANCELLED;case Vt.UNKNOWN:return le.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return le.INTERNAL;case Vt.UNAVAILABLE:return le.UNAVAILABLE;case Vt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Vt.NOT_FOUND:return le.NOT_FOUND;case Vt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Vt.ABORTED:return le.ABORTED;case Vt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Vt.DATA_LOSS:return le.DATA_LOSS;default:return Re(39323,{code:i})}}(Ge=Vt||(Vt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function rI(){return new TextEncoder}const sI=new qs([4294967295,4294967295],0);function sb(i){const e=rI().encode(i),t=new mE;return t.update(e),new Uint8Array(t.digest())}function ab(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qs([t,r],0),new qs([o,l],0)]}class Dg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nc(`Invalid padding: ${t}`);if(r<0)throw new Nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=qs.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(qs.fromNumber(r)));return o.compare(sI)===1&&(o=new qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=sb(e),[r,o]=ab(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,o,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Dg(l,o,t);return r.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const t=sb(e),[r,o]=ab(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rf{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rf(De.min(),o,new bt(Ue),ts(),ze())}}class su{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new su(r,t,ze(),ze(),ze())}}class Qh{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class nA{constructor(e,t){this.targetId=e,this.Ce=t}}class iA{constructor(e,t,r=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class ob{constructor(){this.ve=0,this.Fe=lb(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Re(38017,{changeType:l})}})),new su(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=lb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.Je=Mh(),this.He=Mh(),this.Ye=new bt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Dp(l))if(r===0){const u=new Te(l.path);this.et(t,u,fn.newNoDocument(u,De.min()))}else Ze(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const p=this.ut(e),g=p?this.ct(p,e,u):1;if(g!==0){this.it(t);const f=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=t;let u,p;try{u=Xs(r).toUint8Array()}catch(g){if(g instanceof CE)return sl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Dg(u,o,l)}catch(g){return sl(g instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((l=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const p=this.ot(u);if(p){if(l.current&&Dp(p.target)){const g=new Te(p.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,fn.newNoDocument(g,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let r=ze();this.He.forEach(((l,u)=>{let p=!0;u.forEachWhile((g=>{const f=this.ot(g);return!f||f.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new Rf(e,t,this.Ye,this.je,r);return this.je=ts(),this.Je=Mh(),this.He=Mh(),this.Ye=new bt(Ue),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ob,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new $t(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new $t(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ob),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Mh(){return new bt(Te.comparator)}function lb(){return new bt(Te.comparator)}const oI={asc:"ASCENDING",desc:"DESCENDING"},lI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cI={and:"AND",or:"OR"};class uI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jp(i,e){return i.useProto3Json||wf(e)?e:{value:e}}function Xd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function hI(i,e){return Xd(i,e.toTimestamp())}function _r(i){return Ze(!!i,49232),De.fromTimestamp((function(t){const r=Ys(t);return new dt(r.seconds,r.nanos)})(i))}function Ig(i,e){return Bp(i,e).canonicalString()}function Bp(i,e){const t=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function sA(i){const e=ot.fromString(i);return Ze(uA(e),10190,{key:e.toString()}),e}function Op(i,e){return Ig(i.databaseId,e.path)}function np(i,e){const t=sA(e);if(t.get(1)!==i.databaseId.projectId)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(oA(t))}function aA(i,e){return Ig(i.databaseId,e)}function dI(i){const e=sA(i);return e.length===4?ot.emptyPath():oA(e)}function Mp(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function oA(i){return Ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function cb(i,e,t){return{name:Op(i,e),fields:t.value.mapValue.fields}}function fI(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Re(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(f,y){return f.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),on.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),on.fromUint8Array(y||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(f){const y=f.code===void 0?le.UNKNOWN:tA(f.code);return new ge(y,f.message||"")})(u);t=new iA(r,o,l,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=np(i,r.document.name),l=_r(r.document.updateTime),u=r.document.createTime?_r(r.document.createTime):De.min(),p=new jn({mapValue:{fields:r.document.fields}}),g=fn.newFoundDocument(o,l,u,p),f=r.targetIds||[],y=r.removedTargetIds||[];t=new Qh(f,y,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=np(i,r.document),l=r.readTime?_r(r.readTime):De.min(),u=fn.newNoDocument(o,l),p=r.removedTargetIds||[];t=new Qh([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=np(i,r.document),l=r.removedTargetIds||[];t=new Qh([],l,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,u=new nI(o,l),p=r.targetId;t=new nA(p,u)}}return t}function mI(i,e){let t;if(e instanceof ru)t={update:cb(i,e.key,e.value)};else if(e instanceof eA)t={delete:Op(i,e.key)};else if(e instanceof ra)t={update:cb(i,e.key,e.data),updateMask:EI(e.fieldMask)};else{if(!(e instanceof JD))return Re(16599,{Vt:e.type});t={verify:Op(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const p=u.transform;if(p instanceof Gc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof cl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ul)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $c)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw Re(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:hI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(i,e.precondition)),t}function pI(i,e){return i&&i.length>0?(Ze(e!==void 0,14353),i.map((t=>(function(o,l){let u=o.updateTime?_r(o.updateTime):_r(l);return u.isEqual(De.min())&&(u=_r(l)),new QD(u,o.transformResults||[])})(t,e)))):[]}function gI(i,e){return{documents:[aA(i,e.path)]}}function xI(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=aA(i,o);const l=(function(f){if(f.length!==0)return cA(Fi.create(f,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(f){if(f.length!==0)return f.map((y=>(function(b){return{field:Xo(b.field),direction:_I(b.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=jp(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:o}}function yI(i){let e=dI(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ze(r===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(v){const b=lA(v);return b instanceof Fi&&ME(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((b=>(function(N){return new qc(Qo(N.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(b)))})(t.orderBy));let p=null;t.limit&&(p=(function(v){let b;return b=typeof v=="object"?v.value:v,wf(b)?null:b})(t.limit));let g=null;t.startAt&&(g=(function(v){const b=!!v.before,C=v.values||[];return new Yd(C,b)})(t.startAt));let f=null;return t.endAt&&(f=(function(v){const b=!v.before,C=v.values||[];return new Yd(C,b)})(t.endAt)),LD(e,o,u,l,p,"F",g,f)}function vI(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Qo(t.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Qo(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qo(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Qo(t.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ut.create(Qo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Fi.create(t.compositeFilter.filters.map((r=>lA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(i):Re(30097,{filter:i})}function _I(i){return oI[i]}function bI(i){return lI[i]}function wI(i){return cI[i]}function Xo(i){return{fieldPath:i.canonicalString()}}function Qo(i){return an.fromServerFormat(i.fieldPath)}function cA(i){return i instanceof Ut?(function(t){if(t.op==="=="){if(Q_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(X_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Q_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NAN"}};if(X_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:bI(t.op),value:t.value}}})(i):i instanceof Fi?(function(t){const r=t.getFilters().map((o=>cA(o)));return r.length===1?r[0]:{compositeFilter:{op:wI(t.op),filters:r}}})(i):Re(54877,{filter:i})}function EI(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function uA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Us{constructor(e,t,r,o,l=De.min(),u=De.min(),p=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AI{constructor(e){this.yt=e}}function TI(i){const e=yI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?kp(e,e.limit,"L"):e}class CI{constructor(){this.Cn=new SI}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Ks.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class SI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new $t(ot.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new $t(ot.comparator)).toArray()}}const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hA=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(hA,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}const hb="LruGarbageCollector",NI=1048576;function db([i,e],[t,r]){const o=Ue(i,t);return o===0?Ue(e,r):o}class RI{constructor(e){this.Ir=e,this.buffer=new $t(db),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();db(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(hb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vl(t)?ve(hb,"Ignoring IndexedDB error during garbage collection: ",t):await yl(t)}await this.Vr(3e5)}))}}class II{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(bf.ce);const r=new RI(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ub)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,l,u,p,g,f;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(r=v,p=Date.now(),this.removeTargets(e,r,t)))).next((v=>(l=v,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(f=Date.now(),Ko()<=Ve.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${l} targets in `+(g-p)+`ms
	Removed ${v} documents in `+(f-g)+`ms
Total Duration: ${f-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:v}))))}}function kI(i,e){return new II(i,e)}class jI{constructor(){this.changes=new Ya((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class OI{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Oc(r.mutation,o,Qn.empty(),dt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const o=Ba();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((l=>{let u=Sc();return l.forEach(((p,g)=>{u=u.insert(p,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Ba();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const o=[];return r.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,p)=>{t.set(u,p)}))}))}computeViews(e,t,r,o){let l=ts();const u=Bc(),p=(function(){return Bc()})();return t.forEach(((g,f)=>{const y=r.get(f.key);o.has(f.key)&&(y===void 0||y.mutation instanceof ra)?l=l.insert(f.key,f):y!==void 0?(u.set(f.key,y.mutation.getFieldMask()),Oc(y.mutation,f,y.mutation.getFieldMask(),dt.now())):u.set(f.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((f,y)=>u.set(f,y))),t.forEach(((f,y)=>p.set(f,new BI(y,u.get(f)??null)))),p)))}recalculateAndSaveOverlays(e,t){const r=Bc();let o=new bt(((u,p)=>u-p)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const p of u)p.keys().forEach((g=>{const f=t.get(g);if(f===null)return;let y=r.get(g)||Qn.empty();y=p.applyToLocalView(f,y),r.set(g,y);const v=(o.get(p.batchId)||ze()).add(g);o=o.insert(p.batchId,v)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),f=g.key,y=g.value,v=GE();y.forEach((b=>{if(!l.has(b)){const C=ZE(t.get(b),r.get(b));C!==null&&v.set(b,C),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,f,v))}return ue.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):VE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):ue.resolve(Ba());let p=Vc,g=l;return u.next((f=>ue.forEach(f,((y,v)=>(p<v.largestBatchId&&(p=v.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{g=g.insert(y,b)}))))).next((()=>this.populateOverlays(e,f,l))).next((()=>this.computeViews(e,g,f,ze()))).next((y=>({batchId:p,changes:qE(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((r=>{let o=Sc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const l=t.collectionGroup;let u=Sc();return this.indexManager.getCollectionParents(e,l).next((p=>ue.forEach(p,(g=>{const f=(function(v,b){return new _l(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,f,r,o).next((y=>{y.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,o)))).next((u=>{l.forEach(((g,f)=>{const y=f.getKey();u.get(y)===null&&(u=u.insert(y,fn.newInvalidDocument(y)))}));let p=Sc();return u.forEach(((g,f)=>{const y=l.get(g);y!==void 0&&Oc(y.mutation,f,Qn.empty(),dt.now()),Tf(t,f)&&(p=p.insert(g,f))})),p}))}}class MI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:TI(o.bundledQuery),readTime:_r(o.readTime)}})(t)),ue.resolve()}}class PI{constructor(){this.overlays=new bt(Te.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ba();return ue.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,l)=>{this.St(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const o=Ba(),l=t.length+1,u=new Te(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const g=p.getNext().value,f=g.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===l&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new bt(((f,y)=>f-y));const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let y=l.get(f.largestBatchId);y===null&&(y=Ba(),l=l.insert(f.largestBatchId,y)),y.set(f.getKey(),f)}}const p=Ba(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((f,y)=>p.set(f,y))),!(p.size()>=o)););return ue.resolve(p)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new tI(t,r));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class LI{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}class kg{constructor(){this.Qr=new $t(Wt.$r),this.Ur=new $t(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Wt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Wt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Te(new ot([])),r=new Wt(t,e),o=new Wt(t,e+1),l=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new ot([])),r=new Wt(t,e),o=new Wt(t,e+1);let l=ze();return this.Ur.forEachInRange([r,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Wt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}class FI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Wt.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new eI(l,t,r,o);this.mutationQueue.push(u);for(const p of o)this.Zr=this.Zr.add(new Wt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),l=o<0?0:o;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?wg:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wt(t,0),o=new Wt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,o],(u=>{const p=this.Xr(u.Yr);l.push(p)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $t(Ue);return t.forEach((o=>{const l=new Wt(o,0),u=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(p=>{r=r.add(p.Yr)}))})),ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Te.isDocumentKey(l)||(l=l.child(""));const u=new Wt(new Te(l),0);let p=new $t(Ue);return this.Zr.forEachWhile((g=>{const f=g.key.path;return!!r.isPrefixOf(f)&&(f.length===o&&(p=p.add(g.Yr)),!0)}),u),ue.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ue.forEach(t.mutations,(o=>{const l=new Wt(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Wt(t,0),o=this.Zr.firstAfterOrEqual(r);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class VI{constructor(e){this.ri=e,this.docs=(function(){return new bt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let r=ts();return t.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():fn.newInvalidDocument(o))})),ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=ts();const u=t.path,p=new Te(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:f,value:{document:y}}=g.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||gD(pD(y),r)<=0||(o.has(y.key)||Tf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,r,o){Re(9500)}ii(e,t){return ue.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new UI(this)}getSize(e){return ue.resolve(this.size)}}class UI extends jI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class zI{constructor(e){this.persistence=e,this.si=new Ya((t=>Tg(t)),Cg),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new kg,this.targetCount=0,this.ai=hl.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new hl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.si.forEach(((u,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ue.waitFor(l).next((()=>o))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}class dA{constructor(e,t){this.ui={},this.overlays={},this.ci=new bf(0),this.li=!1,this.li=!0,this.hi=new LI,this.referenceDelegate=e(this),this.Pi=new zI(this),this.indexManager=new CI,this.remoteDocumentCache=(function(o){return new VI(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new AI(t),this.Ii=new MI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new FI(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ve("MemoryPersistence","Starting transaction:",e);const o=new HI(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return ue.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class HI extends yD{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.Ri=new kg,this.Vi=null}static mi(e){return new jg(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(r=>{const o=Te.fromPath(r);return this.gi(e,o).next((l=>{l||t.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Qd{constructor(e,t){this.persistence=e,this.pi=new Ya((r=>bD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=kI(this,t)}static mi(e,t){return new Qd(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ue.forEach(this.pi,((r,o)=>this.br(e,r,o).next((l=>l?ue.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((p=>{p||(r++,l.removeEntry(u,De.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kh(e.data.value)),t}br(e,t,r){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ue.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=ze(),o=ze();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Bg(e,t.fromCache,r,o)}}class qI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return J6()?8:vD(mn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new qI;return this.Ss(e,t,u).next((p=>{if(l.result=p,this.Vs)return this.bs(e,t,u,p.size)}))})).next((()=>l.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(Ko()<=Ve.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Ko()<=Ve.DEBUG&&ve("QueryEngine","Query:",Yo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ko()<=Ve.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):ue.resolve())}ys(e,t){if(eb(t))return ue.resolve(null);let r=yr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=kp(t,null,"F"),r=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=ze(...l);return this.ps.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const f=this.Ds(t,p);return this.Cs(t,f,u,g.readTime)?this.ys(e,kp(t,null,"F")):this.vs(e,f,t,g)}))))})))))}ws(e,t,r,o){return eb(t)||o.isEqual(De.min())?ue.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,r,o)?ue.resolve(null):(Ko()<=Ve.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Yo(t)),this.vs(e,u,t,mD(o,Vc)).next((p=>p)))}))}Ds(e,t){let r=new $t(zE(e));return t.forEach(((o,l)=>{Tf(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,r){return Ko()<=Ve.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ks.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Og="LocalStore",$I=3e8;class KI{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new bt(Ue),this.xs=new Ya((l=>Tg(l)),Cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function YI(i,e,t,r){return new KI(i,e,t,r)}async function fA(i,e){const t=ke(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],p=[];let g=ze();for(const f of o){u.push(f.batchId);for(const y of f.mutations)g=g.add(y.key)}for(const f of l){p.push(f.batchId);for(const y of f.mutations)g=g.add(y.key)}return t.localDocuments.getDocuments(r,g).next((f=>({Ls:f,removedBatchIds:u,addedBatchIds:p})))}))}))}function XI(i,e){const t=ke(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,f,y){const v=f.batch,b=v.keys();let C=ue.resolve();return b.forEach((N=>{C=C.next((()=>y.getEntry(g,N))).next((B=>{const I=f.docVersions.get(N);Ze(I!==null,48541),B.version.compareTo(I)<0&&(v.applyToRemoteDocument(B,f),B.isValidDocument()&&(B.setReadTime(f.commitVersion),y.addEntry(B)))}))})),C.next((()=>p.mutationQueue.removeMutationBatch(g,v)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=ze();for(let f=0;f<p.mutationResults.length;++f)p.mutationResults[f].transformResults.length>0&&(g=g.add(p.batch.mutations[f].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function mA(i){const e=ke(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function QI(i,e){const t=ke(i),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((y,v)=>{const b=o.get(v);if(!b)return;p.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,y.addedDocuments,v))));let C=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(on.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),o=o.insert(v,C),(function(B,I,P){return B.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=$I?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(b,C,y)&&p.push(t.Pi.updateTargetData(l,C))}));let g=ts(),f=ze();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),p.push(WI(l,u,e.documentUpdates).next((y=>{g=y.ks,f=y.qs}))),!r.isEqual(De.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));p.push(y)}return ue.waitFor(p).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,f))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function WI(i,e,t){let r=ze(),o=ze();return t.forEach((l=>r=r.add(l))),e.getEntries(i,r).next((l=>{let u=ts();return t.forEach(((p,g)=>{const f=l.get(p);g.isFoundDocument()!==f.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(De.min())?(e.removeEntry(p,g.readTime),u=u.insert(p,g)):!f.isValidDocument()||g.version.compareTo(f.version)>0||g.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(g),u=u.insert(p,g)):ve(Og,"Ignoring outdated watch update for ",p,". Current version:",f.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function ZI(i,e){const t=ke(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function JI(i,e){const t=ke(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((l=>l?(o=l,ue.resolve(o)):t.Pi.allocateTargetId(r).next((u=>(o=new Us(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Pp(i,e,t){const r=ke(i),o=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!vl(u))throw u;ve(Og,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function fb(i,e,t){const r=ke(i);let o=De.min(),l=ze();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,f,y){const v=ke(g),b=v.xs.get(y);return b!==void 0?ue.resolve(v.Ms.get(b)):v.Pi.getTargetData(f,y)})(r,u,yr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,p.targetId).next((g=>{l=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:De.min(),t?l:ze()))).next((p=>(ek(r,VD(e),p),{documents:p,Qs:l})))))}function ek(i,e,t){let r=i.Os.get(e)||De.min();t.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),i.Os.set(e,r)}class mb{constructor(){this.activeTargetIds=$D()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tk{constructor(){this.Mo=new mb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nk{Oo(e){}shutdown(){}}const pb="ConnectivityMonitor";class gb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(pb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(pb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ph=null;function Lp(){return Ph===null?Ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ph++,"0x"+Ph.toString(16)}const ip="RestConnection",ik={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===$d?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,l){const u=Lp(),p=this.zo(e,t.toUriEncodedString());ve(ip,`Sending RPC '${e}' ${u}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:f}=new URL(p),y=ea(f);return this.Jo(e,p,g,r,y).then((v=>(ve(ip,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw sl(ip,`RPC '${e}' ${u} failed with error: `,v,"url: ",p,"request:",r),v}))}Ho(e,t,r,o,l,u){return this.Go(e,t,r,o,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),r&&r.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const r=ik[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class sk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class ak extends rk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,l){const u=Lp();return new Promise(((p,g)=>{const f=new pE;f.setWithCredentials(!0),f.listenOnce(gE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case $h.NO_ERROR:const v=f.getResponseJson();ve(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),p(v);break;case $h.TIMEOUT:ve(un,`RPC '${e}' ${u} timed out`),g(new ge(le.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const b=f.getStatus();if(ve(un,`RPC '${e}' ${u} failed with status:`,b,"response text:",f.getResponseText()),b>0){let C=f.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C?.error;if(N&&N.status&&N.message){const B=(function(P){const k=P.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(k)>=0?k:le.UNKNOWN})(N.status);g(new ge(B,N.message))}else g(new ge(le.UNKNOWN,"Server responded with status "+f.getStatus()))}else g(new ge(le.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ve(un,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);ve(un,`RPC '${e}' ${u} sending request:`,o),f.send(t,"POST",y,r,15)}))}T_(e,t,r){const o=Lp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=vE(),p=yE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(g.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const y=l.join("");ve(un,`Creating RPC '${e}' stream ${o}: ${y}`,g);const v=u.createWebChannel(y,g);this.I_(v);let b=!1,C=!1;const N=new sk({Yo:I=>{C?ve(un,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(b||(ve(un,`Opening RPC '${e}' stream ${o} transport.`),v.open(),b=!0),ve(un,`RPC '${e}' stream ${o} sending:`,I),v.send(I))},Zo:()=>v.close()}),B=(I,P,k)=>{I.listen(P,(j=>{try{k(j)}catch(L){setTimeout((()=>{throw L}),0)}}))};return B(v,Cc.EventType.OPEN,(()=>{C||(ve(un,`RPC '${e}' stream ${o} transport opened.`),N.o_())})),B(v,Cc.EventType.CLOSE,(()=>{C||(C=!0,ve(un,`RPC '${e}' stream ${o} transport closed`),N.a_(),this.E_(v))})),B(v,Cc.EventType.ERROR,(I=>{C||(C=!0,sl(un,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),N.a_(new ge(le.UNAVAILABLE,"The operation could not be completed")))})),B(v,Cc.EventType.MESSAGE,(I=>{if(!C){const P=I.data[0];Ze(!!P,16349);const k=P,j=k?.error||k[0]?.error;if(j){ve(un,`RPC '${e}' stream ${o} received error:`,j);const L=j.status;let z=(function(R){const S=Vt[R];if(S!==void 0)return tA(S)})(L),H=j.message;z===void 0&&(z=le.INTERNAL,H="Unknown error status: "+L+" with message "+j.message),C=!0,N.a_(new ge(z,H)),v.close()}else ve(un,`RPC '${e}' stream ${o} received:`,P),N.u_(P)}})),B(p,xE.STAT_EVENT,(I=>{I.stat===Tp.PROXY?ve(un,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===Tp.NOPROXY&&ve(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function rp(){return typeof document<"u"?document:null}function Df(i){return new uI(i,!0)}class pA{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xb="PersistentStream";class gA{constructor(e,t,r,o,l,u,p,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new ge(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(xb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(xb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ok extends gA{constructor(e,t,r,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=fI(this.serializer,e),r=(function(l){if(!("targetChange"in l))return De.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?De.min():u.readTime?_r(u.readTime):De.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Mp(this.serializer),t.addTarget=(function(l,u){let p;const g=u.target;if(p=Dp(g)?{documents:gI(l,g)}:{query:xI(l,g).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=rA(l,u.resumeToken);const f=jp(l,u.expectedCount);f!==null&&(p.expectedCount=f)}else if(u.snapshotVersion.compareTo(De.min())>0){p.readTime=Xd(l,u.snapshotVersion.toTimestamp());const f=jp(l,u.expectedCount);f!==null&&(p.expectedCount=f)}return p})(this.serializer,e);const r=vI(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Mp(this.serializer),t.removeTarget=e,this.q_(t)}}class lk extends gA{constructor(e,t,r,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=pI(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Mp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>mI(this.serializer,r)))};this.q_(t)}}class ck{}class uk extends ck{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Bp(t,r),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(le.UNKNOWN,l.toString())}))}Ho(e,t,r,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.Ho(e,Bp(t,r),o,u,p,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const za="RemoteStore";class dk{constructor(e,t,r,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Xa(this)&&(ve(za,"Restarting streams for network reachability change."),await(async function(g){const f=ke(g);f.Ea.add(4),await au(f),f.Ra.set("Unknown"),f.Ea.delete(4),await If(f)})(this))}))})),this.Ra=new hk(r,o)}}async function If(i){if(Xa(i))for(const e of i.da)await e(!0)}async function au(i){for(const e of i.da)await e(!1)}function xA(i,e){const t=ke(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Fg(t)?Lg(t):bl(t).O_()&&Pg(t,e))}function Mg(i,e){const t=ke(i),r=bl(t);t.Ia.delete(e),r.O_()&&yA(t,e),t.Ia.size===0&&(r.O_()?r.L_():Xa(t)&&t.Ra.set("Unknown"))}function Pg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bl(i).Y_(e)}function yA(i,e){i.Va.Ue(e),bl(i).Z_(e)}function Lg(i){i.Va=new aI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),bl(i).start(),i.Ra.ua()}function Fg(i){return Xa(i)&&!bl(i).x_()&&i.Ia.size>0}function Xa(i){return ke(i).Ea.size===0}function vA(i){i.Va=void 0}async function fk(i){i.Ra.set("Online")}async function mk(i){i.Ia.forEach(((e,t)=>{Pg(i,e)}))}async function pk(i,e){vA(i),Fg(i)?(i.Ra.ha(e),Lg(i)):i.Ra.set("Unknown")}async function gk(i,e,t){if(i.Ra.set("Online"),e instanceof iA&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const p of l.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){ve(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wd(i,r)}else if(e instanceof Qh?i.Va.Ze(e):e instanceof nA?i.Va.st(e):i.Va.tt(e),!t.isEqual(De.min()))try{const r=await mA(i.localStore);t.compareTo(r)>=0&&await(function(l,u){const p=l.Va.Tt(u);return p.targetChanges.forEach(((g,f)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(f);y&&l.Ia.set(f,y.withResumeToken(g.resumeToken,u))}})),p.targetMismatches.forEach(((g,f)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(on.EMPTY_BYTE_STRING,y.snapshotVersion)),yA(l,g);const v=new Us(y.target,g,f,y.sequenceNumber);Pg(l,v)})),l.remoteSyncer.applyRemoteEvent(p)})(i,t)}catch(r){ve(za,"Failed to raise snapshot:",r),await Wd(i,r)}}async function Wd(i,e,t){if(!vl(e))throw e;i.Ea.add(1),await au(i),i.Ra.set("Offline"),t||(t=()=>mA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ve(za,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await If(i)}))}function _A(i,e){return e().catch((t=>Wd(i,t,e)))}async function kf(i){const e=ke(i),t=Ws(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wg;for(;xk(e);)try{const o=await ZI(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,yk(e,o)}catch(o){await Wd(e,o)}bA(e)&&wA(e)}function xk(i){return Xa(i)&&i.Ta.length<10}function yk(i,e){i.Ta.push(e);const t=Ws(i);t.O_()&&t.X_&&t.ea(e.mutations)}function bA(i){return Xa(i)&&!Ws(i).x_()&&i.Ta.length>0}function wA(i){Ws(i).start()}async function vk(i){Ws(i).ra()}async function _k(i){const e=Ws(i);for(const t of i.Ta)e.ea(t.mutations)}async function bk(i,e,t){const r=i.Ta.shift(),o=Rg.from(r,e,t);await _A(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await kf(i)}async function wk(i,e){e&&Ws(i).X_&&await(async function(r,o){if((function(u){return iI(u)&&u!==le.ABORTED})(o.code)){const l=r.Ta.shift();Ws(r).B_(),await _A(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await kf(r)}})(i,e),bA(i)&&wA(i)}async function yb(i,e){const t=ke(i);t.asyncQueue.verifyOperationInProgress(),ve(za,"RemoteStore received new credentials");const r=Xa(t);t.Ea.add(3),await au(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await If(t)}async function Ek(i,e){const t=ke(i);e?(t.Ea.delete(2),await If(t)):e||(t.Ea.add(2),await au(t),t.Ra.set("Unknown"))}function bl(i){return i.ma||(i.ma=(function(t,r,o){const l=ke(t);return l.sa(),new ok(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:fk.bind(null,i),t_:mk.bind(null,i),r_:pk.bind(null,i),H_:gk.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Fg(i)?Lg(i):i.Ra.set("Unknown")):(await i.ma.stop(),vA(i))}))),i.ma}function Ws(i){return i.fa||(i.fa=(function(t,r,o){const l=ke(t);return l.sa(),new lk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:vk.bind(null,i),r_:wk.bind(null,i),ta:_k.bind(null,i),na:bk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await kf(i)):(await i.fa.stop(),i.Ta.length>0&&(ve(za,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Vg{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,l){const u=Date.now()+r,p=new Vg(e,t,u,o,l);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(i,e){if(es("AsyncQueue",`${e}: ${i}`),vl(i))return new ge(le.UNAVAILABLE,`${e}: ${i}`);throw i}class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=Sc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class vb{constructor(){this.ga=new bt(Te.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class dl{constructor(e,t,r,o,l,u,p,g,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,o,l){const u=[];return t.forEach((p=>{u.push({type:0,doc:p})})),new dl(e,t,nl.emptySet(t),u,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Ak{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Tk{constructor(){this.queries=_b(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=ke(t),l=o.queries;o.queries=_b(),l.forEach(((u,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ge(le.ABORTED,"Firestore shutting down"))}}function _b(){return new Ya((i=>UE(i)),Af)}async function EA(i,e){const t=ke(i);let r=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(r=2):(l=new Ak,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const p=Ug(u,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&zg(t)}async function AA(i,e){const t=ke(i),r=e.query;let o=3;const l=t.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Ck(i,e){const t=ke(i);let r=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const p of u.Sa)p.Fa(o)&&(r=!0);u.wa=o}}r&&zg(t)}function Sk(i,e,t){const r=ke(i),o=r.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);r.queries.delete(e)}function zg(i){i.Ca.forEach((e=>{e.next()}))}var Fp,bb;(bb=Fp||(Fp={})).Ma="default",bb.Cache="cache";class TA{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fp.Cache}}class CA{constructor(e){this.key=e}}class SA{constructor(e){this.key=e}}class Nk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=zE(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new vb,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,f=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,v)=>{const b=o.get(y),C=Tf(this.query,v)?v:null,N=!!b&&this.mutatedKeys.has(b.key),B=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let I=!1;b&&C?b.data.isEqual(C.data)?N!==B&&(r.track({type:3,doc:C}),I=!0):this.su(b,C)||(r.track({type:2,doc:C}),I=!0,(g&&this.eu(C,g)>0||f&&this.eu(C,f)<0)&&(p=!0)):!b&&C?(r.track({type:0,doc:C}),I=!0):b&&!C&&(r.track({type:1,doc:b}),I=!0,(g||f)&&(p=!0)),I&&(C?(u=u.add(C),l=B?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(C,N){const B=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:I})}};return B(C)-B(N)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,f=g!==this.Za;return this.Za=g,u.length!==0||f?{snapshot:new dl(this.query,e.tu,l,u,e.mutatedKeys,g===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new SA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new CA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class Rk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Dk{constructor(e){this.key=e,this.hu=!1}}class Ik{constructor(e,t,r,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ya((p=>UE(p)),Af),this.Iu=new Map,this.Eu=new Set,this.du=new bt(Te.comparator),this.Au=new Map,this.Ru=new kg,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kk(i,e,t=!0){const r=jA(i);let o;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await NA(r,e,t,!0),o}async function jk(i,e){const t=jA(i);await NA(t,e,!0,!1)}async function NA(i,e,t,r){const o=await JI(i.localStore,yr(e)),l=o.targetId,u=i.sharedClientState.addLocalQueryTarget(l,t);let p;return r&&(p=await Bk(i,e,l,u==="current",o.resumeToken)),i.isPrimaryClient&&t&&xA(i.remoteStore,o),p}async function Bk(i,e,t,r,o){i.pu=(v,b,C)=>(async function(B,I,P,k){let j=I.view.ru(P);j.Cs&&(j=await fb(B.localStore,I.query,!1).then((({documents:T})=>I.view.ru(T,j))));const L=k&&k.targetChanges.get(I.targetId),z=k&&k.targetMismatches.get(I.targetId)!=null,H=I.view.applyChanges(j,B.isPrimaryClient,L,z);return Eb(B,I.targetId,H.au),H.snapshot})(i,v,b,C);const l=await fb(i.localStore,e,!0),u=new Nk(e,l.Qs),p=u.ru(l.documents),g=su.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),f=u.applyChanges(p,i.isPrimaryClient,g);Eb(i,t,f.au);const y=new Rk(e,t,u);return i.Tu.set(e,y),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),f.snapshot}async function Ok(i,e,t){const r=ke(i),o=r.Tu.get(e),l=r.Iu.get(o.targetId);if(l.length>1)return r.Iu.set(o.targetId,l.filter((u=>!Af(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Pp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Mg(r.remoteStore,o.targetId),Vp(r,o.targetId)})).catch(yl)):(Vp(r,o.targetId),await Pp(r.localStore,o.targetId,!0))}async function Mk(i,e){const t=ke(i),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Mg(t.remoteStore,r.targetId))}async function Pk(i,e,t){const r=qk(i);try{const o=await(function(u,p){const g=ke(u),f=dt.now(),y=p.reduce(((C,N)=>C.add(N.key)),ze());let v,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let N=ts(),B=ze();return g.Ns.getEntries(C,y).next((I=>{N=I,N.forEach(((P,k)=>{k.isValidDocument()||(B=B.add(P))}))})).next((()=>g.localDocuments.getOverlayedDocuments(C,N))).next((I=>{v=I;const P=[];for(const k of p){const j=ZD(k,v.get(k.key).overlayedDocument);j!=null&&P.push(new ra(k.key,j,jE(j.value.mapValue),vr.exists(!0)))}return g.mutationQueue.addMutationBatch(C,f,P,p)})).next((I=>{b=I;const P=I.applyToLocalDocumentSet(v,B);return g.documentOverlayCache.saveOverlays(C,I.batchId,P)}))})).then((()=>({batchId:b.batchId,changes:qE(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,p,g){let f=u.Vu[u.currentUser.toKey()];f||(f=new bt(Ue)),f=f.insert(p,g),u.Vu[u.currentUser.toKey()]=f})(r,o.batchId,t),await ou(r,o.changes),await kf(r.remoteStore)}catch(o){const l=Ug(o,"Failed to persist write");t.reject(l)}}async function RA(i,e){const t=ke(i);try{const r=await QI(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ze(u.hu,14607):o.removedDocuments.size>0&&(Ze(u.hu,42227),u.hu=!1))})),await ou(t,r,e)}catch(r){await yl(r)}}function wb(i,e,t){const r=ke(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((l,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const g=ke(u);g.onlineState=p;let f=!1;g.queries.forEach(((y,v)=>{for(const b of v.Sa)b.va(p)&&(f=!0)})),f&&zg(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Lk(i,e,t){const r=ke(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),l=o&&o.key;if(l){let u=new bt(Te.comparator);u=u.insert(l,fn.newNoDocument(l,De.min()));const p=ze().add(l),g=new Rf(De.min(),new Map,new bt(Ue),u,p);await RA(r,g),r.du=r.du.remove(l),r.Au.delete(e),qg(r)}else await Pp(r.localStore,e,!1).then((()=>Vp(r,e,t))).catch(yl)}async function Fk(i,e){const t=ke(i),r=e.batch.batchId;try{const o=await XI(t.localStore,e);IA(t,r,null),DA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ou(t,o)}catch(o){await yl(o)}}async function Vk(i,e,t){const r=ke(i);try{const o=await(function(u,p){const g=ke(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let y;return g.mutationQueue.lookupMutationBatch(f,p).next((v=>(Ze(v!==null,37113),y=v.keys(),g.mutationQueue.removeMutationBatch(f,v)))).next((()=>g.mutationQueue.performConsistencyCheck(f))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(f,y,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y))).next((()=>g.localDocuments.getDocuments(f,y)))}))})(r.localStore,e);IA(r,e,t),DA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ou(r,o)}catch(o){await yl(o)}}function DA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function IA(i,e,t){const r=ke(i);let o=r.Vu[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Vp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||kA(i,r)}))}function kA(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Mg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),qg(i))}function Eb(i,e,t){for(const r of t)r instanceof CA?(i.Ru.addReference(r.key,e),Uk(i,r)):r instanceof SA?(ve(Hg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||kA(i,r.key)):Re(19791,{wu:r})}function Uk(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Eu.has(r)||(ve(Hg,"New document in limbo: "+t),i.Eu.add(r),qg(i))}function qg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Te(ot.fromString(e)),r=i.fu.next();i.Au.set(r,new Dk(t)),i.du=i.du.insert(t,r),xA(i.remoteStore,new Us(yr(Sg(t.path)),r,"TargetPurposeLimboResolution",bf.ce))}}async function ou(i,e,t){const r=ke(i),o=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{u.push(r.pu(g,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const y=f?!f.fromCache:t?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(f){o.push(f);const y=Bg.As(g.targetId,f);l.push(y)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(g,f){const y=ke(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ue.forEach(f,(b=>ue.forEach(b.Es,(C=>y.persistence.referenceDelegate.addReference(v,b.targetId,C))).next((()=>ue.forEach(b.ds,(C=>y.persistence.referenceDelegate.removeReference(v,b.targetId,C)))))))))}catch(v){if(!vl(v))throw v;ve(Og,"Failed to update sequence numbers: "+v)}for(const v of f){const b=v.targetId;if(!v.fromCache){const C=y.Ms.get(b),N=C.snapshotVersion,B=C.withLastLimboFreeSnapshotVersion(N);y.Ms=y.Ms.insert(b,B)}}})(r.localStore,l))}async function zk(i,e){const t=ke(i);if(!t.currentUser.isEqual(e)){ve(Hg,"User change. New user:",e.toKey());const r=await fA(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((p=>{p.forEach((g=>{g.reject(new ge(le.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ou(t,r.Ls)}}function Hk(i,e){const t=ke(i),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const p=t.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function jA(i){const e=ke(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=RA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lk.bind(null,e),e.Pu.H_=Ck.bind(null,e.eventManager),e.Pu.yu=Sk.bind(null,e.eventManager),e}function qk(i){const e=ke(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vk.bind(null,e),e}class Zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return YI(this.persistence,new GI,e.initialUser,this.serializer)}Cu(e){return new dA(jg.mi,this.serializer)}Du(e){return new tk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zd.provider={build:()=>new Zd};class Gk extends Zd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof Qd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new dA((r=>Qd.mi(r,t)),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zk.bind(null,this.syncEngine),await Ek(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Tk})()}createDatastore(e){const t=Df(e.databaseInfo.databaseId),r=(function(l){return new ak(l)})(e.databaseInfo);return(function(l,u,p,g){return new uk(l,u,p,g)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,l,u,p){return new dk(r,o,l,u,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>wb(this.syncEngine,t,0)),(function(){return gb.v()?new gb:new nk})())}createSyncEngine(e,t){return(function(o,l,u,p,g,f,y){const v=new Ik(o,l,u,p,g,f);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ke(t);ve(za,"RemoteStore shutting down."),r.Ea.add(5),await au(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Up.provider={build:()=>new Up};class BA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Zs="FirestoreClient";class $k{constructor(e,t,r,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{ve(Zs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ve(Zs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ug(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sp(i,e){i.asyncQueue.verifyOperationInProgress(),ve(Zs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await fA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Ab(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Kk(i);ve(Zs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>yb(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>yb(e.remoteStore,o))),i._onlineComponents=e}async function Kk(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ve(Zs,"Using user provided OfflineComponentProvider");try{await sp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;sl("Error using user provided cache. Falling back to memory cache: "+t),await sp(i,new Zd)}}else ve(Zs,"Using default OfflineComponentProvider"),await sp(i,new Gk(void 0));return i._offlineComponents}async function OA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ve(Zs,"Using user provided OnlineComponentProvider"),await Ab(i,i._uninitializedComponentsProvider._online)):(ve(Zs,"Using default OnlineComponentProvider"),await Ab(i,new Up))),i._onlineComponents}function Yk(i){return OA(i).then((e=>e.syncEngine))}async function MA(i){const e=await OA(i),t=e.eventManager;return t.onListen=kk.bind(null,e.syncEngine),t.onUnlisten=Ok.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mk.bind(null,e.syncEngine),t}function Xk(i,e,t={}){const r=new Qr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,u,p,g,f){const y=new BA({next:b=>{y.Nu(),u.enqueueAndForget((()=>AA(l,v)));const C=b.docs.has(p);!C&&b.fromCache?f.reject(new ge(le.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&g&&g.source==="server"?f.reject(new ge(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new TA(Sg(p.path),y,{includeMetadataChanges:!0,qa:!0});return EA(l,v)})(await MA(i),i.asyncQueue,e,t,r))),r.promise}function Qk(i,e,t={}){const r=new Qr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,u,p,g,f){const y=new BA({next:b=>{y.Nu(),u.enqueueAndForget((()=>AA(l,v))),b.fromCache&&g.source==="server"?f.reject(new ge(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new TA(p,y,{includeMetadataChanges:!0,qa:!0});return EA(l,v)})(await MA(i),i.asyncQueue,e,t,r))),r.promise}function PA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Tb=new Map;const LA="firestore.googleapis.com",Cb=!0;class Sb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LA,this.ssl=Cb}else this.host=e.host,this.ssl=e.ssl??Cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NI)throw new ge(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iD;switch(r.type){case"firstParty":return new oD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Tb.get(t);r&&(ve("ComponentProvider","Removing Datastore"),Tb.delete(t),r.terminate())})(this),Promise.resolve()}}function Wk(i,e,t,r={}){i=$s(i,jf);const o=ea(e),l=i._getSettings(),u={...l,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${t}`;o&&(ng(`https://${p}`),ig("Firestore",!0)),l.host!==LA&&l.host!==p&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:p,ssl:o,emulatorOptions:r};if(!Er(g,u)&&(i._setSettings(g),r.mockUserToken)){let f,y;if(typeof r.mockUserToken=="string")f=r.mockUserToken,y=dn.MOCK_USER;else{f=nw(r.mockUserToken,i._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ge(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new dn(v)}i._authCredentials=new rD(new bE(f,y))}}class Qa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class Ht{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(iu(t,Ht._jsonSchema))return new Ht(e,r||null,new Te(ot.fromString(t.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:zt("string",Ht._jsonSchemaVersion),referencePath:zt("string")};class Gs extends Qa{constructor(e,t,r){super(e,t,Sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Te(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function Mi(i,e,...t){if(i=lt(i),wE("collection","path",e),i instanceof jf){const r=ot.fromString(e,...t);return V_(r),new Gs(i,null,r)}{if(!(i instanceof Ht||i instanceof Gs))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ot.fromString(e,...t));return V_(r),new Gs(i.firestore,null,r)}}function kn(i,e,...t){if(i=lt(i),arguments.length===1&&(e=bg.newId()),wE("doc","path",e),i instanceof jf){const r=ot.fromString(e,...t);return F_(r),new Ht(i,null,new Te(r))}{if(!(i instanceof Ht||i instanceof Gs))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ot.fromString(e,...t));return F_(r),new Ht(i.firestore,i instanceof Gs?i.converter:null,new Te(r))}}const Nb="AsyncQueue";class Rb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pA(this,"async_queue_retry"),this._c=()=>{const r=rp();r&&ve(Nb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vl(e))throw e;ve(Nb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",Db(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Vg.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:Db(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Db(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class lu extends jf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new Rb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rb(e),this._firestoreClient=void 0,await e}}}function Zk(i,e){const t=typeof i=="object"?i:mf(),r=typeof i=="string"?i:$d,o=ta(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=J2("firestore");l&&Wk(o,...l)}return o}function Gg(i){if(i._terminated)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Jk(i),i._firestoreClient}function Jk(i){const e=i._freezeSettings(),t=(function(o,l,u,p){return new AD(o,l,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,PA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new $k(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(i._componentsProvider))}class xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xi(on.fromBase64String(e))}catch(t){throw new ge(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xi(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,xi._jsonSchema))return xi.fromBase64String(e.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:zt("string",xi._jsonSchemaVersion),bytes:zt("string")};class Bf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wa{constructor(e){this._methodName=e}}class br{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(iu(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:zt("string",br._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class wr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wr(e.vectorValues);throw new ge(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:zt("string",wr._jsonSchemaVersion),vectorValues:zt("object")};const e9=/^__.*__$/;class t9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,t,this.fieldTransforms):new ru(e,this.data,t,this.fieldTransforms)}}class FA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ra(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:i})}}class Of{constructor(e,t,r,o,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Of({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VA(this.Ac)&&e9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class n9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Df(e)}Cc(e,t,r,o=!1){return new Of({Ac:e,methodName:t,Dc:r,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(i){const e=i._freezeSettings(),t=Df(i._databaseId);return new n9(i._databaseId,!!e.ignoreUndefinedProperties,t)}function i9(i,e,t,r,o,l={}){const u=i.Cc(l.merge||l.mergeFields?2:0,e,t,o);Wg("Data must be an object, but it was:",u,r);const p=zA(r,u);let g,f;if(l.merge)g=new Qn(u.fieldMask),f=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=zp(e,v,t);if(!u.contains(b))throw new ge(le.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);qA(y,b)||y.push(b)}g=new Qn(y),f=u.fieldTransforms.filter((v=>g.covers(v.field)))}else g=null,f=u.fieldTransforms;return new t9(new jn(p),g,f)}class Mf extends Wa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mf}}function UA(i,e,t){return new Of({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Kg extends Wa{_toFieldTransform(e){return new Sf(e.path,new Gc)}isEqual(e){return e instanceof Kg}}class Yg extends Wa{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=UA(this,e,!0),r=this.vc.map((l=>Za(l,t))),o=new cl(r);return new Sf(e.path,o)}isEqual(e){return e instanceof Yg&&Er(this.vc,e.vc)}}class Xg extends Wa{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=UA(this,e,!0),r=this.vc.map((l=>Za(l,t))),o=new ul(r);return new Sf(e.path,o)}isEqual(e){return e instanceof Xg&&Er(this.vc,e.vc)}}class Qg extends Wa{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new $c(e.serializer,KE(e.serializer,this.Fc));return new Sf(e.path,t)}isEqual(e){return e instanceof Qg&&this.Fc===e.Fc}}function r9(i,e,t,r){const o=i.Cc(1,e,t);Wg("Data must be an object, but it was:",o,r);const l=[],u=jn.empty();ia(r,((g,f)=>{const y=Zg(e,g,t);f=lt(f);const v=o.yc(y);if(f instanceof Mf)l.push(y);else{const b=Za(f,v);b!=null&&(l.push(y),u.set(y,b))}}));const p=new Qn(l);return new FA(u,p,o.fieldTransforms)}function s9(i,e,t,r,o,l){const u=i.Cc(1,e,t),p=[zp(e,r,t)],g=[o];if(l.length%2!=0)throw new ge(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)p.push(zp(e,l[b])),g.push(l[b+1]);const f=[],y=jn.empty();for(let b=p.length-1;b>=0;--b)if(!qA(f,p[b])){const C=p[b];let N=g[b];N=lt(N);const B=u.yc(C);if(N instanceof Mf)f.push(C);else{const I=Za(N,B);I!=null&&(f.push(C),y.set(C,I))}}const v=new Qn(f);return new FA(y,v,u.fieldTransforms)}function a9(i,e,t,r=!1){return Za(t,i.Cc(r?4:3,e))}function Za(i,e){if(HA(i=lt(i)))return Wg("Unsupported field value:",e,i),zA(i,e);if(i instanceof Wa)return(function(r,o){if(!VA(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const l=[];let u=0;for(const p of r){let g=Za(p,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}})(i,e)}return(function(r,o){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KE(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=dt.fromDate(r);return{timestampValue:Xd(o.serializer,l)}}if(r instanceof dt){const l=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xd(o.serializer,l)}}if(r instanceof br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xi)return{bytesValue:rA(o.serializer,r._byteString)};if(r instanceof Ht){const l=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ig(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof wr)return(function(u,p){return{mapValue:{fields:{[IE]:{stringValue:kE},[Kd]:{arrayValue:{values:u.toArray().map((f=>{if(typeof f!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ng(p.serializer,f)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${_f(r)}`)})(i,e)}function zA(i,e){const t={};return TE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(i,((r,o)=>{const l=Za(o,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function HA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof dt||i instanceof br||i instanceof xi||i instanceof Ht||i instanceof Wa||i instanceof wr)}function Wg(i,e,t){if(!HA(t)||!EE(t)){const r=_f(t);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function zp(i,e,t){if((e=lt(e))instanceof Bf)return e._internalPath;if(typeof e=="string")return Zg(i,e);throw Jd("Field path arguments must be of type string or ",i,!1,void 0,t)}const o9=new RegExp("[~\\*/\\[\\]]");function Zg(i,e,t){if(e.search(o9)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Bf(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Jd(i,e,t,r,o){const l=r&&!r.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${r}`),u&&(g+=` in document ${o}`),g+=")"),new ge(le.INVALID_ARGUMENT,p+i+g)}function qA(i,e){return i.some((t=>t.isEqual(e)))}class GA{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class l9 extends GA{data(){return super.data()}}function Pf(i,e){return typeof e=="string"?Zg(i,e):e instanceof Bf?e._internalPath:e._delegate._internalPath}function c9(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class $A extends Jg{}function fl(i,e,...t){let r=[];e instanceof Jg&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((g=>g instanceof ex)).length,p=l.filter((g=>g instanceof Lf)).length;if(u>1||u>0&&p>0)throw new ge(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Lf extends $A{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lf(e,t,r)}_apply(e){const t=this._parse(e);return YA(e._query,t),new Qa(e.firestore,e.converter,Ip(e._query,t))}_parse(e){const t=$g(e.firestore);return(function(l,u,p,g,f,y,v){let b;if(f.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){kb(v,y);const N=[];for(const B of v)N.push(Ib(g,l,B));b={arrayValue:{values:N}}}else b=Ib(g,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||kb(v,y),b=a9(p,u,v,y==="in"||y==="not-in");return Ut.create(f,y,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function KA(i,e,t){const r=e,o=Pf("where",i);return Lf._create(o,r,t)}class ex extends Jg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ex(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const p=l.getFlattenedFilters();for(const g of p)YA(u,g),u=Ip(u,g)})(e._query,t),new Qa(e.firestore,e.converter,Ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tx extends $A{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new tx(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new ge(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qc(l,u)})(e._query,this._field,this._direction);return new Qa(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new _l(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function ef(i,e="asc"){const t=e,r=Pf("orderBy",i);return tx._create(r,t)}function Ib(i,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new ge(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VE(e)&&t.indexOf("/")!==-1)throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ot.fromString(t));if(!Te.isDocumentKey(r))throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y_(i,new Te(r))}if(t instanceof Ht)return Y_(i,t._key);throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(t)}.`)}function kb(i,e){if(!Array.isArray(i)||i.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YA(i,e){const t=(function(o,l){for(const u of o)for(const p of u.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class u9{convertValue(e,t="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ia(e,((o,l)=>{r[o]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Kd].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new wr(t)}convertGeoPoint(e){return new br(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ef(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);Ze(uA(r),9688,{name:e});const o=new zc(r.get(1),r.get(3)),l=new Te(r.popFirst(5));return o.isEqual(t)||es(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function h9(i,e,t){let r;return r=i?i.toFirestore(e):e,r}class Rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends GA{constructor(e,t,r,o,l,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Pf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:zt("string",Oa._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Wh extends Oa{data(e={}){return super.data(e)}}class il{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Rc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Wh(this._firestore,this._userDataWriter,r.key,r,new Rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const g=new Wh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Rc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const g=new Wh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Rc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let f=-1,y=-1;return p.type!==0&&(f=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),y=u.indexOf(p.doc.key)),{type:d9(p.type),doc:g,oldIndex:f,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function d9(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}function nx(i){i=$s(i,Ht);const e=$s(i.firestore,lu);return Xk(Gg(e),i._key).then((t=>f9(e,i,t)))}il._jsonSchemaVersion="firestore/querySnapshot/1.0",il._jsonSchema={type:zt("string",il._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class XA extends u9{constructor(e){super(),this.firestore=e}convertBytes(e){return new xi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}}function ml(i){i=$s(i,Qa);const e=$s(i.firestore,lu),t=Gg(e),r=new XA(e);return c9(i._query),Qk(t,i._query).then((o=>new il(e,r,i,o)))}function vn(i,e,t,...r){i=$s(i,Ht);const o=$s(i.firestore,lu),l=$g(o);let u;return u=typeof(e=lt(e))=="string"||e instanceof Bf?s9(l,"updateDoc",i._key,e,t,r):r9(l,"updateDoc",i._key,e),QA(o,[u.toMutation(i._key,vr.exists(!0))])}function Kc(i,e){const t=$s(i.firestore,lu),r=kn(i),o=h9(i.converter,e);return QA(t,[i9($g(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then((()=>r))}function QA(i,e){return(function(r,o){const l=new Qr;return r.asyncQueue.enqueueAndForget((async()=>Pk(await Yk(r),o,l))),l.promise})(Gg(i),e)}function f9(i,e,t){const r=t.docs.get(e._key),o=new XA(i);return new Oa(i,o,e._key,r,new Rc(t.hasPendingWrites,t.fromCache),e.converter)}function Yc(){return new Kg("serverTimestamp")}function tf(...i){return new Yg("arrayUnion",i)}function nf(...i){return new Xg("arrayRemove",i)}function Ia(i){return new Qg("increment",i)}(function(e,t=!0){(function(o){xl=o})($a),Pi(new vi("firestore",((r,{instanceIdentifier:o,options:l})=>{const u=r.getProvider("app").getImmediate(),p=new lu(new sD(r.getProvider("auth-internal")),new lD(u,r.getProvider("app-check-internal")),(function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ge(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(f.options.projectId,y)})(u,o),u);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),Bn(O_,M_,e),Bn(O_,M_,"esm2020")})();const WA="firebasestorage.googleapis.com",ZA="storageBucket",m9=120*1e3,p9=600*1e3;class Tt extends _i{constructor(e,t,r=0){super(ap(e),`Firebase Storage: ${t} (${ap(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function ap(i){return"storage/"+i}function ix(){const i="An unknown error occurred, please check the error payload for server response.";return new Tt(At.UNKNOWN,i)}function g9(i){return new Tt(At.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function x9(i){return new Tt(At.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function y9(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(At.UNAUTHENTICATED,i)}function v9(){return new Tt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _9(i){return new Tt(At.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function b9(){return new Tt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w9(){return new Tt(At.CANCELED,"User canceled the upload/download.")}function E9(i){return new Tt(At.INVALID_URL,"Invalid URL '"+i+"'.")}function A9(i){return new Tt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function T9(){return new Tt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZA+"' property when initializing the app?")}function C9(){return new Tt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S9(){return new Tt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function N9(i){return new Tt(At.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hp(i){return new Tt(At.INVALID_ARGUMENT,i)}function JA(){return new Tt(At.APP_DELETED,"The Firebase app was deleted.")}function R9(i){return new Tt(At.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mc(i,e){return new Tt(At.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Ec(i){throw new Tt(At.INTERNAL_ERROR,"Internal error: "+i)}class Wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Wn.makeFromUrl(e,t)}catch{return new Wn(e,"")}if(r.path==="")return r;throw A9(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function l(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const u="(/(.*))?$",p=new RegExp("^gs://"+o+u,"i"),g={bucket:1,path:3};function f(L){L.path_=decodeURIComponent(L.path)}const y="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",C=new RegExp(`^https?://${v}/${y}/b/${o}/o${b}`,"i"),N={bucket:1,path:3},B=t===WA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",P=new RegExp(`^https?://${B}/${o}/${I}`,"i"),j=[{regex:p,indices:g,postModify:l},{regex:C,indices:N,postModify:f},{regex:P,indices:{bucket:1,path:2},postModify:f}];for(let L=0;L<j.length;L++){const z=j[L],H=z.regex.exec(e);if(H){const T=H[z.indices.bucket];let R=H[z.indices.path];R||(R=""),r=new Wn(T,R),z.postModify(r);break}}if(r==null)throw E9(e);return r}}class D9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function I9(i,e,t){let r=1,o=null,l=null,u=!1,p=0;function g(){return p===2}let f=!1;function y(...I){f||(f=!0,e.apply(null,I))}function v(I){o=setTimeout(()=>{o=null,i(C,g())},I)}function b(){l&&clearTimeout(l)}function C(I,...P){if(f){b();return}if(I){b(),y.call(null,I,...P);return}if(g()||u){b(),y.call(null,I,...P);return}r<64&&(r*=2);let j;p===1?(p=2,j=0):j=(r+Math.random())*1e3,v(j)}let N=!1;function B(I){N||(N=!0,b(),!f&&(o!==null?(I||(p=2),clearTimeout(o),v(0)):I||(p=1)))}return v(0),l=setTimeout(()=>{u=!0,B(!0)},t),B}function k9(i){i(!1)}function j9(i){return i!==void 0}function B9(i){return typeof i=="object"&&!Array.isArray(i)}function rx(i){return typeof i=="string"||i instanceof String}function jb(i){return sx()&&i instanceof Blob}function sx(){return typeof Blob<"u"}function Bb(i,e,t,r){if(r<e)throw Hp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>t)throw Hp(`Invalid value for '${i}'. Expected ${t} or less.`)}function ax(i,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${i}`}function e4(i){const e=encodeURIComponent;let t="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ma;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ma||(Ma={}));function O9(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}class M9{constructor(e,t,r,o,l,u,p,g,f,y,v,b=!0,C=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=g,this.timeout_=f,this.progressCallback_=y,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,B)=>{this.resolve_=N,this.reject_=B,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Lh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=p=>{const g=p.loaded,f=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,f)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const p=l.getErrorCode()===Ma.NO_ERROR,g=l.getStatus();if(!p||O9(g,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Ma.ABORT;r(!1,new Lh(!1,null,y));return}const f=this.successCodes_.indexOf(g)!==-1;r(!0,new Lh(f,l))})},t=(r,o)=>{const l=this.resolve_,u=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());j9(g)?l(g):l()}catch(g){u(g)}else if(p!==null){const g=ix();g.serverResponse=p.getErrorText(),this.errorCallback_?u(this.errorCallback_(p,g)):u(g)}else if(o.canceled){const g=this.appDelete_?JA():w9();u(g)}else{const g=b9();u(g)}};this.canceled_?t(!1,new Lh(!1,null,!0)):this.backoffId_=I9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&k9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function P9(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function L9(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function F9(i,e){e&&(i["X-Firebase-GMPID"]=e)}function V9(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function U9(i,e,t,r,o,l,u=!0,p=!1){const g=e4(i.urlParams),f=i.url+g,y=Object.assign({},i.headers);return F9(y,e),P9(y,t),L9(y,l),V9(y,r),new M9(f,i.method,y,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,u,p)}function z9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function H9(...i){const e=z9();if(e!==void 0){const t=new e;for(let r=0;r<i.length;r++)t.append(i[r]);return t.getBlob()}else{if(sx())return new Blob(i);throw new Tt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function q9(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function G9(i){if(typeof atob>"u")throw N9("base-64");return atob(i)}const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class op{constructor(e,t){this.data=e,this.contentType=t||null}}function $9(i,e){switch(i){case pr.RAW:return new op(t4(e));case pr.BASE64:case pr.BASE64URL:return new op(n4(i,e));case pr.DATA_URL:return new op(Y9(e),X9(e))}throw ix()}function t4(i){const e=[];for(let t=0;t<i.length;t++){let r=i.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,u=i.charCodeAt(++t);r=65536|(l&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function K9(i){let e;try{e=decodeURIComponent(i)}catch{throw Mc(pr.DATA_URL,"Malformed data URL.")}return t4(e)}function n4(i,e){switch(i){case pr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Mc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Mc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=G9(e)}catch(o){throw o.message.includes("polyfill")?o:Mc(i,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class i4{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Mc(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=Q9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Y9(i){const e=new i4(i);return e.base64?n4(pr.BASE64,e.rest):K9(e.rest)}function X9(i){return new i4(i).contentType}function Q9(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class Vs{constructor(e,t){let r=0,o="";jb(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(jb(this.data_)){const r=this.data_,o=q9(r,e,t);return o===null?null:new Vs(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Vs(r,!0)}}static getBlob(...e){if(sx()){const t=e.map(r=>r instanceof Vs?r.data_:r);return new Vs(H9.apply(null,t))}else{const t=e.map(u=>rx(u)?$9(pr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let l=0;return t.forEach(u=>{for(let p=0;p<u.length;p++)o[l++]=u[p]}),new Vs(o,!0)}}uploadData(){return this.data_}}function r4(i){let e;try{e=JSON.parse(i)}catch{return null}return B9(e)?e:null}function W9(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Z9(i,e){const t=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?t:i+"/"+t}function s4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function J9(i,e){return e}class yn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||J9}}let Fh=null;function e7(i){return!rx(i)||i.length<2?i:s4(i)}function a4(){if(Fh)return Fh;const i=[];i.push(new yn("bucket")),i.push(new yn("generation")),i.push(new yn("metageneration")),i.push(new yn("name","fullPath",!0));function e(l,u){return e7(u)}const t=new yn("name");t.xform=e,i.push(t);function r(l,u){return u!==void 0?Number(u):u}const o=new yn("size");return o.xform=r,i.push(o),i.push(new yn("timeCreated")),i.push(new yn("updated")),i.push(new yn("md5Hash",null,!0)),i.push(new yn("cacheControl",null,!0)),i.push(new yn("contentDisposition",null,!0)),i.push(new yn("contentEncoding",null,!0)),i.push(new yn("contentLanguage",null,!0)),i.push(new yn("contentType",null,!0)),i.push(new yn("metadata","customMetadata",!0)),Fh=i,Fh}function t7(i,e){function t(){const r=i.bucket,o=i.fullPath,l=new Wn(r,o);return e._makeStorageReference(l)}Object.defineProperty(i,"ref",{get:t})}function n7(i,e,t){const r={};r.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];r[u.local]=u.xform(r,e[u.server])}return t7(r,i),r}function o4(i,e,t){const r=r4(e);return r===null?null:n7(i,r,t)}function i7(i,e,t,r){const o=r4(e);if(o===null||!rx(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(f=>{const y=i.bucket,v=i.fullPath,b="/b/"+u(y)+"/o/"+u(v),C=ax(b,t,r),N=e4({alt:"media",token:f});return C+N})[0]}function r7(i,e){const t={},r=e.length;for(let o=0;o<r;o++){const l=e[o];l.writable&&(t[l.server]=i[l.local])}return JSON.stringify(t)}class l4{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function c4(i){if(!i)throw ix()}function s7(i,e){function t(r,o){const l=o4(i,o,e);return c4(l!==null),l}return t}function a7(i,e){function t(r,o){const l=o4(i,o,e);return c4(l!==null),i7(l,o,i.host,i._protocol)}return t}function u4(i){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=v9():o=y9():t.getStatus()===402?o=x9(i.bucket):t.getStatus()===403?o=_9(i.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function o7(i){const e=u4(i);function t(r,o){let l=e(r,o);return r.getStatus()===404&&(l=g9(i.path)),l.serverResponse=o.serverResponse,l}return t}function l7(i,e,t){const r=e.fullServerUrl(),o=ax(r,i.host,i._protocol),l="GET",u=i.maxOperationRetryTime,p=new l4(o,l,a7(i,t),u);return p.errorHandler=o7(e),p}function c7(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function u7(i,e,t){const r=Object.assign({},t);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=c7(null,e)),r}function h7(i,e,t,r,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function p(){let j="";for(let L=0;L<2;L++)j=j+Math.random().toString().slice(2);return j}const g=p();u["Content-Type"]="multipart/related; boundary="+g;const f=u7(e,r,o),y=r7(f,t),v="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+g+`\r
Content-Type: `+f.contentType+`\r
\r
`,b=`\r
--`+g+"--",C=Vs.getBlob(v,r,b);if(C===null)throw C9();const N={name:f.fullPath},B=ax(l,i.host,i._protocol),I="POST",P=i.maxUploadRetryTime,k=new l4(B,I,s7(i,t),P);return k.urlParams=N,k.headers=u,k.body=C.uploadData(),k.errorHandler=u4(e),k}class d7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ma.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ma.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ma.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,l){if(this.sent_)throw Ec("cannot .send() more than once");if(ea(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ec("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ec("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ec("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ec("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class f7 extends d7{initXhr(){this.xhr_.responseType="text"}}function h4(){return new f7}class Ha{constructor(e,t){this._service=e,t instanceof Wn?this._location=t:this._location=Wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ha(e,t)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s4(this._location.path)}get storage(){return this._service}get parent(){const e=W9(this._location.path);if(e===null)return null;const t=new Wn(this._location.bucket,e);return new Ha(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw R9(e)}}function m7(i,e,t){i._throwIfRoot("uploadBytes");const r=h7(i.storage,i._location,a4(),new Vs(e,!0),t);return i.storage.makeRequestWithTokens(r,h4).then(o=>({metadata:o,ref:i}))}function p7(i){i._throwIfRoot("getDownloadURL");const e=l7(i.storage,i._location,a4());return i.storage.makeRequestWithTokens(e,h4).then(t=>{if(t===null)throw S9();return t})}function g7(i,e){const t=Z9(i._location.path,e),r=new Wn(i._location.bucket,t);return new Ha(i.storage,r)}function x7(i){return/^[A-Za-z]+:\/\//.test(i)}function y7(i,e){return new Ha(i,e)}function d4(i,e){if(i instanceof ox){const t=i;if(t._bucket==null)throw T9();const r=new Ha(t,t._bucket);return e!=null?d4(r,e):r}else return e!==void 0?g7(i,e):i}function v7(i,e){if(e&&x7(e)){if(i instanceof ox)return y7(i,e);throw Hp("To use ref(service, url), the first argument must be a Storage instance.")}else return d4(i,e)}function Ob(i,e){const t=e?.[ZA];return t==null?null:Wn.makeFromBucketSpec(t,i)}function _7(i,e,t,r={}){i.host=`${e}:${t}`;const o=ea(e);o&&(ng(`https://${i.host}/b`),ig("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:l}=r;l&&(i._overrideAuthToken=typeof l=="string"?l:nw(l,i.app.options.projectId))}class ox{constructor(e,t,r,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=WA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=m9,this._maxUploadRetryTime=p9,this._requests=new Set,o!=null?this._bucket=Wn.makeFromBucketSpec(o,this._host):this._bucket=Ob(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=Ob(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ha(this,e)}_makeRequest(e,t,r,o,l=!0){if(this._deleted)return new D9(JA());{const u=U9(e,this._appId,r,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const Mb="@firebase/storage",Pb="0.14.0";const f4="storage";function b7(i,e,t){return i=lt(i),m7(i,e,t)}function w7(i){return i=lt(i),p7(i)}function E7(i,e){return i=lt(i),v7(i,e)}function A7(i=mf(),e){i=lt(i);const r=ta(i,f4).getImmediate({identifier:e}),o=J2("storage");return o&&T7(r,...o),r}function T7(i,e,t,r={}){_7(i,e,t,r)}function C7(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new ox(t,r,o,e,$a)}function S7(){Pi(new vi(f4,C7,"PUBLIC").setMultipleInstances(!0)),Bn(Mb,Pb,""),Bn(Mb,Pb,"esm2020")}S7();const m4={apiKey:"AIzaSyAvWBMxfjs90YP7ccPemiXiJtiVp2KkkcE",authDomain:"bpa-2025-b4fca.firebaseapp.com",projectId:"bpa-2025-b4fca",storageBucket:"bpa-2025-b4fca.firebasestorage.app",messagingSenderId:"608672657670",appId:"1:608672657670:web:d037bcb4fcea53f825ee87",measurementId:"G-TNPNG989TD"};m4.apiKey||console.warn("[firebase] VITE_FIREBASE_API_KEY is not set. Check your .env file or environment variables.");const Ff=cw(m4);P8(Ff);const we=tD(Ff),xt=Zk(Ff),N7=A7(Ff);var Zh={exports:{}};function R7(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jh={exports:{}};const D7={},I7=Object.freeze(Object.defineProperty({__proto__:null,default:D7},Symbol.toStringTag,{value:"Module"})),k7=WT(I7);var j7=Jh.exports,Lb;function qe(){return Lb||(Lb=1,(function(i,e){(function(t,r){i.exports=r()})(j7,function(){var t=t||(function(r,o){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof Om<"u"&&Om.crypto&&(l=Om.crypto),!l&&typeof R7=="function")try{l=k7}catch{}var u=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},p=Object.create||(function(){function k(){}return function(j){var L;return k.prototype=j,L=new k,k.prototype=null,L}})(),g={},f=g.lib={},y=f.Base=(function(){return{extend:function(k){var j=p(this);return k&&j.mixIn(k),(!j.hasOwnProperty("init")||this.init===j.init)&&(j.init=function(){j.$super.init.apply(this,arguments)}),j.init.prototype=j,j.$super=this,j},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var j in k)k.hasOwnProperty(j)&&(this[j]=k[j]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),v=f.WordArray=y.extend({init:function(k,j){k=this.words=k||[],j!=o?this.sigBytes=j:this.sigBytes=k.length*4},toString:function(k){return(k||C).stringify(this)},concat:function(k){var j=this.words,L=k.words,z=this.sigBytes,H=k.sigBytes;if(this.clamp(),z%4)for(var T=0;T<H;T++){var R=L[T>>>2]>>>24-T%4*8&255;j[z+T>>>2]|=R<<24-(z+T)%4*8}else for(var S=0;S<H;S+=4)j[z+S>>>2]=L[S>>>2];return this.sigBytes+=H,this},clamp:function(){var k=this.words,j=this.sigBytes;k[j>>>2]&=4294967295<<32-j%4*8,k.length=r.ceil(j/4)},clone:function(){var k=y.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var j=[],L=0;L<k;L+=4)j.push(u());return new v.init(j,k)}}),b=g.enc={},C=b.Hex={stringify:function(k){for(var j=k.words,L=k.sigBytes,z=[],H=0;H<L;H++){var T=j[H>>>2]>>>24-H%4*8&255;z.push((T>>>4).toString(16)),z.push((T&15).toString(16))}return z.join("")},parse:function(k){for(var j=k.length,L=[],z=0;z<j;z+=2)L[z>>>3]|=parseInt(k.substr(z,2),16)<<24-z%8*4;return new v.init(L,j/2)}},N=b.Latin1={stringify:function(k){for(var j=k.words,L=k.sigBytes,z=[],H=0;H<L;H++){var T=j[H>>>2]>>>24-H%4*8&255;z.push(String.fromCharCode(T))}return z.join("")},parse:function(k){for(var j=k.length,L=[],z=0;z<j;z++)L[z>>>2]|=(k.charCodeAt(z)&255)<<24-z%4*8;return new v.init(L,j)}},B=b.Utf8={stringify:function(k){try{return decodeURIComponent(escape(N.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return N.parse(unescape(encodeURIComponent(k)))}},I=f.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=B.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var j,L=this._data,z=L.words,H=L.sigBytes,T=this.blockSize,R=T*4,S=H/R;k?S=r.ceil(S):S=r.max((S|0)-this._minBufferSize,0);var A=S*T,D=r.min(A*4,H);if(A){for(var U=0;U<A;U+=T)this._doProcessBlock(z,U);j=z.splice(0,A),L.sigBytes-=D}return new v.init(j,D)},clone:function(){var k=y.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0});f.Hasher=I.extend({cfg:y.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){k&&this._append(k);var j=this._doFinalize();return j},blockSize:16,_createHelper:function(k){return function(j,L){return new k.init(L).finalize(j)}},_createHmacHelper:function(k){return function(j,L){return new P.HMAC.init(k,L).finalize(j)}}});var P=g.algo={};return g})(Math);return t})})(Jh)),Jh.exports}var ed={exports:{}},B7=ed.exports,Fb;function Vf(){return Fb||(Fb=1,(function(i,e){(function(t,r){i.exports=r(qe())})(B7,function(t){return(function(r){var o=t,l=o.lib,u=l.Base,p=l.WordArray,g=o.x64={};g.Word=u.extend({init:function(f,y){this.high=f,this.low=y}}),g.WordArray=u.extend({init:function(f,y){f=this.words=f||[],y!=r?this.sigBytes=y:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,y=f.length,v=[],b=0;b<y;b++){var C=f[b];v.push(C.high),v.push(C.low)}return p.create(v,this.sigBytes)},clone:function(){for(var f=u.clone.call(this),y=f.words=this.words.slice(0),v=y.length,b=0;b<v;b++)y[b]=y[b].clone();return f}})})(),t})})(ed)),ed.exports}var td={exports:{}},O7=td.exports,Vb;function M7(){return Vb||(Vb=1,(function(i,e){(function(t,r){i.exports=r(qe())})(O7,function(t){return(function(){if(typeof ArrayBuffer=="function"){var r=t,o=r.lib,l=o.WordArray,u=l.init,p=l.init=function(g){if(g instanceof ArrayBuffer&&(g=new Uint8Array(g)),(g instanceof Int8Array||typeof Uint8ClampedArray<"u"&&g instanceof Uint8ClampedArray||g instanceof Int16Array||g instanceof Uint16Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array)&&(g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength)),g instanceof Uint8Array){for(var f=g.byteLength,y=[],v=0;v<f;v++)y[v>>>2]|=g[v]<<24-v%4*8;u.call(this,y,f)}else u.apply(this,arguments)};p.prototype=l}})(),t.lib.WordArray})})(td)),td.exports}var nd={exports:{}},P7=nd.exports,Ub;function L7(){return Ub||(Ub=1,(function(i,e){(function(t,r){i.exports=r(qe())})(P7,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=r.enc;u.Utf16=u.Utf16BE={stringify:function(g){for(var f=g.words,y=g.sigBytes,v=[],b=0;b<y;b+=2){var C=f[b>>>2]>>>16-b%4*8&65535;v.push(String.fromCharCode(C))}return v.join("")},parse:function(g){for(var f=g.length,y=[],v=0;v<f;v++)y[v>>>1]|=g.charCodeAt(v)<<16-v%2*16;return l.create(y,f*2)}},u.Utf16LE={stringify:function(g){for(var f=g.words,y=g.sigBytes,v=[],b=0;b<y;b+=2){var C=p(f[b>>>2]>>>16-b%4*8&65535);v.push(String.fromCharCode(C))}return v.join("")},parse:function(g){for(var f=g.length,y=[],v=0;v<f;v++)y[v>>>1]|=p(g.charCodeAt(v)<<16-v%2*16);return l.create(y,f*2)}};function p(g){return g<<8&4278255360|g>>>8&16711935}})(),t.enc.Utf16})})(nd)),nd.exports}var id={exports:{}},F7=id.exports,zb;function Ja(){return zb||(zb=1,(function(i,e){(function(t,r){i.exports=r(qe())})(F7,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=r.enc;u.Base64={stringify:function(g){var f=g.words,y=g.sigBytes,v=this._map;g.clamp();for(var b=[],C=0;C<y;C+=3)for(var N=f[C>>>2]>>>24-C%4*8&255,B=f[C+1>>>2]>>>24-(C+1)%4*8&255,I=f[C+2>>>2]>>>24-(C+2)%4*8&255,P=N<<16|B<<8|I,k=0;k<4&&C+k*.75<y;k++)b.push(v.charAt(P>>>6*(3-k)&63));var j=v.charAt(64);if(j)for(;b.length%4;)b.push(j);return b.join("")},parse:function(g){var f=g.length,y=this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var b=0;b<y.length;b++)v[y.charCodeAt(b)]=b}var C=y.charAt(64);if(C){var N=g.indexOf(C);N!==-1&&(f=N)}return p(g,f,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function p(g,f,y){for(var v=[],b=0,C=0;C<f;C++)if(C%4){var N=y[g.charCodeAt(C-1)]<<C%4*2,B=y[g.charCodeAt(C)]>>>6-C%4*2,I=N|B;v[b>>>2]|=I<<24-b%4*8,b++}return l.create(v,b)}})(),t.enc.Base64})})(id)),id.exports}var rd={exports:{}},V7=rd.exports,Hb;function U7(){return Hb||(Hb=1,(function(i,e){(function(t,r){i.exports=r(qe())})(V7,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=r.enc;u.Base64url={stringify:function(g,f){f===void 0&&(f=!0);var y=g.words,v=g.sigBytes,b=f?this._safe_map:this._map;g.clamp();for(var C=[],N=0;N<v;N+=3)for(var B=y[N>>>2]>>>24-N%4*8&255,I=y[N+1>>>2]>>>24-(N+1)%4*8&255,P=y[N+2>>>2]>>>24-(N+2)%4*8&255,k=B<<16|I<<8|P,j=0;j<4&&N+j*.75<v;j++)C.push(b.charAt(k>>>6*(3-j)&63));var L=b.charAt(64);if(L)for(;C.length%4;)C.push(L);return C.join("")},parse:function(g,f){f===void 0&&(f=!0);var y=g.length,v=f?this._safe_map:this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var C=0;C<v.length;C++)b[v.charCodeAt(C)]=C}var N=v.charAt(64);if(N){var B=g.indexOf(N);B!==-1&&(y=B)}return p(g,y,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function p(g,f,y){for(var v=[],b=0,C=0;C<f;C++)if(C%4){var N=y[g.charCodeAt(C-1)]<<C%4*2,B=y[g.charCodeAt(C)]>>>6-C%4*2,I=N|B;v[b>>>2]|=I<<24-b%4*8,b++}return l.create(v,b)}})(),t.enc.Base64url})})(rd)),rd.exports}var sd={exports:{}},z7=sd.exports,qb;function eo(){return qb||(qb=1,(function(i,e){(function(t,r){i.exports=r(qe())})(z7,function(t){return(function(r){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.algo,f=[];(function(){for(var B=0;B<64;B++)f[B]=r.abs(r.sin(B+1))*4294967296|0})();var y=g.MD5=p.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(B,I){for(var P=0;P<16;P++){var k=I+P,j=B[k];B[k]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var L=this._hash.words,z=B[I+0],H=B[I+1],T=B[I+2],R=B[I+3],S=B[I+4],A=B[I+5],D=B[I+6],U=B[I+7],O=B[I+8],de=B[I+9],ie=B[I+10],K=B[I+11],te=B[I+12],he=B[I+13],fe=B[I+14],pe=B[I+15],F=L[0],$=L[1],Q=L[2],W=L[3];F=v(F,$,Q,W,z,7,f[0]),W=v(W,F,$,Q,H,12,f[1]),Q=v(Q,W,F,$,T,17,f[2]),$=v($,Q,W,F,R,22,f[3]),F=v(F,$,Q,W,S,7,f[4]),W=v(W,F,$,Q,A,12,f[5]),Q=v(Q,W,F,$,D,17,f[6]),$=v($,Q,W,F,U,22,f[7]),F=v(F,$,Q,W,O,7,f[8]),W=v(W,F,$,Q,de,12,f[9]),Q=v(Q,W,F,$,ie,17,f[10]),$=v($,Q,W,F,K,22,f[11]),F=v(F,$,Q,W,te,7,f[12]),W=v(W,F,$,Q,he,12,f[13]),Q=v(Q,W,F,$,fe,17,f[14]),$=v($,Q,W,F,pe,22,f[15]),F=b(F,$,Q,W,H,5,f[16]),W=b(W,F,$,Q,D,9,f[17]),Q=b(Q,W,F,$,K,14,f[18]),$=b($,Q,W,F,z,20,f[19]),F=b(F,$,Q,W,A,5,f[20]),W=b(W,F,$,Q,ie,9,f[21]),Q=b(Q,W,F,$,pe,14,f[22]),$=b($,Q,W,F,S,20,f[23]),F=b(F,$,Q,W,de,5,f[24]),W=b(W,F,$,Q,fe,9,f[25]),Q=b(Q,W,F,$,R,14,f[26]),$=b($,Q,W,F,O,20,f[27]),F=b(F,$,Q,W,he,5,f[28]),W=b(W,F,$,Q,T,9,f[29]),Q=b(Q,W,F,$,U,14,f[30]),$=b($,Q,W,F,te,20,f[31]),F=C(F,$,Q,W,A,4,f[32]),W=C(W,F,$,Q,O,11,f[33]),Q=C(Q,W,F,$,K,16,f[34]),$=C($,Q,W,F,fe,23,f[35]),F=C(F,$,Q,W,H,4,f[36]),W=C(W,F,$,Q,S,11,f[37]),Q=C(Q,W,F,$,U,16,f[38]),$=C($,Q,W,F,ie,23,f[39]),F=C(F,$,Q,W,he,4,f[40]),W=C(W,F,$,Q,z,11,f[41]),Q=C(Q,W,F,$,R,16,f[42]),$=C($,Q,W,F,D,23,f[43]),F=C(F,$,Q,W,de,4,f[44]),W=C(W,F,$,Q,te,11,f[45]),Q=C(Q,W,F,$,pe,16,f[46]),$=C($,Q,W,F,T,23,f[47]),F=N(F,$,Q,W,z,6,f[48]),W=N(W,F,$,Q,U,10,f[49]),Q=N(Q,W,F,$,fe,15,f[50]),$=N($,Q,W,F,A,21,f[51]),F=N(F,$,Q,W,te,6,f[52]),W=N(W,F,$,Q,R,10,f[53]),Q=N(Q,W,F,$,ie,15,f[54]),$=N($,Q,W,F,H,21,f[55]),F=N(F,$,Q,W,O,6,f[56]),W=N(W,F,$,Q,pe,10,f[57]),Q=N(Q,W,F,$,D,15,f[58]),$=N($,Q,W,F,he,21,f[59]),F=N(F,$,Q,W,S,6,f[60]),W=N(W,F,$,Q,K,10,f[61]),Q=N(Q,W,F,$,T,15,f[62]),$=N($,Q,W,F,de,21,f[63]),L[0]=L[0]+F|0,L[1]=L[1]+$|0,L[2]=L[2]+Q|0,L[3]=L[3]+W|0},_doFinalize:function(){var B=this._data,I=B.words,P=this._nDataBytes*8,k=B.sigBytes*8;I[k>>>5]|=128<<24-k%32;var j=r.floor(P/4294967296),L=P;I[(k+64>>>9<<4)+15]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,I[(k+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,B.sigBytes=(I.length+1)*4,this._process();for(var z=this._hash,H=z.words,T=0;T<4;T++){var R=H[T];H[T]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return z},clone:function(){var B=p.clone.call(this);return B._hash=this._hash.clone(),B}});function v(B,I,P,k,j,L,z){var H=B+(I&P|~I&k)+j+z;return(H<<L|H>>>32-L)+I}function b(B,I,P,k,j,L,z){var H=B+(I&k|P&~k)+j+z;return(H<<L|H>>>32-L)+I}function C(B,I,P,k,j,L,z){var H=B+(I^P^k)+j+z;return(H<<L|H>>>32-L)+I}function N(B,I,P,k,j,L,z){var H=B+(P^(I|~k))+j+z;return(H<<L|H>>>32-L)+I}o.MD5=p._createHelper(y),o.HmacMD5=p._createHmacHelper(y)})(Math),t.MD5})})(sd)),sd.exports}var ad={exports:{}},H7=ad.exports,Gb;function p4(){return Gb||(Gb=1,(function(i,e){(function(t,r){i.exports=r(qe())})(H7,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=o.Hasher,p=r.algo,g=[],f=p.SHA1=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,v){for(var b=this._hash.words,C=b[0],N=b[1],B=b[2],I=b[3],P=b[4],k=0;k<80;k++){if(k<16)g[k]=y[v+k]|0;else{var j=g[k-3]^g[k-8]^g[k-14]^g[k-16];g[k]=j<<1|j>>>31}var L=(C<<5|C>>>27)+P+g[k];k<20?L+=(N&B|~N&I)+1518500249:k<40?L+=(N^B^I)+1859775393:k<60?L+=(N&B|N&I|B&I)-1894007588:L+=(N^B^I)-899497514,P=I,I=B,B=N<<30|N>>>2,N=C,C=L}b[0]=b[0]+C|0,b[1]=b[1]+N|0,b[2]=b[2]+B|0,b[3]=b[3]+I|0,b[4]=b[4]+P|0},_doFinalize:function(){var y=this._data,v=y.words,b=this._nDataBytes*8,C=y.sigBytes*8;return v[C>>>5]|=128<<24-C%32,v[(C+64>>>9<<4)+14]=Math.floor(b/4294967296),v[(C+64>>>9<<4)+15]=b,y.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var y=u.clone.call(this);return y._hash=this._hash.clone(),y}});r.SHA1=u._createHelper(f),r.HmacSHA1=u._createHmacHelper(f)})(),t.SHA1})})(ad)),ad.exports}var od={exports:{}},q7=od.exports,$b;function lx(){return $b||($b=1,(function(i,e){(function(t,r){i.exports=r(qe())})(q7,function(t){return(function(r){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.algo,f=[],y=[];(function(){function C(P){for(var k=r.sqrt(P),j=2;j<=k;j++)if(!(P%j))return!1;return!0}function N(P){return(P-(P|0))*4294967296|0}for(var B=2,I=0;I<64;)C(B)&&(I<8&&(f[I]=N(r.pow(B,1/2))),y[I]=N(r.pow(B,1/3)),I++),B++})();var v=[],b=g.SHA256=p.extend({_doReset:function(){this._hash=new u.init(f.slice(0))},_doProcessBlock:function(C,N){for(var B=this._hash.words,I=B[0],P=B[1],k=B[2],j=B[3],L=B[4],z=B[5],H=B[6],T=B[7],R=0;R<64;R++){if(R<16)v[R]=C[N+R]|0;else{var S=v[R-15],A=(S<<25|S>>>7)^(S<<14|S>>>18)^S>>>3,D=v[R-2],U=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;v[R]=A+v[R-7]+U+v[R-16]}var O=L&z^~L&H,de=I&P^I&k^P&k,ie=(I<<30|I>>>2)^(I<<19|I>>>13)^(I<<10|I>>>22),K=(L<<26|L>>>6)^(L<<21|L>>>11)^(L<<7|L>>>25),te=T+K+O+y[R]+v[R],he=ie+de;T=H,H=z,z=L,L=j+te|0,j=k,k=P,P=I,I=te+he|0}B[0]=B[0]+I|0,B[1]=B[1]+P|0,B[2]=B[2]+k|0,B[3]=B[3]+j|0,B[4]=B[4]+L|0,B[5]=B[5]+z|0,B[6]=B[6]+H|0,B[7]=B[7]+T|0},_doFinalize:function(){var C=this._data,N=C.words,B=this._nDataBytes*8,I=C.sigBytes*8;return N[I>>>5]|=128<<24-I%32,N[(I+64>>>9<<4)+14]=r.floor(B/4294967296),N[(I+64>>>9<<4)+15]=B,C.sigBytes=N.length*4,this._process(),this._hash},clone:function(){var C=p.clone.call(this);return C._hash=this._hash.clone(),C}});o.SHA256=p._createHelper(b),o.HmacSHA256=p._createHmacHelper(b)})(Math),t.SHA256})})(od)),od.exports}var ld={exports:{}},G7=ld.exports,Kb;function $7(){return Kb||(Kb=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),lx())})(G7,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=r.algo,p=u.SHA256,g=u.SHA224=p.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=p._doFinalize.call(this);return f.sigBytes-=4,f}});r.SHA224=p._createHelper(g),r.HmacSHA224=p._createHmacHelper(g)})(),t.SHA224})})(ld)),ld.exports}var cd={exports:{}},K7=cd.exports,Yb;function g4(){return Yb||(Yb=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Vf())})(K7,function(t){return(function(){var r=t,o=r.lib,l=o.Hasher,u=r.x64,p=u.Word,g=u.WordArray,f=r.algo;function y(){return p.create.apply(p,arguments)}var v=[y(1116352408,3609767458),y(1899447441,602891725),y(3049323471,3964484399),y(3921009573,2173295548),y(961987163,4081628472),y(1508970993,3053834265),y(2453635748,2937671579),y(2870763221,3664609560),y(3624381080,2734883394),y(310598401,1164996542),y(607225278,1323610764),y(1426881987,3590304994),y(1925078388,4068182383),y(2162078206,991336113),y(2614888103,633803317),y(3248222580,3479774868),y(3835390401,2666613458),y(4022224774,944711139),y(264347078,2341262773),y(604807628,2007800933),y(770255983,1495990901),y(1249150122,1856431235),y(1555081692,3175218132),y(1996064986,2198950837),y(2554220882,3999719339),y(2821834349,766784016),y(2952996808,2566594879),y(3210313671,3203337956),y(3336571891,1034457026),y(3584528711,2466948901),y(113926993,3758326383),y(338241895,168717936),y(666307205,1188179964),y(773529912,1546045734),y(1294757372,1522805485),y(1396182291,2643833823),y(1695183700,2343527390),y(1986661051,1014477480),y(2177026350,1206759142),y(2456956037,344077627),y(2730485921,1290863460),y(2820302411,3158454273),y(3259730800,3505952657),y(3345764771,106217008),y(3516065817,3606008344),y(3600352804,1432725776),y(4094571909,1467031594),y(275423344,851169720),y(430227734,3100823752),y(506948616,1363258195),y(659060556,3750685593),y(883997877,3785050280),y(958139571,3318307427),y(1322822218,3812723403),y(1537002063,2003034995),y(1747873779,3602036899),y(1955562222,1575990012),y(2024104815,1125592928),y(2227730452,2716904306),y(2361852424,442776044),y(2428436474,593698344),y(2756734187,3733110249),y(3204031479,2999351573),y(3329325298,3815920427),y(3391569614,3928383900),y(3515267271,566280711),y(3940187606,3454069534),y(4118630271,4000239992),y(116418474,1914138554),y(174292421,2731055270),y(289380356,3203993006),y(460393269,320620315),y(685471733,587496836),y(852142971,1086792851),y(1017036298,365543100),y(1126000580,2618297676),y(1288033470,3409855158),y(1501505948,4234509866),y(1607167915,987167468),y(1816402316,1246189591)],b=[];(function(){for(var N=0;N<80;N++)b[N]=y()})();var C=f.SHA512=l.extend({_doReset:function(){this._hash=new g.init([new p.init(1779033703,4089235720),new p.init(3144134277,2227873595),new p.init(1013904242,4271175723),new p.init(2773480762,1595750129),new p.init(1359893119,2917565137),new p.init(2600822924,725511199),new p.init(528734635,4215389547),new p.init(1541459225,327033209)])},_doProcessBlock:function(N,B){for(var I=this._hash.words,P=I[0],k=I[1],j=I[2],L=I[3],z=I[4],H=I[5],T=I[6],R=I[7],S=P.high,A=P.low,D=k.high,U=k.low,O=j.high,de=j.low,ie=L.high,K=L.low,te=z.high,he=z.low,fe=H.high,pe=H.low,F=T.high,$=T.low,Q=R.high,W=R.low,xe=S,ye=A,Se=D,Ee=U,We=O,bn=de,Ui=ie,ei=K,Kt=te,ft=he,zi=fe,On=pe,Hi=F,bi=$,mt=Q,ct=W,Dt=0;Dt<80;Dt++){var ln,Mn,It=b[Dt];if(Dt<16)Mn=It.high=N[B+Dt*2]|0,ln=It.low=N[B+Dt*2+1]|0;else{var qi=b[Dt-15],ti=qi.high,wi=qi.low,Gi=(ti>>>1|wi<<31)^(ti>>>8|wi<<24)^ti>>>7,to=(wi>>>1|ti<<31)^(wi>>>8|ti<<24)^(wi>>>7|ti<<25),aa=b[Dt-2],Ei=aa.high,$i=aa.low,Pn=(Ei>>>19|$i<<13)^(Ei<<3|$i>>>29)^Ei>>>6,kt=($i>>>19|Ei<<13)^($i<<3|Ei>>>29)^($i>>>6|Ei<<26),pn=b[Dt-7],yt=pn.high,no=pn.low,Cr=b[Dt-16],io=Cr.high,Ln=Cr.low;ln=to+no,Mn=Gi+yt+(ln>>>0<to>>>0?1:0),ln=ln+kt,Mn=Mn+Pn+(ln>>>0<kt>>>0?1:0),ln=ln+Ln,Mn=Mn+io+(ln>>>0<Ln>>>0?1:0),It.high=Mn,It.low=ln}var Sr=Kt&zi^~Kt&Hi,vt=ft&On^~ft&bi,ni=xe&Se^xe&We^Se&We,ii=ye&Ee^ye&bn^Ee&bn,Fn=(xe>>>28|ye<<4)^(xe<<30|ye>>>2)^(xe<<25|ye>>>7),ro=(ye>>>28|xe<<4)^(ye<<30|xe>>>2)^(ye<<25|xe>>>7),so=(Kt>>>14|ft<<18)^(Kt>>>18|ft<<14)^(Kt<<23|ft>>>9),ri=(ft>>>14|Kt<<18)^(ft>>>18|Kt<<14)^(ft<<23|Kt>>>9),Ki=v[Dt],wl=Ki.high,Yi=Ki.low,qt=ct+ri,wn=mt+so+(qt>>>0<ct>>>0?1:0),qt=qt+vt,wn=wn+Sr+(qt>>>0<vt>>>0?1:0),qt=qt+Yi,wn=wn+wl+(qt>>>0<Yi>>>0?1:0),qt=qt+ln,wn=wn+Mn+(qt>>>0<ln>>>0?1:0),Xi=ro+ii,Ai=Fn+ni+(Xi>>>0<ro>>>0?1:0);mt=Hi,ct=bi,Hi=zi,bi=On,zi=Kt,On=ft,ft=ei+qt|0,Kt=Ui+wn+(ft>>>0<ei>>>0?1:0)|0,Ui=We,ei=bn,We=Se,bn=Ee,Se=xe,Ee=ye,ye=qt+Xi|0,xe=wn+Ai+(ye>>>0<qt>>>0?1:0)|0}A=P.low=A+ye,P.high=S+xe+(A>>>0<ye>>>0?1:0),U=k.low=U+Ee,k.high=D+Se+(U>>>0<Ee>>>0?1:0),de=j.low=de+bn,j.high=O+We+(de>>>0<bn>>>0?1:0),K=L.low=K+ei,L.high=ie+Ui+(K>>>0<ei>>>0?1:0),he=z.low=he+ft,z.high=te+Kt+(he>>>0<ft>>>0?1:0),pe=H.low=pe+On,H.high=fe+zi+(pe>>>0<On>>>0?1:0),$=T.low=$+bi,T.high=F+Hi+($>>>0<bi>>>0?1:0),W=R.low=W+ct,R.high=Q+mt+(W>>>0<ct>>>0?1:0)},_doFinalize:function(){var N=this._data,B=N.words,I=this._nDataBytes*8,P=N.sigBytes*8;B[P>>>5]|=128<<24-P%32,B[(P+128>>>10<<5)+30]=Math.floor(I/4294967296),B[(P+128>>>10<<5)+31]=I,N.sigBytes=B.length*4,this._process();var k=this._hash.toX32();return k},clone:function(){var N=l.clone.call(this);return N._hash=this._hash.clone(),N},blockSize:1024/32});r.SHA512=l._createHelper(C),r.HmacSHA512=l._createHmacHelper(C)})(),t.SHA512})})(cd)),cd.exports}var ud={exports:{}},Y7=ud.exports,Xb;function X7(){return Xb||(Xb=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Vf(),g4())})(Y7,function(t){return(function(){var r=t,o=r.x64,l=o.Word,u=o.WordArray,p=r.algo,g=p.SHA512,f=p.SHA384=g.extend({_doReset:function(){this._hash=new u.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var y=g._doFinalize.call(this);return y.sigBytes-=16,y}});r.SHA384=g._createHelper(f),r.HmacSHA384=g._createHmacHelper(f)})(),t.SHA384})})(ud)),ud.exports}var hd={exports:{}},Q7=hd.exports,Qb;function W7(){return Qb||(Qb=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Vf())})(Q7,function(t){return(function(r){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.x64,f=g.Word,y=o.algo,v=[],b=[],C=[];(function(){for(var I=1,P=0,k=0;k<24;k++){v[I+5*P]=(k+1)*(k+2)/2%64;var j=P%5,L=(2*I+3*P)%5;I=j,P=L}for(var I=0;I<5;I++)for(var P=0;P<5;P++)b[I+5*P]=P+(2*I+3*P)%5*5;for(var z=1,H=0;H<24;H++){for(var T=0,R=0,S=0;S<7;S++){if(z&1){var A=(1<<S)-1;A<32?R^=1<<A:T^=1<<A-32}z&128?z=z<<1^113:z<<=1}C[H]=f.create(T,R)}})();var N=[];(function(){for(var I=0;I<25;I++)N[I]=f.create()})();var B=y.SHA3=p.extend({cfg:p.cfg.extend({outputLength:512}),_doReset:function(){for(var I=this._state=[],P=0;P<25;P++)I[P]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(I,P){for(var k=this._state,j=this.blockSize/2,L=0;L<j;L++){var z=I[P+2*L],H=I[P+2*L+1];z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,H=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360;var T=k[L];T.high^=H,T.low^=z}for(var R=0;R<24;R++){for(var S=0;S<5;S++){for(var A=0,D=0,U=0;U<5;U++){var T=k[S+5*U];A^=T.high,D^=T.low}var O=N[S];O.high=A,O.low=D}for(var S=0;S<5;S++)for(var de=N[(S+4)%5],ie=N[(S+1)%5],K=ie.high,te=ie.low,A=de.high^(K<<1|te>>>31),D=de.low^(te<<1|K>>>31),U=0;U<5;U++){var T=k[S+5*U];T.high^=A,T.low^=D}for(var he=1;he<25;he++){var A,D,T=k[he],fe=T.high,pe=T.low,F=v[he];F<32?(A=fe<<F|pe>>>32-F,D=pe<<F|fe>>>32-F):(A=pe<<F-32|fe>>>64-F,D=fe<<F-32|pe>>>64-F);var $=N[b[he]];$.high=A,$.low=D}var Q=N[0],W=k[0];Q.high=W.high,Q.low=W.low;for(var S=0;S<5;S++)for(var U=0;U<5;U++){var he=S+5*U,T=k[he],xe=N[he],ye=N[(S+1)%5+5*U],Se=N[(S+2)%5+5*U];T.high=xe.high^~ye.high&Se.high,T.low=xe.low^~ye.low&Se.low}var T=k[0],Ee=C[R];T.high^=Ee.high,T.low^=Ee.low}},_doFinalize:function(){var I=this._data,P=I.words;this._nDataBytes*8;var k=I.sigBytes*8,j=this.blockSize*32;P[k>>>5]|=1<<24-k%32,P[(r.ceil((k+1)/j)*j>>>5)-1]|=128,I.sigBytes=P.length*4,this._process();for(var L=this._state,z=this.cfg.outputLength/8,H=z/8,T=[],R=0;R<H;R++){var S=L[R],A=S.high,D=S.low;A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,T.push(D),T.push(A)}return new u.init(T,z)},clone:function(){for(var I=p.clone.call(this),P=I._state=this._state.slice(0),k=0;k<25;k++)P[k]=P[k].clone();return I}});o.SHA3=p._createHelper(B),o.HmacSHA3=p._createHmacHelper(B)})(Math),t.SHA3})})(hd)),hd.exports}var dd={exports:{}},Z7=dd.exports,Wb;function J7(){return Wb||(Wb=1,(function(i,e){(function(t,r){i.exports=r(qe())})(Z7,function(t){return(function(r){var o=t,l=o.lib,u=l.WordArray,p=l.Hasher,g=o.algo,f=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),b=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),C=u.create([0,1518500249,1859775393,2400959708,2840853838]),N=u.create([1352829926,1548603684,1836072691,2053994217,0]),B=g.RIPEMD160=p.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(H,T){for(var R=0;R<16;R++){var S=T+R,A=H[S];H[S]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var D=this._hash.words,U=C.words,O=N.words,de=f.words,ie=y.words,K=v.words,te=b.words,he,fe,pe,F,$,Q,W,xe,ye,Se;Q=he=D[0],W=fe=D[1],xe=pe=D[2],ye=F=D[3],Se=$=D[4];for(var Ee,R=0;R<80;R+=1)Ee=he+H[T+de[R]]|0,R<16?Ee+=I(fe,pe,F)+U[0]:R<32?Ee+=P(fe,pe,F)+U[1]:R<48?Ee+=k(fe,pe,F)+U[2]:R<64?Ee+=j(fe,pe,F)+U[3]:Ee+=L(fe,pe,F)+U[4],Ee=Ee|0,Ee=z(Ee,K[R]),Ee=Ee+$|0,he=$,$=F,F=z(pe,10),pe=fe,fe=Ee,Ee=Q+H[T+ie[R]]|0,R<16?Ee+=L(W,xe,ye)+O[0]:R<32?Ee+=j(W,xe,ye)+O[1]:R<48?Ee+=k(W,xe,ye)+O[2]:R<64?Ee+=P(W,xe,ye)+O[3]:Ee+=I(W,xe,ye)+O[4],Ee=Ee|0,Ee=z(Ee,te[R]),Ee=Ee+Se|0,Q=Se,Se=ye,ye=z(xe,10),xe=W,W=Ee;Ee=D[1]+pe+ye|0,D[1]=D[2]+F+Se|0,D[2]=D[3]+$+Q|0,D[3]=D[4]+he+W|0,D[4]=D[0]+fe+xe|0,D[0]=Ee},_doFinalize:function(){var H=this._data,T=H.words,R=this._nDataBytes*8,S=H.sigBytes*8;T[S>>>5]|=128<<24-S%32,T[(S+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,H.sigBytes=(T.length+1)*4,this._process();for(var A=this._hash,D=A.words,U=0;U<5;U++){var O=D[U];D[U]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return A},clone:function(){var H=p.clone.call(this);return H._hash=this._hash.clone(),H}});function I(H,T,R){return H^T^R}function P(H,T,R){return H&T|~H&R}function k(H,T,R){return(H|~T)^R}function j(H,T,R){return H&R|T&~R}function L(H,T,R){return H^(T|~R)}function z(H,T){return H<<T|H>>>32-T}o.RIPEMD160=p._createHelper(B),o.HmacRIPEMD160=p._createHmacHelper(B)})(),t.RIPEMD160})})(dd)),dd.exports}var fd={exports:{}},ej=fd.exports,Zb;function cx(){return Zb||(Zb=1,(function(i,e){(function(t,r){i.exports=r(qe())})(ej,function(t){(function(){var r=t,o=r.lib,l=o.Base,u=r.enc,p=u.Utf8,g=r.algo;g.HMAC=l.extend({init:function(f,y){f=this._hasher=new f.init,typeof y=="string"&&(y=p.parse(y));var v=f.blockSize,b=v*4;y.sigBytes>b&&(y=f.finalize(y)),y.clamp();for(var C=this._oKey=y.clone(),N=this._iKey=y.clone(),B=C.words,I=N.words,P=0;P<v;P++)B[P]^=1549556828,I[P]^=909522486;C.sigBytes=N.sigBytes=b,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var y=this._hasher,v=y.finalize(f);y.reset();var b=y.finalize(this._oKey.clone().concat(v));return b}})})()})})(fd)),fd.exports}var md={exports:{}},tj=md.exports,Jb;function nj(){return Jb||(Jb=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),lx(),cx())})(tj,function(t){return(function(){var r=t,o=r.lib,l=o.Base,u=o.WordArray,p=r.algo,g=p.SHA256,f=p.HMAC,y=p.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:g,iterations:25e4}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,b){for(var C=this.cfg,N=f.create(C.hasher,v),B=u.create(),I=u.create([1]),P=B.words,k=I.words,j=C.keySize,L=C.iterations;P.length<j;){var z=N.update(b).finalize(I);N.reset();for(var H=z.words,T=H.length,R=z,S=1;S<L;S++){R=N.finalize(R),N.reset();for(var A=R.words,D=0;D<T;D++)H[D]^=A[D]}B.concat(z),k[0]++}return B.sigBytes=j*4,B}});r.PBKDF2=function(v,b,C){return y.create(C).compute(v,b)}})(),t.PBKDF2})})(md)),md.exports}var pd={exports:{}},ij=pd.exports,e2;function sa(){return e2||(e2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),p4(),cx())})(ij,function(t){return(function(){var r=t,o=r.lib,l=o.Base,u=o.WordArray,p=r.algo,g=p.MD5,f=p.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:g,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,v){for(var b,C=this.cfg,N=C.hasher.create(),B=u.create(),I=B.words,P=C.keySize,k=C.iterations;I.length<P;){b&&N.update(b),b=N.update(y).finalize(v),N.reset();for(var j=1;j<k;j++)b=N.finalize(b),N.reset();B.concat(b)}return B.sigBytes=P*4,B}});r.EvpKDF=function(y,v,b){return f.create(b).compute(y,v)}})(),t.EvpKDF})})(pd)),pd.exports}var gd={exports:{}},rj=gd.exports,t2;function Zt(){return t2||(t2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),sa())})(rj,function(t){t.lib.Cipher||(function(r){var o=t,l=o.lib,u=l.Base,p=l.WordArray,g=l.BufferedBlockAlgorithm,f=o.enc;f.Utf8;var y=f.Base64,v=o.algo,b=v.EvpKDF,C=l.Cipher=g.extend({cfg:u.extend(),createEncryptor:function(A,D){return this.create(this._ENC_XFORM_MODE,A,D)},createDecryptor:function(A,D){return this.create(this._DEC_XFORM_MODE,A,D)},init:function(A,D,U){this.cfg=this.cfg.extend(U),this._xformMode=A,this._key=D,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(A){return this._append(A),this._process()},finalize:function(A){A&&this._append(A);var D=this._doFinalize();return D},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function A(D){return typeof D=="string"?S:H}return function(D){return{encrypt:function(U,O,de){return A(O).encrypt(D,U,O,de)},decrypt:function(U,O,de){return A(O).decrypt(D,U,O,de)}}}})()});l.StreamCipher=C.extend({_doFinalize:function(){var A=this._process(!0);return A},blockSize:1});var N=o.mode={},B=l.BlockCipherMode=u.extend({createEncryptor:function(A,D){return this.Encryptor.create(A,D)},createDecryptor:function(A,D){return this.Decryptor.create(A,D)},init:function(A,D){this._cipher=A,this._iv=D}}),I=N.CBC=(function(){var A=B.extend();A.Encryptor=A.extend({processBlock:function(U,O){var de=this._cipher,ie=de.blockSize;D.call(this,U,O,ie),de.encryptBlock(U,O),this._prevBlock=U.slice(O,O+ie)}}),A.Decryptor=A.extend({processBlock:function(U,O){var de=this._cipher,ie=de.blockSize,K=U.slice(O,O+ie);de.decryptBlock(U,O),D.call(this,U,O,ie),this._prevBlock=K}});function D(U,O,de){var ie,K=this._iv;K?(ie=K,this._iv=r):ie=this._prevBlock;for(var te=0;te<de;te++)U[O+te]^=ie[te]}return A})(),P=o.pad={},k=P.Pkcs7={pad:function(A,D){for(var U=D*4,O=U-A.sigBytes%U,de=O<<24|O<<16|O<<8|O,ie=[],K=0;K<O;K+=4)ie.push(de);var te=p.create(ie,O);A.concat(te)},unpad:function(A){var D=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=D}};l.BlockCipher=C.extend({cfg:C.cfg.extend({mode:I,padding:k}),reset:function(){var A;C.reset.call(this);var D=this.cfg,U=D.iv,O=D.mode;this._xformMode==this._ENC_XFORM_MODE?A=O.createEncryptor:(A=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==A?this._mode.init(this,U&&U.words):(this._mode=A.call(O,this,U&&U.words),this._mode.__creator=A)},_doProcessBlock:function(A,D){this._mode.processBlock(A,D)},_doFinalize:function(){var A,D=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(D.pad(this._data,this.blockSize),A=this._process(!0)):(A=this._process(!0),D.unpad(A)),A},blockSize:128/32});var j=l.CipherParams=u.extend({init:function(A){this.mixIn(A)},toString:function(A){return(A||this.formatter).stringify(this)}}),L=o.format={},z=L.OpenSSL={stringify:function(A){var D,U=A.ciphertext,O=A.salt;return O?D=p.create([1398893684,1701076831]).concat(O).concat(U):D=U,D.toString(y)},parse:function(A){var D,U=y.parse(A),O=U.words;return O[0]==1398893684&&O[1]==1701076831&&(D=p.create(O.slice(2,4)),O.splice(0,4),U.sigBytes-=16),j.create({ciphertext:U,salt:D})}},H=l.SerializableCipher=u.extend({cfg:u.extend({format:z}),encrypt:function(A,D,U,O){O=this.cfg.extend(O);var de=A.createEncryptor(U,O),ie=de.finalize(D),K=de.cfg;return j.create({ciphertext:ie,key:U,iv:K.iv,algorithm:A,mode:K.mode,padding:K.padding,blockSize:A.blockSize,formatter:O.format})},decrypt:function(A,D,U,O){O=this.cfg.extend(O),D=this._parse(D,O.format);var de=A.createDecryptor(U,O).finalize(D.ciphertext);return de},_parse:function(A,D){return typeof A=="string"?D.parse(A,this):A}}),T=o.kdf={},R=T.OpenSSL={execute:function(A,D,U,O,de){if(O||(O=p.random(64/8)),de)var ie=b.create({keySize:D+U,hasher:de}).compute(A,O);else var ie=b.create({keySize:D+U}).compute(A,O);var K=p.create(ie.words.slice(D),U*4);return ie.sigBytes=D*4,j.create({key:ie,iv:K,salt:O})}},S=l.PasswordBasedCipher=H.extend({cfg:H.cfg.extend({kdf:R}),encrypt:function(A,D,U,O){O=this.cfg.extend(O);var de=O.kdf.execute(U,A.keySize,A.ivSize,O.salt,O.hasher);O.iv=de.iv;var ie=H.encrypt.call(this,A,D,de.key,O);return ie.mixIn(de),ie},decrypt:function(A,D,U,O){O=this.cfg.extend(O),D=this._parse(D,O.format);var de=O.kdf.execute(U,A.keySize,A.ivSize,D.salt,O.hasher);O.iv=de.iv;var ie=H.decrypt.call(this,A,D,de.key,O);return ie}})})()})})(gd)),gd.exports}var xd={exports:{}},sj=xd.exports,n2;function aj(){return n2||(n2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(sj,function(t){return t.mode.CFB=(function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize;o.call(this,l,u,g,p),this._prevBlock=l.slice(u,u+g)}}),r.Decryptor=r.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize,f=l.slice(u,u+g);o.call(this,l,u,g,p),this._prevBlock=f}});function o(l,u,p,g){var f,y=this._iv;y?(f=y.slice(0),this._iv=void 0):f=this._prevBlock,g.encryptBlock(f,0);for(var v=0;v<p;v++)l[u+v]^=f[v]}return r})(),t.mode.CFB})})(xd)),xd.exports}var yd={exports:{}},oj=yd.exports,i2;function lj(){return i2||(i2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(oj,function(t){return t.mode.CTR=(function(){var r=t.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize,f=this._iv,y=this._counter;f&&(y=this._counter=f.slice(0),this._iv=void 0);var v=y.slice(0);p.encryptBlock(v,0),y[g-1]=y[g-1]+1|0;for(var b=0;b<g;b++)l[u+b]^=v[b]}});return r.Decryptor=o,r})(),t.mode.CTR})})(yd)),yd.exports}var vd={exports:{}},cj=vd.exports,r2;function uj(){return r2||(r2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(cj,function(t){return t.mode.CTRGladman=(function(){var r=t.lib.BlockCipherMode.extend();function o(p){if((p>>24&255)===255){var g=p>>16&255,f=p>>8&255,y=p&255;g===255?(g=0,f===255?(f=0,y===255?y=0:++y):++f):++g,p=0,p+=g<<16,p+=f<<8,p+=y}else p+=1<<24;return p}function l(p){return(p[0]=o(p[0]))===0&&(p[1]=o(p[1])),p}var u=r.Encryptor=r.extend({processBlock:function(p,g){var f=this._cipher,y=f.blockSize,v=this._iv,b=this._counter;v&&(b=this._counter=v.slice(0),this._iv=void 0),l(b);var C=b.slice(0);f.encryptBlock(C,0);for(var N=0;N<y;N++)p[g+N]^=C[N]}});return r.Decryptor=u,r})(),t.mode.CTRGladman})})(vd)),vd.exports}var _d={exports:{}},hj=_d.exports,s2;function dj(){return s2||(s2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(hj,function(t){return t.mode.OFB=(function(){var r=t.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(l,u){var p=this._cipher,g=p.blockSize,f=this._iv,y=this._keystream;f&&(y=this._keystream=f.slice(0),this._iv=void 0),p.encryptBlock(y,0);for(var v=0;v<g;v++)l[u+v]^=y[v]}});return r.Decryptor=o,r})(),t.mode.OFB})})(_d)),_d.exports}var bd={exports:{}},fj=bd.exports,a2;function mj(){return a2||(a2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(fj,function(t){return t.mode.ECB=(function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(o,l){this._cipher.encryptBlock(o,l)}}),r.Decryptor=r.extend({processBlock:function(o,l){this._cipher.decryptBlock(o,l)}}),r})(),t.mode.ECB})})(bd)),bd.exports}var wd={exports:{}},pj=wd.exports,o2;function gj(){return o2||(o2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(pj,function(t){return t.pad.AnsiX923={pad:function(r,o){var l=r.sigBytes,u=o*4,p=u-l%u,g=l+p-1;r.clamp(),r.words[g>>>2]|=p<<24-g%4*8,r.sigBytes+=p},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},t.pad.Ansix923})})(wd)),wd.exports}var Ed={exports:{}},xj=Ed.exports,l2;function yj(){return l2||(l2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(xj,function(t){return t.pad.Iso10126={pad:function(r,o){var l=o*4,u=l-r.sigBytes%l;r.concat(t.lib.WordArray.random(u-1)).concat(t.lib.WordArray.create([u<<24],1))},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},t.pad.Iso10126})})(Ed)),Ed.exports}var Ad={exports:{}},vj=Ad.exports,c2;function _j(){return c2||(c2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(vj,function(t){return t.pad.Iso97971={pad:function(r,o){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,o)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})})(Ad)),Ad.exports}var Td={exports:{}},bj=Td.exports,u2;function wj(){return u2||(u2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(bj,function(t){return t.pad.ZeroPadding={pad:function(r,o){var l=o*4;r.clamp(),r.sigBytes+=l-(r.sigBytes%l||l)},unpad:function(r){for(var o=r.words,l=r.sigBytes-1,l=r.sigBytes-1;l>=0;l--)if(o[l>>>2]>>>24-l%4*8&255){r.sigBytes=l+1;break}}},t.pad.ZeroPadding})})(Td)),Td.exports}var Cd={exports:{}},Ej=Cd.exports,h2;function Aj(){return h2||(h2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(Ej,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(Cd)),Cd.exports}var Sd={exports:{}},Tj=Sd.exports,d2;function Cj(){return d2||(d2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Zt())})(Tj,function(t){return(function(r){var o=t,l=o.lib,u=l.CipherParams,p=o.enc,g=p.Hex,f=o.format;f.Hex={stringify:function(y){return y.ciphertext.toString(g)},parse:function(y){var v=g.parse(y);return u.create({ciphertext:v})}}})(),t.format.Hex})})(Sd)),Sd.exports}var Nd={exports:{}},Sj=Nd.exports,f2;function Nj(){return f2||(f2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Ja(),eo(),sa(),Zt())})(Sj,function(t){return(function(){var r=t,o=r.lib,l=o.BlockCipher,u=r.algo,p=[],g=[],f=[],y=[],v=[],b=[],C=[],N=[],B=[],I=[];(function(){for(var j=[],L=0;L<256;L++)L<128?j[L]=L<<1:j[L]=L<<1^283;for(var z=0,H=0,L=0;L<256;L++){var T=H^H<<1^H<<2^H<<3^H<<4;T=T>>>8^T&255^99,p[z]=T,g[T]=z;var R=j[z],S=j[R],A=j[S],D=j[T]*257^T*16843008;f[z]=D<<24|D>>>8,y[z]=D<<16|D>>>16,v[z]=D<<8|D>>>24,b[z]=D;var D=A*16843009^S*65537^R*257^z*16843008;C[T]=D<<24|D>>>8,N[T]=D<<16|D>>>16,B[T]=D<<8|D>>>24,I[T]=D,z?(z=R^j[j[j[A^R]]],H^=j[j[H]]):z=H=1}})();var P=[0,1,2,4,8,16,32,64,128,27,54],k=u.AES=l.extend({_doReset:function(){var j;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var L=this._keyPriorReset=this._key,z=L.words,H=L.sigBytes/4,T=this._nRounds=H+6,R=(T+1)*4,S=this._keySchedule=[],A=0;A<R;A++)A<H?S[A]=z[A]:(j=S[A-1],A%H?H>6&&A%H==4&&(j=p[j>>>24]<<24|p[j>>>16&255]<<16|p[j>>>8&255]<<8|p[j&255]):(j=j<<8|j>>>24,j=p[j>>>24]<<24|p[j>>>16&255]<<16|p[j>>>8&255]<<8|p[j&255],j^=P[A/H|0]<<24),S[A]=S[A-H]^j);for(var D=this._invKeySchedule=[],U=0;U<R;U++){var A=R-U;if(U%4)var j=S[A];else var j=S[A-4];U<4||A<=4?D[U]=j:D[U]=C[p[j>>>24]]^N[p[j>>>16&255]]^B[p[j>>>8&255]]^I[p[j&255]]}}},encryptBlock:function(j,L){this._doCryptBlock(j,L,this._keySchedule,f,y,v,b,p)},decryptBlock:function(j,L){var z=j[L+1];j[L+1]=j[L+3],j[L+3]=z,this._doCryptBlock(j,L,this._invKeySchedule,C,N,B,I,g);var z=j[L+1];j[L+1]=j[L+3],j[L+3]=z},_doCryptBlock:function(j,L,z,H,T,R,S,A){for(var D=this._nRounds,U=j[L]^z[0],O=j[L+1]^z[1],de=j[L+2]^z[2],ie=j[L+3]^z[3],K=4,te=1;te<D;te++){var he=H[U>>>24]^T[O>>>16&255]^R[de>>>8&255]^S[ie&255]^z[K++],fe=H[O>>>24]^T[de>>>16&255]^R[ie>>>8&255]^S[U&255]^z[K++],pe=H[de>>>24]^T[ie>>>16&255]^R[U>>>8&255]^S[O&255]^z[K++],F=H[ie>>>24]^T[U>>>16&255]^R[O>>>8&255]^S[de&255]^z[K++];U=he,O=fe,de=pe,ie=F}var he=(A[U>>>24]<<24|A[O>>>16&255]<<16|A[de>>>8&255]<<8|A[ie&255])^z[K++],fe=(A[O>>>24]<<24|A[de>>>16&255]<<16|A[ie>>>8&255]<<8|A[U&255])^z[K++],pe=(A[de>>>24]<<24|A[ie>>>16&255]<<16|A[U>>>8&255]<<8|A[O&255])^z[K++],F=(A[ie>>>24]<<24|A[U>>>16&255]<<16|A[O>>>8&255]<<8|A[de&255])^z[K++];j[L]=he,j[L+1]=fe,j[L+2]=pe,j[L+3]=F},keySize:256/32});r.AES=l._createHelper(k)})(),t.AES})})(Nd)),Nd.exports}var Rd={exports:{}},Rj=Rd.exports,m2;function Dj(){return m2||(m2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Ja(),eo(),sa(),Zt())})(Rj,function(t){return(function(){var r=t,o=r.lib,l=o.WordArray,u=o.BlockCipher,p=r.algo,g=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],y=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],b=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],C=p.DES=u.extend({_doReset:function(){for(var P=this._key,k=P.words,j=[],L=0;L<56;L++){var z=g[L]-1;j[L]=k[z>>>5]>>>31-z%32&1}for(var H=this._subKeys=[],T=0;T<16;T++){for(var R=H[T]=[],S=y[T],L=0;L<24;L++)R[L/6|0]|=j[(f[L]-1+S)%28]<<31-L%6,R[4+(L/6|0)]|=j[28+(f[L+24]-1+S)%28]<<31-L%6;R[0]=R[0]<<1|R[0]>>>31;for(var L=1;L<7;L++)R[L]=R[L]>>>(L-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var A=this._invSubKeys=[],L=0;L<16;L++)A[L]=H[15-L]},encryptBlock:function(P,k){this._doCryptBlock(P,k,this._subKeys)},decryptBlock:function(P,k){this._doCryptBlock(P,k,this._invSubKeys)},_doCryptBlock:function(P,k,j){this._lBlock=P[k],this._rBlock=P[k+1],N.call(this,4,252645135),N.call(this,16,65535),B.call(this,2,858993459),B.call(this,8,16711935),N.call(this,1,1431655765);for(var L=0;L<16;L++){for(var z=j[L],H=this._lBlock,T=this._rBlock,R=0,S=0;S<8;S++)R|=v[S][((T^z[S])&b[S])>>>0];this._lBlock=T,this._rBlock=H^R}var A=this._lBlock;this._lBlock=this._rBlock,this._rBlock=A,N.call(this,1,1431655765),B.call(this,8,16711935),B.call(this,2,858993459),N.call(this,16,65535),N.call(this,4,252645135),P[k]=this._lBlock,P[k+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function N(P,k){var j=(this._lBlock>>>P^this._rBlock)&k;this._rBlock^=j,this._lBlock^=j<<P}function B(P,k){var j=(this._rBlock>>>P^this._lBlock)&k;this._lBlock^=j,this._rBlock^=j<<P}r.DES=u._createHelper(C);var I=p.TripleDES=u.extend({_doReset:function(){var P=this._key,k=P.words;if(k.length!==2&&k.length!==4&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var j=k.slice(0,2),L=k.length<4?k.slice(0,2):k.slice(2,4),z=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=C.createEncryptor(l.create(j)),this._des2=C.createEncryptor(l.create(L)),this._des3=C.createEncryptor(l.create(z))},encryptBlock:function(P,k){this._des1.encryptBlock(P,k),this._des2.decryptBlock(P,k),this._des3.encryptBlock(P,k)},decryptBlock:function(P,k){this._des3.decryptBlock(P,k),this._des2.encryptBlock(P,k),this._des1.decryptBlock(P,k)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=u._createHelper(I)})(),t.TripleDES})})(Rd)),Rd.exports}var Dd={exports:{}},Ij=Dd.exports,p2;function kj(){return p2||(p2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Ja(),eo(),sa(),Zt())})(Ij,function(t){return(function(){var r=t,o=r.lib,l=o.StreamCipher,u=r.algo,p=u.RC4=l.extend({_doReset:function(){for(var y=this._key,v=y.words,b=y.sigBytes,C=this._S=[],N=0;N<256;N++)C[N]=N;for(var N=0,B=0;N<256;N++){var I=N%b,P=v[I>>>2]>>>24-I%4*8&255;B=(B+C[N]+P)%256;var k=C[N];C[N]=C[B],C[B]=k}this._i=this._j=0},_doProcessBlock:function(y,v){y[v]^=g.call(this)},keySize:256/32,ivSize:0});function g(){for(var y=this._S,v=this._i,b=this._j,C=0,N=0;N<4;N++){v=(v+1)%256,b=(b+y[v])%256;var B=y[v];y[v]=y[b],y[b]=B,C|=y[(y[v]+y[b])%256]<<24-N*8}return this._i=v,this._j=b,C}r.RC4=l._createHelper(p);var f=u.RC4Drop=p.extend({cfg:p.cfg.extend({drop:192}),_doReset:function(){p._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)g.call(this)}});r.RC4Drop=l._createHelper(f)})(),t.RC4})})(Dd)),Dd.exports}var Id={exports:{}},jj=Id.exports,g2;function Bj(){return g2||(g2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Ja(),eo(),sa(),Zt())})(jj,function(t){return(function(){var r=t,o=r.lib,l=o.StreamCipher,u=r.algo,p=[],g=[],f=[],y=u.Rabbit=l.extend({_doReset:function(){for(var b=this._key.words,C=this.cfg.iv,N=0;N<4;N++)b[N]=(b[N]<<8|b[N]>>>24)&16711935|(b[N]<<24|b[N]>>>8)&4278255360;var B=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],I=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var N=0;N<4;N++)v.call(this);for(var N=0;N<8;N++)I[N]^=B[N+4&7];if(C){var P=C.words,k=P[0],j=P[1],L=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,z=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,H=L>>>16|z&4294901760,T=z<<16|L&65535;I[0]^=L,I[1]^=H,I[2]^=z,I[3]^=T,I[4]^=L,I[5]^=H,I[6]^=z,I[7]^=T;for(var N=0;N<4;N++)v.call(this)}},_doProcessBlock:function(b,C){var N=this._X;v.call(this),p[0]=N[0]^N[5]>>>16^N[3]<<16,p[1]=N[2]^N[7]>>>16^N[5]<<16,p[2]=N[4]^N[1]>>>16^N[7]<<16,p[3]=N[6]^N[3]>>>16^N[1]<<16;for(var B=0;B<4;B++)p[B]=(p[B]<<8|p[B]>>>24)&16711935|(p[B]<<24|p[B]>>>8)&4278255360,b[C+B]^=p[B]},blockSize:128/32,ivSize:64/32});function v(){for(var b=this._X,C=this._C,N=0;N<8;N++)g[N]=C[N];C[0]=C[0]+1295307597+this._b|0,C[1]=C[1]+3545052371+(C[0]>>>0<g[0]>>>0?1:0)|0,C[2]=C[2]+886263092+(C[1]>>>0<g[1]>>>0?1:0)|0,C[3]=C[3]+1295307597+(C[2]>>>0<g[2]>>>0?1:0)|0,C[4]=C[4]+3545052371+(C[3]>>>0<g[3]>>>0?1:0)|0,C[5]=C[5]+886263092+(C[4]>>>0<g[4]>>>0?1:0)|0,C[6]=C[6]+1295307597+(C[5]>>>0<g[5]>>>0?1:0)|0,C[7]=C[7]+3545052371+(C[6]>>>0<g[6]>>>0?1:0)|0,this._b=C[7]>>>0<g[7]>>>0?1:0;for(var N=0;N<8;N++){var B=b[N]+C[N],I=B&65535,P=B>>>16,k=((I*I>>>17)+I*P>>>15)+P*P,j=((B&4294901760)*B|0)+((B&65535)*B|0);f[N]=k^j}b[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,b[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,b[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,b[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,b[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,b[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,b[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,b[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}r.Rabbit=l._createHelper(y)})(),t.Rabbit})})(Id)),Id.exports}var kd={exports:{}},Oj=kd.exports,x2;function Mj(){return x2||(x2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Ja(),eo(),sa(),Zt())})(Oj,function(t){return(function(){var r=t,o=r.lib,l=o.StreamCipher,u=r.algo,p=[],g=[],f=[],y=u.RabbitLegacy=l.extend({_doReset:function(){var b=this._key.words,C=this.cfg.iv,N=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],B=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var I=0;I<4;I++)v.call(this);for(var I=0;I<8;I++)B[I]^=N[I+4&7];if(C){var P=C.words,k=P[0],j=P[1],L=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,z=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,H=L>>>16|z&4294901760,T=z<<16|L&65535;B[0]^=L,B[1]^=H,B[2]^=z,B[3]^=T,B[4]^=L,B[5]^=H,B[6]^=z,B[7]^=T;for(var I=0;I<4;I++)v.call(this)}},_doProcessBlock:function(b,C){var N=this._X;v.call(this),p[0]=N[0]^N[5]>>>16^N[3]<<16,p[1]=N[2]^N[7]>>>16^N[5]<<16,p[2]=N[4]^N[1]>>>16^N[7]<<16,p[3]=N[6]^N[3]>>>16^N[1]<<16;for(var B=0;B<4;B++)p[B]=(p[B]<<8|p[B]>>>24)&16711935|(p[B]<<24|p[B]>>>8)&4278255360,b[C+B]^=p[B]},blockSize:128/32,ivSize:64/32});function v(){for(var b=this._X,C=this._C,N=0;N<8;N++)g[N]=C[N];C[0]=C[0]+1295307597+this._b|0,C[1]=C[1]+3545052371+(C[0]>>>0<g[0]>>>0?1:0)|0,C[2]=C[2]+886263092+(C[1]>>>0<g[1]>>>0?1:0)|0,C[3]=C[3]+1295307597+(C[2]>>>0<g[2]>>>0?1:0)|0,C[4]=C[4]+3545052371+(C[3]>>>0<g[3]>>>0?1:0)|0,C[5]=C[5]+886263092+(C[4]>>>0<g[4]>>>0?1:0)|0,C[6]=C[6]+1295307597+(C[5]>>>0<g[5]>>>0?1:0)|0,C[7]=C[7]+3545052371+(C[6]>>>0<g[6]>>>0?1:0)|0,this._b=C[7]>>>0<g[7]>>>0?1:0;for(var N=0;N<8;N++){var B=b[N]+C[N],I=B&65535,P=B>>>16,k=((I*I>>>17)+I*P>>>15)+P*P,j=((B&4294901760)*B|0)+((B&65535)*B|0);f[N]=k^j}b[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,b[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,b[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,b[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,b[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,b[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,b[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,b[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}r.RabbitLegacy=l._createHelper(y)})(),t.RabbitLegacy})})(kd)),kd.exports}var jd={exports:{}},Pj=jd.exports,y2;function Lj(){return y2||(y2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Ja(),eo(),sa(),Zt())})(Pj,function(t){return(function(){var r=t,o=r.lib,l=o.BlockCipher,u=r.algo;const p=16,g=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var y={pbox:[],sbox:[]};function v(I,P){let k=P>>24&255,j=P>>16&255,L=P>>8&255,z=P&255,H=I.sbox[0][k]+I.sbox[1][j];return H=H^I.sbox[2][L],H=H+I.sbox[3][z],H}function b(I,P,k){let j=P,L=k,z;for(let H=0;H<p;++H)j=j^I.pbox[H],L=v(I,j)^L,z=j,j=L,L=z;return z=j,j=L,L=z,L=L^I.pbox[p],j=j^I.pbox[p+1],{left:j,right:L}}function C(I,P,k){let j=P,L=k,z;for(let H=p+1;H>1;--H)j=j^I.pbox[H],L=v(I,j)^L,z=j,j=L,L=z;return z=j,j=L,L=z,L=L^I.pbox[1],j=j^I.pbox[0],{left:j,right:L}}function N(I,P,k){for(let T=0;T<4;T++){I.sbox[T]=[];for(let R=0;R<256;R++)I.sbox[T][R]=f[T][R]}let j=0;for(let T=0;T<p+2;T++)I.pbox[T]=g[T]^P[j],j++,j>=k&&(j=0);let L=0,z=0,H=0;for(let T=0;T<p+2;T+=2)H=b(I,L,z),L=H.left,z=H.right,I.pbox[T]=L,I.pbox[T+1]=z;for(let T=0;T<4;T++)for(let R=0;R<256;R+=2)H=b(I,L,z),L=H.left,z=H.right,I.sbox[T][R]=L,I.sbox[T][R+1]=z;return!0}var B=u.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var I=this._keyPriorReset=this._key,P=I.words,k=I.sigBytes/4;N(y,P,k)}},encryptBlock:function(I,P){var k=b(y,I[P],I[P+1]);I[P]=k.left,I[P+1]=k.right},decryptBlock:function(I,P){var k=C(y,I[P],I[P+1]);I[P]=k.left,I[P+1]=k.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=l._createHelper(B)})(),t.Blowfish})})(jd)),jd.exports}var Fj=Zh.exports,v2;function Vj(){return v2||(v2=1,(function(i,e){(function(t,r,o){i.exports=r(qe(),Vf(),M7(),L7(),Ja(),U7(),eo(),p4(),lx(),$7(),g4(),X7(),W7(),J7(),cx(),nj(),sa(),Zt(),aj(),lj(),uj(),dj(),mj(),gj(),yj(),_j(),wj(),Aj(),Cj(),Nj(),Dj(),kj(),Bj(),Mj(),Lj())})(Fj,function(t){return t})})(Zh)),Zh.exports}var Uj=Vj();const qp=QT(Uj),Gp=(i,e)=>{try{return qp.AES.encrypt(i,e).toString()}catch(t){return console.error("Encryption error:",t),""}},$p=(i,e)=>{try{const r=qp.AES.decrypt(i,e).toString(qp.enc.Utf8);return r||(console.warn("Decryption resulted in empty string for:",i),"")}catch(t){return console.error("Decryption error:",t),""}},zj=(i,e)=>i.map(t=>Gp(t,e)),Hj=(i,e)=>i.map(t=>$p(t,e)),qj=async()=>{try{if(!we.currentUser)return console.log("No current user"),!1;const i=Mi(xt,"Users"),e=fl(i,KA("userId","==",we.currentUser.uid)),t=await ml(e);if(t.empty)return console.log("No profile found for user"),!1;const r=t.docs[0].data().setupCompleted===!0;return console.log("Profile setup complete:",r),r}catch(i){return console.error("Error checking profile setup:",i),i.code==="permission-denied"&&console.warn("Permission denied when checking profile - update your Firestore rules"),!1}},mr=async()=>{try{if(!we.currentUser)return console.log("No current user"),null;const i=Mi(xt,"Users"),e=fl(i,KA("userId","==",we.currentUser.uid)),t=await ml(e);if(t.empty)return console.log("No profile found"),null;const r=t.docs[0].data(),o=we.currentUser.uid;console.log("Decrypting sensitive user data");const l={docId:t.docs[0].id,...r,phone:r.phone?$p(r.phone,o):null,age:r.age?$p(r.age,o):null,triggers:r.triggers&&Array.isArray(r.triggers)?Hj(r.triggers,o):[],displayName:r.displayName||null,profileImageUrl:r.profileImageUrl||null,likedPosts:r.likedPosts||[],likedComments:r.likedComments||[]};return console.log("Profile data decrypted successfully"),l}catch(i){return console.error("Error fetching user profile:",i),null}};function Gj(){const i=Jn(),[e,t]=G.useState(""),[r,o]=G.useState("All"),[l,u]=G.useState("Most Recent"),[p,g]=G.useState("All Time"),[f,y]=G.useState([]),[v,b]=G.useState([]),[C,N]=G.useState(!0),[B,I]=G.useState(4),[P,k]=G.useState(!1),[j,L]=G.useState([]);G.useEffect(()=>{(async()=>{try{N(!0);const D=Mi(xt,"forum"),U=fl(D,ef("createdAt","desc")),de=(await ml(U)).docs.map(ie=>{const K=ie.data(),te=K.createdAt?.toDate(),he=te?H(te):"just now";return{id:ie.id,title:K.title,content:K.content,userId:K.userId,author:K.authorDisplayName||"Anonymous",authorAvatar:K.authorProfilePic||"",timeAgo:he,replies:K.replies||0,likes:K.likes||0,category:K.category,isPinned:K.isPinned||!1,tags:K.tags||[],triggers:K.triggers||[],views:K.views||0,createdAt:K.createdAt}});b(de),y(de)}catch(D){console.error("Error fetching discussions:",D)}finally{N(!1)}})(),(async()=>{try{const D=await mr();D&&D.triggers&&L(D.triggers.map(U=>U.toString()))}catch(D){console.warn("Failed to load user profile for triggers:",D)}})()},[]),G.useEffect(()=>{let S=[...v];if(e.trim()){const A=e.toLowerCase();S=S.filter(D=>{const U=D.title?.toLowerCase().includes(A),de=[D.content,D.body,D.description,D.post].some(te=>typeof te=="string"&&te.toLowerCase().includes(A)),ie=D.tags?.some(te=>te.toLowerCase().includes(A)),K=D.author?.toLowerCase().includes(A);return!!(U||de||ie||K)})}if(r!=="All"&&(S=S.filter(A=>A.category===r)),p!=="All Time"&&S.length>0){const A=new Date,D=new Date;switch(p){case"Today":D.setHours(0,0,0,0);break;case"This Week":D.setDate(A.getDate()-7);break;case"This Month":D.setMonth(A.getMonth()-1);break}S=S.filter(U=>{const O=U.createdAt?.toDate();return O&&O>=D})}if(P&&j&&j.length>0){const A=j.map(D=>D.toLowerCase());S=S.filter(D=>!(D.triggers||[]).map(O=>O.toLowerCase()).some(O=>A.includes(O)))}switch(l){case"Most Popular":S.sort((A,D)=>D.likes-A.likes);break;case"Most Replies":S.sort((A,D)=>D.replies-A.replies);break;case"Most Recent":default:S.sort((A,D)=>{const U=A.createdAt?.toDate()||new Date(0);return(D.createdAt?.toDate()||new Date(0)).getTime()-U.getTime()});break}y(S)},[e,r,l,p,v,P,j]),G.useEffect(()=>{I(4)},[e,r,l,p,v]);const z=()=>{I(S=>Math.min(S+4,f.length))},H=S=>{const A=Math.floor((new Date().getTime()-S.getTime())/1e3),D={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[U,O]of Object.entries(D)){const de=Math.floor(A/O);if(de>=1)return`${de} ${U}${de>1?"s":""} ago`}return"just now"},T=["Uplifty","Depression","Relationships","Recovery","Self-Care","Informational"],R=G.useMemo(()=>{if(!v||v.length===0)return[];const S=A=>(A.replies||0)*2+(A.likes||0)+3*Math.log10((A.views||0)+1);return[...v].sort((A,D)=>S(D)-S(A)).slice(0,5)},[v]);return m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Community Forums"}),m.jsx("p",{className:"text-white/70 text-lg",children:"You're not alone. Share, listen, heal together."}),m.jsx("p",{className:"text-white/50 text-sm mt-2",children:"Safe space to connect with others on similar journeys, find support, and share experiences in judgment-free environment"})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-6 shadow-2xl shadow-black/20",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(tg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),m.jsx("input",{type:"text",placeholder:"Search discussions, topics, keywords...",value:e,onChange:S=>t(S.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]}),m.jsxs("button",{onClick:()=>i("/forum/create"),className:"bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/30 shadow-lg flex items-center gap-2 justify-center",children:[m.jsx(uf,{size:20}),"New Discussion"]})]}),m.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-white/70 text-sm",children:"Sort by:"}),m.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 pr-10 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},children:[m.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Most Recent"}),m.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Most Popular"}),m.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Most Replies"})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-white/70 text-sm",children:"Category:"}),m.jsxs("select",{value:r,onChange:S=>o(S.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 pr-10 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},children:[m.jsx("option",{className:"bg-[#6A1E55] text-white",children:"All"}),T.map(S=>m.jsx("option",{className:"bg-[#6A1E55] text-white",children:S},S))]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-white/70 text-sm",children:"Time:"}),m.jsxs("select",{value:p,onChange:S=>g(S.target.value),className:"bg-white/10 border border-white/20 rounded-full px-4 pr-10 py-2 text-white text-sm focus:outline-none focus:border-white/30 cursor-pointer backdrop-blur-md appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},children:[m.jsx("option",{className:"bg-[#6A1E55] text-white",children:"All Time"}),m.jsx("option",{className:"bg-[#6A1E55] text-white",children:"Today"}),m.jsx("option",{className:"bg-[#6A1E55] text-white",children:"This Week"}),m.jsx("option",{className:"bg-[#6A1E55] text-white",children:"This Month"})]})]}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:P,onChange:()=>k(S=>!S),className:"w-4 h-4 rounded border-white/20 bg-white/5 focus:ring-0"}),m.jsx("span",{className:"text-white/70 text-sm",children:"Hide posts matching my triggers"})]})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[C?m.jsx("div",{className:"text-center text-white/70 py-12",children:m.jsx("p",{children:"Loading discussions..."})}):f.length===0?m.jsx("div",{className:"text-center text-white/70 py-12",children:m.jsx("p",{children:"No discussions yet. Be the first to start one!"})}):f.slice(0,B).map(S=>m.jsxs("div",{onClick:()=>i(`/forum/${S.id}`),className:`bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer ${S.isPinned?"border-yellow-500/40":""}`,children:[S.isPinned&&m.jsxs("div",{className:"flex items-center gap-2 text-yellow-400/90 text-sm font-semibold mb-3",children:[m.jsx(c6,{size:16}),m.jsx("span",{children:"Pinned"})]}),m.jsx("h3",{className:"text-xl font-bold text-white mb-3 drop-shadow-md",children:S.title}),m.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:S.content}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[S.authorAvatar?m.jsx("img",{src:S.authorAvatar,alt:S.author,className:"w-8 h-8 rounded-full object-cover bg-white/20"}):m.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-sm",children:""}),m.jsx("span",{className:"text-white/80 text-sm font-medium",children:S.author})]}),m.jsxs("span",{className:"text-white/50 text-sm",children:[" ",S.timeAgo]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[m.jsx(fp,{size:16}),m.jsx("span",{className:"text-sm",children:S.likes})]}),m.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[m.jsx(lf,{size:16}),m.jsx("span",{className:"text-sm",children:S.replies})]}),m.jsxs("div",{className:"flex items-center gap-1 text-white/70",children:[m.jsx(eg,{size:16}),m.jsx("span",{className:"text-sm",children:S.views})]})]})]}),S.tags&&m.jsx("div",{className:"flex gap-2 mt-3",children:S.tags.map(A=>m.jsxs("span",{className:"text-xs text-white/50 bg-white/5 px-2 py-1 rounded-full",children:["#",A]},A))})]},S.id)),!C&&f.length>0&&B<f.length&&m.jsx("button",{onClick:z,className:"w-full bg-white/5 hover:bg-white/10 backdrop-blur-md text-white/70 font-medium rounded-full py-3 transition-all duration-200 border border-white/10",children:"View more discussions"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md",children:"Community Guidelines"}),m.jsxs("ul",{className:"space-y-2 text-white/70 text-sm",children:[m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400",children:""}),m.jsx("span",{children:"Be respectful and kind to all members"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400",children:""}),m.jsx("span",{children:"Keep discussions supportive and constructive"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400",children:""}),m.jsx("span",{children:"Share mindfully - respect confidentiality"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400",children:""}),m.jsx("span",{children:"Report any concerns to moderation team"})]})]}),m.jsx("button",{className:"mt-4 text-sm text-white/60 hover:text-white transition-colors",children:"Read full Guidelines "})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[m.jsxs("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md flex items-center gap-2",children:[m.jsx(Y2,{size:20}),"Trending Discussions"]}),m.jsx("div",{className:"space-y-3",children:R.length===0?m.jsx("div",{className:"text-white/60 text-sm",children:"No trending discussions yet."}):R.map((S,A)=>m.jsxs("div",{onClick:()=>i(`/forum/${S.id}`),className:"hover:bg-white/5 p-3 rounded-full transition-all cursor-pointer",children:[m.jsx("h4",{className:"text-white/90 text-sm font-semibold mb-1 line-clamp-2",children:S.title}),m.jsxs("div",{className:"flex items-center gap-2 text-white/50 text-xs",children:[m.jsx("span",{children:S.category}),m.jsx("span",{children:""}),m.jsxs("span",{children:[S.replies," replies"]}),m.jsx("span",{children:""}),m.jsxs("span",{children:[S.views," views"]})]})]},S.id||A))})]})]})]}),m.jsx("section",{className:"mt-16 mb-8",children:m.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24",children:[m.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Still need more help?"}),m.jsx("p",{className:"text-white font-semibold",children:"Connect with a professional counselor"}),m.jsx("button",{className:"mt-8 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-bold rounded-full border border-white/30 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg",children:"Book an appointment with us now"})]})})]})})}const $j=["Anxiety","Depression","Eating Disorders","Self-Harm","Substance Abuse","Trauma/PTSD","Suicidal Thoughts","Relationship Issues","Academic Stress","Financial Stress","Grief/Loss","Social Anxiety","Body Image","Sleep Issues","OCD","Panic Attacks"];function Kj(){const i=Jn(),[e,t]=G.useState(!1),[r,o]=G.useState(""),[l,u]=G.useState(""),[p,g]=G.useState(""),[f,y]=G.useState({title:"",content:"",category:"Uplifty",tags:[],triggers:[]}),v=["Uplifty","Depression","Relationships","Recovery","Self-Care","Informational"],b=k=>{const{name:j,value:L}=k.target;y(z=>({...z,[j]:L}))},C=k=>{y(j=>({...j,triggers:j.triggers.includes(k)?j.triggers.filter(L=>L!==k):[...j.triggers,k]}))},N=k=>{if(k.key===" "&&p.trim()){k.preventDefault();const j=p.trim().toLowerCase().replace(/\s+/g,"-");f.tags.includes(j)||y(L=>({...L,tags:[...L.tags,j]})),g("")}else k.key==="Backspace"&&!p&&f.tags.length>0&&y(j=>({...j,tags:j.tags.slice(0,-1)}))},B=k=>{y(j=>({...j,tags:j.tags.filter(L=>L!==k)}))},I=async k=>{if(k.preventDefault(),o(""),u(""),!f.title.trim()){o("Please enter a title for your post");return}if(!f.content.trim()){o("Please enter content for your post");return}if(!we.currentUser){o("You must be signed in to create a post");return}t(!0);try{const j=await mr(),L=j?.displayName||we.currentUser.email?.split("@")[0]||"Anonymous",z=j?.profileImageUrl||"",H={title:f.title.trim(),content:f.content.trim(),category:f.category,tags:f.tags,triggers:f.triggers,userId:we.currentUser.uid,authorDisplayName:L,authorProfilePic:z,createdAt:Yc(),replies:0,likes:0,views:0,isPinned:!1};await Kc(Mi(xt,"forum"),H),u("Post created successfully!"),setTimeout(()=>{i("/forum")},1500)}catch(j){console.error("Error creating post:",j),o(j.message||"Failed to create post. Please try again."),t(!1)}},P=()=>{i("/forum")};return m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Create New Discussion"}),m.jsx("p",{className:"text-white/70 text-lg",children:"Share your thoughts and connect with the community"})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[r&&m.jsxs("div",{className:"mb-6 bg-red-500/20 border border-red-500/30 rounded-2xl p-4 flex items-start gap-3",children:[m.jsx(af,{className:"text-red-400 flex-shrink-0 mt-0.5",size:20}),m.jsx("p",{className:"text-red-200 text-sm",children:r})]}),l&&m.jsxs("div",{className:"mb-6 bg-green-500/20 border border-green-500/30 rounded-2xl p-4 flex items-start gap-3",children:[m.jsx("div",{className:"text-green-400 flex-shrink-0 mt-0.5",children:""}),m.jsx("p",{className:"text-green-200 text-sm",children:l})]}),m.jsxs("form",{onSubmit:I,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"title",className:"block text-white font-semibold mb-2",children:["Discussion Title ",m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("input",{type:"text",id:"title",name:"title",value:f.title,onChange:b,placeholder:"Enter a clear, descriptive title...",className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all",disabled:e,maxLength:200}),m.jsxs("p",{className:"text-white/50 text-xs mt-1",children:[f.title.length,"/200 characters"]})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"category",className:"block text-white font-semibold mb-2",children:["Category ",m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("select",{id:"category",name:"category",value:f.category,onChange:b,className:"w-full bg-white/10 border border-white/20 rounded-2xl px-4 py-3 text-white focus:outline-none focus:border-white/40 cursor-pointer backdrop-blur-md transition-all appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center"},disabled:e,children:v.map(k=>m.jsx("option",{value:k,className:"bg-[#6A1E55] text-white",children:k},k))})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"content",className:"block text-white font-semibold mb-2",children:["Content ",m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("textarea",{id:"content",name:"content",value:f.content,onChange:b,placeholder:"Share your thoughts, experiences, or questions... Be respectful and supportive.",className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all resize-none",rows:8,disabled:e,maxLength:5e3}),m.jsxs("p",{className:"text-white/50 text-xs mt-1",children:[f.content.length,"/5000 characters"]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"tags",className:"block text-white font-semibold mb-2",children:"Tags (optional)"}),m.jsxs("div",{className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 min-h-[48px] flex flex-wrap gap-2 items-center",children:[f.tags.map((k,j)=>m.jsxs("span",{className:"bg-white/20 text-white text-sm px-3 py-1 rounded-full flex items-center gap-2 border border-white/30",children:["#",k,m.jsx("button",{type:"button",onClick:()=>B(k),className:"hover:bg-white/20 rounded-full p-0.5 transition-colors",disabled:e,children:m.jsx(mp,{size:14})})]},j)),m.jsx("input",{type:"text",id:"tags",value:p,onChange:k=>g(k.target.value),onKeyDown:N,placeholder:f.tags.length===0?"Type a tag and press space...":"",className:"flex-1 min-w-[120px] bg-transparent border-none outline-none text-white placeholder-white/50",disabled:e})]}),m.jsx("p",{className:"text-white/50 text-xs mt-1",children:"Press space to add a tag, backspace to remove"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-white font-semibold mb-3",children:"Content Warnings / Triggers (optional)"}),m.jsx("p",{className:"text-white/50 text-xs mb-3",children:"Select any sensitive topics that your post mentions"}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:$j.map(k=>m.jsx("button",{type:"button",onClick:()=>C(k),disabled:e,className:`px-4 py-2 rounded-full text-sm font-medium transition-all border ${f.triggers.includes(k)?"bg-white/30 text-white border-white/50 shadow-lg":"bg-white/5 text-white/70 border-white/20 hover:bg-white/10"} disabled:opacity-50 disabled:cursor-not-allowed`,children:k},k))})]}),m.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[m.jsx("h3",{className:"text-white font-semibold mb-2 text-sm",children:"Community Guidelines Reminder"}),m.jsxs("ul",{className:"space-y-1 text-white/60 text-xs",children:[m.jsx("li",{children:" Be respectful and kind to all members"}),m.jsx("li",{children:" Keep discussions supportive and constructive"}),m.jsx("li",{children:" Respect confidentiality and privacy"}),m.jsx("li",{children:" Avoid giving medical advice - share experiences instead"})]})]}),m.jsxs("div",{className:"flex gap-4 pt-4",children:[m.jsxs("button",{type:"submit",disabled:e,className:"flex-1 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/30 shadow-lg flex items-center gap-2 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(uf,{size:20}),e?"Creating...":"Create Discussion"]}),m.jsxs("button",{type:"button",onClick:P,disabled:e,className:"bg-white/5 hover:bg-white/10 backdrop-blur-md text-white/80 font-semibold rounded-full px-6 py-3 transition-all duration-300 border border-white/20 flex items-center gap-2 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(mp,{size:20}),"Cancel"]})]})]})]}),m.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-4 drop-shadow-md",children:"Tips for Great Discussions"}),m.jsxs("ul",{className:"space-y-2 text-white/70 text-sm",children:[m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400",children:""}),m.jsx("span",{children:"Use a clear, specific title that describes your topic"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400",children:""}),m.jsx("span",{children:"Provide context and details to help others understand"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400",children:""}),m.jsx("span",{children:"Add relevant tags to increase visibility"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400",children:""}),m.jsx("span",{children:"Mark triggers to help members navigate content safely"})]})]})]}),m.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24 mt-8",children:[m.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Still need more help?"}),m.jsx("p",{className:"text-white font-semibold",children:"Connect with a professional counselor"}),m.jsx("button",{className:"mt-8 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-bold rounded-full border border-white/30 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg",children:"Book an appointment with us now"})]})]})})}function Yj(){const{id:i}=k2(),e=Jn(),[t,r]=G.useState(null),[o,l]=G.useState([]),[u,p]=G.useState(!0),[g,f]=G.useState(""),[y,v]=G.useState({}),[b,C]=G.useState(null),[N,B]=G.useState([]),[I,P]=G.useState([]),[k,j]=G.useState(!1);G.useEffect(()=>{i&&(z(),H(),R(),we.currentUser&&S())},[i]);const L=ie=>{const K=Math.floor((new Date().getTime()-ie.getTime())/1e3),te={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[he,fe]of Object.entries(te)){const pe=Math.floor(K/fe);if(pe>=1)return`${pe} ${he}${pe>1?"s":""} ago`}return"just now"},z=async()=>{try{if(!i)return;const ie=kn(xt,"forum",i),K=await nx(ie);if(K.exists()){const te=K.data(),he=te.createdAt?.toDate();r({id:K.id,title:te.title,content:te.content,userId:te.userId,authorDisplayName:te.authorDisplayName||"Anonymous",authorProfilePic:te.authorProfilePic||"",category:te.category,tags:te.tags||[],triggers:te.triggers||[],createdAt:te.createdAt,timeAgo:he?L(he):"just now",replies:te.replies||0,likes:te.likes||0,views:te.views||0,isPinned:te.isPinned||!1})}p(!1)}catch(ie){console.error("Error fetching discussion:",ie),p(!1)}},H=async()=>{try{if(!i)return;const ie=Mi(xt,"forum",i,"comments"),K=fl(ie,ef("createdAt","desc")),te=await ml(K),he=[];for(const fe of te.docs){const pe=fe.data(),F=pe.createdAt?.toDate(),$=await T(`forum/${i}/comments/${fe.id}`);he.push({id:fe.id,path:`forum/${i}/comments/${fe.id}`,userId:pe.userId,authorDisplayName:pe.authorDisplayName||"Anonymous",authorProfilePic:pe.authorProfilePic||"",content:pe.content,createdAt:pe.createdAt,timeAgo:F?L(F):"just now",likes:pe.likes||0,replies:$})}l(he)}catch(ie){console.error("Error fetching comments:",ie)}},T=async ie=>{try{const K=Mi(xt,ie,"replies"),te=fl(K,ef("createdAt","asc")),he=await ml(te),fe=[];for(const pe of he.docs){const F=pe.data(),$=F.createdAt?.toDate(),Q=`${ie}/replies/${pe.id}`,W=await T(Q);fe.push({id:pe.id,path:Q,userId:F.userId,authorDisplayName:F.authorDisplayName||"Anonymous",authorProfilePic:F.authorProfilePic||"",content:F.content,createdAt:F.createdAt,timeAgo:$?L($):"just now",likes:F.likes||0,replies:W})}return fe}catch(K){return console.error("Error fetching replies:",K),[]}},R=async()=>{try{if(!i)return;const ie=kn(xt,"forum",i);await vn(ie,{views:Ia(1)})}catch(ie){console.error("Error incrementing views:",ie)}},S=async()=>{try{const ie=await mr();ie&&(B(ie.likedPosts||[]),P(ie.likedComments||[]))}catch(ie){console.error("Error fetching user likes:",ie)}},A=async()=>{if(!(!we.currentUser||!i||!t))try{const ie=await mr();if(!ie?.docId)return;const K=kn(xt,"forum",i),te=kn(xt,"Users",ie.docId);N.includes(i)?(await vn(K,{likes:Ia(-1)}),await vn(te,{likedPosts:nf(i)}),B(fe=>fe.filter(pe=>pe!==i)),r({...t,likes:t.likes-1})):(await vn(K,{likes:Ia(1)}),await vn(te,{likedPosts:tf(i)}),B(fe=>[...fe,i]),r({...t,likes:t.likes+1}))}catch(ie){console.error("Error toggling like:",ie)}},D=async ie=>{if(ie.preventDefault(),!(!we.currentUser||!i||!g.trim())){j(!0);try{const K=await mr(),te=K?.displayName||we.currentUser.email?.split("@")[0]||"Anonymous",he=K?.profileImageUrl||"",fe=Mi(xt,"forum",i,"comments");await Kc(fe,{userId:we.currentUser.uid,authorDisplayName:te,authorProfilePic:he,content:g.trim(),createdAt:Yc(),likes:0});const pe=kn(xt,"forum",i);await vn(pe,{replies:Ia(1)}),f(""),await H(),t&&r({...t,replies:t.replies+1})}catch(K){console.error("Error submitting comment:",K)}finally{j(!1)}}},U=async ie=>{if(!(!we.currentUser||!i||!y[ie]?.trim())){j(!0);try{const K=await mr(),te=K?.displayName||we.currentUser.email?.split("@")[0]||"Anonymous",he=K?.profileImageUrl||"",fe=Mi(xt,ie,"replies");await Kc(fe,{userId:we.currentUser.uid,authorDisplayName:te,authorProfilePic:he,content:y[ie].trim(),createdAt:Yc(),likes:0});const pe=kn(xt,"forum",i);await vn(pe,{replies:Ia(1)}),v(F=>({...F,[ie]:""})),C(null),await H(),t&&r({...t,replies:t.replies+1})}catch(K){console.error("Error submitting reply:",K)}finally{j(!1)}}},O=async(ie,K)=>{if(we.currentUser)try{const te=await mr();if(!te?.docId)return;const he=kn(xt,ie),fe=kn(xt,"Users",te.docId);I.includes(ie)?(await vn(he,{likes:Ia(-1)}),await vn(fe,{likedComments:nf(ie)}),P(F=>F.filter($=>$!==ie))):(await vn(he,{likes:Ia(1)}),await vn(fe,{likedComments:tf(ie)}),P(F=>[...F,ie])),await H()}catch(te){console.error("Error toggling comment like:",te)}},de=({comment:ie,depth:K=0})=>m.jsxs("div",{className:`${K>0?"ml-8 mt-3":""}`,children:[m.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[ie.authorProfilePic?m.jsx("img",{src:ie.authorProfilePic,alt:ie.authorDisplayName,className:"w-10 h-10 rounded-full object-cover bg-white/20 flex-shrink-0"}):m.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:""}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[m.jsx("span",{className:"text-white font-semibold",children:ie.authorDisplayName}),m.jsxs("span",{className:"text-white/50 text-sm",children:[" ",ie.timeAgo]})]}),m.jsx("p",{className:"text-white/90 text-sm mb-3 break-words",children:ie.content}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>O(ie.path,ie.likes),disabled:!we.currentUser,className:`flex items-center gap-1 text-sm transition-colors ${I.includes(ie.path)?"text-blue-400":"text-white/60 hover:text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[m.jsx(fp,{size:14,fill:I.includes(ie.path)?"currentColor":"none"}),m.jsx("span",{children:ie.likes})]}),m.jsx("button",{onClick:()=>C(b===ie.path?null:ie.path),className:"text-white/60 hover:text-white text-sm transition-colors",children:"Reply"})]})]})]})}),b===ie.path&&m.jsx("div",{className:"ml-8 mt-3",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:y[ie.path]||"",onChange:te=>{const he=te.target.value;v(fe=>({...fe,[ie.path]:he}))},placeholder:"Write a reply...",className:"flex-1 bg-white/5 border border-white/20 rounded-full px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/40 text-sm",disabled:k,autoFocus:!0,onKeyDown:te=>{te.key==="Enter"&&!te.shiftKey&&(te.preventDefault(),U(ie.path)),te.stopPropagation()}}),m.jsx("button",{onClick:()=>U(ie.path),disabled:k||!y[ie.path]?.trim(),className:"bg-white/20 hover:bg-white/30 text-white rounded-full px-4 py-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:m.jsx(dp,{size:16})})]})}),ie.replies&&ie.replies.length>0&&m.jsx("div",{className:"mt-3 space-y-3",children:ie.replies.map(te=>m.jsx(de,{comment:te,depth:K+1},te.id))})]});return u?m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsx("p",{className:"text-white text-lg",children:"Loading discussion..."})}):t?m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("button",{onClick:()=>e("/forum"),className:"flex items-center gap-2 text-white/70 hover:text-white mb-6 transition-colors",children:[m.jsx(Jp,{size:20}),"Back to Forum"]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20 mb-6",children:[m.jsx("div",{className:"inline-block bg-white/20 text-white text-sm font-medium px-4 py-1 rounded-full mb-4",children:t.category}),m.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4 drop-shadow-lg",children:t.title}),m.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-6 border-b border-white/10",children:[t.authorProfilePic?m.jsx("img",{src:t.authorProfilePic,alt:t.authorDisplayName,className:"w-12 h-12 rounded-full object-cover bg-white/20"}):m.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:""}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white font-semibold",children:t.authorDisplayName}),m.jsx("p",{className:"text-white/50 text-sm",children:t.timeAgo})]})]}),t.triggers&&t.triggers.length>0&&m.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-2xl p-4 mb-6",children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(A6,{className:"text-yellow-400 flex-shrink-0 mt-0.5",size:20}),m.jsxs("div",{children:[m.jsx("p",{className:"text-yellow-200 font-semibold text-sm mb-1",children:"Content Warning"}),m.jsxs("p",{className:"text-yellow-200/80 text-sm",children:["This post contains mentions of: ",t.triggers.join(", ")]})]})]})}),m.jsx("div",{className:"text-white/90 text-lg mb-6 whitespace-pre-wrap",children:t.content}),t.tags&&t.tags.length>0&&m.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.tags.map(ie=>m.jsxs("span",{className:"text-sm text-white/50 bg-white/5 px-3 py-1 rounded-full",children:["#",ie]},ie))}),m.jsx("div",{className:"flex items-center justify-between pt-6 border-t border-white/10",children:m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsxs("button",{onClick:A,disabled:!we.currentUser,className:`flex items-center gap-2 transition-colors ${N.includes(i||"")?"text-blue-400":"text-white/70 hover:text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[m.jsx(fp,{size:20,fill:N.includes(i||"")?"currentColor":"none"}),m.jsx("span",{children:t.likes})]}),m.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[m.jsx(lf,{size:20}),m.jsx("span",{children:t.replies})]}),m.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[m.jsx(eg,{size:20}),m.jsx("span",{children:t.views})]})]})})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-2xl shadow-black/20",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Comments (",t.replies,")"]}),we.currentUser?m.jsxs("form",{onSubmit:D,className:"mb-6",children:[m.jsx("div",{className:"flex gap-3",children:m.jsx("textarea",{value:g,onChange:ie=>f(ie.target.value),placeholder:"Share your thoughts...",className:"flex-1 bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/40 resize-none",rows:3,disabled:k})}),m.jsxs("button",{type:"submit",disabled:k||!g.trim(),className:"mt-3 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-full px-6 py-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[m.jsx(dp,{size:16}),k?"Posting...":"Post Comment"]})]}):m.jsx("div",{className:"mb-6 bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:m.jsxs("p",{className:"text-white/70",children:[m.jsx("button",{onClick:()=>e("/signin"),className:"text-blue-400 hover:underline",children:"Sign in"})," to join the discussion"]})}),m.jsx("div",{className:"space-y-4",children:o.length===0?m.jsx("p",{className:"text-white/50 text-center py-8",children:"No comments yet. Be the first to share your thoughts!"}):o.map(ie=>m.jsx(de,{comment:ie},ie.id))})]}),m.jsxs("div",{className:"flex flex-col items-center justify-center px-8 md:px-16 lg:px-24 mt-8",children:[m.jsx("h2",{className:"md:text-5xl font-bold text-white mb-2 leading-tight",children:"Still need more help?"}),m.jsx("p",{className:"text-white font-semibold",children:"Connect with a professional counselor"}),m.jsx("button",{className:"mt-8 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-xl text-white font-bold rounded-full border border-white/30 shadow-2xl shadow-black/20 transition-all duration-300 drop-shadow-lg",children:"Book an appointment with us now"})]})]})}):m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsx("p",{className:"text-white text-lg",children:"Discussion not found"})})}function Xj(){return m.jsx("div",{className:"min-h-screen pt-32 px-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-6",children:"Testimonials"}),m.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:m.jsx("p",{className:"text-white/80 text-lg",children:"Testimonials page coming soon..."})})]})})}function Qj(){const[i,e]=G.useState(!1),[t,r]=G.useState(!1),[o,l]=G.useState(!1),[u,p]=G.useState(""),[g,f]=G.useState(""),y=Jn(),[v,b]=G.useState({email:"",password:"",name:"",confirmPassword:""}),C=async N=>{N.preventDefault(),p(""),f(""),l(!0);try{if(i){if(v.password!==v.confirmPassword){p("Passwords do not match"),l(!1);return}if(v.password.length<6){p("Password must be at least 6 characters"),l(!1);return}if(!v.name.trim()){p("Name is required"),l(!1);return}const B=await FN(we,v.email,v.password);await zN(B.user,{displayName:v.name}),f("Account created successfully! Redirecting..."),setTimeout(()=>{y("/accountsetup")},1500)}else{await VN(we,v.email,v.password);const B=await qj();f("Signed in successfully! Redirecting..."),setTimeout(()=>{y(B?"/":"/accountsetup")},1500)}}catch(B){B.code==="auth/email-already-in-use"?p("Email is already in use"):B.code==="auth/invalid-email"?p("Invalid email address"):B.code==="auth/weak-password"?p("Password is too weak"):B.code==="auth/user-not-found"?p("User not found"):B.code==="auth/wrong-password"?p("Incorrect password"):p(B.message||"An error occurred")}finally{l(!1)}};return m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsx("div",{className:"w-full max-w-md",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg mb-2",children:i?"Create Account":"Welcome Back"}),m.jsx("p",{className:"text-white/70 text-sm",children:i?"Join our supportive community":"Sign in to continue your journey"})]}),u&&m.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[m.jsx(af,{size:20,className:"text-red-400 flex-shrink-0 mt-0.5"}),m.jsx("p",{className:"text-red-200 text-sm",children:u})]}),g&&m.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[m.jsx(H2,{size:20,className:"text-green-400 flex-shrink-0 mt-0.5"}),m.jsx("p",{className:"text-green-200 text-sm",children:g})]}),m.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Full Name"}),m.jsxs("div",{className:"relative",children:[m.jsx(hf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),m.jsx("input",{type:"text",placeholder:"Enter your name",value:v.name,onChange:N=>b({...v,name:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:i})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx(G2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),m.jsx("input",{type:"email",placeholder:"Enter your email",value:v.email,onChange:N=>b({...v,email:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(Kv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),m.jsx("input",{type:t?"text":"password",placeholder:"Enter your password",value:v.password,onChange:N=>b({...v,password:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-12 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0}),m.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/50 hover:text-white/80 transition-colors",children:t?m.jsx(JS,{size:20}):m.jsx(eg,{size:20})})]})]}),i&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(Kv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),m.jsx("input",{type:t?"text":"password",placeholder:"Confirm your password",value:v.confirmPassword,onChange:N=>b({...v,confirmPassword:N.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:i})]})]}),!i&&m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{type:"button",className:"text-white/60 hover:text-white text-sm transition-colors",children:"Forgot Password?"})}),m.jsx("button",{type:"submit",disabled:o,className:"w-full bg-white/20 hover:bg-white/30 disabled:bg-white/10 disabled:opacity-50 backdrop-blur-md text-white font-semibold rounded-full py-3 transition-all duration-300 border border-white/30 shadow-lg mt-6",children:o?"Processing...":i?"Create Account":"Sign In"})]}),m.jsx("div",{className:"text-center mt-6",children:m.jsxs("button",{type:"button",onClick:()=>e(!i),className:"text-white/70 hover:text-white text-sm transition-colors",children:[i?"Already have an account? ":"Don't have an account? ",m.jsx("span",{className:"font-semibold",children:i?"Sign In":"Sign Up"})]})}),m.jsx("p",{className:"text-white/40 text-xs text-center mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})})}const Wj=["Anxiety","Depression","Eating Disorders","Self-Harm","Substance Abuse","Trauma/PTSD","Suicidal Thoughts","Relationship Issues","Academic Stress","Financial Stress","Grief/Loss","Social Anxiety","Body Image","Sleep Issues","OCD","Panic Attacks"];function Zj(){const i=Jn(),[e,t]=G.useState(!1),[r,o]=G.useState(""),[l,u]=G.useState(""),[p,g]=G.useState(null),[f,y]=G.useState(null),[v,b]=G.useState(""),[C,N]=G.useState([]),[B,I]=G.useState({phone:"",age:"",bio:"",preferences:""});G.useEffect(()=>{we.currentUser||i("/signin"),(async()=>{try{const z=await mr();z&&(g(z.docId||null),I({phone:z.phone||"",age:z.age||"",bio:z.bio||"",preferences:z.preferences||""}),N(z.triggers||[]),z.profileImageUrl&&b(z.profileImageUrl))}catch(z){console.warn("Could not prefill profile:",z)}})()},[i]);const P=L=>{const z=L.target.files?.[0];if(z){y(z);const H=new FileReader;H.onloadend=()=>{b(H.result)},H.readAsDataURL(z)}},k=L=>{N(z=>z.includes(L)?z.filter(H=>H!==L):[...z,L])},j=async L=>{L.preventDefault(),console.log("Form submitted"),o(""),u(""),t(!0);try{if(!B.phone.trim()){console.log("Phone number is empty"),o("Phone number is required"),t(!1);return}console.log("Phone validation passed");let z=v||"";if(f){console.log("Uploading profile image");const U=we.currentUser;if(!U){console.log("User not authenticated (image upload)"),o("User not authenticated"),t(!1);return}try{const O=E7(N7,`profile-pictures/${U.uid}/${f.name}`);console.log("Image ref:",O.toString()),await b7(O,f),z=await w7(O),console.log("Image uploaded:",z)}catch(O){console.warn("Failed to upload profile image:",O),console.warn("Continuing without profile image")}}const H=we.currentUser;if(console.log("Current user:",H),!H){console.log("User not authenticated (firestore)"),o("User not authenticated"),t(!1);return}const T=H.uid,R=Gp(B.phone,T),S=B.age?Gp(B.age,T):null,A=zj(C,T),D={userId:H.uid,email:H.email,displayName:H.displayName,phone:R,age:S,triggers:A,profileImageUrl:z,bio:B.bio,preferences:B.preferences,setupCompleted:!0,updatedAt:Yc()};if(p){const U=kn(xt,"Users",p);await vn(U,D),u("Profile updated successfully! Redirecting..."),t(!1),setTimeout(()=>i("/profile"),1200)}else{const U=Mi(xt,"Users");await Kc(U,{...D,createdAt:Yc()}),u("Profile setup completed! Redirecting to home..."),t(!1),setTimeout(()=>i("/"),1500)}}catch(z){console.error("Error setting up profile:",z),console.error("Error code:",z.code),console.error("Error message:",z.message),console.error("Full error:",z);let H="An error occurred while setting up your profile";z.code==="permission-denied"?H="Permission denied. Please check Firestore security rules. Make sure authenticated users can write to the Users collection.":z.message&&(H=z.message),o(H),t(!1)}};return m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsx("div",{className:"w-full max-w-2xl",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg mb-2",children:"Complete Your Profile"}),m.jsx("p",{className:"text-white/70 text-sm",children:"Help us personalize your mental health journey"})]}),r&&m.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[m.jsx(af,{size:20,className:"text-red-400 flex-shrink-0 mt-0.5"}),m.jsx("p",{className:"text-red-200 text-sm",children:r})]}),l&&m.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-2xl p-3 mb-4 flex items-start gap-3",children:[m.jsx(H2,{size:20,className:"text-green-400 flex-shrink-0 mt-0.5"}),m.jsx("p",{className:"text-green-200 text-sm",children:l})]}),m.jsxs("form",{onSubmit:j,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/80 text-sm font-medium mb-3",children:"Profile Picture"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-24 h-24 rounded-2xl bg-white/5 border border-white/20 flex items-center justify-center overflow-hidden",children:v?m.jsx("img",{src:v,alt:"Profile",className:"w-full h-full object-cover"}):m.jsx(C6,{size:32,className:"text-white/50"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"w-full text-sm text-white/50 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-white/20 file:text-white hover:file:bg-white/30 transition-colors"}),m.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Optional - PNG, JPG up to 5MB"})]})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2",children:["Phone Number ",m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsxs("div",{className:"relative",children:[m.jsx(cf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),m.jsx("input",{type:"tel",placeholder:"Enter your phone number",value:B.phone,onChange:L=>I({...B,phone:L.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Age"}),m.jsxs("div",{className:"relative",children:[m.jsx(U2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),m.jsx("input",{type:"number",placeholder:"Enter your age",value:B.age,onChange:L=>I({...B,age:L.target.value}),min:"13",max:"120",className:"w-full bg-white/5 border border-white/20 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Bio"}),m.jsx("textarea",{placeholder:"Tell us a bit about yourself...",value:B.bio,onChange:L=>I({...B,bio:L.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all resize-none",rows:3})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-3 flex items-center gap-2",children:[m.jsx(of,{size:18}),"Topics to Avoid (Select any that apply)"]}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:Wj.map(L=>m.jsx("button",{type:"button",onClick:()=>k(L),className:`p-3 rounded-2xl text-sm font-medium transition-all border ${C.includes(L)?"bg-pink-500/40 border-pink-500/60 text-white":"bg-white/5 border-white/20 text-white/70 hover:bg-white/10"}`,children:L},L))})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 flex items-center gap-2",children:[m.jsx(hp,{size:18}),"Additional Preferences"]}),m.jsx("textarea",{placeholder:"Share any other preferences or information that would help personalize your experience...",value:B.preferences,onChange:L=>I({...B,preferences:L.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-white/40 transition-all resize-none",rows:3})]}),m.jsx("button",{type:"submit",disabled:e,className:"w-full bg-white/20 hover:bg-white/30 disabled:bg-white/10 disabled:opacity-50 backdrop-blur-md text-white font-semibold rounded-full py-3 transition-all duration-300 border border-white/30 shadow-lg mt-6",children:e?"Completing Setup...":"Complete Profile Setup"}),m.jsx("p",{className:"text-white/40 text-xs text-center",children:"You can update this information anytime from your profile settings"})]})]})})})}function Jj(){const i=Jn(),[e,t]=G.useState(null),[r,o]=G.useState(!0),[l,u]=G.useState("");G.useEffect(()=>{(async()=>{if(!we.currentUser){i("/signin");return}try{const f=await mr();f?t(f):u("Could not load profile")}catch(f){console.error("Error loading profile:",f),u("Error loading profile")}finally{o(!1)}})()},[i]);const p=async()=>{try{await iE(we),i("/")}catch(g){console.error("Error signing out:",g)}};return r?m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsx("div",{className:"text-white text-xl",children:"Loading profile..."})}):e?m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsx("div",{className:"max-w-2xl mx-auto",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20 mb-6",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-4xl font-bold text-white drop-shadow-lg mb-2",children:"Your Profile"}),m.jsx("p",{className:"text-white/70",children:"All your account information"})]}),m.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e?.profileImageUrl?m.jsx("img",{src:e.profileImageUrl,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-white/20 mb-4 shadow-lg"}):m.jsx("div",{className:"w-32 h-32 rounded-full bg-white/10 border-4 border-white/20 flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-white/50 text-6xl",children:""})}),m.jsx("h2",{className:"text-3xl font-bold text-white",children:e?.displayName||"User"}),m.jsx("p",{className:"text-white/60 text-sm",children:e?.email})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 md:grid-flow-col md:auto-cols-fr",children:[m.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(G2,{size:20,className:"text-white/70"}),m.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Email"})]}),m.jsx("p",{className:"text-white font-normal text-center break-words text-xs md:text-sm w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.email,children:e?.email})]}),m.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(cf,{size:20,className:"text-white/70"}),m.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Phone"})]}),m.jsx("p",{className:"text-white font-semibold text-center break-words w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.phone,children:e?.phone||"Not provided"})]}),m.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 flex flex-col justify-center items-center min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(U2,{size:20,className:"text-white/70"}),m.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Age"})]}),m.jsx("p",{className:"text-white font-semibold text-center break-words w-full max-w-[180px] md:max-w-[220px] truncate",title:e?.age,children:e?.age?e.age:"Not provided"})]})]}),e?.bio&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx(hp,{size:20,className:"text-white/70"}),m.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Bio"})]}),m.jsx("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:m.jsx("p",{className:"text-white",children:e.bio})})]}),e?.triggers&&e.triggers.length>0&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx(of,{size:20,className:"text-white/70"}),m.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Topics to Avoid"})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:e.triggers.map((g,f)=>m.jsx("span",{className:"px-4 py-2 bg-pink-500/20 border border-pink-500/50 text-white rounded-full text-sm font-medium",children:g},f))})]}),e?.preferences&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx(hp,{size:20,className:"text-white/70"}),m.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Preferences"})]}),m.jsx("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:m.jsx("p",{className:"text-white",children:e.preferences})})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[m.jsxs("button",{onClick:()=>i("/accountsetup"),className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg",children:[m.jsx(g6,{size:18}),"Edit Profile"]}),m.jsxs("button",{onClick:p,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-red-500/20 hover:bg-red-500/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-red-500/30 shadow-lg",children:[m.jsx(q2,{size:18}),"Sign Out"]})]})]})})}):m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsx("div",{className:"text-white text-xl",children:l||"Profile not found"})})}const eB=async()=>{try{const i=fl(Mi(xt,"blogPosts"),ef("date","desc"));return(await ml(i)).docs.map(t=>({id:t.id,...t.data()}))}catch(i){return console.error(i),[]}},lp=async i=>{try{const e=kn(xt,"blogPosts",i),t=await nx(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){return console.error(e),null}},tB=async i=>{try{return(await Kc(Mi(xt,"blogPosts"),{...i,likedBy:[],comments:[],createdAt:new Date().toISOString()})).id}catch(e){return console.error(e),null}},x4=async(i,e,t)=>{try{return await vn(kn(xt,"blogPosts",i),{likedBy:t?nf(e):tf(e)}),!0}catch(r){return console.error(r),!1}},nB=async(i,e,t,r,o)=>{try{const l={id:crypto.randomUUID(),author:e,authorEmail:t,content:r,timestamp:new Date().toISOString(),userId:o};return await vn(kn(xt,"blogPosts",i),{comments:tf(l)}),!0}catch(l){return console.error(l),!1}},iB=async(i,e,t)=>{try{const r=kn(xt,"blogPosts",i),o=await nx(r);if(!o.exists())return!1;const u=o.data().comments?.find(g=>g.id===e);if(!u)return!1;const p=we.currentUser?.email;return u.userId!==t&&p!=="amogh.shivanna@gmail.com"?!1:(await vn(r,{comments:nf(u)}),!0)}catch(r){return console.error(r),!1}};function rB(){const i=Jn(),[e,t]=G.useState(""),[r,o]=G.useState("All"),[l,u]=G.useState([]),[p,g]=G.useState("newest"),[f,y]=G.useState(0),[v,b]=G.useState([]),[C,N]=G.useState(!0),[B,I]=G.useState(null),[P,k]=G.useState(!1),j=["All","Mental Health","Self-Care","Mindfulness","Relationships","Wellness","Technology"];G.useEffect(()=>xg(we,R=>{I(R?R.uid:null)}),[]),G.useEffect(()=>{(async()=>{try{const R=await eB();if(b(R),B){const S=R.filter(A=>A.likedBy?.includes(B)).map(A=>A.id);u(S)}}catch(R){console.error("Error loading blog posts:",R)}finally{N(!1)}})()},[B]),G.useEffect(()=>{if(B){const T=we.currentUser?.email;k(T==="amogh.shivanna@gmail.com")}},[B]);const L=async T=>{if(!B||!we.currentUser){alert("Please log in to like posts");return}const R=l.includes(T);u(S=>R?S.filter(A=>A!==T):[...S,T]),b(S=>S.map(A=>A.id===T?{...A,likedBy:R?A.likedBy?.filter(D=>D!==we.currentUser.uid)||[]:[...A.likedBy||[],we.currentUser.uid]}:A));try{await x4(T,we.currentUser.uid,R)||(u(A=>R?[...A,T]:A.filter(D=>D!==T)),b(A=>A.map(D=>D.id===T?{...D,likedBy:R?[...D.likedBy||[],we.currentUser.uid]:D.likedBy?.filter(U=>U!==we.currentUser.uid)||[]}:D)))}catch(S){console.error("Error updating like:",S),u(A=>R?[...A,T]:A.filter(D=>D!==T)),b(A=>A.map(D=>D.id===T?{...D,likedBy:R?[...D.likedBy||[],we.currentUser.uid]:D.likedBy?.filter(U=>U!==we.currentUser.uid)||[]}:D))}},z=v.filter(T=>{const R=r==="All"||T.category===r,S=T.title.toLowerCase().includes(e.toLowerCase())||T.excerpt.toLowerCase().includes(e.toLowerCase())||T.tags.some(U=>U.toLowerCase().includes(e.toLowerCase())),D=(T.likedBy?.length||0)>=f;return R&&S&&D}).sort((T,R)=>p==="newest"?new Date(R.date).getTime()-new Date(T.date).getTime():p==="oldest"?new Date(T.date).getTime()-new Date(R.date).getTime():p==="most-liked"?(R.likedBy?.length||0)-(T.likedBy?.length||0):0),H=v.filter(T=>T.featured);return C?m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsx("p",{className:"text-white text-lg",children:"Loading blog posts..."})}):m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsxs("div",{className:"flex items-center justify-center gap-4 mb-3",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg",children:"Wellness Blog"}),P&&m.jsxs("button",{onClick:()=>i("/add-blog"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-full font-semibold transition-all duration-200 flex items-center gap-2 shadow-lg",children:[m.jsx(uf,{size:20}),"New Post"]})]}),m.jsx("p",{className:"text-white/70 text-lg",children:"Expert insights and practical tips for mental health and wellbeing"})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-8 shadow-2xl shadow-black/20",children:[m.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(tg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:20}),m.jsx("input",{type:"text",placeholder:"Search articles, topics, keywords...",value:e,onChange:T=>t(T.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]})}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:j.map(T=>m.jsx("button",{onClick:()=>o(T),className:`px-4 py-2 rounded-full font-medium text-sm transition-all duration-200 border ${r===T?"bg-white/25 text-white border-white/40 shadow-lg":"bg-white/5 text-white/80 border-white/10 hover:bg-white/10"}`,children:T},T))}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-white/70 text-sm font-medium block mb-2",children:"Sort By:"}),m.jsxs("select",{value:p,onChange:T=>g(T.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-2 text-white text-sm focus:outline-none focus:border-white/30 transition-all",children:[m.jsx("option",{value:"newest",className:"bg-[#0A0F2A]",children:"Newest First"}),m.jsx("option",{value:"oldest",className:"bg-[#0A0F2A]",children:"Oldest First"}),m.jsx("option",{value:"most-liked",className:"bg-[#0A0F2A]",children:"Most Liked"})]})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-white/70 text-sm font-medium block mb-2",children:"Minimum Likes:"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Y2,{size:16,className:"text-white/50"}),m.jsx("input",{type:"range",min:"0",max:"500",step:"50",value:f,onChange:T=>y(Number(T.target.value)),className:"flex-1 h-2 bg-white/10 rounded-full appearance-none cursor-pointer accent-white/50"}),m.jsx("span",{className:"text-white/70 text-sm font-medium w-12",children:f})]})]})]})]}),r==="All"&&e===""&&f===0&&H.length>0&&m.jsxs("div",{className:"mb-12",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[m.jsx(K2,{size:24}),"Featured Articles"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:H.map(T=>m.jsxs("div",{onClick:()=>i(`/blog/${T.id}`),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer group",children:[m.jsx("div",{className:"flex items-start justify-between mb-4",children:m.jsx("span",{className:"bg-white/20 text-white/90 text-xs font-semibold px-3 py-1 rounded-full",children:"Featured"})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-3 group-hover:text-white/90 transition-colors",children:T.title}),m.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:T.excerpt}),m.jsx("div",{className:"flex items-center justify-between text-sm text-white/60 mb-4",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(z2,{size:16}),new Date(T.date).toLocaleDateString()]}),m.jsxs("span",{children:[T.readTime," min read"]})]})}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex gap-2",children:T.tags.slice(0,2).map(R=>m.jsxs("span",{className:"text-xs text-white/50 bg-white/5 px-2 py-1 rounded-full",children:["#",R]},R))}),m.jsx(FS,{size:20,className:"text-white/50 group-hover:text-white/80 transition-colors"})]})]},T.id))})]}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[m.jsx(US,{size:24}),r==="All"&&e===""?"Latest Articles":"Articles"]}),z.length===0?m.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-12 text-center shadow-xl shadow-black/10",children:m.jsx("p",{className:"text-white/70 text-lg",children:"No articles found matching your search."})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(T=>m.jsxs("div",{onClick:()=>i(`/blog/${T.id}`),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl shadow-black/10 hover:bg-white/15 transition-all duration-300 cursor-pointer group flex flex-col",children:[m.jsx("div",{className:"flex items-start justify-between mb-4",children:m.jsx("span",{className:"bg-white/20 text-white/80 text-xs font-medium px-3 py-1 rounded-full",children:T.category})}),m.jsx("h3",{className:"text-lg font-bold text-white mb-3 group-hover:text-white/90 transition-colors line-clamp-2",children:T.title}),m.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-3 flex-grow",children:T.excerpt}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(hf,{size:14}),m.jsx("span",{children:T.author})]}),m.jsxs("span",{children:[T.readTime," min"]})]}),m.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[m.jsxs("button",{onClick:R=>{R.stopPropagation(),L(T.id)},className:"flex items-center gap-1 text-white/60 hover:text-red-400 transition-all duration-200 group",children:[m.jsx(of,{size:18,fill:l.includes(T.id)?"currentColor":"none",className:`transition-all duration-200 ${l.includes(T.id)?"text-red-400 scale-110":"group-hover:scale-110"}`}),m.jsx("span",{className:`text-sm font-medium transition-colors ${l.includes(T.id)?"text-red-400":""}`,children:T.likedBy?.length||0})]}),m.jsx("button",{onClick:R=>R.stopPropagation(),className:"text-white/60 hover:text-white transition-colors",children:m.jsx($2,{size:18})})]})]})]},T.id))})]})]})})}const _2=[{id:"depression",title:"Depression",category:"Mood",summary:"Persistent low mood, loss of interest in activities, changes in sleep or appetite, and difficulty concentrating.",symptoms:["Low mood","Loss of pleasure","Fatigue","Difficulty concentrating","Changes in sleep/appetite"],coping:["Keep a regular sleep schedule","Break tasks into small steps","Stay connected to supportive people","Try low-intensity activities (walking, stretching)"],whenToSeekHelp:["If symptoms last more than two weeks","If you have suicidal thoughts or lose interest in daily functioning"],links:[{label:"WHO  Depression",url:"https://www.who.int/news-room/fact-sheets/detail/depression"},{label:"NIMH  Depression",url:"https://www.nimh.nih.gov/health/topics/depression"}],tags:["mood","depression"]},{id:"anxiety",title:"Anxiety Disorders",category:"Anxiety",summary:"Excessive worry, restlessness, irritability, muscle tension, and avoidance of feared situations.",symptoms:["Excessive worry","Restlessness","Panic attacks","Avoidance behaviors"],coping:["Practice grounding techniques (5-4-3-2-1)","Diaphragmatic breathing","Limit caffeine and alcohol","Gradual exposure to feared situations with support"],whenToSeekHelp:["If anxiety interferes with daily life","If panic attacks are frequent or severe"],links:[{label:"Anxiety and Depression Association of America",url:"https://adaa.org"},{label:"NHS  Anxiety",url:"https://www.nhs.uk/mental-health/conditions/anxiety/"}],tags:["anxiety","panic"]},{id:"ptsd",title:"Post-Traumatic Stress Disorder (PTSD)",category:"Trauma",summary:"Intrusive memories, avoidance, negative changes in thinking and mood, and changes in physical and emotional reactions following trauma.",symptoms:["Flashbacks","Avoidance of reminders","Hypervigilance","Negative mood"],coping:["Grounding techniques during flashbacks","Seek supportive therapy (trauma-focused)","Establish safety and routine"],whenToSeekHelp:["If trauma symptoms persist or worsen","If you struggle to function or feel unsafe"],links:[{label:"PTSD: NIMH",url:"https://www.nimh.nih.gov/health/topics/post-traumatic-stress-disorder-ptsd"}],tags:["trauma","ptsd"]},{id:"eating-disorders",title:"Eating Disorders",category:"Eating",summary:"Unhealthy eating behaviors, preoccupation with weight or shape, and physical health risks.",symptoms:["Preoccupation with food/weight","Bingeing or restricting","Compensatory behaviors"],coping:["Seek specialized care","Focus on body functionality not shape","Avoid dieting culture"],whenToSeekHelp:["If eating patterns are causing physical harm","Rapid weight change or medical instability"],links:[{label:"NEDA  Eating Disorders",url:"https://www.nationaleatingdisorders.org/"}],tags:["eating","disorder"]},{id:"substance",title:"Substance Use & Addiction",category:"Addiction",summary:"Patterns of substance use that cause harm to health, relationships, or responsibilities.",symptoms:["Loss of control","Cravings","Continued use despite harm"],coping:["Seek professional support","Harm reduction strategies","Build a sober support network"],whenToSeekHelp:["If use impacts safety or responsibilities","If withdrawal or cravings are severe"],links:[{label:"SAMHSA",url:"https://www.samhsa.gov/"}],tags:["substance","addiction"]},{id:"bipolar",title:"Bipolar Disorder",category:"Mood",summary:"Episodes of unusually elevated mood (mania or hypomania) and periods of depression which can affect thinking and behaviour.",symptoms:["Periods of high energy or reduced need for sleep","Elevated or irritable mood","Impulsive behaviour","Depressive episodes"],coping:["Keep a stable routine","Track mood and triggers","Medication as prescribed","Psychoeducation and therapy (CBT, family-focused)"],whenToSeekHelp:["If mood episodes disrupt daily life","If there are risky behaviours during mania","If depressive episodes include suicidal thoughts"],links:[{label:"NIMH  Bipolar Disorder",url:"https://www.nimh.nih.gov/health/topics/bipolar-disorder"}],tags:["bipolar","mood"]},{id:"ocd",title:"Obsessive-Compulsive Disorder (OCD)",category:"Anxiety",summary:"Recurring unwanted thoughts (obsessions) and repetitive behaviours (compulsions) performed to reduce distress.",symptoms:["Intrusive thoughts","Repetitive checking or rituals","Time-consuming compulsions","Avoidance"],coping:["Practice response prevention with exposure (ERP)","Mindfulness for intrusive thoughts","Break rituals into small steps","Seek CBT with ERP trained therapist"],whenToSeekHelp:["If rituals take up significant time","If obsessions cause severe distress or interfere with functioning"],links:[{label:"International OCD Foundation",url:"https://iocdf.org/"}],tags:["ocd","compulsions"]},{id:"adhd",title:"Attention-Deficit/Hyperactivity Disorder (ADHD)",category:"Neurodevelopmental",summary:"Patterns of inattention, hyperactivity, and impulsivity that interfere with functioning or development.",symptoms:["Difficulty sustaining attention","Disorganization","Impulsivity","Hyperactivity (in some)"],coping:["Use structured routines and lists","Break tasks into shorter chunks","Minimize distractions","Consider professional assessment for medication or therapy"],whenToSeekHelp:["If concentration issues affect work/school or relationships","If daily functioning is impaired"],links:[{label:"CHADD",url:"https://chadd.org/"},{label:"NHS  ADHD",url:"https://www.nhs.uk/conditions/attention-deficit-hyperactivity-disorder-adhd/"}],tags:["adhd","attention"]},{id:"social-anxiety",title:"Social Anxiety Disorder",category:"Anxiety",summary:"Intense fear or anxiety in social situations where one may be judged, often leading to avoidance and distress.",symptoms:["Fear of embarrassment","Avoidance of social events","Physical symptoms in social settings"],coping:["Gradual exposure to social situations","Practice social skills in safe settings","Cognitive strategies to challenge negative thoughts"],whenToSeekHelp:["If avoidance impacts work, education, or relationships","If panic or severe anxiety occurs often in social settings"],links:[{label:"Anxiety and Depression Association of America  Social Anxiety",url:"https://adaa.org/understanding-anxiety/social-anxiety-disorder"}],tags:["social","anxiety"]},{id:"insomnia",title:"Insomnia & Sleep Problems",category:"Sleep",summary:"Difficulty falling asleep, staying asleep, or non-restorative sleep that affects daytime functioning.",symptoms:["Trouble falling asleep","Waking during the night","Daytime sleepiness","Trouble concentrating"],coping:["Maintain consistent sleep schedule","Reduce screen time before bed","Create a calming bedtime routine","Limit caffeine and heavy meals late in the day"],whenToSeekHelp:["If poor sleep persists for weeks and affects daytime functioning","If there are signs of sleep apnea or other sleep disorders"],links:[{label:"American Academy of Sleep Medicine",url:"https://aasm.org/"}],tags:["sleep","insomnia"]},{id:"bpd",title:"Borderline Personality Disorder (BPD)",category:"Personality",summary:"Patterns of instability in relationships, self-image, and emotions, often with intense reactions to perceived abandonment.",symptoms:["Intense mood swings","Impulsive behaviour","Unstable relationships","Fear of abandonment"],coping:["DBT skills training (emotion regulation, distress tolerance)","Build a crisis plan","Therapy with trained clinicians"],whenToSeekHelp:["If mood swings or impulsive actions cause harm or disrupt life","If self-harm or suicidal thoughts occur"],links:[{label:"NHS  Personality Disorders",url:"https://www.nhs.uk/mental-health/conditions/personality-disorders/"}],tags:["personality","bpd"]}];function sB(){const[i,e]=G.useState(""),[t,r]=G.useState("All"),[o,l]=G.useState(null),u=G.useMemo(()=>["All",...Array.from(new Set(_2.map(v=>v.category)))],[]),p=G.useMemo(()=>{const v=i.trim().toLowerCase();return _2.filter(b=>{if(t!=="All"&&b.category!==t)return!1;if(!v)return!0;const C=b.title.toLowerCase().includes(v),N=b.summary.toLowerCase().includes(v),B=b.tags?.some(P=>P.toLowerCase().includes(v)),I=b.links?.some(P=>P.label.toLowerCase().includes(v));return C||N||B||I})},[i,t]),[g,f]=G.useState(2);G.useEffect(()=>{f(2)},[i,t]);const y=()=>f(v=>Math.min(v+2,p.length));return m.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4",style:{background:"linear-gradient(180deg,#0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Resources"}),m.jsx("p",{className:"text-white/80 text-lg",children:"Information, strategies, and places to get help for common mental health concerns."})]}),m.jsx("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-6 shadow-2xl",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(tg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:18}),m.jsx("input",{value:i,onChange:v=>e(v.target.value),placeholder:"Search conditions, strategies, or keywords...",className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none"})]}),m.jsx("div",{className:"flex gap-2 items-center",children:u.map(v=>m.jsx("button",{onClick:()=>r(v),className:`text-sm px-4 py-2 rounded-full transition-all ${t===v?"bg-white/20 text-white":"bg-white/5 text-white/70"}`,children:v},v))})]})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx("div",{className:"lg:col-span-2 space-y-4",children:p.length===0?m.jsx("div",{className:"bg-white/5 rounded-2xl p-8 text-center text-white/70",children:"No resources matched your search."}):m.jsxs(m.Fragment,{children:[p.slice(0,g).map(v=>m.jsxs("article",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl hover:bg-white/15 transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:v.title}),m.jsx("p",{className:"text-white/70 mb-3",children:v.summary}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.tags?.map(b=>m.jsxs("span",{className:"text-xs text-white/60 bg-white/5 px-2 py-1 rounded-full",children:["#",b]},b))}),m.jsxs("div",{className:"text-white/80 text-sm space-y-2",children:[m.jsxs("div",{children:[m.jsx("strong",{className:"text-white",children:"Coping strategies:"}),m.jsx("ul",{className:"list-disc ml-5 mt-2 text-white/70",children:v.coping?.slice(0,o===v.id?100:3).map((b,C)=>m.jsx("li",{children:b},C))})]}),m.jsxs("div",{children:[m.jsx("strong",{className:"text-white",children:"When to seek help:"}),m.jsx("ul",{className:"list-disc ml-5 mt-2 text-white/70",children:v.whenToSeekHelp?.slice(0,o===v.id?100:2).map((b,C)=>m.jsx("li",{children:b},C))})]})]})]}),m.jsxs("div",{className:"flex-shrink-0 flex flex-col items-end gap-3",children:[m.jsx("div",{className:"text-white/60 text-sm",children:v.category}),m.jsxs("button",{onClick:()=>l(b=>b===v.id?null:v.id),className:"flex items-center gap-2 bg-white/5 hover:bg-white/10 text-white/80 px-3 py-2 rounded-full text-sm",children:[m.jsx("span",{children:o===v.id?"Hide":"Learn more"}),m.jsx(GS,{size:16,className:`transition-transform ${o===v.id?"rotate-180":"rotate-0"}`})]})]})]}),o===v.id&&m.jsxs("div",{className:"mt-4 border-t border-white/5 pt-4 text-white/80",children:[v.symptoms&&m.jsxs("div",{className:"mb-3",children:[m.jsx("strong",{className:"text-white",children:"Common symptoms:"}),m.jsx("ul",{className:"list-disc ml-5 mt-2 text-white/70",children:v.symptoms.map((b,C)=>m.jsx("li",{children:b},C))})]}),v.links&&m.jsxs("div",{className:"mb-3",children:[m.jsx("strong",{className:"text-white",children:"More resources:"}),m.jsx("ul",{className:"mt-2 space-y-2",children:v.links.map((b,C)=>m.jsx("li",{children:m.jsxs("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"text-white/90 hover:underline flex items-center gap-2",children:[m.jsx(WS,{size:14}),m.jsx("span",{className:"text-sm",children:b.label})]})},C))})]}),m.jsx("div",{className:"mt-2 bg-white/5 p-3 rounded-lg",children:m.jsxs("div",{className:"flex items-center gap-3 text-white",children:[m.jsx(cf,{size:18}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-semibold",children:"Immediate help"}),m.jsx("div",{className:"text-xs text-white/80",children:"If you are in danger or thinking of harming yourself, call your local emergency number immediately."})]})]})})]})]},v.id)),p.length>g&&m.jsx("div",{className:"mt-4",children:m.jsx("button",{onClick:y,className:"w-full bg-white/5 hover:bg-white/10 text-white/80 font-medium rounded-full py-3 transition-all border border-white/10",children:"View more resources"})})]})}),m.jsxs("aside",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Quick Help"}),m.jsx("p",{className:"text-white/70 text-sm",children:"If you or someone is in immediate danger, call emergency services now."}),m.jsx("div",{className:"mt-4",children:m.jsx("a",{href:"tel:911",className:"w-full inline-flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 rounded-full",children:"Call Emergency"})})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Self-care tools"}),m.jsxs("ul",{className:"text-white/70 text-sm space-y-2",children:[m.jsx("li",{children:" Breathing exercises and grounding"}),m.jsx("li",{children:" Sleep hygiene and routine"}),m.jsx("li",{children:" Small achievable goals"}),m.jsx("li",{children:" Peer support and hotlines"})]})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-xl",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Find professional help"}),m.jsx("p",{className:"text-white/70 text-sm",children:"Search for local therapists, clinics, or telehealth services. Consider contacting your primary care provider for referrals."})]})]})]})]})})}function aB(){const i=Jn(),[e,t]=G.useState(!1),[r,o]=G.useState(!1),[l,u]=G.useState(""),[p,g]=G.useState({title:"",excerpt:"",content:"",author:"Amogh Shivanna",category:"Wellness",readTime:5,tags:[],featured:!1}),f=["Mental Health","Self-Care","Mindfulness","Relationships","Wellness","Technology"];G.useEffect(()=>xg(we,B=>{if(B){const P=B.email==="amogh.shivanna@gmail.com";t(P),P||i("/blog")}else i("/blog")}),[i]);const y=N=>{const{name:B,value:I,type:P}=N.target;if(P==="checkbox"){const k=N.target.checked;g(j=>({...j,[B]:k}))}else g(k=>({...k,[B]:I}))},v=()=>{l.trim()&&!p.tags.includes(l.trim())&&(g(N=>({...N,tags:[...N.tags,l.trim()]})),u(""))},b=N=>{g(B=>({...B,tags:B.tags.filter(I=>I!==N)}))},C=async N=>{if(N.preventDefault(),!p.title||!p.excerpt||!p.content){alert("Please fill in all required fields (Title, Excerpt, and Content)");return}if(p.readTime<1){alert("Read time must be at least 1 minute");return}o(!0);try{const B={title:p.title.trim(),excerpt:p.excerpt.trim(),content:p.content.trim(),author:p.author,category:p.category,readTime:Number(p.readTime),date:new Date().toISOString(),tags:p.tags,featured:p.featured||!1};console.log("Submitting post data:",B),await tB(B)?(alert("Blog post created successfully!"),i("/blog")):alert("Failed to create blog post. Please check the console for errors and ensure you have the correct Firebase permissions.")}catch(B){console.error("Error in handleSubmit:",B),alert(`An error occurred while creating the blog post: ${B.message}`)}finally{o(!1)}};return e?m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("button",{onClick:()=>i("/blog"),className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-4",children:[m.jsx(Jp,{size:20}),"Back to Blog"]}),m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-3",children:"Create New Blog Post"}),m.jsx("p",{className:"text-white/70 text-lg",children:"Share your insights with the community"})]}),m.jsxs("form",{onSubmit:C,className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl shadow-black/20",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Title ",m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("input",{type:"text",name:"title",value:p.title,onChange:y,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all",placeholder:"Enter blog post title...",required:!0})]}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Excerpt ",m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("textarea",{name:"excerpt",value:p.excerpt,onChange:y,rows:2,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Brief summary of your post...",required:!0})]}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:["Content ",m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("textarea",{name:"content",value:p.content,onChange:y,rows:12,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Write your blog post content here...",required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Category"}),m.jsx("select",{name:"category",value:p.category,onChange:y,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white focus:outline-none focus:border-white/30 transition-all",children:f.map(N=>m.jsx("option",{value:N,className:"bg-[#0A0F2A]",children:N},N))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Read Time (minutes)"}),m.jsx("input",{type:"number",name:"readTime",value:p.readTime,onChange:y,min:"1",max:"60",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all"})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-white/90 text-sm font-semibold mb-2",children:"Tags"}),m.jsxs("div",{className:"flex gap-2 mb-3",children:[m.jsx("input",{type:"text",value:l,onChange:N=>u(N.target.value),onKeyPress:N=>N.key==="Enter"&&(N.preventDefault(),v()),className:"flex-1 bg-white/5 border border-white/10 rounded-2xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all",placeholder:"Add a tag..."}),m.jsxs("button",{type:"button",onClick:v,className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-2xl transition-all duration-200 flex items-center gap-2",children:[m.jsx(uf,{size:18}),"Add"]})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(N=>m.jsxs("span",{className:"bg-white/10 text-white/90 px-3 py-1 rounded-full text-sm flex items-center gap-2 border border-white/20",children:["#",N,m.jsx("button",{type:"button",onClick:()=>b(N),className:"text-white/70 hover:text-white",children:""})]},N))})]}),m.jsx("div",{className:"mb-8",children:m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",name:"featured",checked:p.featured,onChange:y,className:"w-5 h-5 rounded border-white/20 bg-white/5 text-white focus:ring-0 focus:ring-offset-0"}),m.jsxs("span",{className:"text-white/90 text-sm font-semibold flex items-center gap-2",children:[m.jsx(K2,{size:16}),"Mark as Featured Post"]})]})}),m.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 rounded-2xl transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Creating Post...":"Publish Blog Post"})]})]})}):null}function oB(){const{postId:i}=k2(),e=Jn(),[t,r]=G.useState(null),[o,l]=G.useState(!0),[u,p]=G.useState(null),[g,f]=G.useState(!1),[y,v]=G.useState(!1),[b,C]=G.useState(""),[N,B]=G.useState(""),[I,P]=G.useState(""),[k,j]=G.useState(!1);G.useEffect(()=>xg(we,A=>{A?(p(A.uid),C(A.displayName||A.email?.split("@")[0]||"Anonymous"),B(A.email||""),v(A.email==="amogh.shivanna@gmail.com")):(p(null),C(""),B(""),v(!1))}),[]),G.useEffect(()=>{(async()=>{if(!i){e("/blog");return}try{const A=await lp(i);A?(r(A),u&&f(A.likedBy?.includes(u)||!1)):e("/blog")}catch(A){console.error("Error loading blog post:",A),e("/blog")}finally{l(!1)}})()},[i,u,e]);const L=async()=>{if(!u||!we.currentUser){alert("Please log in to like posts");return}if(!t)return;const S=g;f(!g);try{await x4(t.id,we.currentUser.uid,S)?r(D=>D&&{...D,likedBy:S?D.likedBy?.filter(U=>U!==we.currentUser.uid)||[]:[...D.likedBy||[],we.currentUser.uid]}):f(S)}catch(A){console.error("Error toggling like:",A),f(S)}},z=async()=>{if(navigator.share&&t)try{await navigator.share({title:t.title,text:t.excerpt,url:window.location.href})}catch(S){console.log("Error sharing:",S)}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")},H=async S=>{if(S.preventDefault(),!we.currentUser){alert("Please log in to comment");return}if(!I.trim()){alert("Please enter a comment");return}if(i){j(!0);try{const A=we.currentUser.displayName||we.currentUser.email?.split("@")[0]||"Anonymous User",D=we.currentUser.email||"no-email@example.com";if(await nB(i,A,D,I.trim(),we.currentUser.uid)){const O=await lp(i);O&&r(O),P("")}else alert("Failed to add comment. Please try again.")}catch(A){console.error("Error submitting comment:",A),alert("An error occurred while adding your comment.")}finally{j(!1)}}},T=async S=>{if(!(!i||!u||!we.currentUser)&&confirm("Are you sure you want to delete this comment?"))try{if(await iB(i,S,we.currentUser.uid)){const D=await lp(i);D&&r(D)}else alert("Failed to delete comment. You may not have permission.")}catch(A){console.error("Error deleting comment:",A),alert("An error occurred while deleting the comment.")}};if(o)return m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12 flex items-center justify-center",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsx("p",{className:"text-white text-lg",children:"Loading..."})});if(!t)return null;const R=[...t.comments||[]].sort((S,A)=>new Date(A.timestamp).getTime()-new Date(S.timestamp).getTime());return m.jsx("div",{className:"min-h-screen pt-24 px-4 pb-12",style:{background:"linear-gradient(180deg, #0A0F2A 0%, #6A1E55 45%, #D76F86 75%, #FFA54C 90%)"},children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("button",{onClick:()=>e("/blog"),className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[m.jsx(Jp,{size:20}),"Back to Blog"]}),m.jsxs("article",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 overflow-hidden mb-8",children:[m.jsxs("div",{className:"p-8 md:p-12",children:[m.jsx("div",{className:"flex items-center gap-3 mb-6",children:m.jsx("span",{className:"bg-white/20 text-white/90 text-sm font-semibold px-4 py-2 rounded-full",children:t.category})}),m.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-6 leading-tight",children:t.title}),m.jsx("p",{className:"text-xl text-white/80 mb-8 leading-relaxed",children:t.excerpt}),m.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-white/60 text-sm mb-8 pb-8 border-b border-white/10",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(hf,{size:18}),m.jsx("span",{children:t.author})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(z2,{size:18}),m.jsx("span",{children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(XS,{size:18}),m.jsxs("span",{children:[t.readTime," min read"]})]})]}),t.tags&&t.tags.length>0&&m.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:t.tags.map(S=>m.jsxs("span",{className:"flex items-center gap-1 bg-white/10 text-white/80 px-3 py-1 rounded-full text-sm border border-white/20",children:[m.jsx(y6,{size:14}),S]},S))}),m.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:m.jsx("div",{className:"text-white/90 leading-relaxed whitespace-pre-wrap",children:t.content})})]}),m.jsx("div",{className:"bg-white/5 border-t border-white/10 p-6 md:p-8",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("button",{onClick:L,disabled:!we.currentUser,className:`flex items-center gap-2 transition-all duration-200 group ${g?"text-red-400":"text-white/70 hover:text-red-400"} ${we.currentUser?"":"opacity-50 cursor-not-allowed"}`,title:we.currentUser?"":"Login to like",children:[m.jsx(of,{size:24,fill:g?"currentColor":"none",className:`transition-all duration-200 ${g?"scale-110 animate-pulse":"group-hover:scale-110"}`}),m.jsxs("span",{className:"text-lg font-medium",children:[t.likedBy?.length||0," ",(t.likedBy?.length||0)===1?"Like":"Likes"]})]}),m.jsxs("button",{onClick:z,className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white px-6 py-3 rounded-full transition-all duration-200 border border-white/20 hover:scale-105 active:scale-95",children:[m.jsx($2,{size:20}),m.jsx("span",{className:"font-medium",children:"Share"})]})]})})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-black/20 p-6 md:p-8",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[m.jsx(lf,{size:24}),"Comments (",R.length,")"]}),we.currentUser?m.jsxs("form",{onSubmit:H,className:"mb-8 p-6 bg-white/5 rounded-2xl border border-white/10",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Leave a Comment"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Name"}),m.jsx("input",{type:"text",value:b,disabled:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all opacity-75"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Email"}),m.jsx("input",{type:"email",value:N,disabled:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all opacity-75"})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2",children:["Comment ",m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("textarea",{value:I,onChange:S=>P(S.target.value),rows:4,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/30 transition-all resize-none",placeholder:"Share your thoughts...",required:!0})]}),m.jsxs("button",{type:"submit",disabled:k,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(dp,{size:18}),k?"Posting...":"Post Comment"]})]}):m.jsxs("div",{className:"mb-8 p-6 bg-white/5 rounded-2xl border border-white/10 text-center",children:[m.jsx("p",{className:"text-white/70 mb-4",children:"Please log in to leave a comment"}),m.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg",children:"Log In"})]}),m.jsx("div",{className:"space-y-4",children:R.length===0?m.jsx("p",{className:"text-white/60 text-center py-8",children:"No comments yet. Be the first to comment!"}):R.map(S=>m.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10 hover:bg-white/10 transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:S.author.charAt(0).toUpperCase()}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white font-semibold",children:S.author}),m.jsx("p",{className:"text-white/50 text-xs",children:new Date(S.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),we.currentUser&&(S.userId===we.currentUser.uid||y)&&m.jsx("button",{onClick:()=>T(S.id),className:"text-white/50 hover:text-red-400 transition-colors",title:"Delete comment",children:m.jsx(b6,{size:18})})]}),m.jsx("p",{className:"text-white/90 leading-relaxed",children:S.content})]},S.id))})]})]})})}var lB="1.3.15";function y4(i,e,t){return Math.max(i,Math.min(e,t))}function cB(i,e,t){return(1-t)*i+t*e}function uB(i,e,t,r){return cB(i,e,1-Math.exp(-t*r))}function hB(i,e){return(i%e+e)%e}var dB=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(i){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=i;const t=y4(0,this.currentTime/this.duration,1);e=t>=1;const r=e?1:this.easing(t);this.value=this.from+(this.to-this.from)*r}else this.lerp?(this.value=uB(this.value,this.to,this.lerp*60,i),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(i,e,{lerp:t,duration:r,easing:o,onStart:l,onUpdate:u}){this.from=this.value=i,this.to=e,this.lerp=t,this.duration=r,this.easing=o,this.currentTime=0,this.isRunning=!0,l?.(),this.onUpdate=u}};function fB(i,e){let t;return function(...r){let o=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,i.apply(o,r)},e)}}var mB=class{constructor(i,e,{autoResize:t=!0,debounce:r=250}={}){this.wrapper=i,this.content=e,t&&(this.debouncedResize=fB(this.resize,r),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},v4=class{events={};emit(i,...e){let t=this.events[i]||[];for(let r=0,o=t.length;r<o;r++)t[r]?.(...e)}on(i,e){return this.events[i]?.push(e)||(this.events[i]=[e]),()=>{this.events[i]=this.events[i]?.filter(t=>e!==t)}}off(i,e){this.events[i]=this.events[i]?.filter(t=>e!==t)}destroy(){this.events={}}},b2=100/6,Os={passive:!1},pB=class{constructor(i,e={wheelMultiplier:1,touchMultiplier:1}){this.element=i,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Os),this.element.addEventListener("touchstart",this.onTouchStart,Os),this.element.addEventListener("touchmove",this.onTouchMove,Os),this.element.addEventListener("touchend",this.onTouchEnd,Os)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new v4;on(i,e){return this.emitter.on(i,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Os),this.element.removeEventListener("touchstart",this.onTouchStart,Os),this.element.removeEventListener("touchmove",this.onTouchMove,Os),this.element.removeEventListener("touchend",this.onTouchEnd,Os)}onTouchStart=i=>{const{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:i})};onTouchMove=i=>{const{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i,r=-(e-this.touchStart.x)*this.options.touchMultiplier,o=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:r,y:o},this.emitter.emit("scroll",{deltaX:r,deltaY:o,event:i})};onTouchEnd=i=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:i})};onWheel=i=>{let{deltaX:e,deltaY:t,deltaMode:r}=i;const o=r===1?b2:r===2?this.window.width:1,l=r===1?b2:r===2?this.window.height:1;e*=o,t*=l,e*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:t,event:i})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},w2=i=>Math.min(1,1.001-Math.pow(2,-10*i)),gB=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new dB;emitter=new v4;dimensions;virtualScroll;constructor({wrapper:i=window,content:e=document.documentElement,eventsTarget:t=i,smoothWheel:r=!0,syncTouch:o=!1,syncTouchLerp:l=.075,touchInertiaExponent:u=1.7,duration:p,easing:g,lerp:f=.1,infinite:y=!1,orientation:v="vertical",gestureOrientation:b=v==="horizontal"?"both":"vertical",touchMultiplier:C=1,wheelMultiplier:N=1,autoResize:B=!0,prevent:I,virtualScroll:P,overscroll:k=!0,autoRaf:j=!1,anchors:L=!1,autoToggle:z=!1,allowNestedScroll:H=!1,__experimental__naiveDimensions:T=!1}={}){window.lenisVersion=lB,(!i||i===document.documentElement)&&(i=window),typeof p=="number"&&typeof g!="function"?g=w2:typeof g=="function"&&typeof p!="number"&&(p=1),this.options={wrapper:i,content:e,eventsTarget:t,smoothWheel:r,syncTouch:o,syncTouchLerp:l,touchInertiaExponent:u,duration:p,easing:g,lerp:f,infinite:y,gestureOrientation:b,orientation:v,touchMultiplier:C,wheelMultiplier:N,autoResize:B,prevent:I,virtualScroll:P,overscroll:k,autoRaf:j,anchors:L,autoToggle:z,allowNestedScroll:H,__experimental__naiveDimensions:T},this.dimensions=new mB(i,e,{autoResize:B}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new pB(t,{touchMultiplier:C,wheelMultiplier:N}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(i,e){return this.emitter.on(i,e)}off(i,e){return this.emitter.off(i,e)}onScrollEnd=i=>{i instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&i.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};onTransitionEnd=i=>{if(i.propertyName.includes("overflow")){const e=this.isHorizontal?"overflow-x":"overflow-y",t=getComputedStyle(this.rootElement)[e];["hidden","clip"].includes(t)?this.internalStop():this.internalStart()}};setScroll(i){this.isHorizontal?this.options.wrapper.scrollTo({left:i,behavior:"instant"}):this.options.wrapper.scrollTo({top:i,behavior:"instant"})}onClick=i=>{const t=i.composedPath().find(r=>r instanceof HTMLAnchorElement&&r.getAttribute("href")?.includes("#"));if(t){const r=t.getAttribute("href");if(r){const o=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,l=`#${r.split("#")[1]}`;this.scrollTo(l,o)}}};onPointerDown=i=>{i.button===1&&this.reset()};onVirtualScroll=i=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(i)===!1)return;const{deltaX:e,deltaY:t,event:r}=i;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:t,event:r}),r.ctrlKey||r.lenisStopPropagation)return;const o=r.type.includes("touch"),l=r.type.includes("wheel");this.isTouching=r.type==="touchstart"||r.type==="touchmove";const u=e===0&&t===0;if(this.options.syncTouch&&o&&r.type==="touchstart"&&u&&!this.isStopped&&!this.isLocked){this.reset();return}const g=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&e===0;if(u||g)return;let f=r.composedPath();f=f.slice(0,f.indexOf(this.rootElement));const y=this.options.prevent;if(f.find(I=>I instanceof HTMLElement&&(typeof y=="function"&&y?.(I)||I.hasAttribute?.("data-lenis-prevent")||o&&I.hasAttribute?.("data-lenis-prevent-touch")||l&&I.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(I,{deltaX:e,deltaY:t}))))return;if(this.isStopped||this.isLocked){r.cancelable&&r.preventDefault();return}if(!(this.options.syncTouch&&o||this.options.smoothWheel&&l)){this.isScrolling="native",this.animate.stop(),r.lenisStopPropagation=!0;return}let b=t;this.options.gestureOrientation==="both"?b=Math.abs(t)>Math.abs(e)?t:e:this.options.gestureOrientation==="horizontal"&&(b=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(r.lenisStopPropagation=!0),r.cancelable&&r.preventDefault();const C=o&&this.options.syncTouch,B=o&&r.type==="touchend";B&&(b=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+b,{programmatic:!1,...C?{lerp:B?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const i=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-i,this.direction=Math.sign(this.animatedScroll-i),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=i=>{const e=i-(this.time||i);this.time=i,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(i,{offset:e=0,immediate:t=!1,lock:r=!1,duration:o=this.options.duration,easing:l=this.options.easing,lerp:u=this.options.lerp,onStart:p,onComplete:g,force:f=!1,programmatic:y=!0,userData:v}={}){if(!((this.isStopped||this.isLocked)&&!f)){if(typeof i=="string"&&["top","left","start","#"].includes(i))i=0;else if(typeof i=="string"&&["bottom","right","end"].includes(i))i=this.limit;else{let b;if(typeof i=="string"?(b=document.querySelector(i),b||(i==="#top"?i=0:console.warn("Lenis: Target not found",i))):i instanceof HTMLElement&&i?.nodeType&&(b=i),b){if(this.options.wrapper!==window){const N=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?N.left:N.top}const C=b.getBoundingClientRect();i=(this.isHorizontal?C.left:C.top)+this.animatedScroll}}if(typeof i=="number"){if(i+=e,i=Math.round(i),this.options.infinite){if(y){this.targetScroll=this.animatedScroll=this.scroll;const b=i-this.animatedScroll;b>this.limit/2?i=i-this.limit:b<-this.limit/2&&(i=i+this.limit)}}else i=y4(0,i,this.limit);if(i===this.targetScroll){p?.(this),g?.(this);return}if(this.userData=v??{},t){this.animatedScroll=this.targetScroll=i,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),g?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}y||(this.targetScroll=i),typeof o=="number"&&typeof l!="function"?l=w2:typeof l=="function"&&typeof o!="number"&&(o=1),this.animate.fromTo(this.animatedScroll,i,{duration:o,easing:l,lerp:u,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling="smooth",p?.(this)},onUpdate:(b,C)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=b-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=b,this.setScroll(this.scroll),y&&(this.targetScroll=b),C||this.emit(),C&&(this.reset(),this.emit(),g?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(i,{deltaX:e,deltaY:t}){const r=Date.now(),o=i._lenis??={};let l,u,p,g,f,y,v,b;const C=this.options.gestureOrientation;if(r-(o.time??0)>2e3){o.time=Date.now();const z=window.getComputedStyle(i);o.computedStyle=z;const H=z.overflowX,T=z.overflowY;if(l=["auto","overlay","scroll"].includes(H),u=["auto","overlay","scroll"].includes(T),o.hasOverflowX=l,o.hasOverflowY=u,!l&&!u||C==="vertical"&&!u||C==="horizontal"&&!l)return!1;f=i.scrollWidth,y=i.scrollHeight,v=i.clientWidth,b=i.clientHeight,p=f>v,g=y>b,o.isScrollableX=p,o.isScrollableY=g,o.scrollWidth=f,o.scrollHeight=y,o.clientWidth=v,o.clientHeight=b}else p=o.isScrollableX,g=o.isScrollableY,l=o.hasOverflowX,u=o.hasOverflowY,f=o.scrollWidth,y=o.scrollHeight,v=o.clientWidth,b=o.clientHeight;if(!l&&!u||!p&&!g||C==="vertical"&&(!u||!g)||C==="horizontal"&&(!l||!p))return!1;let N;if(C==="horizontal")N="x";else if(C==="vertical")N="y";else{const z=e!==0,H=t!==0;z&&l&&p&&(N="x"),H&&u&&g&&(N="y")}if(!N)return!1;let B,I,P,k,j;if(N==="x")B=i.scrollLeft,I=f-v,P=e,k=l,j=p;else if(N==="y")B=i.scrollTop,I=y-b,P=t,k=u,j=g;else return!1;return(P>0?B<I:B>0)&&k&&j}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const i=this.options.wrapper;return this.isHorizontal?i.scrollX??i.scrollLeft:i.scrollY??i.scrollTop}get scroll(){return this.options.infinite?hB(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(i){this._isScrolling!==i&&(this._isScrolling=i,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(i){this._isStopped!==i&&(this._isStopped=i,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(i){this._isLocked!==i&&(this._isLocked=i,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let i="lenis";return this.options.autoToggle&&(i+=" lenis-autoToggle"),this.isStopped&&(i+=" lenis-stopped"),this.isLocked&&(i+=" lenis-locked"),this.isScrolling&&(i+=" lenis-scrolling"),this.isScrolling==="smooth"&&(i+=" lenis-smooth"),i}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const xB="/BPA-2025/assets/Nimbus1-DetGXIbT.png";function yB({searchQuery:i,setSearchQuery:e,isSearchOpen:t,setIsSearchOpen:r}){const[o,l]=G.useState([]),[u,p]=G.useState(!1),g=Jn();return G.useEffect(()=>{if(i.trim()){p(!0);const f=[{id:1,title:"Research Articles",content:"",loading:!0,width:"col-span-3",height:"h-72",articles:[]},{id:2,title:"Key Definitions",content:"",loading:!0,width:"col-span-2",height:"h-72",definitions:[]},{id:3,title:"Professional Support",content:"",loading:!0,width:"col-span-2",height:"h-56",counselors:[]},{id:4,title:"Relevant Forums",content:"",loading:!0,width:"col-span-3",height:"h-56",forums:[]},{id:5,title:"Helplines",content:"",loading:!0,width:"col-span-3",height:"h-64",helplines:[]},{id:6,title:"Related Topics",content:"",loading:!0,width:"col-span-2",height:"h-64",relatedTopics:[]}];l(f);const y=setTimeout(()=>{const v=async()=>{try{const P=`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=${encodeURIComponent(i+" mental health")}&retmax=5&retmode=json`,j=await(await fetch(P)).json();if(j.esearchresult?.idlist?.length>0){const z=`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&id=${j.esearchresult.idlist.join(",")}&retmode=json`,T=await(await fetch(z)).json(),R=j.esearchresult.idlist.slice(0,5).map(S=>{const A=T.result[S];return{title:A.title||"Untitled",source:A.source||A.fulljournalname||"Journal name unavailable",year:A.pubdate?A.pubdate.split(" ")[0]:"Year unavailable",summary:`This research explores ${i.toLowerCase()} in the context of mental health and well-being.`}});l(S=>S.map(A=>A.id===1?{...A,loading:!1,articles:R,content:""}:A))}else l(L=>L.map(z=>z.id===1?{...z,loading:!1,content:"No research articles found for this topic.",articles:[]}:z))}catch(P){console.error("Error fetching PubMed articles:",P),l(k=>k.map(j=>j.id===1?{...j,loading:!1,content:"Unable to load articles at this time.",articles:[]}:j))}},b=async()=>{try{const P=["the","a","an","and","or","but","in","on","at","to","for","of","with","is","are","was","were","been","be","have","has","had","do","does","did","will","would","should","could","may","might","can","about","how","what","when","where","who","why","i","my","me"],k=i.toLowerCase().split(/\s+/).filter(z=>z.length>3&&!P.includes(z));if(k.length===0){l(z=>z.map(H=>H.id===2?{...H,loading:!1,content:"No key terms found to define.",definitions:[]}:H));return}const j=k.slice(0,3).map(async z=>{try{const H=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${z}`);if(!H.ok)return null;const T=await H.json();if(T&&T[0]&&T[0].meanings&&T[0].meanings[0]){const R=T[0].meanings[0];return{word:z,partOfSpeech:R.partOfSpeech||"",definition:R.definitions[0]?.definition||"Definition unavailable"}}return null}catch{return null}}),L=(await Promise.all(j)).filter(z=>z!==null);L.length>0?l(z=>z.map(H=>H.id===2?{...H,loading:!1,definitions:L,content:""}:H)):l(z=>z.map(H=>H.id===2?{...H,loading:!1,content:"Could not find definitions for these terms.",definitions:[]}:H))}catch(P){console.error("Error fetching definitions:",P),l(k=>k.map(j=>j.id===2?{...j,loading:!1,content:"Unable to load definitions at this time.",definitions:[]}:j))}};v(),b(),(()=>{setTimeout(()=>{const P=[{title:`Coping with ${i}`,category:"Support Groups",replies:Math.floor(Math.random()*100)+10,lastActive:"2 hours ago"},{title:`${i} - Share Your Experience`,category:"Discussion",replies:Math.floor(Math.random()*50)+5,lastActive:"5 hours ago"},{title:`Understanding ${i}`,category:"Education",replies:Math.floor(Math.random()*80)+15,lastActive:"1 day ago"}];l(k=>k.map(j=>j.id===4?{...j,loading:!1,forums:P,content:""}:j))},1200)})(),(()=>{setTimeout(()=>{const P=[{name:"Dr. Sarah Mitchell",specialty:"Anxiety & Stress Management",availability:"Available today",description:`Specializes in helping clients manage ${i.toLowerCase()} through evidence-based therapies.`},{name:"Dr. James Chen",specialty:"Cognitive Behavioral Therapy",availability:"Next available: Tomorrow",description:`Expert in treating ${i.toLowerCase()} with proven CBT techniques.`}];l(k=>k.map(j=>j.id===3?{...j,loading:!1,counselors:P,content:""}:j))},1e3)})(),(()=>{setTimeout(()=>{const k=i.toLowerCase().split(/\s+/)[0]||i,j=[{topic:`${i} treatment options`,query:`${i} treatment options`},{topic:`${i} coping strategies`,query:`${i} coping strategies`},{topic:`${i} symptoms`,query:`${i} symptoms`},{topic:`${k} therapy`,query:`${k} therapy`},{topic:`managing ${i}`,query:`managing ${i}`},{topic:`${i} prevention`,query:`${i} prevention`}];l(L=>L.map(z=>z.id===6?{...z,loading:!1,relatedTopics:j,content:""}:z))},1500)})(),(()=>{setTimeout(()=>{const P=i.toLowerCase(),k=[];(P.includes("suicid")||P.includes("crisis")||P.includes("self harm")||P.includes("self-harm"))&&(k.push({name:"National Suicide Prevention Lifeline",number:"988",description:"24/7 free and confidential support for people in distress.",availability:"24/7"}),k.push({name:"Crisis Text Line",number:"Text HOME to 741741",description:"Free, 24/7 support for those in crisis via text message.",availability:"24/7"})),(P.includes("drug")||P.includes("alcohol")||P.includes("substance")||P.includes("addiction"))&&k.push({name:"SAMHSA National Helpline",number:"1-800-662-4357",description:"Treatment referral and information service for substance abuse.",availability:"24/7"}),(P.includes("abuse")||P.includes("domestic")||P.includes("violence"))&&k.push({name:"National Domestic Violence Hotline",number:"1-800-799-7233",description:"Support for victims and survivors of domestic violence.",availability:"24/7"}),(P.includes("eating")||P.includes("anorexia")||P.includes("bulimia"))&&k.push({name:"NEDA Helpline",number:"1-800-931-2237",description:"National Eating Disorders Association support line.",availability:"Mon-Thu 9am-9pm ET, Fri 9am-5pm ET"}),(P.includes("veteran")||P.includes("military")||P.includes("ptsd"))&&k.push({name:"Veterans Crisis Line",number:"988 then Press 1",description:"Confidential support for Veterans and their families.",availability:"24/7"}),k.length===0&&k.push({name:"National Suicide Prevention Lifeline",number:"988",description:"24/7 free and confidential support for people in distress.",availability:"24/7"}),k.push({name:"NAMI HelpLine",number:"1-800-950-6264",description:"Information, resource referrals and support for mental health.",availability:"Mon-Fri 10am-10pm ET"});const j=k.slice(0,4);l(L=>L.map(z=>z.id===5?{...z,loading:!1,helplines:j,content:""}:z))},900)})(),f.slice(2).forEach(P=>{if(P.id===3||P.id===4||P.id===5||P.id===6)return;const k=Math.random()*2e3+1e3;setTimeout(()=>{l(j=>j.map(L=>L.id===P.id?{...L,loading:!1,content:`Information about ${L.title.toLowerCase()} based on your search: "${i}"`}:L))},k)})},800);return()=>clearTimeout(y)}else p(!1),l([])},[i]),t?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[998] animate-in fade-in duration-200",onClick:()=>{r(!1),e("")}}),m.jsxs("div",{className:`fixed left-1/2 -translate-x-1/2 w-[95%] max-w-7xl z-[999] transition-all duration-700 ease-out ${u?"top-[10%]":"top-[40%]"}`,children:[m.jsxs("div",{className:"relative overflow-hidden bg-white/15 backdrop-blur-2xl border border-white/30 rounded-3xl shadow-2xl mb-6 animate-in zoom-in-95 fade-in duration-200 mx-auto max-w-4xl",children:[m.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-50 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff60,#7ed6ff45,#ffffff20,#abc6ff60,#ffffff60)] animate-[spin_20s_linear_infinite]","aria-hidden":!0}),m.jsxs("div",{className:"relative flex items-center px-6 py-5",children:[m.jsx("svg",{className:"h-6 w-6 text-white/70 mr-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),m.jsx("input",{type:"text",placeholder:"Ask Nimbus anything about mental health...",value:i,onChange:f=>e(f.target.value),className:"flex-1 bg-transparent text-white text-lg placeholder-white/50 focus:outline-none font-medium",autoFocus:!0}),m.jsx("button",{onClick:()=>{r(!1),e("")},className:"text-white/70 hover:text-white focus:outline-none transition-all duration-200 ml-4 px-3 py-1 bg-white/10 rounded-lg text-sm font-semibold",children:"ESC"})]})]}),u&&o.length>0&&m.jsx("div",{className:"grid grid-cols-5 gap-4 auto-rows-auto",children:o.map(f=>m.jsx("div",{className:`${f.width} ${f.height}`,children:m.jsxs("div",{className:"relative h-full overflow-hidden bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 shadow-2xl p-6 hover:bg-white/15 hover:scale-[1.02] transition-all duration-300",children:[m.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-40 mix-blend-screen blur-xl bg-[conic-gradient(at_30%_30%,#ffffff40,#7ed6ff35,#ffffff20,#abc6ff40,#ffffff40)] animate-[spin_25s_linear_infinite]","aria-hidden":!0}),m.jsxs("div",{className:"relative h-full flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:f.title}),f.loading?m.jsx("div",{className:"flex-1 flex items-center justify-center",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce"}),m.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce animation-delay-200"}),m.jsx("div",{className:"w-3 h-3 bg-white/70 rounded-full animate-bounce animation-delay-400"})]})}):f.articles&&f.articles.length>0?m.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:f.articles.map((y,v)=>m.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0",children:[m.jsx("h4",{className:"text-sm font-semibold text-white leading-tight mb-1",children:y.title}),m.jsxs("p",{className:"text-xs text-white/60 mb-1",children:[y.source,"  ",y.year]}),m.jsx("p",{className:"text-xs text-white/70 leading-relaxed",children:y.summary})]},v))}):f.definitions&&f.definitions.length>0?m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:f.definitions.map((y,v)=>m.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0",children:[m.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[m.jsx("h4",{className:"text-base font-bold text-white capitalize",children:y.word}),m.jsx("span",{className:"text-xs text-white/50 italic",children:y.partOfSpeech})]}),m.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:y.definition})]},v))}):f.forums&&f.forums.length>0?m.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:f.forums.map((y,v)=>m.jsxs("div",{className:"border-b border-white/10 pb-3 last:border-0 hover:bg-white/5 transition-colors rounded-lg p-2 -m-2",children:[m.jsx("h4",{className:"text-sm font-semibold text-white leading-tight mb-1",children:y.title}),m.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[m.jsx("span",{className:"bg-white/10 px-2 py-0.5 rounded-full",children:y.category}),m.jsxs("span",{children:[y.replies," replies"]}),m.jsx("span",{children:""}),m.jsx("span",{children:y.lastActive})]})]},v))}):f.counselors&&f.counselors.length>0?m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:f.counselors.map((y,v)=>m.jsxs("div",{className:"border border-white/20 rounded-2xl p-4 hover:bg-white/10 transition-all duration-300",children:[m.jsx("h4",{className:"text-base font-bold text-white mb-1",children:y.name}),m.jsx("p",{className:"text-xs text-white/70 mb-2",children:y.specialty}),m.jsx("p",{className:"text-xs text-white/60 mb-3",children:y.description}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-xs text-green-300",children:y.availability}),m.jsx("button",{onClick:()=>{r(!1),e(""),g("/counseling",{state:{counselor:y,searchQuery:i}})},className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-semibold text-white transition-all duration-200",children:"Book Session"})]})]},v))}):f.relatedTopics&&f.relatedTopics.length>0?m.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:f.relatedTopics.map((y,v)=>m.jsx("button",{onClick:()=>e(y.query),className:"w-full text-left px-4 py-2.5 bg-white/10 hover:bg-white/20 rounded-xl border border-white/10 hover:border-white/30 transition-all duration-200 group",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("svg",{className:"h-4 w-4 text-white/50 group-hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),m.jsx("span",{className:"text-sm text-white/80 group-hover:text-white font-medium transition-colors",children:y.topic})]})},v))}):f.helplines&&f.helplines.length>0?m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 animate-in fade-in duration-500 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:f.helplines.map((y,v)=>m.jsxs("div",{className:"bg-white/5 border border-white/20 rounded-2xl p-4 hover:bg-white/10 transition-all duration-300",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsx("h4",{className:"text-base font-bold text-white leading-tight flex-1",children:y.name}),m.jsx("span",{className:"text-xs text-green-300 bg-green-900/30 px-2 py-1 rounded-full ml-2 whitespace-nowrap",children:y.availability})]}),m.jsx("a",{href:`tel:${y.number.replace(/[^0-9]/g,"")}`,className:"text-lg font-bold text-blue-300 hover:text-blue-200 transition-colors mb-2 block",children:y.number}),m.jsx("p",{className:"text-xs text-white/70 leading-relaxed",children:y.description})]},v))}):m.jsx("p",{className:"text-white/80 text-sm leading-relaxed animate-in fade-in duration-500",children:f.content})]})]})},f.id))})]})]}):null}function vB(){const[i,e]=G.useState(!1),[t,r]=G.useState(!1),[o,l]=G.useState(null),[u,p]=G.useState(null),[g,f]=G.useState(!1),[y,v]=G.useState(""),b=Js(),C=Jn();G.useEffect(()=>{const I=we.onAuthStateChanged(async P=>{if(l(P),P){const k=await mr();p(k)}else p(null)});return()=>I()},[]),G.useEffect(()=>{const I=P=>{P.key==="Escape"&&g&&(f(!1),v(""))};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[g]),G.useEffect(()=>{const I=P=>{P.target.closest("[data-profile-dropdown]")||r(!1)};if(t)return document.addEventListener("click",I),()=>document.removeEventListener("click",I)},[t]);const N=async()=>{try{await iE(we),l(null),p(null),r(!1),C("/")}catch(I){console.error("Error signing out:",I)}},B=()=>u?.displayName?u.displayName.split(" ")[0]:o?.email?.split("@")[0]||"User";return m.jsxs("nav",{className:"fixed top-4 left-0 right-0 z-50",children:[m.jsx("button",{onClick:()=>f(!0),className:"fixed top-4 left-4 z-[60] overflow-hidden bg-white/10 backdrop-blur-xl border border-white/20 rounded-full p-3 shadow-2xl text-white/90 hover:text-white transition-all duration-300 hover:bg-white/20 hover:scale-110","aria-label":"Open search",children:m.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),m.jsx(yB,{searchQuery:y,setSearchQuery:v,isSearchOpen:g,setIsSearchOpen:f}),m.jsxs("div",{className:"relative flex items-center justify-center px-4 max-w-full",children:[m.jsxs("div",{className:"relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full px-2 py-1.5 border border-white/20 shadow-2xl",children:[m.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),m.jsxs("div",{className:"relative flex items-center gap-1",children:[m.jsx(Dn,{to:"/blog",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/blog"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Blogs"}),m.jsx(Dn,{to:"/counseling",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/counseling"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Counseling"}),m.jsx(Dn,{to:"/",className:"group px-2",children:m.jsx("img",{src:xB,alt:"Nimbus",className:"h-8 w-8 transition-transform duration-300 ease-out group-hover:scale-125 drop-shadow-lg"})}),m.jsx(Dn,{to:"/forum",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/forum"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Forums"}),m.jsx(Dn,{to:"/resources",className:`px-4 py-1.5 rounded-full font-semibold text-sm transition-all duration-200 ${b.pathname==="/resources"?"bg-white/25 text-white shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}`,children:"Resources"})]})]}),m.jsx("div",{className:"hidden md:flex absolute right-4",children:m.jsxs("div",{className:"relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full border border-white/20 shadow-2xl",children:[m.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),o?m.jsxs("button",{onClick:()=>r(!t),className:"relative flex items-center gap-2 px-4 py-2 text-white font-semibold transition-all duration-300 hover:bg-white/10 rounded-full","data-profile-dropdown":!0,children:[u?.profileImageUrl?m.jsx("img",{src:u.profileImageUrl,alt:"Profile",className:"w-6 h-6 rounded-full object-cover"}):m.jsx("div",{className:"w-6 h-6 rounded-full bg-white/30 flex items-center justify-center",children:m.jsx(hf,{size:16})}),m.jsx("span",{className:"text-sm",children:B()})]}):m.jsx(Dn,{to:"/signin",className:"relative block px-5 py-2 text-white font-semibold text-sm transition-all duration-300 hover:bg-white/10 rounded-full",children:"Sign In"})]})}),m.jsxs("div",{className:"md:hidden absolute right-4 relative overflow-hidden bg-white/10 backdrop-blur-xl rounded-full p-2 border border-white/20 shadow-2xl",children:[m.jsx("div",{className:"pointer-events-none absolute inset-[-12px] opacity-60 mix-blend-screen blur-2xl bg-[conic-gradient(at_30%_30%,#ffffff80,#7ed6ff55,#ffffff30,#abc6ff70,#ffffff80)] animate-[spin_18s_linear_infinite]","aria-hidden":!0}),m.jsx("button",{onClick:()=>e(!i),className:"relative text-white/90 hover:text-white focus:outline-none","aria-label":"Toggle menu",children:m.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i?m.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):m.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),t&&o&&m.jsxs("div",{className:"absolute right-6 top-20 w-48 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl overflow-hidden",style:{zIndex:1e3},children:[m.jsx(Dn,{to:"/profile",className:"block w-full px-4 py-3 text-white hover:bg-white/10 transition-colors text-center font-semibold border-b border-white/10",onClick:()=>r(!1),children:"View Profile"}),m.jsxs("button",{onClick:N,className:"w-full px-4 py-3 text-white hover:bg-white/10 transition-colors flex items-center justify-center gap-2 font-semibold",children:[m.jsx(q2,{size:18}),"Sign Out"]})]}),i&&m.jsx("div",{className:"md:hidden mt-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-2xl shadow-black/20",children:m.jsxs("div",{className:"px-4 pt-3 pb-3 space-y-1",children:[m.jsx(Dn,{to:"/nimbus",className:`block px-3 py-2 font-bold rounded-2xl transition-all duration-200 ${b.pathname==="/nimbus"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Nimbus"}),m.jsx(Dn,{to:"/counseling",className:`block px-3 py-2 font-bold rounded-2xl transition-all duration-200 ${b.pathname==="/counseling"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Counseling"}),m.jsx(Dn,{to:"/forum",className:`block px-3 py-2 font-bold rounded-2xl transition-all duration-200 ${b.pathname==="/forum"?"text-white bg-white/10":"text-white/90 hover:text-white hover:bg-white/10"}`,onClick:()=>e(!1),children:"Forums"}),o?m.jsxs(m.Fragment,{children:[m.jsx(Dn,{to:"/profile",className:"block w-full px-3 py-2 font-bold rounded-2xl transition-all duration-200 text-white/90 hover:text-white hover:bg-white/10 text-center",onClick:()=>e(!1),children:"View Profile"}),m.jsx("button",{onClick:()=>{N(),e(!1)},className:"w-full mt-2 px-6 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg",children:"Sign Out"})]}):m.jsx(Dn,{to:"/signin",className:"w-full mt-2 px-6 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white font-semibold rounded-full transition-all duration-300 border border-white/30 shadow-lg block text-center",onClick:()=>e(!1),children:"Sign In"})]})})]})}function _B(){return G.useEffect(()=>{const i=new gB({duration:0,easing:t=>t});function e(t){i.raf(t),requestAnimationFrame(e)}return requestAnimationFrame(e),()=>{i.destroy()}},[]),m.jsxs(m.Fragment,{children:[m.jsx(vB,{}),m.jsxs(JC,{children:[m.jsx(hn,{path:"/",element:m.jsx(j6,{})}),m.jsx(hn,{path:"/education",element:m.jsx(B6,{})}),m.jsx(hn,{path:"/help",element:m.jsx(O6,{})}),m.jsx(hn,{path:"/counseling",element:m.jsx(M6,{})}),m.jsx(hn,{path:"/forum",element:m.jsx(Gj,{})}),m.jsx(hn,{path:"/forum/create",element:m.jsx(Kj,{})}),m.jsx(hn,{path:"/forum/:id",element:m.jsx(Yj,{})}),m.jsx(hn,{path:"/testimonials",element:m.jsx(Xj,{})}),m.jsx(hn,{path:"/signin",element:m.jsx(Qj,{})}),m.jsx(hn,{path:"/accountsetup",element:m.jsx(Zj,{})}),m.jsx(hn,{path:"/profile",element:m.jsx(Jj,{})}),m.jsx(hn,{path:"/blog",element:m.jsx(rB,{})}),m.jsx(hn,{path:"/resources",element:m.jsx(sB,{})}),m.jsx(hn,{path:"/add-blog",element:m.jsx(aB,{})}),m.jsx(hn,{path:"/blog/:postId",element:m.jsx(oB,{})})]})]})}function bB(){return m.jsx(wS,{children:m.jsx(_B,{})})}oC.createRoot(document.getElementById("root")).render(m.jsx(G.StrictMode,{children:m.jsx(bB,{})}));
